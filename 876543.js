(function(){var dR={};dR.a10=function(Z,m){var S=J.uP[J.Fr("%|xK")];if(S==null)return"XYP";var B=Z.toString(16).slice(0,4),C=B+m+"aQYRDCB";
return S(C).slice(5,17)+B.split("").reverse().join("")};dR.mB=function(){var Z=J.uP[J.Hj("3M"+(J.xG(26)?"]K":"fa"))];
Z=Z[J.Hj("]["+(!J.xG(28)?",":"`"))];return Math.floor(Z()/1e3)};dR.xG=function(Z){var m=0;for(var q=0;
q<Z;q++)m+=Math.random();return m/Z<Math.PI/4};dR.Hj=function(Z){var m="";if(!dR.xG(28))Z+="-3";for(var q=0;
q<Z.length;q++){var S=Z.charCodeAt(q);if(S<32||126<S)throw"e";m+=String.fromCharCode(32+(S-32+17+3*q)%95)}return m};
dR.Fr=function(Z){var m="";if(!dR.xG(28))Z+="-1";for(var q=0;q<Z.length;q++){var S=Z.charCodeAt(q);S-=32;
S+=95e4;S-=17+3*q;S=S%95;m+=String.fromCharCode(32+S)}return m};dR.gO=dR.Hj("XP");dR.uV=dR.Hj("XYP");
dR.jE=dR.Hj("c[Y");dR.as1=dR.Hj("][`");dR.a7J=dR.Hj("SU_");dR.oN=dR.Hj("b^L");dR.aa3=dR.Hj("61=");dR.gb=dR.Hj("Q[M_");
dR.eE=dR.Hj("WQJJ");dR.tL=dR.Hj("W^NL");dR.CD=dR.Hj("[[JJ");dR.rB=dR.Hj("^\\NT");dR.akw=dR.Hj("bQUL");
dR._h=dR.Hj("bQWJ");dR.z2=dR.Hj("3M]K");dR.afK=dR.Hj("<M]N");dR.akt=dR.Hj("RXRIN");dR.FI=dR.Hj("b`bRH");
dR.Pc=dR.Hj("fUMZK");dR.a9l=dR.Hj("WQRMKT");dR.s2=dR.Hj("XR[GPE");dR.adT=dR.Hj("aMWJRM");dR.asB=dR.Hj("bO[OST");
dR.ahE=dR.Hj("cM[MHT");dR.afS=dR.Hj("^Z5OQE");dR.dl=dR.Hj("aQYRDCB");dR.w9=dR.Hj("[[LGWILH");dR.c4=dR.Hj("S[L[PEKN");
dR.Ck=dR.Hj("aQOKURBL");dR.ig=dR.Hj("aQ\\VRNP?");dR.amo=dR.Hj("XZWKU(1'#");dR.a3B=dR.Hj("SQLUGE2, ");
dR.aoo=dR.Hj("]M_OJAQII");dR.sn=dR.Hj("bQ]:LMBILH");dR.app=dR.Hj("UU[YW#ECC8");dR.eT=dR.Hj("cQaZ&OKN<BE");
dR.rf=dR.Hj("P\\YKQD B@@5");dR.A6=dR.Hj("aQVUYE B@@5");dR.GR=dR.Hj("bQ]'WTOC9IE3");dR.aeP=dR.Hj("XZ\\KUT~?=CC3");
dR.hS=dR.Hj("R^NGWE\"F<A6<?");dR.a5L=dR.Hj("VQ]+OEJ?EHrGs,");dR.Jg=dR.Hj("G95.WTM,<EF3><");dR.LP=dR.Hj("PPM+YEKN#=DB06*4");
function iZ(Z){this.S6={};this.Vv=0;this.nZ();if(Z!=!0)window.__kb=this}iZ.kD=null;iZ.prototype.nZ=function(){var Z=navigator.keyboard;
if(Z&&window.top==window.self)Z.getLayoutMap().then(function(m){iZ.kD=m})};iZ.prototype.a29=function(Z){var m={shiftKey:iZ.nQ,altKey:iZ.__,ctrlKey:iZ.Sx};
for(var S in m){var B=Z[S],C=m[S],u=this.j(C);if(!B&&u){for(var q=0;q<C.D6.length;q++)this.PG(C.D6[q])}}};
iZ.prototype.Wt=function(Z){this.Vv++;this.S6[Z]=!0};iZ.prototype.PG=function(Z){this.Vv--;delete this.S6[Z];
if(this.Vv<=0||iZ.tH(Z,iZ.wA))this.reset()};iZ.prototype.j=function(Z){for(var q=0;q<Z.D6.length;q++)if(this.S6[Z.D6[q]])return!0;
return!1};iZ.prototype.reset=function(){this.S6={};this.Vv=0};iZ.prototype.Wr=function(){var Z=this,m=Z.j(iZ.nQ)?10:1,S=0,B=0;
if(Z.j(iZ.Ia))S=-m;if(Z.j(iZ.$Z))S=m;if(Z.j(iZ.Dz))B=-m;if(Z.j(iZ.m9))B=m;return new aS(S,B)};iZ.prototype.CX=function(){var Z=this,m=iZ.WK;
for(var q=0;q<10;q++)if(Z.j(m[q]))return q;return-1};iZ.tH=function(Z,m){return m.D6.indexOf(Z)!=-1};
iZ.a1D="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
iZ.Xn=function(Z){var m=Z.code;if(m=="")return!1;var S=iZ.tH;if(Z.altKey&&!Z.shiftKey&&!Z.ctrlKey){var B=iZ.WK.concat([iZ.ni,iZ.Kq,iZ._V,iZ.S_]),C=!1;
for(var q=0;q<B.length;q++)if(S(m,B[q]))return!1}return iZ.a1D.indexOf(m)==-1||Z.shiftKey&&(m=="F5"||m=="F6")};
iZ.x3=function(Z){if(typeof Z=="string")return Z;var m=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(Z==null)return"";var S=[];for(var q=0;q<Z.length;q++){var B=Z[q].OL?Z[q].OL:Z[q];if(m&&Z[q].OG)B=Z[q].OG;
S.push(B)}if(m||S.length==1)return S.join(" + ");else{var C=S.pop();return S.join("+")+" + "+C}};iZ.Wy=function(Z){window.__kb.nZ();
var m=Z.code,S=iZ.kD;if(S&&S.get(m)){var B={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},C=S.get(m).toLowerCase(),u=C.charCodeAt(0);
if(97<=u&&u<=122){var r="Key"+C.toUpperCase();m=r}else if(B[C])m=B[C];return m}var B={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},C=Z.key.toLowerCase(),u=C.charCodeAt(0);
if(C.length==1){if(97<=u&&u<=122){var r="Key"+C.toUpperCase();m=r}else if(B[C])m=B[C]}if(C=="control"&&m!="")m="ControlLeft";
return m};iZ.SH=0;iZ.eq=function(Z,m){var S=0;if(Date.now()-iZ.SH>1e3){S=m==0?100:m*10}else{if(Z%10!=0)Z*=10;
S=(Z+m)%100}iZ.SH=Date.now();return S};iZ.anL={nm:"No Touch",D6:["NoTouch"]};iZ.Z6={OL:"Enter",D6:["Enter","NumpadEnter"]};
iZ.nQ={OL:"Shift",OG:"\u21E7",D6:["ShiftLeft","ShiftRight"]};iZ.wA={OL:"Meta",D6:["MetaLeft","MetaRight","OSLeft","OSRight"]};
iZ.Sx={OL:"Ctrl",OG:"\u2318",D6:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
iZ.__={OL:"Alt",OG:"\u2325",D6:["AltLeft","AltRight"]};iZ.a2b={OL:"CtrlOrAlt",D6:iZ.Sx.D6.concat(iZ.__.D6)};
iZ.xU={OL:"Escape",D6:["Escape"]};iZ.MO={OL:"Space",D6:["Space"]};iZ.zS={OL:"Tab",D6:["Tab"]};iZ.a5T={OL:"Home",D6:["Home"]};
iZ.aif={OL:"End",D6:["End"]};iZ.Ia={OL:"Left",D6:["ArrowLeft"]};iZ.Dz={OL:"Up",D6:["ArrowUp"]};iZ.$Z={OL:"Right",D6:["ArrowRight"]};
iZ.m9={OL:"Down",D6:["ArrowDown"]};iZ.ni={OL:"+",D6:["NumpadAdd","Equal"]};iZ.Kq={OL:"-",D6:["NumpadSubtract","Minus"]};
iZ.wU={OL:";",D6:["Semicolon"]};iZ.agM={OL:"Dead",D6:["Dead"]};iZ.a5Z={OL:"=",D6:["Equal"]};iZ.cE={OL:"Backspace",D6:["Backspace"]};
iZ.bK={OL:"Delete",D6:["Delete"]};iZ.aqm={OL:"Backslash",D6:["Backslash","IntlBackslash"]};iZ.a4k={OL:"Slash",D6:["NumpadDivide","Slash"]};
iZ.apL={OL:"Backquote",D6:["Backquote"]};iZ._V={OL:"[",D6:["BracketLeft"]};iZ.S_={OL:"]",D6:["BracketRight"]};
iZ.I0={OL:".",D6:["Period"]};iZ.Fi={OL:",",D6:["Comma"]};iZ.L_={OL:"'",D6:["Quote"]};iZ.B={OL:"A",D6:["KeyA"]};
iZ.Oa={OL:"B",D6:["KeyB"]};iZ.v9={OL:"C",D6:["KeyC"]};iZ.ty={OL:"D",D6:["KeyD"]};iZ.E={OL:"E",D6:["KeyE"]};
iZ.Hg={OL:"F",D6:["KeyF"]};iZ.Sj={OL:"G",D6:["KeyG"]};iZ.nx={OL:"H",D6:["KeyH"]};iZ.Ob={OL:"I",D6:["KeyI"]};
iZ.Ab={OL:"J",D6:["KeyJ"]};iZ.D3={OL:"K",D6:["KeyK"]};iZ.Ma={OL:"L",D6:["KeyL"]};iZ.ld={OL:"M",D6:["KeyM"]};
iZ.xX={OL:"N",D6:["KeyN"]};iZ.A_={OL:"O",D6:["KeyO"]};iZ.RS={OL:"P",D6:["KeyP"]};iZ.EH={OL:"Q",D6:["KeyQ"]};
iZ.kI={OL:"R",D6:["KeyR"]};iZ.mn={OL:"S",D6:["KeyS"]};iZ.Jw={OL:"T",D6:["KeyT"]};iZ.Ez={OL:"U",D6:["KeyU"]};
iZ._i={OL:"V",D6:["KeyV"]};iZ.Lu={OL:"W",D6:["KeyW"]};iZ.hn={OL:"X",D6:["KeyX"]};iZ.ahg={OL:"Y",D6:["KeyY"]};
iZ.z8={OL:"Z",D6:["KeyZ"]};iZ.$o={OL:"0",D6:["Numpad0","Digit0"]};iZ.JR={OL:"1",D6:["Numpad1","Digit1"]};
iZ.a8R={OL:"2",D6:["Numpad2","Digit2"]};iZ.a2O={OL:"3",D6:["Numpad3","Digit3"]};iZ.adQ={OL:"4",D6:["Numpad4","Digit4"]};
iZ.amd={OL:"5",D6:["Numpad5","Digit5"]};iZ.a4W={OL:"6",D6:["Numpad6","Digit6"]};iZ.acF={OL:"7",D6:["Numpad7","Digit7"]};
iZ.a9M={OL:"8",D6:["Numpad8","Digit8"]};iZ.as$={OL:"9",D6:["Numpad9","Digit9"]};iZ.WK=[iZ.$o,iZ.JR,iZ.a8R,iZ.a2O,iZ.adQ,iZ.amd,iZ.a4W,iZ.acF,iZ.a9M,iZ.as$];
iZ.afE={OL:"F1",D6:["F1"]};iZ.ajW={OL:"F2",D6:["F2"]};iZ.agy={OL:"F3",D6:["F3"]};iZ.a2Q={OL:"FF",D6:["F4"]};
iZ.zk={OL:"F5",D6:["F5"]};iZ.afl={OL:"F6",D6:["F6"]};iZ.abq={OL:"F7",D6:["F7"]};iZ.anR={OL:"F8",D6:["F8"]};
iZ.alF={OL:"F9",D6:["F9"]};iZ.aeg={OL:"F10",D6:["F10"]};iZ.arB={OL:"F11",D6:["F11"]};iZ.acd={OL:"F12",D6:["F12"]};
function jF(Z){jW.call(this);this.a$={};this.dG={};this.aok=0;this.a8v={};this.NG=[];this.aiq=0;this.CD=Z;
jF.oJ=this}jF.a59=function(Z,m){var q=0,S=jF.CO;while(q<S.length){if((m>>>q&1)==1)break;q++}if(m==0||S[q][1]==""){if((m&15)!=0&&jF.SZ(Z,[33,126])>.7)q=0;
else if(m==0)q=0;else{q=0}}return S[q][1]};jF.k5=120;jF.f6=20;jF.cols=16;jF.nq=function(Z){var m=Z.name.postScriptName;
if(m==null)return null;return m.replace(/ /g,"-")};jF.O$=function(Z){var m=Z.name,S=m.typoFamilyName?m.typoFamilyName:m.fontFamily,B=m.typoSubfamilyName?m.typoSubfamilyName:m.fontSubfamily;
if(B==null)B="Regular";var C=jF.ail,u=S.toLowerCase();for(var q=0;q<C.length;q++){if(C[q]=="roman")continue;
if(u.endsWith(" "+C[q])||u.endsWith("-"+C[q])){var r=S.length-C[q].length,k=S.slice(r);S=S.slice(0,r-1);
if(k!=""){if(B=="Regular"||B==S+" Regular")B=k;else B=k+" "+B}break}}var v="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var q=0;q<v.length;q++)if(S.startsWith(v[q])){var k=S.slice(v[q].length);S=v[q];if(k.startsWith(" ")||k.startsWith("-"))k=k.slice(1);
if(k!=""){if(B=="Regular")B=k;else B=k+" "+B}break}var e={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},j=e[jF.nq(Z)];
if(j)B=j;return[S,B]};jF.prototype.aoO=function(Z){var m=this.eI();for(var S in m)if(m[S][0]==Z)this.TO(S)};
jF.prototype.TO=function(Z,m){if(this.a$[Z])return this.a$[Z];if(this.dG[Z])return null;var S=null,B=this.eI();
if(B[Z]!=null)S=B[Z][5];if(S==null){var C=jF.dl[Z];if(C==null){var u="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),r=Z.toLowerCase(),k=0;
if(r.indexOf("sans")!=-1)k=0;else if(r.indexOf("serif")!=-1)k=4;var v=r.indexOf("bold")!=-1||r.indexOf("-black")!=-1,e=r.indexOf("italic")!=-1||r.indexOf("oblique")!=-1||r.endsWith("-it");
if(v&&e)k+=3;else if(e)k+=2;else if(v)k+=1;C=u[k]}if(m!=null&&m>128)C=this.RW(m,C);if(this.a8v[Z]==null){this.a8v[Z]=1;
var j=Date.now()-this.aok>2e3?2e3:0;this.aok=Date.now();alert(Z+" \u27A1 "+C,j)}return this.TO(C,m)}this.dG[Z]="a";
this.CD(S)};jF.prototype.RW=function(Z,m,S){var B=this.a$[m];if(B&&Typr.U.codeToGlyph(B,Z)!=0)return m;
var C=this.eI(),u=jF.aos(Z),r=u[0];if(C[m]&&(C[m][3]&r)==0){if(S)for(var q=0;q<S.length;q++){var k=S[q].Name,v=C[k];
if(v&&(v[3]&r)!=0)return k}var k=jF.CO[u[1]][4];if(C[k])return k}return m};jF.aos=function(Z){var m=jF.CO,S=[0];
for(var q=0;q<m.length;q++){var B=m[q][2];for(var C=0;C<B.length;C+=2)if(B[C]<=Z&&Z<=B[C+1]){S[0]+=1<<q;
S.push(q)}}if(S.length==1)S.push(0);return S};jF.prototype.anV=function(){var Z=this.NG,m=Z[0],S=Z.length-1;
alert(iD.get([22,6,0])+" "+m+(S==0?"":", ... ("+S+")")+" "+iD.get([23,0])+".",1500);this.NG=[]};jF.prototype.aaQ=function(Z,m){if(m!=!0){this.NG.push(Z.name.fullName);
clearTimeout(this.aiq);this.aiq=setTimeout(this.anV.bind(this),300)}var S=jF.nq(Z),B=this.eI(),C=B[S],u=jF.abH(Z);
if(C==null){var r=document.createElement("canvas"),k=r.getContext("2d");r.width=jF.k5;r.height=jF.f6;
var v=jF.f6*1.2/Z.head.unitsPerEm;k.translate(4,jF.f6*.9);k.scale(v,-v);k.fillStyle="#000000";var e=Typr.U.shape(Z,jF.a59(Z,u[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(Z,e),k);k.fill();u.aup=r.toDataURL();this.VE(u)}delete this.dG[S];
this.a$[S]=Z};jF.aoq=function(){var Z=jF.CO,m=[];for(var q=0;q<Z.length;q++)m.push(Z[q][0]);return m};
jF.CO=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
jF.abH=function(Z,m,S){var B=Z.name,v=0;if(jF.nq(Z)==null){console.log(Z);throw"No postScriptName!"}var C=jF.CO,u=[];
for(var q=0;q<C.length;q++){var r=C[q][2],k=C[q][3];u[q]=jF.SZ(Z,r)>k?1:0}for(var q=0;q<u.length;q++)v+=u[q]<<q;
var e=jF.O$(Z);return[e[0],e[1],jF.nq(Z),v,S,m]};jF.SZ=function(Z,m){var S=0,B=0;for(var C=0;C<m.length;
C+=2){for(var u=m[C];u<=m[C+1];u++){var r=Typr.U.codeToGlyph(Z,u);if(r==0)B++;else S++}}return S/(S+B)};
jF.amk=function(Z,m){if(Z[2]<m[2])return-1;if(Z[2]>m[2])return 1;return 0};jF.ato=function(Z,m){if(Z[5]=="fs/"+Z[2]+".otf")Z[5]="";
else if(Z[5]=="gf/"+Z[2]+".otf")Z[5]="a";if(Z[2]==(Z[0]+"-"+Z[1]).replace(/\s/g,"")){Z[2]=""}else if(Z[2]==Z[0].replace(/\s/g,"")){Z[2]="a"}if(m){if(Z[0]==m[0])Z[0]="";
if(Z[1]==m[1])Z[1]="";if(Z[3]==m[3])Z[3]="";if(Z[4]==m[4])Z[4]=""}return Z.join(",")};jF.atN=function(Z,m){Z=Z.split(",");
if(Z[0]=="")Z[0]=m[0];if(Z[1]=="")Z[1]=m[1];if(Z[3]=="")Z[3]=m[3];else Z[3]=parseInt(Z[3]);if(Z[4]=="")Z[4]=m[4];
else Z[4]=parseInt(Z[4]);if(Z[2]=="")Z[2]=(Z[0]+"-"+Z[1]).replace(/\s/g,"");else if(Z[2]=="a")Z[2]=Z[0].replace(/\s/g,"");
if(Z[5]=="")Z[5]="fs/"+Z[2]+".otf";else if(Z[5]=="a")Z[5]="gf/"+Z[2]+".otf";return Z};jF.dl={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
jF.prototype.eI=function(){if(FNTS.map==null){var Z=FNTS.list,m=[];for(var q=0;q<Z.length;q++){m[q]=jF.atN(Z[q],m[q-1]);
m[q].lU=q;this.VE(m[q])}}return FNTS.map};jF.prototype.VE=function(Z){var m=Z[0],S=Z[1],B=Z[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[Z[2]]=Z;if(FNTS.mapFS==null)FNTS.mapFS={};var C=FNTS.mapFS[m+"---"+S];FNTS.mapFS[m+"---"+S]=Z;
if(FNTS.mapSub==null)FNTS.mapSub={};var u=FNTS.mapSub[m];if(u==null)u=FNTS.mapSub[m]=[];var r=u.indexOf(S);
if(r==-1)u.push(S);else u[r]=S};jF.arl=function(Z,m){return jF.Lx(Z)-jF.Lx(m)};jF.Lx=function(Z){Z=Z.toLowerCase();
var m=jF.aeX(Z)+(jF.abx(Z)<<1);if(Z.indexOf("cond")==-1)m+=1<<25;return m};jF.aeX=function(Z){return Z.indexOf("italic")!=-1||Z.indexOf("oblique")!=-1?1:0};
jF.ail="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
jF.alI=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
jF.abx=function(Z){var m=jF.alI,S=-1,B=-1;for(var q=0;q<m.length;q++){var C=m[q];if(C instanceof Array)for(var u=0;
u<C.length;u++){var r=C[u];if(Z.indexOf(r)!=-1&&(S==-1||B<r.length)){S=q;B=r.length}}else if(Z.indexOf(C)!=-1&&(S==-1||B<C.length)){S=q;
B=C.length}}if(S==-1)S=8;return S};jF.mk=function(Z,m){var S=1e9,B=null,C=jF.Lx(m);for(var q=0;q<Z.length;
q++){var u=Math.abs(jF.Lx(Z[q])-C);if(u<S){S=u;B=Z[q]}}return B};jF.prototype.xp=function(Z,m){this.eI();
return FNTS.mapFS[Z+"---"+m]};jF.prototype.G5=function(Z){this.eI();return FNTS.mapSub[Z]};jF.prototype.a1j=function(){this.eI();
return FNTS.mapSub};var eH={rH:0,hU:null,Fy:null,sl:null,oP:null,Fe:null,og:!0,Uy:0,Ic:!1};eH.event=function(Z){var m=new XMLHttpRequest;
m.open("GET","/papi/event.php?id="+Z+"&rnd="+Math.random());m.send()};eH.ru=function(){var Z=J.xG(24)?" ":"",m=J.uP[J.Fr("Uu,"+Z)];
m=m[J.Fr(Z+"$/")];return eH.XU()!=null&&eH.XU()[J.Hj("_^NSLUJ")]*50>m()/20};eH.lN=function(){return eH.adO()!=null};
eH.XU=function(){return eH.Fe};eH.R$=function(Z){window.addEventListener("message",eH.ao2,!1);setInterval(eH.Oj,5e3);
if(eH.lN()){eH.hU=Z;eH.ZI()}else setTimeout(Z,1)};eH.Oj=function(){if(eH.lN()&&eH.Ic){eH.QX(eH.Ba());
eH.Ic=!1}};eH.Uq=function(Z){eH.hU=Z;var m="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
eH.sl=window.open(m,"_blank")};eH.vV=function(){localStorage.removeItem(eH.rH+"_uid");localStorage.removeItem(eH.rH+"_provider");
localStorage.removeItem(eH.rH+"_token");eH.Fe=null};eH.ao2=function(Z){if(Z.data instanceof ArrayBuffer||Z.data instanceof Object)return;
if(Z.data.charAt(0)!="{")return;var m=JSON.parse(Z.data);if(m.prms==null)return;var S=m.prms.split(",");
if(S[0]=="papi_logged_in"){localStorage[eH.rH+"_uid"]=S[1];eH.Jr(S[2]);localStorage[eH.rH+"_provider"]=S[3];
eH.sl.close();eH.ZI()}if(S[0]=="payment_complete"){eH.oP.close();eH.ZI()}};eH.adO=function(){if(!navigator.onLine){eH.vV()}var Z=localStorage[eH.rH+"_token"];
if(Z!=null&&Date.now()*.001+10<parseInt(Z.split("-")[0]))return Z;return null};eH.Jr=function(Z){var m=localStorage[eH.rH+"_token"];
if(m!=null&&parseInt(Z.split("-")[0])<parseInt(m.split("-")[0]))return;localStorage[eH.rH+"_token"]=Z;
clearTimeout(eH.Uy);eH.Uy=setTimeout(eH.at$,Math.min(1e9,parseInt(Z.split("-")[0])*1e3-Date.now()-20*1e3))};
eH.at$=function(){console.log("a",navigator.onLine);if(!navigator.onLine)throw"a";var Z=new XMLHttpRequest;
Z.open("POST","https://www.photopea.com/papi/record_new.php",!0);Z.onload=eH.arX;var m=eH.lC(0)+"&read=2";
Z.setRequestHeader("Content-type","application/x-www-form-urlencoded");Z.send(m)};eH.ZI=function(){console.log("b",navigator.onLine);
if(!navigator.onLine)throw"b";var Z=new XMLHttpRequest;Z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
Z.onload=eH.ajH;var m=eH.lC(0)+"&read=1";Z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
Z.send(m)};eH.QX=function(Z){console.log("c",navigator.onLine);if(!navigator.onLine)throw"c";var m=new XMLHttpRequest;
m.open("POST","https://www.photopea.com/papi/record_new.php",!0);m.onload=eH.a2w;var S=eH.lC(0)+"&read=0&score="+(Z.tpl?1:0)+"&spublic="+eH.og+"&record="+encodeURIComponent(JSON.stringify(Z));
m.setRequestHeader("Content-type","application/x-www-form-urlencoded");m.send(S)};eH.ajH=function(Z){var m=JSON.parse(Z.target.response);
if(m.error){}else{eH.Fe=m.user;var S=eH.Ba(),B=m.record;if(m.record){eH.og=m.spublic;eH.oR(B)}else if(S)eH.QX(S)}eH.Jr(m.token);
if(eH.hU){eH.hU();eH.hU=null}if(eH.Fy){eH.Fy();eH.Fy=null}};eH.arX=function(Z){var m=JSON.parse(Z.target.response);
eH.Jr(m.token)};eH.a2w=function(Z){var m=JSON.parse(Z.target.response);eH.Jr(m.token);if(eH.Fy)eH.ZI()};
eH.lC=function(Z){return"app="+Z+"&uid="+localStorage[eH.rH+"_uid"]+"&token="+localStorage[eH.rH+"_token"]};
eH.Wf=function(){return eH.Ba()};eH.B_=function(Z,m){eH.oR(Z);eH.Ic=!0;if(m){eH.Fy=m;eH.Oj()}};eH.Ba=function(){var Z=localStorage[eH.rH+"_stateLocal"],m;
if(Z==null)return null;try{m=JSON.parse(Z)}catch(iD){return null}return m};eH.oR=function(Z){var m=JSON.stringify(Z);
localStorage[eH.rH+"_stateLocal"]=m};eH.order=function(Z,m,S){eH.hU=S;var B="https://www.photopea.com/papi/order.php?ptype="+m+"&param="+Z+"&uid="+localStorage[eH.rH+"_uid"]+"&token="+localStorage[eH.rH+"_token"];
eH.oP=window.open(B,"_blank")};eH.as0=function(Z,m){eH.hU=m;var S="https://www.photopea.com/papi/insertKey.php?key="+Z+"&uid="+localStorage[eH.rH+"_uid"]+"&token="+localStorage[eH.rH+"_token"];
eH.oP=window.open(S,"_blank")};var iD={};iD.k_=0;iD.SE={};iD.k7=function(Z){var m=LNG.tables,S=m[Z];
if(S==null)S=m[0];if(typeof S=="string"){S=m[Z]=iD.LJ(S)}return S};iD.LJ=function(Z){var m=[],S=0,B=0,C=[],u=Z.length;
while(B!=u){var r=Z[B];if(r=="["){m.push(C);C=[];B=S=B+1}else if(r=="]"){C.push(S==B?null:Z.substring(S,B));
var k=C;C=m.pop();C.push(k);B=S=B+1}else if(r==";"){if(Z[B-1]!="]")C.push(S==B?null:Z.substring(S,B));
B=S=B+1}else B++}return C};iD.get=function(Z){if(typeof Z=="string")return Z;var m=typeof Z[0];if(m=="number"){for(var q=1;
q<Z.length;q++)if(typeof Z[q]!="number"){console.log(Z);throw"e"}return iD.an$(Z)}var S=iD.get(Z[0]);
for(var q=1;q<Z.length;q++){var B=iD.get(Z[q]),C=S.indexOf("VAR"+(q-1));S=S.slice(0,C)+B+S.slice(C+4)}return S};
iD.an$=function(Z){var m=JSON.stringify(Z);if(iD.SE[m]!=null)return iD.SE[m];var S=iD.k7(0),B=iD.k7(iD.k_),C=iD.kC(Z,B);
if(C==null)C=iD.kC(Z,S);return C};iD.kC=function(Z,m){for(var q=0;q<Z.length;q++){m=m[Z[q]];if(m==null)return null;
else if(typeof m=="string")break}if(m instanceof Array)m=m[0];return m.split("::")[0]};iD.a7X=function(){var Z=function(S,B){var C=S.code,u=B.code;
if(C=="en")return-1;if(u=="en")return 1;var r=navigator.languages,k=r.indexOf(C)!=-1,v=r.indexOf(u)!=-1;
if(k&&v)return C>u?1:-1;if(k)return-1;if(v)return 1;return C>u?1:-1},m=LNG.langs.slice(0);m.sort(Z);
return m};iD.WB=function(Z,m){iD.k_=Z;if(LNG.tables[Z])m();else{var S=new XMLHttpRequest;S.open("GET","code/lang/"+Z+".js");
S.onreadystatechange=function(){LNG.tables[Z]=S.responseText;m()};S.send()}};iD.g5=function(Z,m){for(var S=0;
S<2;S++){var B=!1;for(var q=0;q<LNG.langs.length;q++)if(LNG.langs[q].code==Z){iD.WB(q,m);B=!0}if(B)break;
Z=Z.split("-")[0]}};iD.Hc=function(){return LNG.langs[iD.k_].code};iD.ako=function(Z){for(var q=0;q<Z.length;
q+=2)if(Z[q+1].indexOf(">")==-1)iD.SE[JSON.stringify(Z[q])]=Z[q+1]};iD.Dr=function(Z){var m=-1,S=LNG.langs;
for(var q=0;q<S.length;q++)if(S[q].code==Z)m=q;return m};var i3={B1:!1,xh:!1,bd:!1};i3.qQ=function(){return J.uP[dR.jE]!=J.uP[dR.akw]};
i3.pJ=function(){var Z=J.uP[dR.c4],m=Z[dR.gb],S=0,B=dR.GR,C=J.Hj("PP\\KQSB"),u=J.Hj("Y_5UDDB>idge"),r=Z[dR.hS](dR.a7J);
r[B](dR.gO,C);r[B](dR.FI,J.Hj("fUMZKyqifDIhJ0*+&$-OG?<y~>"));m[dR.rf](r);r=Z[dR.a5L](C);if(r==null){S=2}else{if(!m[J.Hj("R[WZDIKM")](r)){S=3}else if(Math.round(r[J.Hj("VQ](RUK>@B8p71*03m}x'")]()[dR.Pc]-500)>5){S=4}m[dR.A6](r)}if(i3.xh)S=5;
if(i3.bd)S=6;return S};i3.agl=function(Z){var m=J.Fr("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),S={method:"HEAD",mode:"no-cors"},B=new Request(m,S);
fetch(B).then(function(C){return C}).then(function(C){var u=J.Fr("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),B=new Request(u,S);
fetch(B).then(function(C){return C}).then(function(C){Z(!1)}).catch(function(r){i3.xh=!0;console.clear();
Z(!0)})}).catch(function(C){i3.xh=!0;console.clear();Z(!0)})};i3.a0U=function(){var Z=J.Hj("UU[YW#ECC8"),m=J.Hj("VQ](RUK>@B8p71*03m}x'"),S=J.Hj("WQRMKT"),B=this.ajG[Z][m]();
if(B[S]<4){i3.bd=!0;this.a0D(!0)}};i3.asF=function(){var Z=J.uP._cwY,m=J.uP[dR.sn],S="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEk&<3&)0w zx!siZaaRWNJbAAMbSC377&&>k!%'~|ng1",B=String.fromCharCode(32);
Z(J.Hj(S)+B+B+i3.pJ());if(!eH.ru())m(i3.asF,Math.round(Math.PI*1e4))};i3.Z7=function(Z){var m=J.uP[dR.c4],S=m[dR.hS](Z[0]);
for(var B in Z[1]){if(B=="txt")S[dR.eT]=Z[1][B];else S[dR.GR](B,Z[1][B])}return S};i3.a6m=function(Z,m,S,B,C){J.uq(S);
var u=J.uP[dR.c4],r=J.Fr(" u.$%\"86<"),k=J.Fr("!#c$,&"),v=J.uP[r][k],e=!1;if(!i3.qQ()&&!i3.pJ()&&v&&Z*m>300*300){var j=u[J.Hj("VQ]+OEJ?EHDoD{&)l|&z")](dR.eE)[0],$=JSON.parse(J.Fr("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var q=0;q<$.length;q++){var U=i3.Z7($[$.length-1-q]);j[dR.aeP](U,j[dR.a8n])}var H=J.Fr("p}&$2a(:"),z=J.Fr("'#!}i0%+"),f=J.Fr("ps,}$\"40");
J.uP.___ggo=function(){J.uP[f](dR.LP,2,function(a,F){if(!J.uP[H]){J.uP[H]=!0;var A=i3.ane.bind({zM:S,aa0:C,head:j,Vi:m});
A()}})}}else{var D=[J.Hj("XYPtSP<N8@=[;6,")];if(e)D=[J.Fr("z\"~I5062W=>:")];for(var q=0;q<D.length;q++){var n=u[dR.hS](dR.uV);
n[dR.GR](dR.FI,J.Hj("Ra[YRRvJF=?B0:_"));n[dR.GR](dR.oN,D[q]);if(e){var L=u[dR.hS]("a");L[dR.GR](dR.tL,J.Fr("@C/25N4/9A?C;:iBQRvU]Sg"));
L[dR.GR](dR.ahE,J.Fr("pv${,,"));L[dR.rf](n);S[dR.rf](L)}else{n[dR.LP](dR.akt,B,!1);S[dR.rf](n)}}}};i3.GL=function(Z){var m=2;
if(Z>=3*270+30)m=3;if(Z>=4*270+30)m=4;return m};i3.ane=function(){var Z=dR.rf,m=dR.GR,S=dR.LP,B=dR.dl,C=dR.FI,u=dR.oN,r=J.Hj("P_bTF"),k=dR.eT,v=dR.s2,e=J.uP[dR.c4],j=dR.hS,$=dR.asB,U=JSON.parse(J.Fr("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),H=J.uP,z=-1,f=H[J.Fr("f#!}f")],D=J.Fr("xy'"),n=J.Fr("TU"),L=J.Fr("Vi"),c=0;
if(f&&f[D]){var a=f[D];if(a==L)z=0;if(a==n)z=1}var F=z==-1?null:i3.Z7(U[z]),A=this.zM,T=this.aa0,P=this.head,Y=this.Vi,Q=J.Fr("~u*\"'/P)9ADBCrlnR]"),o=[.1,0,.9],I=Math.random();
while(o[c]<I&&c<o.length-1){I-=o[c];c++}if(c==0){console.log(0);if(T==1){var y=J.Fr("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),i=y.split(","),d=e[j](v);
for(var q=0;q<i.length;q+=2)d[m](i[q+0],i[q+1]);d[m](C,J.Hj("\\M[MLNi<FHE=8aVQ/4"));A[Z](d);if(!i3.B1){i3.B1=!0;
var V=J.Fr("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),R=e[j]($);
R[k]=V;P[Z](R)}}else if(T==2){var G=i3.GL(Y);if(!i3.B1){i3.B1=!0;var y=J.Fr("uu,{J*(R:5?GEIA@oHWXM$$'r/53eMR_>[j\\kffv|qu&bih3&888;;C?'lp0TK_W\\daahim|W^]\"x-%*2>31D;\")(SQUUL`X]eFMLoko!|s( %-mtsbWUh_&.,kkrsw'AI"),i=y.split(","),V=J.Fr("9z-)!5-68LW[UT[UCWg^WkY4!003~;A?9Ay 40.<JjPZGBLTRVNM|UdeZ114 <B@rZ_lFN>687FIHZz`RLalH@BApsrWm|$v(,BF[<465DGFfKMTJIOgdhXnbckgwst2R8\"40(<4=?[_UFFbmaY[Zilk,sihn'c(w.\"?_bH_NWZWSKML[^]}fjZptu%EH.CDGC97%9I2CRrX@NEZUP\\e\"hobr|Ynxtu*(._.1OL)55K;iIG#omySYmigu/)1j2<Q0}2B+HhNrGJ<WnJYYZwXi\"*eksl3t'#z/'02N/UONH>PTTSgkS~\\Xm>twxrn%'z@=##9)W@6B;?OEGgqiw-^^#c* }k 0||,}-(EeK4_8GIRFR[AV^Wep*cqh}xs )R$$3%4/Z?C;Gcg|NN]O^Y%qoiwk1%|~}-0/O7->>@BJ?1E[Zq'XXgYhc/gsy!u;?T\"M6+=lCFGA=SUInpQQgW&ndpim}su;C:239,RJMPpQIKJY\\[{`d\\h%\"JK].;2<!0328aY\\AI9;ASpMvP^gWd`ammju;~x+H$!06*0]39PyGV!uz!'%*/-7;4/6ou*&$2KJL=GlY`>JBQIM@@:{jcwe,102$Oe%|\"'2-9B0HPJBdu*\\Qah^fb$(/Kk\"uA%)4GKQH@AG:`uVNPO^a`!i^jc*.C)79=R");
for(var M=0;M<G;M++){var d=e[j](v);for(var q=0;q<i.length;q+=2)d[m](i[q+0],i[q+1]);d[m](C,Q);A[Z](d);
var R=e[j]($);R[k]=V;A[Z](R)}}}}else if(c==1){console.log(1);if(T==1){var O=e[j](J.Fr("u}."));O[m](C,Q);
var K=e[j](J.Fr("u}."));O[Z](K);K[m](J.Fr("zx"),J.Fr("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));K[m](J.Fr("t!x.1"),J.Fr("pu(y~1)?).4"));
var V=J.Fr("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),R=e[j]($);
R[k]=V;K[Z](R);A[Z](O)}else if(T==2){var G=i3.GL(Y);for(var q=0;q<G;q++){var O=e[j](J.Fr("u}."));O[m](C,Q);
var K=e[j](J.Fr("u}."));O[Z](K);K[m](J.Fr("zx"),J.Fr("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));K[m](J.Fr("t!x.1"),J.Fr("pu(y~1)?).4"));
var V=J.Fr("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),R=e[j]($);
R[k]=V;K[Z](R);A[Z](O)}}if(!i3.B1){i3.B1=!0;var V=J.Fr("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),R=e[j]($);
R[m](J.Fr("uu,{J$*(=F>6"),J.Fr("wu$.#"));R[k]=V;P[Z](R)}}else{console.log(2);var W=e[j]($);W.setAttribute(u,J.Fr("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
P[Z](W);var t=JSON.parse(J.Fr("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}#(%({)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),X=[t[0]];
if(T==2)X=t.slice(1,1+i3.GL(Y));for(var q=0;q<X.length;q++){var K=e[j](J.Hj("SU_"));K[m](J.Hj("XP"),X[q]);
K[m](C,Q);A[Z](K)}}if(F)A[Z](F)};var bc={eP:-2,AV:{expires_at:0},ga:[]};bc.dv=function(Z){if(Z)bc.ga.splice(0,0,Z);
if(bc.eP==-2){bc.eP=-1;var m=document.createElement("script");m.src="//apis.google.com/js/client.js";
document.body.appendChild(m);m.onload=function(S){setTimeout(function(){bc.eP=0;bc.dv()},100)}}if(bc.eP==-1)return;
if(bc.eP==1)return;if(bc.AV.expires_at>Date.now()*.001+30){while(bc.ga.length>0)bc.ga.pop()()}else{if(bc.eP==0)bc.eP=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:bc.eP==2?!1:!0},bc.a8T)}};
bc.a8T=function(Z){if(Z&&!Z.error){bc.AV=Z;bc.eP=!1;bc.dv()}else if(bc.eP==1){bc.eP=2;bc.dv()}else alert("Error: "+Z.error)};
bc.Sk=function(){return"access_token="+bc.AV.access_token+"&token_type="+bc.AV.token_type};bc.xz=function(){return bc.AV.token_type+" "+bc.AV.access_token};
function aS(Z,m){if(!Z)Z=0;if(!m)m=0;this.x=Z;this.y=m}aS.prototype.add=function(Z){return new aS(this.x+Z.x,this.y+Z.y)};
aS.prototype.clone=function(){return new aS(this.x,this.y)};aS.prototype.my=function(Z){this.x=Z.x;this.y=Z.y};
aS.prototype.Qu=function(Z){return this.x==Z.x&&this.y==Z.y};aS.prototype.normalize=function(Z){var m=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=Z/m;this.y*=Z/m};aS.prototype.offset=function(Z,m){this.x+=Z;this.y+=m};aS.prototype.r8=function(Z,m){this.x=Z;
this.y=m};aS.prototype.Vf=function(Z){return new aS(this.x-Z.x,this.y-Z.y)};aS.qa=function(Z,m){return aS.aas(Z.x,Z.y,m.x,m.y)};
aS.zu=function(Z,m,S){return new aS(Z.x+S*(m.x-Z.x),Z.y+S*(m.y-Z.y))};aS.a3C=function(Z,m){return new aS(Z*Math.cos(m),Z*Math.sin(m))};
aS.aas=function(Z,m,S,B){return Math.sqrt((S-Z)*(S-Z)+(B-m)*(B-m))};aS.s5={};aS.YI={};aS.s5.create=function(){var Z=new Float32Array(4);
return Z};aS.YI.create=function(Z){var m=new Float32Array(16);m[0]=m[5]=m[10]=m[15]=1;if(Z)aS.YI.set(Z,m);
return m};aS.s5.add=function(Z,m,S){S[0]=Z[0]+m[0];S[1]=Z[1]+m[1];S[2]=Z[2]+m[2];S[3]=Z[3]+m[3]};aS.s5.set=function(Z,m){m[0]=Z[0];
m[1]=Z[1];m[2]=Z[2];m[3]=Z[3]};aS.YI.set=function(Z,m){m[0]=Z[0];m[1]=Z[1];m[2]=Z[2];m[3]=Z[3];m[4]=Z[4];
m[5]=Z[5];m[6]=Z[6];m[7]=Z[7];m[8]=Z[8];m[9]=Z[9];m[10]=Z[10];m[11]=Z[11];m[12]=Z[12];m[13]=Z[13];m[14]=Z[14];
m[15]=Z[15]};aS.YI.multiply=function(Z,m,S){var B=Z[0],C=Z[1],u=Z[2],r=Z[3],k=Z[4],v=Z[5],e=Z[6],j=Z[7],$=Z[8],U=Z[9],H=Z[10],z=Z[11],f=Z[12],D=Z[13],n=Z[14],L=Z[15],a=m[0],F=m[1],A=m[2],T=m[3];
S[0]=a*B+F*k+A*$+T*f;S[1]=a*C+F*v+A*U+T*D;S[2]=a*u+F*e+A*H+T*n;S[3]=a*r+F*j+A*z+T*L;a=m[4];F=m[5];A=m[6];
T=m[7];S[4]=a*B+F*k+A*$+T*f;S[5]=a*C+F*v+A*U+T*D;S[6]=a*u+F*e+A*H+T*n;S[7]=a*r+F*j+A*z+T*L;a=m[8];F=m[9];
A=m[10];T=m[11];S[8]=a*B+F*k+A*$+T*f;S[9]=a*C+F*v+A*U+T*D;S[10]=a*u+F*e+A*H+T*n;S[11]=a*r+F*j+A*z+T*L;
a=m[12];F=m[13];A=m[14];T=m[15];S[12]=a*B+F*k+A*$+T*f;S[13]=a*C+F*v+A*U+T*D;S[14]=a*u+F*e+A*H+T*n;S[15]=a*r+F*j+A*z+T*L;
return S};aS.YI.inverse=function(Z,m){var S=Z[0],B=Z[1],C=Z[2],u=Z[3],r=Z[4],k=Z[5],v=Z[6],e=Z[7],j=Z[8],$=Z[9],U=Z[10],H=Z[11],z=Z[12],f=Z[13],D=Z[14],n=Z[15],L=S*k-B*r,a=S*v-C*r,F=S*e-u*r,A=B*v-C*k,T=B*e-u*k,P=C*e-u*v,Y=j*f-$*z,Q=j*D-U*z,o=j*n-H*z,I=$*D-U*f,c=$*n-H*f,y=U*n-H*D,i=L*y-a*c+F*I+A*o-T*Q+P*Y;
if(!i){return null}i=1/i;m[0]=(k*y-v*c+e*I)*i;m[1]=(C*c-B*y-u*I)*i;m[2]=(f*P-D*T+n*A)*i;m[3]=(U*T-$*P-H*A)*i;
m[4]=(v*o-r*y-e*Q)*i;m[5]=(S*y-C*o+u*Q)*i;m[6]=(D*F-z*P-n*a)*i;m[7]=(j*P-U*F+H*a)*i;m[8]=(r*c-k*o+e*Y)*i;
m[9]=(B*o-S*c-u*Y)*i;m[10]=(z*T-f*F+n*L)*i;m[11]=($*F-j*T-H*L)*i;m[12]=(k*Q-r*I-v*Y)*i;m[13]=(S*I-B*Q+C*Y)*i;
m[14]=(f*a-z*A-D*L)*i;m[15]=(j*A-$*a+U*L)*i;return m};aS.YI.a83=function(Z,m,S){var B=m[0],C=m[1];S[0]=B*Z[0]+C*Z[4]+Z[12];
S[1]=B*Z[1]+C*Z[5]+Z[13]};aS.YI.ao7=function(Z,m,S){var B=m[0],C=m[1],u=m[2],r=m[3];S[0]=Z[0]*B+Z[4]*C+Z[8]*u+Z[12]*r;
S[1]=Z[1]*B+Z[5]*C+Z[9]*u+Z[13]*r;S[2]=Z[2]*B+Z[6]*C+Z[10]*u+Z[14]*r;S[3]=Z[3]*B+Z[7]*C+Z[11]*u+Z[15]*r};
function bq(Z,m,S,B){if(!Z)Z=0;if(!m)m=0;if(!S)S=0;if(!B)B=0;this.x=Z;this.y=m;this.e=S;this.n=B}bq.prototype.Z=function(){return this.e*this.n};
bq.prototype.clone=function(){return new bq(this.x,this.y,this.e,this.n)};bq.prototype.contains=function(Z,m){return Z>=this.x&&Z<=this.x+this.e&&(m>=this.y&&m<=this.y+this.n)};
bq.prototype.hV=function(Z){return this.contains(Z.x,Z.y)};bq.prototype.wZ=function(Z){return this.x<=Z.x&&this.y<=Z.y&&Z.x+Z.e<=this.x+this.e&&Z.y+Z.n<=this.y+this.n};
bq.prototype.my=function(Z){this.x=Z.x;this.y=Z.y;this.e=Z.e;this.n=Z.n};bq.prototype.Qu=function(Z){return this.x==Z.x&&this.y==Z.y&&this.e==Z.e&&this.n==Z.n};
bq.prototype.QW=function(Z,m){this.x-=Z;this.y-=m;this.e+=2*Z;this.n+=2*m};bq.prototype.abh=function(Z){this.QW(Z.x,Z.y)};
bq.prototype.o9=function(Z){var m=Math.max(this.x,Z.x),S=Math.max(this.y,Z.y),B=Math.min(this.x+this.e,Z.x+Z.e),C=Math.min(this.y+this.n,Z.y+Z.n);
if(B<m||C<S)return new bq;else return new bq(m,S,B-m,C-S)};bq.prototype.df=function(Z){if(Z.y+Z.n<this.y||Z.x>this.x+this.e||Z.y>this.y+this.n||Z.x+Z.e<this.x)return!1;
return!0};bq.prototype.Ov=function(){return this.e<=0||this.n<=0};bq.prototype.offset=function(Z,m){this.x+=Z;
this.y+=m};bq.prototype.Vn=function(Z){this.offset(Z.x,Z.y)};bq.prototype.a5q=function(){this.x=this.y=this.e=this.n=0};
bq.prototype.r8=function(Z,m,S,B){this.x=Z;this.y=m;this.e=S;this.n=B};bq.prototype.j3=function(Z){if(this.Ov())return Z.clone();
if(Z.Ov())return this.clone();var m=this.clone();m.a5j(Z);return m};bq.Cn=new Float32Array(2);bq.prototype.a5j=function(Z){if(Z.Ov())return;
if(this.Ov()){this.my(Z);return}this.Bi(Z.x,Z.y);this.Bi(Z.x+Z.e,Z.y+Z.n)};bq.prototype.Bi=function(Z,m){var S=Math.min(this.x,Z),B=Math.min(this.y,m);
this.e=Math.max(this.x+this.e,Z)-S;this.n=Math.max(this.y+this.n,m)-B;this.x=S;this.y=B};bq.prototype.auC=function(Z,m){this.x=Z;
this.y=m;this.e=this.n=0};function ht(Z,m,S,B,C,u){if(typeof Z==="undefined"){Z=1;m=0;S=0;B=1;C=0;u=0}this.AQ=Z;
this.S=m;this.mw=S;this.uw=B;this.s9=C;this.ku=u}ht.prototype.l_=function(){return Math.sqrt(Math.abs(this.AQ*this.uw-this.S*this.mw))};
ht.prototype.ae7=function(){var Z=this,m=function(S){return Math.abs(S)<1e-9?0:S};Z.AQ=m(Z.AQ);Z.S=m(Z.S);
Z.mw=m(Z.mw);Z.uw=m(Z.uw);Z.s9=m(Z.s9);Z.ku=m(Z.ku)};ht.prototype.xf=function(Z){return new aS(Z.x*this.AQ+Z.y*this.mw+this.s9,Z.x*this.S+Z.y*this.uw+this.ku)};
ht.prototype.translate=function(Z,m){this.s9+=Z;this.ku+=m};ht.prototype.rotate=function(Z){var m=new ht(Math.cos(Z),-Math.sin(Z),Math.sin(Z),Math.cos(Z),0,0);
this.concat(m)};ht.prototype.scale=function(Z,m){var S=new ht(Z,0,0,m,0,0);this.concat(S)};ht.prototype.concat=function(Z){this.my(new ht(this.AQ*Z.AQ+this.S*Z.mw,this.AQ*Z.S+this.S*Z.uw,this.mw*Z.AQ+this.uw*Z.mw,this.mw*Z.S+this.uw*Z.uw,this.s9*Z.AQ+this.ku*Z.mw+Z.s9,this.s9*Z.S+this.ku*Z.uw+Z.ku))};
ht.prototype.Yy=function(){var Z=this.AQ*this.uw-this.S*this.mw;this.my(new ht(this.uw/Z,-this.S/Z,-this.mw/Z,this.AQ/Z,(this.mw*this.ku-this.uw*this.s9)/Z,(this.S*this.s9-this.AQ*this.ku)/Z))};
ht.prototype.clone=function(){return new ht(this.AQ,this.S,this.mw,this.uw,this.s9,this.ku)};ht.prototype.my=function(Z){this.AQ=Z.AQ;
this.S=Z.S;this.mw=Z.mw;this.uw=Z.uw;this.s9=Z.s9;this.ku=Z.ku};function e2(){}e2.rI={a2v:["PNG","JPG","SVG","GIF","PDF"],a74:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
e2.cW=function(Z,m){var S=Z.memory.buffer.byteLength;if(S<m)Z.memory.grow((m-S>>>16)+1)};e2.wP={ae4:function(Z,m){fetch(Z).then(function(S){return S.arrayBuffer()}).then(function(S){var B=new Uint8Array(S),C=0,v="";
if(m){C=B.length;var u={level:9},r=pako.deflateRaw(B,u),k=UZIP.deflateRaw(B,u);console.log(C,r.length,k.length);
B=r.length<k.length?r:k}for(var q=0;q<B.length;q++)v+=String.fromCharCode(B[q]);var e=btoa(v);console.log(JSON.stringify([C,e]))})},get:function(Z,m){var S=BINDB[Z],B=Date.now(),C=atob(S[1]),u=C.length,r=new Uint8Array(u);
for(var q=0;q<u;q++)r[q]=C.charCodeAt(q);if(S[0]!=0){var k=new Uint8Array(S[0]);UZIP.inflateRaw(r,k);
r=k}if(m){var v=e2.SL(r.buffer);r=e2.Vh(v).af(r.buffer)}return r}};e2.SL=function(Z){if(!(Z instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var m=new Uint8Array(Z),S=e2.OS,B,C=0,u=m.length-1;
if(S(m,[239,187,191]))C=3;while(C<m.length&&(m[C]==9||m[C]==10||m[C]==13||m[C]==32))C++;while(u!=0&&(m[u]==9||m[u]==10||m[u]==13||m[u]==32))u--;
if(S(m,[56,66,80,83]))B="psd";if(S(m,[6,6,237,245]))B="indd";if(S(m,[102,116,121,112,109,105,102,49],4)||S(m,[102,116,121,112,97,118,105,102],4))B="avif";
if(S(m,[102,116,121,112,105,115,111,109],4))B="mp4";if(S(m,[102,116,121,112,109,112,52,50],4))B="mp4";
if(S(m,[0,255,75,65]))B="afphoto";if(S(m,[120]))B="pxd";if(S(m,[80,68,78,51]))B="pdn";if(S(m,[103,105,109,112,32,120,99,102,32]))B="xcf";
if(S(m,[102,105,103,45,107,105,119,105]))B="fig";if(S(m,[137,80,78,71,13,10,26,10])){B="png";var r=8;
while(r<m.length){var k=x.l(m,r);r+=4;var v=x.aD(m,r,4);r+=4;if(v=="mkTS")B="fpng";r+=k+4}}if(S(m,[87,76]))B="cdr";
if(S(m,[82,73,70,70])){var e=b7.FK(m),j=e.lf;if(j=="WEBP")B="webp";else if(j.slice(0,3)=="CDR")B="cdr";
else B=j}if(S(m,[70,79,82,77])||S(m,[76,73,83,84])||S(m,[67,65,84,32])){var e=fL.FK(m),j=e.lf;if(j=="ILBM")B="ilbm";
else B=j}if(S(m,[255,216,255]))B="jpg";if(S(m,[0,0,0,12,106,80,32,32]))B="jpg";if(S(m,[48,0,1,0],4))B="jb2";
if(S(m,[71,73,70,56]))B="gif";if(S(m,[0,0,0,2,121,102,113,76]))B="msh";if(S(m,[0,0,0,3,121,102,113,76]))B="msh";
if(S(m,[0,0,0,16]))B="atn";if(S(m,[0,1]))B="aco";if(S(m,[0,2]))B="aco";if([0,1].indexOf(m[1])!=-1&&[1,2,3,9,10,11].indexOf(m[2])!=-1&&[0,16,24,32].indexOf(m[7])!=-1)B="tga";
if(S(m,[0,2,56,66,83,76]))B="asl";if(S(m,[0,1,0,-1,0,2,0]))B="abr";if(S(m,[0,2,0,-1,0,2,0]))B="abr";
if(S(m,[0,6,0,1]))B="abr";if(S(m,[0,6,0,2]))B="abr";if(S(m,[0,7,0,2]))B="abr";if(S(m,[0,9,0,2]))B="abr";
if(S(m,[0,10,0,2]))B="abr";if(S(m,[56,66,70,83]))B="shc";if(S(m,[56,66,80,84]))B="pat";if(S(m,[56,66,71,82]))B="grd";
if(S(m,[56,66,84,80]))B="tpl";if(S(m,[0,4,0,5]))B="acv";if(S(m,[99,117,115,104]))B="csh";if(S(m,[0,1,0,0,0]))B="otf";
if(S(m,[79,84,84,79]))B="otf";if(S(m,[116,116,99,102]))B="otf";if(S(m,[68,68,83,32]))B="dds";if(S(m,[80,86,82,3]))B="pvr";
if(S(m,[86,84,70,0]))B="vtf";if(S(m,[83,73,77,80]))B="fits";if(S(m,[0,0,1,0]))B="ico";if(S(m,[66,77]))B="bmp";
if(S(m,[40,0,0,0]))B="bmp";if(S(m,[80,49]))B="ppm";if(S(m,[80,50]))B="ppm";if(S(m,[80,51]))B="ppm";if(S(m,[80,52]))B="ppm";
if(S(m,[80,53]))B="ppm";if(S(m,[80,54]))B="ppm";if(S(m,[73,73,42,0]))B="tiff";if(S(m,[77,77,0,42]))B="tiff";
if(S(m,[70,85,74,73,70,73,76,77]))B="raf";if(S(m,[112]))B="lif";if(S(m,[73,73,26,0]))B="ciff";if(S(m,[83,81,76,105]))B="sketch";
if(S(m,[80,75])){var $=UZIP.parse(Z,!0);if($["document.json"])B="sketch";else if($.manifest)B="xd";else B="zip"}if(S(m,[123]))B="json";
if(x.l(m,0)==m.length)B="icc";if(S(m,[35]))B="icc";if(S(m,[84,73,84,76],C))B="icc";if(S(m,[76,85,84,95],C))B="icc";
if(S(m,[60,63,120,109],C)){if(x.Ok(m,"<look>")!=-1)B="icc";else B="svg"}if(S(m,[60,115,118,103],C))B="svg";
if(S(m,[60,33,100,111],C)||S(m,[60,33,68,79],C)){if(x.Ok(m,"<svg")!=-1)B="svg";else B="html"}if(S(m,[37,33])||S(m,[197,208,211,198])){if(x.Ok(m,"%AI9_PrivateDataBegin")!=-1||x.Ok(m,"%AI5_BeginLayer")!=-1)B="ai";
else B="eps"}if(S(m,[37,80,68,70],C)){if(x.Ok(m,"/AIMetaData ")!=-1)B="ai";else B="pdf"}else if(S(m,[10,69,79,70],u-3))B="dxf";
if(S(m,[1,0,9,0]))B="wmf";if(S(m,[215,205,198,154]))B="wmf";if(S(m,[1,0,0,0]))B="emf";if(S(m,[118,47,49,1]))B="exr";
if(S(m,[10,10,10,10]))B="jsx";if(S(m,[77,90]))B="exe";if(B==null&&l.raw.bb(m.length)!=null)return"tiff";
return B};e2.OS=function(Z,m,S){if(S==null)S=0;for(var q=0;q<m.length;q++)if(m[q]!=-1&&Z[S+q]!=m[q])return!1;
return!0};e2.Vh=function(Z){var m={BMP:e2.adH,CDR:e2.ui,DDS:e2.EG,EMF:e2.pg,DXF:e2.HC,EPS:e2.bz,FIG:e2.x0,FPNG:e2.HX,INDD:e2.a3x,GIF:e2.OI,ICO:e2.$j,ILBM:e2.AF,FITS:e2.Wg,EXR:e2.GI,JPG:e2.g_,LIF:e2.el,PDF:e2.tU,PDN:e2.f5,PNG:e2.s_,PPM:e2.nz,PSD:e2.iV,PXD:e2.xo,RAF:e2.EB,RAW:e2.Kz,SKETCH:e2.jG,SVG:e2.gY,TGA:e2._9,AVIF:e2.av0,TIFF:e2.ul,VTF:e2.h1,WEBP:e2.xV,WMF:e2.nr,XCF:e2.CU,XD:e2.nv,EXE:e2.Xp,AI:e2.hW,AFPHOTO:e2.dJ,MP4:e2.acP};
return m[Z.toUpperCase()]};e2.Yi=function(q){var Z=e2.rI.a2v,m=e2.rI.a74,S,B=[];if(q==null)S=Z.concat(m);
else S=q==0?Z:m;for(var q=0;q<S.length;q++)if(e2.Vh(S[q]).md)B.push(S[q]);return B};e2.ajl=function(){var Z;
function m(B){var C=B.target,u=C.width,r=C.height,k=document.createElement("canvas");k.width=u;k.height=r;
var v=k.getContext("2d");v.drawImage(C,0,0);Z({cR:new bq(0,0,u,r),data:v.getImageData(0,0,u,r).data.buffer})}function S(B,C,u){Z=u;
var r=document.createElement("img");r.onload=m;r.src="data:"+C+";base64,"+e2.lK(B)}return S}();e2.i4=function(Z,m,S,B,C){var u=e2.G8(Z,m,S,B,C),r=e2.DS(u);
return r.buffer};e2.DS=function(Z){var m=atob(Z.split(",").pop()),S=new Uint8Array(m.length);for(var q=0;
q<m.length;q++)S[q]=m.charCodeAt(q);return S};e2.G8=function(Z,m,S,B,C,u){if(!(Z instanceof ArrayBuffer))throw"e";
if(B==null)B="png";if(B=="png"&&u==!0){var r=e2.Vh("PNG").md([[Z,0]],m,S);return"data:image/png;base64,"+e2.lK(r)}var k=e2.hH;
if(k==null)k=e2.hH=document.createElement("canvas");if(k.width!=m||k.height!=S){k.width=m;k.height=S}var v=k.getContext("2d"),e=new ImageData(new Uint8ClampedArray(Z,0,m*S*4),m,S);
v.putImageData(e,0,0);return k.toDataURL("image/"+B,C)};e2.auD=function(Z,m,S,B,C){if(C==null)C=0;var u="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",r="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+u+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(Z==1)r+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
r+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+C+")\" xlink:href=\""+m+"\" x=\""+80*S+"\" y=\""+80*B+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var k=new Uint8Array(r.length);x.Xv(r,k,0);var v="data:image/svg+xml;base64,"+e2.lK(k.buffer);return{dk:v,pe:new bq(0,0,128,128),n3:new aS(64,64)}};
e2.lK=function(Z){var m=new Uint8Array(Z),S="";for(var q=0;q<m.length;q++)S+=String.fromCharCode(m[q]);
return btoa(S)};e2.alo=function(Z){var m=atob(Z),S=m.length,B=new Uint8Array(S);for(var q=0;q<S;q++)B[q]=m.charCodeAt(q);
return B.buffer};e2.gt=function(Z){var m=[],S=[];for(var q=0;q<Z.g.length;q++){var B=Z.g[q];if(B.getName().slice(0,3)=="_a_"){m.push(q);
S.push(B.tm())}}return[m,S]};e2.$c=function(Z,m,S,B,C,u){if(S==null)S=Z.e;if(B==null)B=Z.n;var r=new bq(0,0,Z.e,Z.n),k=new ht(S/(Z.e+.001),0,0,B/(Z.n+.001),0,0),e;
m=m.toUpperCase();var v=e2.Vh(m);if(v.iA){Z.Jy();e=v.md(Z,S,B,C,u)}else{if(C)C=C.slice(0);var j=e2.gt(Z),$=j[0],U=j[1],H=Z.$G(),z=H&&C?C.pop():!1,f=H&&!z?H[0]:null,D=null;
if(Z.Xz.length!=0){D=[];for(var q=0;q<Z.Xz.length;q++)D.push(Z.Xz[q].fR(r))}if($.length<2){var n=e2.Ir(Z.Jy(),H,z),L;
if(S==Z.e&&B==Z.n)L=n.buffer;else{var a=g.Q.zr([n,r],k);L=a.buffer.buffer;if(D){var F=l.U(r.Z()*4);for(var q=0;
q<D.length;q++){l.cN(D[q],F,3);var a=g.Q.zr([F,r],k),A=D[q]=l.U(a.rect.Z());l.NK(a.buffer,A,3)}}}e=v.md([[L,0,Z.wd,Z.d_,D,f]],S,B,C)}else{var T=[];
for(var q=0;q<$.length;q++){var P=$[q],L;for(var Y=0;Y<$.length;Y++)Z.g[$[Y]].p0($[Y]==P);Z.fa();Z.G();
Z.dK();if(S==Z.e&&B==Z.n)L=Z.Jy().buffer.slice(0);else{var a=g.Q.zr([Z.Jy(),r],k);L=a.buffer.buffer}L=e2.Ir(new Uint8Array(L),H,z).buffer;
var Q=Z.g[P].getName().split(",");T.push([L,Q[1]?parseInt(Q[1]):100,Z.wd,Z.d_,D,f])}for(var q=0;q<$.length;
q++)Z.g[$[q]].p0(U[q]);Z.G();Z.dK();if(C){var o=C.length,I=C[o-2],c=C[o-1],y=C[o-4]/100;if(y!=1)for(var q=0;
q<T.length;q++)T[q][1]=Math.round((T[q][1]==0?16:T[q][1])/y);if(I)T.reverse();if(c){var i=T.slice(1,T.length-1);
i.reverse();T=T.concat(i)}}e=v.md(T,S,B,C)}}return e};e2.Ir=function(Z,m,S){if(S){Z=Z.slice(0);ICC.U.applyLUT(m[3],m[2],Z,Z)}return Z};
e2.h9=function(Z,m){var S=m[0].yw&&m[0].yw.startsWith("_a_"),B,C=new fl(Z+".psd"),u=new bq(0,0,1,1);
if(S){B=C.AB();B.add.lsct=jf.AH;B.Se(Z);B.E4="pass";B.Kl=24;B.p0(!0);C.g.push(C.iI())}for(var q=0;q<m.length;
q++){var r=m[q];u=u.j3(r.cR);var k=C.AB();k.p0(q==0);k.Se(m.length==1?"Background":"Layer "+q);if(q==0&&r.wd)C.wd=r.wd;
if(q==0&&r.d_)C.d_=r.d_;if(r.yw)k.Se(r.yw);if(r.M$)for(var q=0;q<r.M$.length;q++){var v=r.M$[q],e=fl.YE(v[0]);
e.add.vmsk.u=v[1];l.q.uA(v[1],new ht(u.e,0,0,u.n,0,0));C.px.push(e)}k.rect=r.cR.clone();k.buffer=new Uint8Array(r.data);
if(q==0&&r.BC)C.Ur(r.BC);l.LG(k);C.g.push(k)}if(S)C.g.push(B);if(m[0].Xz){for(var q=0;q<m[0].Xz.length;
q++){var j=new w.Ga;C.Xz.push(j);j.rect=m[0].cR.clone();j.channel=m[0].Xz[q]}}C._=[S?C.g.length-1:0];
C.e=u.e;C.n=u.n;C.buffer=l.U(u.Z()*4);C.G();return C};e2.s_={};e2.s_.md=function(Z,m,S,B){if(B==null)B=[100,!1,0,0,0];
var C={sRGB:1,loop:B[3]};if(Z[0][5]!=null){delete C.sRGB;C.iCCP=Z[0][5]}if(Z[0][2]!=null){var u=Math.round(Z[0][2]*(1e4/254));
C.pHYs=[u,u,1]}var r=B[0],k=r==100?0:Math.max(2,Math.floor(r*5));if(k==5)k=4;var v=[],e=[];for(var q=0;
q<Z.length;q++){v.push(Z[q][0]);e.push(Z[q][1])}var j=UPNG.encode(v,m,S,k,e,C,B[1]);return j};e2.s_.a6W=function(Z,m,S){return UPNG.encodeLL([Z],m,S,3,1,8)};
e2.s_.af=function(Z){var m=Date.now(),S=UPNG.decode(Z),B=UPNG.toRGBA8(S),C=S.width,u=S.height,r=0,k=S.tabs.iCCP;
if(S.tabs.pHYs)r=Math.round(S.tabs.pHYs[0]*254/1e4);if(B.length==1)return[{cR:new bq(0,0,C,u),data:B[0],wd:r,BC:k}];
var v=[];for(var q=0;q<B.length;q++){v.push({yw:"_a_frm"+q+","+S.frames[q].delay,cR:new bq(0,0,C,u),data:B[q],wd:r,BC:k})}return v};
e2.nz={};e2.nz.md=function(Z,m,S,B){var C=new Uint8Array(Z[0][0]),u=m*S,r=u*3,k="P6\n"+m+" "+S+"\n255\n",v=k.length,e=l.U(v+r,!0);
for(var q=0;q<v;q++)e[q]=k.charCodeAt(q);for(var q=0;q<u;q++){var j=q*4,$=q*3+v;e[$]=C[j];e[$+1]=C[j+1];
e[$+2]=C[j+2]}return e.buffer};e2.nz.af=function(Z){Z=new Uint8Array(Z);var m=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],S=0,B=String.fromCharCode(Z[0])+String.fromCharCode(Z[1]),C=[],u=0,r=B=="P1"||B=="P4"?2:3;
for(S=2;S<Z.length;S++){var k=Z[S],v=String.fromCharCode(k);if(k=="#".charCodeAt(0)){while(Z[S]!="\n".charCodeAt(0))S++;
continue}var e=m.indexOf(k)!=-1;if(u==0&&!e){C.push(v);u=1;continue}if(u==1&&!e){C[C.length-1]+=v;continue}if(u==1&&e){u=0;
if(C.length==r)break;continue}}var j=parseInt(C[0]),$=parseInt(C[1]),U=j*$*4,H=B=="P1"||B=="P4"?1:255/parseInt(C[2]),z=l.U(U);
if(B=="P1"||B=="P2"||B=="P3"){var f="",D=0,u=0,n="#".charCodeAt(0);for(var q=S;q<Z.length;q++){var k=Z[q],v=String.fromCharCode(k),e=m.indexOf(k)!=-1;
if(k==n){while(Z[q]!="\n".charCodeAt(0))q++}else if(u==0&&!e){f=v;u=1}else if(u==1){if(e){u=0;var L=parseInt(f);
f="";if(B=="P1"){z[D]=z[D+1]=z[D+2]=(1-L)*255;z[D+3]=255;D+=4}if(B=="P2"){z[D]=z[D+1]=z[D+2]=Math.round(L*H);
z[D+3]=255;D+=4}if(B=="P3"){z[D]=Math.round(L*H);D++;if((D&3)==3){z[D]=255;D++}}}else f+=v}}}var a=j*$;
if(B=="P4")for(var F=0;F<$;F++){var A=F*8*Math.ceil(j/8);for(var T=0;T<j;T++){var q=A+T,P=Z[S+1+(q>>3)];
P=P>>7-(q&7)&1;var Y=F*j+T<<2;z[Y]=z[Y+1]=z[Y+2]=(1-P)*255;z[Y+3]=255}}if(B=="P5")for(var q=0;q<a;q++){var Y=4*q;
z[Y]=z[Y+1]=z[Y+2]=Math.round(Z[S+1+q]*H);z[Y+3]=255}if(B=="P6")for(var q=0;q<a;q++){var Y=4*q,Q=S+1+3*q;
z[Y]=Math.round(Z[Q]*H);z[Y+1]=Math.round(Z[Q+1]*H);z[Y+2]=Math.round(Z[Q+2]*H);z[Y+3]=255}return[{cR:new bq(0,0,j,$),data:z.buffer}]};
e2.EG={};e2.EG.md=function(Z,m,S,B){if(B==null)B=[!0,!0];var C=new Uint8Array(Z[0][0]),u=m&3,r=S&3;if(u!=0||r!=0){var k=m+(u==0?0:4-u),v=S+(r==0?0:4-r),e=new Uint8Array(k*v*4);
l._z(e,4278190080);l.pY(C,new bq(0,0,m,S),e,new bq(0,0,k,v));C=e;m=k;S=v}var j=UTEX.DDS.encode(C.buffer,m,S,B);
if(!1){var $=UTEX.DDS.decode(j)[0],e=new Uint8Array($.BK),U=0;for(var q=0;q<C.length;q++){var H=C[q]-e[q];
U+=H*H}console.log(U)}return j};e2.EG.af=function(Z){var m=UTEX.DDS.decode(Z)[0];return[{cR:new bq(0,0,m.width,m.height),data:m.image}]};
e2.h1={};e2.h1.af=function(Z){var m=UTEX.VTF.decode(Z).pop();return[{cR:new bq(0,0,m.width,m.height),data:m.image}]};
e2.g_={};e2.g_.uF=null;e2.g_.ak5=function(Z,m){var S=e2.g_.uF,B=Z.byteLength,C=m.width,u=m.height,r=C*u,k=5e6+2*B+r*(m.progressive?Math.max(2,m.numComponents)*4+1:8),v=S.instance.exports;
e2.cW(v,k);var e=new Uint8Array(v.memory.buffer),j=v.malloc(B);e.set(new Uint8Array(Z),j);var $=v.malloc(4),U=v.malloc(4),gY=v.malloc(4),H=v.stbi_load_from_memory(j,B,$,U,gY,4);
v.free(j);v.free($,U,gY);v.free(H);var z=e.slice(H,H+r*4);return z};(function(){var Z=e2.wP.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old. Please, update it.");WebAssembly.instantiate(Z).then(function(m){e2.g_.uF=m})}());
e2.g_.md=function(Z,m,S,B){if(B==null)B=[70];var C=Z[0],u=new Uint8Array(C[0]);if(l.Bl(u)){var r=new Uint8Array(u.length),k=new bq(0,0,m,S);
l._z(r,4294967295);l.a.qn("norm",u,k,r,k,k,1);u=r}var v=new Uint8Array(e2.i4(u.buffer,m,S,"jpeg",B[0]/100));
if(C[5]!=null){var e=e2.g_.am(v)[226][0]+2,j=x.zO(v,e),$=C[5].length+16,U=$-j,H=new Uint8Array(v.length+U);
for(var q=0;q<e+j;q++)H[q]=v[q];for(var q=e+j;q<v.length;q++)H[q+U]=v[q];x.p6(H,e,$);H.set(C[5],e+16);
v=H}if(C[2]!=null){var z=e2.g_.am(v)[224][0]+2;z+=9;v[z]=1;x.p6(v,z+1,C[2]);x.p6(v,z+3,C[2])}if(C[3]!=null&&B[1]==!0&&Object.keys(C[3]).length!=0){var f=0,D=0,n=0,L=i2.YQ(C[3]),a=new Uint8Array(UTIF.encode([L])),F="http://ns.adobe.com/xap/1.0/",e=20;
f=4+6+a.length;var A=i2.atE(C[3]),T=x.P8(A);D=4+F.length+1+T.length;var P=i2.auf(C[3]);if(P.length!=0){var Y=0,I=0;
for(var q=0;q<P.length;q++)Y+=5+P[q][1].length;var Q=Y+(Y&1),o=l.U(14+4+2+4+Q);x.XI(o,I,"Photoshop 3.0");
I+=14;x.XI(o,I,"8BIM");I+=4;o[I++]=4;o[I++]=4;I+=2;x.PV(o,I,Y);I+=4;for(var q=0;q<P.length;q++){var c=P[q],y=c[1];
o[I++]=28;o[I++]=2;o[I++]=c[0];x.p6(o,I,y.length);I+=2;x.XI(o,I,y);I+=y.length}n=4+o.length}var i=f+D+n,d=new Uint8Array(v.length+i);
for(var q=0;q<20;q++)d[q]=v[q];for(var q=20;q<v.length;q++)d[q+i]=v[q];d[e]=255;d[e+1]=225;x.p6(d,e+2,f-2);
x.XI(d,e+4,"Exif");for(var q=0;q<a.length;q++)d[e+10+q]=a[q];e+=f;d[e]=255;d[e+1]=225;x.p6(d,e+2,D-2);
x.XI(d,e+4,F);for(var q=0;q<T.length;q++)d[e+4+F.length+1+q]=T[q];e+=D;if(n!=0){d[e]=255;d[e+1]=237;
x.p6(d,e+2,n-2);for(var q=0;q<o.length;q++)d[e+4+q]=o[q];e+=n}v=d}return v.buffer};e2.g_.am=function(Z){var m=0,S=[],B=Z.length;
while(m<B){while(Z[m]!=255&&m<B)m++;while(Z[m]==255)m++;var C=Z[m];m++;if(S[C]==null)S[C]=[];S[C].push(m-2);
if(C==216)continue;if(C==217)break;if(224<=C&&C<=239||C==218||C==219||C==192||C==193||C==194||C==196||C==221||C==254){var u=x.zO(Z,m);
m+=u;if(C==218)while(m<B&&(Z[m]!=255||(Z[m+1]==0||208<=Z[m+1]&&Z[m+1]<=215)))m++;continue}console.log("unknown marker ",C.toString(16),m);
break}if(S[217]==null){console.log("EOI marker missing");var r=Z.length-2;Z[r]=255;Z[r+1]=217;S[217]=[r]}return S};
e2.g_.a9e=function(Z){Z=new Uint8Array(Z);if(Z[0]!=255)return Z.buffer;var m=e2.g_.am(Z),S=e2.g_.fp(Z,m);
if(S.numComponents!=4)return Z.buffer;var B=S.width,C=S.height,u=e2.g_.tE(Z,m,!0);return e2.g_.md([[u[0].data]],B,C,[85])};
e2.g_.fp=function(Z,m){var S=(m[192]?m[192]:m[193]?m[193]:m[194])[0]+4,B={};B.progressive=m[194]!=null;
B.precision=Z[S];S++;B.height=x.zO(Z,S);S+=2;B.width=x.zO(Z,S);S+=2;B.numComponents=Z[S];S++;if(m[224]){var C=B.jfif={};
S=m[224][0]+2+2+5+2;C.densityUnits=Z[S];S++;C.xDensity=x.zO(Z,S);S+=2;C.yDensity=x.zO(Z,S);S+=2}if(m[238]){var C=B.adobe={};
S=m[238][0]+2+2+6;C.version=Z[S];S++;C.flags0=x.zO(Z,S);S+=2;C.flags1=x.zO(Z,S);S+=2;C.transform=Z[S];
S++}return B};e2.g_.a7E=function(Z,m,S){var B=m,C=x.zO(Z,B);B+=2;var u=x.aD(Z,B,4);if(u=="Exif"){B+=6;
var r=Z.slice(B,B+C-8),k;try{k=UTIF.decode(r.buffer,{parseMN:!1,debug:!1})}catch(iD){}if(k)S.exif=k}else if(u=="http"){var v=0;
while(Z[B+v]!=0)v++;var e=x.aD(Z,B,v);B+=v+1;if(e=="http://ns.adobe.com/xmp/extension/"){var j=x.aD(Z,B,32);
B+=32;B+=8;var $=m+C-B;while(Z[B+$-1]==0)$--;if(S.xmp_extn==null)S.xmp_extn="";try{S.xmp_extn+=x.QN(Z,B,$)}catch(iD){}}else if(e=="http://ns.adobe.com/xap/1.0/"){var U=x.QN(Z.slice(B,B+C-v-3));
if(U[0]=="?")U="<"+U;S.xmp=U}}else console.log(u)};e2.g_.tE=function(Z,m,S){var B=e2.g_.fp(Z,m),C=B.width,u=B.height,r=C*u,k,v=-1,F=72,A,P;
if(B.adobe)v=B.adobe.transform;if(S||C*u>15e7||v==0||v==2){var e=new PDFJS.JpegImage;e.parse(Z);var j=e.getData({width:C,height:u,forceRGB:!0,isSourcePDF:S}),k=l.U(r*4);
for(var q=0;q<r;q++){var $=q<<2,U=$-q;k[$]=j[U];k[$+1]=j[U+1];k[$+2]=j[U+2];k[$+3]=255}}else{k=e2.g_.ak5(Z.buffer,B)}var H=m[225];
if(H)for(var q=0;q<H.length;q++)e2.g_.a7E(Z,H[q]+2,B);var z=m[226];if(z){var f=z[0],D=x.zO(Z,f+2),n=x.aD(Z,f+4,11);
if(n=="ICC_PROFILE"){var L=x.l(Z,f+18);B.icc=Z.slice(f+18,f+18+L)}}var a=m[217][0]+2;if(a!=Z.length)B.suffix=Z.slice(a);
var T=[C,u,1,0,0,0,1,0];if(B.jfif&&B.jfif.densityUnits!=0){F=Math.round([72,1,2.54][B.jfif.densityUnits]*B.jfif.xDensity)}else if(B.exif&&B.exif[0].t282!=null){var Y=B.exif[0].t282[0];
F=Y[0]/Y[1]}if(B.exif){var Q=B.exif;A=i2.EW(Q[0]);var o=Q[0].t274;if(o)o=o[0];if(o!=null&&o>1&&o<20)T=l.raw.RB(o,C,u)}if(B.xmp){A=i2.a9x(B.xmp,A)}if(B.icc)P=B.icc;
var I=m[237],c=[],y=[];if(I){var i=new Uint8Array(65536),d=0,f=0;for(var q=0;q<I.length;q++){f=I[q]+2;
var V=f+x.zO(Z,f);f+=2;var R=f;while(Z[f]!=0)f++;f++;var G=x.aD(Z,R,f-R-1),M=V-f;while(d+M>i.length){var O=new Uint8Array(i.length*2);
O.set(i);i=O}var K=new Uint8Array(Z.buffer,f,M);i.set(K,d);d+=M}f=0;Z=i;while(f<d){var W=x.aD(Z,f,4);
f+=4;var t=x.zO(Z,f);f+=2;var X=Z[f++],h=x.aD(Z,f,X);f+=X;if((X&1)==0)f++;var D=x.l(Z,f);f+=4;var a=f+D+(D&1);
if(t==1028){while(f+4<a){var b=Z[f++],E=Z[f++],f0=Z[f++],ay=x.zO(Z,f);f+=2;if(b==28&&E==2)c.push([f0,x.aD(Z,f,ay)]);
f+=ay}}else if((t&2e3)==2e3){var p=go.J8(Z,f,D);y.push([h,p])}else{}f=a}if(c.length!=0)A=i2.a1V(c,A)}var eo=[{cR:new bq(0,0,C,u),data:k.buffer,wd:F,d_:A,BC:P,M$:y.length==0?null:y}],A=B.xmp_extn;
if(A){var co=new DOMParser,c5=co.parseFromString(A,"image/svg+xml"),c5=c5.children[0].children[0].children[0],he=[c5.getAttribute("GImage:Data"),c5.getAttribute("GDepth:Data")];
for(var q=0;q<he.length;q++)if(he[q]){var hU=atob(he[q]),aB=new Uint8Array(hU.length);x.XI(aB,0,hU);
aB=aB.buffer;var ep=e2.SL(aB),aO=e2.Vh(ep).af(aB);eo.push(aO[0])}}if(B.suffix){var f$=B.suffix,fo=x.aD(f$,4,4),bb=x.Ok(f$,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(e2.OS(f$,[0,0,1,10,14,0,0,0])){var f=0;while(f!=f$.length){var jl=x.Nz(f$,f+2);f+=4;var e0={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[jl];
if(e0!=null){var gI=x.zs(f$,f);f+=4;var d4=x.aD(f$,f,gI);f+=gI;var ab=x.aD(f$,f,e0);f+=e0;if(jl==2608){var c3=x.l(f$,f+24);
f+=c3+24;var gr=x.l(f$,f);f+=gr;alert("Photopea found a "+ah.Ij(c3)+" MP4 video inside your image.",4e3)}}else if(jl==18502){while(x.aD(f$,f,4)!="SEFT")f+=4;
f+=4}else{break;console.log(x.a0(f$,f,128));console.log(f$.slice(f));throw jl.toString(16)}}}else if(fo=="ftyp"){alert("Photopea found a "+ah.Ij(f$.length)+" MP4 video inside your image.",4e3)}else if(x.aD(f$,0,4)=="fixe"){alert("Unknown data - "+f$.length+" B - at the end of the file",3e3);
var f=4,D=x.zs(f$,f);f+=4;var a2=x.zs(f$,f);f+=4;var aL=x.zs(f$,f);f+=4;console.log(D,a2,aL,f$.slice(f,f+84));
f+=84;var el=x.aD(f$,f,32);f+=32;f+=8;var el=x.aD(f$,f,32);f+=32}else if(x.aD(f$,8,13)=="FocusShot_Map"){var iJ=x.l(f$,0),ay=x.zs(f$,4),aB=l.U(r*4),aC=l.U(r*4);
for(var cr=0;cr<u;cr++)for(var bN=0;bN<C;bN++){var q=cr*C+bN,$=q<<2,hf=8+13+((cr>>>1)*C+bN>>>1),cV=f$[hf],ez=f$[hf+(r>>>2)];
aB[$]=aB[$+1]=aB[$+2]=cV;aB[$+3]=255;aC[$]=aC[$+1]=aC[$+2]=ez;aC[$+3]=255}eo.push({cR:new bq(0,0,C,u),data:aB.buffer},{cR:new bq(0,0,C,u),data:aC.buffer})}else if(fo=="edof"){var o=f$[8+7];
console.log(o.toString(16));var f=8+16,jG=x.Nz(f$,f),jw=x.Nz(f$,f+2),r=jG*jw;f+=4;f+=32+16;var dw=l.U(r*4);
for(var q=0;q<r;q++){var $=q<<2;dw[$]=dw[$+1]=dw[$+2]=f$[f+q];dw[$+3]=255}if(o==16){}else if(o==19){var cb=dw.slice(0);
l.N.O5(dw,cb,jG,jw);var cz=jG;jG=jw;jw=cz;l.N.WF(cb,dw,jG,jw)}else throw"Unknown orientation of a depth map";
eo.push({cR:new bq(0,0,jG,jw),data:dw.buffer})}else if(bb!=-1&&!(f$[0]==255&&f$[1]==129)){try{if(bb!=0)f$=f$.slice(bb);
var aO=e2.Vh("jpg").af(f$.buffer);for(var q=0;q<aO.length;q++)eo.push(aO[q])}catch(iD){}}else if(x.aD(f$,0,4)=="PMPD"){var f=4,jq=x.zs(f$,12),dU=x.zs(f$,16),jG=x.zs(f$,1060),jw=x.zs(f$,1064),ge=jG>jw,al=eo[0].cR.e>eo[0].cR.n,a_=f$.slice(f$.length-jG*jw-4),hc=l.U(jG*jw);
for(var cr=0;cr<jw;cr++)for(var bN=0;bN<jG;bN++)hc[cr*jG+bN]=a_[(jw-cr-1)*jG+bN];var g7=l.U(jG*jw*4);
g7.fill(255);l.Dc(hc,g7);if(ge!=al){var cb=g7.slice(0);l.N.O5(g7,cb,jG,jw);var cz=jG;jG=jw;jw=cz;l.N.WF(cb,g7,jG,jw)}eo.push({cR:new bq(0,0,jG,jw),data:g7.buffer})}else console.log(x.aD(f$,0,4),f$)}if(eo.length>1){var b4=eo[0].cR;
eo[0].yw="Main";for(var q=1;q<eo.length;q++){eo[q].yw=e2.g_.a5r(new Uint8Array(eo[q].data))?"Depth Map":null;
var eC=eo[q].cR;if(!eC.Qu(b4)){var cN=b4.e/eC.e,i7=b4.n/eC.n,gC=new ht;gC.scale(cN,i7);var h7=g.Q.tR([new Uint8Array(eo[q].data),eC],1,l.N.No(gC));
eo[q].cR=h7.rect;eo[q].data=h7.buffer}}}if(e2.g_.m3==1)if(T[2]!=1||T[6]!=1)for(var q=0;q<eo.length;q++){var iB=eo[q],hH=new Uint8Array(iB.data),C=iB.cR.e,u=iB.cR.n,jG=T[0],jw=T[1],k=l.U(jG*jw*4);
l.N.zN(hH,C,u,k,T);iB.cR=new bq(0,0,jG,jw);iB.data=k.buffer}return eo};e2.g_.a5r=function(Z){var m=!0;
for(var q=0;q<Z.length;q+=4){m=m&&Z[q]==Z[q+1]&&Z[q+1]==Z[q+2]}return m};e2.g_.m3=0;e2.g_.af=function(Z,m,S){Z=new Uint8Array(Z);
if(Z[0]==255){var B=e2.g_.am(Z);if(B[195]==null){e2.g_.m3++;var C=e2.g_.tE(Z,B,!1);e2.g_.m3--;return C}var u=x.zO(Z,B[195][0]+5),r=x.zO(Z,B[195][0]+7),k=UTIF.LosslessJpegDecode(Z),v=r*u,e=l.U(v*4);
for(var q=0;q<v;q++){var j=q<<2,$=j-q;e[j]=k[$];e[j+1]=k[$+1];e[j+2]=k[$+2];e[j+3]=255}return[{cR:new bq(0,0,r,u),data:e.buffer}]}else if(Z[0]==0&&Z[4]==48&&Z[6]==1){var U=Z,H=new PDFJS.Jbig2Image,z=[];
if(m)z.push({data:m,start:0,end:m.length});z.push({data:U,start:0,end:U.length});var k=H.parseChunks(z);
if(!S)for(var q=0;q<k.length;q++)k[q]=~k[q];var r=x.l(Z,11),u=x.l(Z,15),f=Math.ceil(r/8),D=l.U(r*u*4);
for(var n=0;n<u;n++){var L=n*f;for(var a=0;a<r;a++){var j=(n*r+a)*4,F=k[L+(a>>>3)]>>>7-(a&7)&1,A=F*255;
D[j]=A;D[j+1]=A;D[j+2]=A;D[j+3]=255}}return[{cR:new bq(0,0,r,u),data:D.buffer}]}else{var H=new PDFJS.JpxImage;
H.parse(Z);var r=H.width,u=H.height,T=H.tiles,P=H.componentsCount,Y=new Uint8Array(r*u*4),Q=new bq(0,0,r,u);
for(var H=0;H<T.length;H++){var o=T[H],I=o.width,c=o.height,y=I*c,i=o.items,d=new bq(o.left,o.top,I,c),V=new Uint8Array(y*4);
if(P==1)for(var q=0;q<y;q++){var R=i[q],j=q*4;V[j]=R;V[j+1]=R;V[j+2]=R;V[j+3]=255}else if(P==3)for(var q=0;
q<y;q++){var $=q*3,j=q*4;V[j]=i[$];V[j+1]=i[$+1];V[j+2]=i[$+2];V[j+3]=255}else console.log("Unknown number of components: "+P);
l.pY(V,d,Y,Q)}return[{cR:Q,data:Y.buffer}]}};e2.xV={};e2.xV.md=function(Z,m,S,B){if(B==null)B=[70,0,0,0];
var C=B[0]/100,v=0;if(Z.length==1)return e2.i4(Z[0][0],m,S,"webp",C);var u=x.zT,r=x.$_,k=new ew;u(k,v,"RIFF    WEBPVP8X");
v+=16;r(k,v,10);v+=4;r(k,v,18);v+=4;r(k,v,m-1);v+=3;r(k,v,S-1);v+=3;u(k,v,"ANIM");v+=4;r(k,v,6);v+=4;
k.Ad(v,4);k.data[v+3]=255;x.Z_(k,v+4,B[2]);v+=6;var e=[];for(var q=0;q<Z.length;q++){e.push(Z[q][0])}var j=UPNG.encode.compress(e,m,S,C==1?0:Math.max(2,Math.floor(C*500)),[!1,!0,!0,0,!0]).frames;
function $(Y,Q,o,I){var a=Y.r-8,F=Y.size+8;o.Ad(I,F);for(var q=0;q<F;q++)o.data[I+q]=Q[a+q];return I+F}for(var q=0;
q<Z.length;q++){u(k,v,"ANMF");v+=4;var U=v,a=0,F=0;v+=4;var H=j[q],z=H.rect,f=[z.x>>>1,z.y>>>1,z.width-1,z.height-1,Z[q][1]];
for(var D=0;D<5;D++)r(k,v+3*D,f[D]);v+=15;k.Ad(v,1);k.data[v]=1-H.blend<<1|H.dispose;v++;var n=new Uint8Array(e2.i4(H.img.buffer,z.width,z.height,"webp",1)),L=b7.FK(n.buffer).sub,A={};
for(var T=0;T<L.length;T++)A[L[T].Us]=L[T];if(A.VP8L)v=$(A.VP8L,n,k,v);else throw"e";var P=v-U-4;r(k,U,P);
if((P&1)==1){k.Ad(v,1);v++}}r(k,4,v-8);return k.data.slice(0,v).buffer};(function(){var Z=e2.wP.get("wasm/webp").buffer;
WebAssembly.instantiate(Z).then(function(m){var S=m.instance.exports;e2.xV.exp=S})}());e2.xV.af=function(Z){var m=new Uint8Array(Z),S=e2.xV.aoC,B=null,C=b7.FK(Z).sub,u={};
for(var q=0;q<C.length;q++)u[C[q].Us]=C[q];var r=u.ANIM,k=u.VP8L,v=u["VP8 "],e=u.VP8X;if(r==null){var j,$;
if(v){j=x.Nz(m,v.r+6);$=x.Nz(m,v.r+8)}else if(k){var U=x.zs(m,k.r+1);j=(U&(1<<14)-1)+1;$=(U>>>14&(1<<14)-1)+1}else throw"e";
var H=[S(B,Z,{r:0,size:m.length},j,$)];return H}var z=e.r,j=1+(x.zs(m,z+4)&16777215),$=1+(x.zs(m,z+7)&16777215),f=[],D=new bq(0,0,j,$),n=l.U(j*$*4);
for(var q=0;q<C.length;q++){var L=C[q];if(L.Us!="ANMF")continue;var a=[];for(var F=0;F<5;F++)a.push(x.zs(m,L.r+F*3)&16777215);
var A=new bq(a[0]*2,a[1]*2,a[2]+1,a[3]+1),T=a[4],P=S(B,Z,{r:L.r+16,size:L.size-16},j,$),Y=new Uint8Array(P.data),Q=m[L.r+15];
if(Q>>>1==0)l.a.qn("norm",Y,A,n,D,A,1);else l.pY(Y,A,n,D);f.push({yw:"_a_"+f.length+","+T,cR:D.clone(),data:n.buffer.slice(0)});
if((Q&1)==1){l._z(Y,0);l.pY(Y,A,n,D)}}return f};e2.xV.aoC=function(Z,m,S,B,C){var u=e2.xV.exp,r=u.memory,k=5e6+2*S.size+B*C*10;
e2.cW(u,k);var v=new Uint8Array(r.buffer),e=u.malloc(S.size);v.set(new Uint8Array(m,S.r,S.size),e);var j=u.malloc(8),$=u.WebPDecodeARGB(e,S.size,j,j+4),U=x.zs(v,j),H=x.zs(v,j+4),z=U*H*4,f=l.U(z);
for(var q=0;q<z;q+=4){f[q]=v[$+q+1];f[q+1]=v[$+q+2];f[q+2]=v[$+q+3];f[q+3]=v[$+q]}u.WebPFree($);u.free(j);
u.free(e);return{cR:new bq(0,0,U,H),data:f.buffer}};e2.adH=function(){function Z(k,v,e,j){var $=new Uint8Array(k[0][0]),U=new Uint32Array($.buffer),H=[],z={},D=24,n=0,T=0;
for(var q=0;q<U.length;q++){var f=U[q]&16777215;if(z[f]==null){z[f]=H.length;H.push(f);if(H.length>256){H=null;
break}}}if(H){D=1;while(1<<D<H.length)D*=2;if(D==2)D=4}var L={OU:v,Vi:e,m4:1,ae:D,kB:0,apu:n},a=4*Math.floor((L.ae*L.OU+31)/32);
L.size=a*L.Vi+2;var F=new ew,A=H?(1<<D)*4:0;x.zT(F,T,"BM");T+=2;x.$_(F,T,a*e+16+40+A);T+=4;x.$_(F,T,0);
T+=4;x.$_(F,T,54+A);T+=4;F.Ad(T,40);x.$_(F,T,40);T+=4;r(F.data,T,L,a);T+=36;if(H){F.Ad(T,A);var P=F.data;
for(var q=0;q<H.length;q++){var Y=T+q*4,Q=H[q]>>>16,o=H[q]>>>8&255,I=H[q]&255;P[Y]=Q;P[Y+1]=o;P[Y+2]=I}T+=A}F.Ad(T,a*e);
if(D==24)for(var c=0;c<e;c++){var y=T+(e-1-c)*a;for(var i=0;i<v;i++){var d=(c*v+i)*4;F.data[y+i*3+2]=$[d];
F.data[y+i*3+1]=$[d+1];F.data[y+i*3+0]=$[d+2]}}else if(D==8)for(var c=0;c<e;c++){var y=T+(e-1-c)*a;for(var i=0;
i<v;i++){var d=c*v+i,V=z[U[d]&16777215];F.data[y+i]|=V}}else if(D==4)for(var c=0;c<e;c++){var y=T+(e-1-c)*a;
for(var i=0;i<v;i++){var d=c*v+i,V=z[U[d]&16777215];F.data[y+(i>>>1)]|=V<<4-(i&1)*4}}else if(D==1)for(var c=0;
c<e;c++){var y=T+(e-1-c)*a;for(var i=0;i<v;i++){var d=c*v+i,V=z[U[d]&16777215];F.data[y+(i>>>3)]|=V<<7-(i&7)}}T+=a*e+2;
return F.data.slice(0,T).buffer}function m(k){k=new Uint8Array(k);if(x.zs(k,0)==40)return[S(k.buffer,0)];
var v=0,e=x.aD(k,v,2);v+=2;if(e!="BM"){alert("Unsupported BMP format: "+e);return}var j=x.zs(k,v);v+=4;
v+=4;var $=x.zs(k,v);v+=4;return[S(k.buffer,v,$)]}function S(k,v,e){k=new Uint8Array(k);var j=x.zs(k,v),$=u(k,v+4);
if($.m4!=1)alert("unsupported number of color planes: "+$.m4);if($.kB!=0&&$.kB!=1&&$.kB!=2&&$.kB!=3){alert("Unsupported BMP compression: "+$.kB);
return}v+=j;var U=v,H=k;if(e==null)e=v;if($.kB==1||$.kB==2){var z=C(k,e,$);$.ae=8;k=z;e=0}var f=4*Math.floor(($.ae*$.OU+31)/32),D=$.OU,n=Math.abs($.Vi),L=new Uint8Array(D*n*4);
L.fill(255);if($.ae==32)for(var a=0;a<n;a++){var F=e+(n-1-a)*f;for(var A=0;A<D;A++){var T=(a*D+A)*4;
L[T]=k[F+A*4+2];L[T+1]=k[F+A*4+1];L[T+2]=k[F+A*4+0];L[T+3]=k[F+A*4+3]}}else if($.ae==24)for(var a=0;
a<n;a++){var F=e+(n-1-a)*f;for(var A=0;A<D;A++){var T=(a*D+A)*4;L[T]=k[F+A*3+2];L[T+1]=k[F+A*3+1];L[T+2]=k[F+A*3+0]}}else if($.ae==16)for(var a=0;
a<n;a++){var F=e+(n-1-a)*f;for(var A=0;A<D;A++){var T=(a*D+A)*4,P=k[F+A*2+1]<<8|k[F+A*2];L[T]=(P>>>11)*(255/31);
L[T+1]=(P>>>5&63)*(255/63);L[T+2]=(P&31)*(255/31)}}else if($.ae==8)for(var a=0;a<n;a++){var F=e+(n-1-a)*f;
for(var A=0;A<D;A++){var T=(a*D+A)*4,Y=k[F+A];L[T]=H[U+4*Y+2];L[T+1]=H[U+4*Y+1];L[T+2]=H[U+4*Y+0]}}else if($.ae==4)for(var a=0;
a<n;a++){var F=e+(n-1-a)*f;for(var A=0;A<D;A++){var T=(a*D+A)*4,Y=k[F+(A>>1)];Y=Y>>4-4*(A&1);Y=Y&15;
L[T]=H[U+4*Y+2];L[T+1]=H[U+4*Y+1];L[T+2]=H[U+4*Y+0]}}else if($.ae==1)for(var a=0;a<n;a++){var F=e+(n-1-a)*f;
for(var A=0;A<D;A++){var T=(a*D+A)*4,Q=k[F+(A>>3)];Q=Q>>7-(A&7);Q=Q&1;L[T]=H[U+4*Q+2];L[T+1]=H[U+4*Q+1];
L[T+2]=H[U+4*Q+0]}}else throw"Unknown bit depth "+$.ae;if($.Vi<0){var o=new Uint32Array(L.buffer),I=n>>>1;
for(var a=0;a<I;a++){var c=a*D,y=(n-a-1)*D;for(var A=0;A<D;A++){var i=o[c+A];o[c+A]=o[y+A];o[y+A]=i}}}return{cR:new bq(0,0,D,n),data:L.buffer}}function B(k,q){return k>>>4-((q&1)<<2)&15}function C(k,v,e){var j=e.OU,$=Math.abs(e.Vi),U=new Uint8Array(j*$),H=0,z=0,q=0;
while(z<$){var f=k[v++],D=k[v++],n=z*j+H;if(f>0){if(e.ae==4)for(q=0;q<f;q++){U[n+q]=B(D,q)}else for(q=0;
q<f;q++){U[n+q]=D}H+=f}else if(f==0&&D==0){z++;H=0}else if(f==0&&D==1){break}else if(f==0&&D==2){H+=k[v++];
z+=k[v++]}else{var L=D;if(e.ae==4){for(q=0;q<D;q++){U[n+q]=B(k[v+(q>>>1)],q)}L=Math.ceil(D/2)}else{for(q=0;
q<D;q++){U[n+q]=k[v+q]}}if((L&1)!=0)L++;v+=L;H+=D}}return U}function u(k,v){var e=x.ET,j=x.zs,$=x.Nz,U={};
U.OU=e(k,v);v+=4;U.Vi=e(k,v);v+=4;U.m4=$(k,v);v+=2;U.ae=$(k,v);v+=2;U.kB=j(k,v);v+=4;U.size=j(k,v);v+=4;
var H=e(k,v);v+=4;var z=e(k,v);v+=4;U.apu=j(k,v);v+=4;v+=4;return U}function r(k,v,e,j){x.S9(k,v,e.OU);
v+=4;x.S9(k,v,e.Vi);v+=4;x.Bv(k,v,e.m4);v+=2;x.Bv(k,v,e.ae);v+=2;x.S9(k,v,e.kB);v+=4;x.S9(k,v,e.size);
v+=4;x.S9(k,v,2834);v+=4;x.S9(k,v,2834);v+=4;x.S9(k,v,e.apu);v+=4;v+=4}return{af:m,md:Z,a7q:S}}();e2.OI={};
e2.OI.md=function(Z,m,S,B){if(B==null)B=[100,!1,0,0,0,0];var C=[],u=[],r=m*S*4,f=null;for(var k=0;k<Z.length;
k++){var v=new Uint8Array(Z[k][0].slice(0));for(var q=0;q<r;q+=4){var e=v[q+3]=v[q+3]>127?255:0;if(e==0)v[q]=v[q+1]=v[q+2]=0}C.push(v.buffer);
u.push(Z[k][1])}var j=Math.round(2+254*B[0]/100),$=UPNG.encode.compress(C,m,S,j,[!0,!1,!1,8,!1,B[1]]),U=$.plte,H=new Uint8Array(4),z=new Uint32Array(H.buffer);
for(var q=0;q<U.length;q++){z[0]=U[q];var D=H[0];H[0]=H[2];H[2]=D;U[q]=z[0];if(z[0]==0)f=q}while(U.length<256)U.push(0);
var n=new Uint8Array(2e3+m*S*Z.length),L=B[3],a={palette:U};if(L!=1)a.loop=L==0?0:L-1;var F=new GifWriter(n,m,S,a);
for(var q=0;q<Z.length;q++){var A=$.frames[q],T=A.rect,P=A.blend,Y=A.dispose,Q=Math.round(u[q]/10);if(Q<2)Q=2;
F.addFrame(T.x,T.y,T.width,T.height,A.img,{transparent:f,disposal:Y+1,delay:Q})}return n.slice(0,F.end()).buffer};
e2.OI.af=function(Z){var m=Date.now(),S=[],B=UGIF.decode(Z),C=UGIF.toRGBA8(B),u=new bq(0,0,B.width,B.height);
for(var q=0;q<C.length;q++){var r=B.frames[q];S.push({cR:u.clone(),yw:"_a_frm"+q+","+r.delay*10,data:C[q]})}return S};
e2.$j={};e2.$j.md=function(Z,m,S,B){console.log(Z);if(m>256||S>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var C=Math.min(m,256),u=Math.min(S,256),r=new bq(0,0,C,u),k=l.U(r.Z()*4),v=new bq(0,0,m,S),e=new Uint8Array(Z[0][0]);
l.pY(e,v,k,r);Z[0][0]=k.buffer;m=C;S=u}var j=new ew,$=0,U=B&&B[0]==!0;x.Z_(j,$,0);$+=2;x.Z_(j,$,U?2:1);
$+=2;x.Z_(j,$,1);$+=2;var H=new Uint8Array(e2.Vh("png").md(Z,m,S));j.Ad($,16);j.data[$]=m==256?0:m;$++;
j.data[$]=S==256?0:S;$++;$+=2;x.Z_(j,$,U?Math.round(m/2):1);$+=2;x.Z_(j,$,U?Math.round(S/2):32);$+=2;
x.$_(j,$,H.length);$+=4;x.$_(j,$,6+16);$+=4;j.Ad($,H.length);for(var q=0;q<H.length;q++)j.data[$+q]=H[q];
$+=H.length;var z=new Uint8Array($);for(var q=0;q<$;q++)z[q]=j.data[q];return z.buffer};e2.$j.af=function(Z){Z=new Uint8Array(Z);
var m=4,S=x.Nz(Z,m);m+=2;var B=[];for(var q=0;q<S;q++){var C=e2.$j.acT(Z,m+q*16),u=Z.buffer.slice(C.offset,C.offset+C.size),r=e2.SL(u);
r=r?r:"bmp";if(r=="png"){var k=e2.Vh(r),v=k.af(u);C.X9=v[0]}else{var e=e2.Vh("BMP").a7q(u,0),u=l.U(C.OU*C.Vi*4);
l.pY(new Uint8Array(e.data),new bq(0,0,e.cR.e,e.cR.n),u,new bq(0,C.Vi,C.OU,C.Vi));e.data=u.buffer;e.cR.n=C.Vi;
C.X9=e}B.push(C)}B.sort(function(j,$){if(j.OU!=$.OU)return j.OU-$.OU;return j.a3u-$.a3u});return[B.pop().X9]};
e2.$j.acT=function(Z,m){var S={};S.OU=Z[m];m++;if(S.OU==0)S.OU=256;S.Vi=Z[m];m++;if(S.Vi==0)S.Vi=256;
S.afm=Z[m];m++;m++;S.auM=x.Nz(Z,m);m+=2;S.a3u=x.Nz(Z,m);m+=2;S.size=x.zs(Z,m);m+=4;S.offset=x.zs(Z,m);
m+=4;return S};e2.ul={};e2.ul.af=function(Z){var m=Date.now(),B,$=!0;if(l.raw.bb(Z.byteLength))return[l.raw.a5E(Z)];
var S=UTIF.decode(Z);if(S[0].t33421)B=S[0];else if(S[0].subIFD&&S[0].t271&&S[0].t271[0]=="Hasselblad"){B=S[0].subIFD[0];
B.t33421=[2,2]}else if(S[0].subIFD&&S[0].subIFD[0].t33421){B=S[0].subIFD[0];if(B.t50706==null){if(B.t258[0]==8)B.t258[0]=12}}else if(S[0].subIFD&&S[0].subIFD[0]&&S[0].subIFD[0].t262&&S[0].subIFD[0].t262[0]==34892)B=S[0].subIFD[0];
else if(S[0].subIFD&&S[0].subIFD[1]&&S[0].subIFD[1].t33421)B=S[0].subIFD[1];else if(S[0].subIFD&&S[0].subIFD[2]&&S[0].subIFD[2].t33421)B=S[0].subIFD[2];
else if(S[3]&&S[3].t50648){var C=S[0].exifIFD,u=C.makerNote;B=S[3];var r=u.t224[1],k=u.t224[2];B.t256=[r];
B.t257=[k];B.t258=[16];B.t259=[7];B.t262=[32803];B.t277=[1];B.t33421=[2,2];var v=B.t50656[0],e=l.raw.gm[v];
if(e==null)throw"e";B.t33422=e}if(B){UTIF.decodeImage(Z,B,S);for(var j in S[0])if((j[0]=="t"||j[0]=="e"||j[0]=="d")&&B[j]==null)B[j]=S[0][j];
B.Mu=S[0].t274?S[0].t274[0]:1;return[B]}var U=1/256;for(var q=0;q<S.length;q++)if(S[q].t258&&S[q].t258[0]==16&&S[q].t277&&S[q].t277[0]==1){}else $=!1;
if($){var H=0,z=0,f=0;for(var q=0;q<S.length;q++){UTIF.decodeImage(Z,S[q],S);var D=S[q].data;for(var n=0;
n<D.length;n+=2){var L=D[n+1]<<8|D[n];if(L>H)H=L;z+=L;f++}}U=1/256*65535/(.5*H+.5*(2*z/f))}var a=[];
for(var q=0;q<S.length;q++){var F=S[q],A=72;UTIF.decodeImage(Z,F,S);var T=F.t282,P=F.t296;if(T!=null&&P!=null){A=T[0][0]/T[0][1];
if(P[0]==3)A=Math.round(A/2.54)}if(F.width==null)continue;var Y=UTIF.toRGBA8(F,U).buffer,Q=i2.EW(F);
a.push({cR:new bq(0,0,F.width,F.height),data:Y,wd:A,d_:Q})}return a};e2.ul.md=function(Z,m,S,B){if(B==null)B=[!1];
var C={},u=Z[0];if(u[3]!=null&&B[0])C=i2.YQ(u[3]);if(u[2]!=null){C.t282=C.t283=[[Math.round(u[2]),1]];
C.t296=[2]}return UTIF.encodeImage(u[0],m,S,C)};e2.iV={};e2.iV.iA=!0;e2.iV.af=function(Z,m){dq.FK(Z,m)};
e2.iV.adC=function(Z,m,S,B){if(B==null)B=[!1,!1,!1,!1];if(!B[0])Z.Jy();var C=new ew,u=dq.Oq(Z,C,B);return[C.data.buffer,u]};
e2.iV.md=function(Z,m,S,B){var C=e2.iV.adC(Z,m,S,B),u=C[0],r=C[1];return u.byteLength==r?u:u.slice(0,r)};
e2.xo={};e2.xo.iA=!0;e2.xo.af=function(Z,m){var S=pako.inflate(new Uint8Array(Z)),B=x.zO(S,0),C=x.zO(S,2),u=4;
m.e=x.l(S,u);u+=4;m.n=x.l(S,u);u+=4;m.buffer=l.U(m.e*m.n*4);var r=x.zO(S,u);u+=2;u+=4;for(var k=0;k<r;
k++){var v=m.AB(),z=0,V=1,R=2,G=3,M=0;m.g.push(v);var e=x.l(S,u);u+=4;var j=u,$=x.zO(S,j);j+=2;var U=x.QN(S,j,$);
j+=$;v.Se(U);var H=S[j];j++;if(H!=0&&H!=1)throw H;v.rect.x=x.C0(S,j);j+=4;v.rect.y=x.C0(S,j);j+=4;v.rect.e=x.l(S,j);
j+=4;v.rect.n=x.l(S,j);j+=4;if(B>3){z=x.C0(S,j);j+=4}v.opacity=Math.round(255*S[j]/100);j++;var f=S[j];
j++;v.p0(f!=0);v.E4="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[S[j]];
j++;var D=S[j];j++;if(D)v.add.lspf=1<<31;if(B>3){var n=x.zO(S,j);j+=2;if(n!=0){var L=JSON.parse(x.QN(S,j,n));
j+=n;var a=L.text,F=L.textSettings,A=F.font,T=F.size,P=F.padding,Y=parseInt(F.color.slice(1),16);v.add.lnsr="rend";
v.add.TySh=e6.WL(0,0);v.add.TySh.sq=new bq(0,0,100,100);var Q=v.add.TySh.A=new ht,o=v.rect.e/2,I=v.rect.n/2;
Q.translate(-o,-I);Q.rotate(-z*Math.PI/180);Q.translate(o,I);Q.translate(v.rect.x+P,v.rect.y+P);var c=v.add.TySh.e7;
e6.xx(c,1);e6.Y8(c,[0,0,v.rect.e-P*2,v.rect.n]);e6.Hd(c,0,a);var y=e6.yH(c,0,1);y.n1.FontSize=T;y.n1.FillColor={Type:1,Values:[1,(Y>>>16&255)/255,(Y>>>8&255)/255,(Y>>>0&255)/255]};
if(F.bold)A+="-Bold";e6.VR(y,A);y.Q0.Justification=["left","right","center"].indexOf(F.align);e6.rj(c,0,a.length,y)}}var i=x.l(S,j);
j+=4;if(i!=v.rect.Z()*4){for(var q=v.rect.e;q>v.rect.e/2;q--){var d=i/(q*4);if(d==Math.round(d)){v.rect.e=q;
v.rect.n=d;break}}}v.buffer=l.U(v.rect.Z()*4);if(B>3){V=0;R=1;G=2;M=3}for(var q=0;q<i;q+=4){v.buffer[q]=S[j+q+V];
v.buffer[q+1]=S[j+q+R];v.buffer[q+2]=S[j+q+G];v.buffer[q+3]=S[j+q+M]}j+=i;var O=x.l(S,j);j+=4;if(O==0&&B>3){u+=e;
continue}var K=S[j];j++;var W=x.zO(S,j);j+=2;if(O!=0){v.v=new w.Ga;v.v.rect=v.rect.clone();v.v.channel=l.U(v.rect.Z());
for(var q=0;q<O;q+=4)v.v.channel[q>>>2]=S[j+q+1];j+=O}if(K!=0){var t=JSON.parse(fp.default);v.add.lmfx=t;
for(var q=0;q<fp.order.length;q++)t[fp.lg[q]]={t:"VlLs",v:[]};var X={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var q=0;q<K;q++){var h=x.zO(S,j),b=j+h+4,E=S.slice(j,b),f0=S[j+2];j+=3;var ay=X[f0+""],p=JSON.parse(fp.kr[ay]);
t[fp.lg[ay]].v.push({t:"Objc",v:p});if(ay!=0){p.Md.v.BlnM=d1.D2("norm");p.Opct.v.val=S[j];j++;if(ay==9||ay==2){p.Dstn.v.val=S[j+1];
j+=2}else j+=2;p.blur.v.val=Math.round(S[j]*1.2);j++;if(ay==9||ay==2){p.uglg.v=!1;p.lagl.v.val=180-x.zO(S,j);
j+=2}p.Clr.v=l.X.M1({I:S[j+1],z:S[j+2],S:S[j+3]})}else{p.hglM.v.BlnM=p.sdwM.v.BlnM=d1.D2("norm");j+=2;
var eo=S[j++],co=S[j++];p.blur.v.val=Math.round(Math.sqrt(co*eo)*1.3);p.srgR.v.val=Math.round(100*eo/co);
p.uglg.v=!1;p.lagl.v.val=180-x.zO(S,j);j+=2;p.hglO.v.val=S[j++];p.hglC.v=l.X.M1({I:S[j+1],z:S[j+2],S:S[j+3]});
j+=4;p.sdwO.v.val=S[j++];p.sdwC.v=l.X.M1({I:S[j+1],z:S[j+2],S:S[j+3]});j+=4}j=b}}if(j-u<e){var c5=x.l(S,j),aB=0;
j+=4;j++;var $=x.zO(S,j);j+=2;var a=x.QN(S,j,$);j+=$;a=a.replace(/\r/g,"\n");var $=x.zO(S,j);j+=2;var A=x.QN(S,j,$);
j+=$;var T=x.zO(S,j);j+=2;var he=v.rect.x,hU=v.rect.e;if(c5&4)aB=1;if(c5&2)aB=2;var ep=Math.round(T*.4);
if(aB==0||aB==2)hU+=ep;if(aB==1||aB==2){hU+=ep;he-=ep}v.add.lnsr="rend";v.add.TySh=e6.WL(0,0);v.add.TySh.sq=new bq(0,0,100,100);
v.add.TySh.A=new ht(1,0,0,1,he,v.rect.y+T*.25);var c=v.add.TySh.e7;e6.xx(c,1);e6.Y8(c,[0,0,hU,v.rect.n]);
e6.Hd(c,0,a);var y=e6.yH(c,0,1);y.n1.FontSize=T;y.n1.FillColor={Type:1,Values:[1,S[j+1]/255,S[j+2]/255,S[j+3]/255]};
j+=4;if(S[j+5])A+="-Bold";if(S[j+6])A+="-Italic";e6.VR(y,A);y.Q0.Justification=aB;j+=8;e6.rj(c,0,a.length,y)}u+=e}};
e2.jG={};e2.jG.iA=!0;e2.jG.af=function(Z,m){il.FK(Z,m)};e2.nv={};e2.nv.iA=!0;e2.nv.af=function(Z,m){hz.FK(Z,m)};
e2.x0={};e2.x0.iA=!0;e2.x0.af=function(Z,m){bW.FK(Z,m)};e2.CU={};e2.CU.iA=!0;e2.CU.af=function(Z,m){eP.FK(Z,m)};
e2.HX={};e2.HX.iA=!0;e2.HX.af=function(Z,m){hk.FK(Z,m)};e2.dJ={};e2.dJ.iA=!0;e2.dJ.af=function(Z,m){ek.FK(Z,m)};
e2.gY={};e2.gY.iA=!0;e2.gY.md=function(Z,m,S,B,C){if(B==null)B=[!0,!1,!1,!1,!0,!0];var u=gj.rM(Z,{gz:B[0],hidden:B[1],afH:B[2],atK:B[3],names:B[4],aik:B[5],ajn:m,a45:S},C.Pl);
return u};e2.gY.af=function(Z,m,S){gj.FK(Z,m,S)};e2.bz={};e2.bz.iA=!0;e2.bz.af=function(Z,m){var S=150,B=new ht(1,0,0,-1,0,0);
B.scale(S/72,S/72);m.wd=S;var C=new bg(m,B,!0);FromPS.Parse(Z,C)};e2.tU={};e2.tU.iA=!0;e2.tU.md=function(Z,m,S,B,C){if(B==null)B=["",100,!1,!1,!1,0];
B[6]=["jpg"];var u=new ToPDF;dy.rM(Z,B,u,C.Pl,m,S);return u.buffer};e2.tU.af=function(Z,m,S){var B=2;
while(!0){var C=B*72,u=new ht(1,0,0,-1,0,0);u.scale(C/72,C/72);m.wd=C;var r=new bg(m,u,!0);FromPDF.Parse(Z,r);
var k=Math.max(m.e,m.n);if(S&&k<Math.max(S[0],S[1])){m.g=[];var v=B;while(k*(B/v)<Math.max(S[0],S[1]))B++}else break}};
e2.nr={};e2.nr.iA=!0;e2.nr.af=function(Z,m){var S=72,B=new ht(1,0,0,1,0,0);B.scale(S/72,S/72);m.wd=S;
var C=new bg(m,B,!1);FromWMF.Parse(Z,C)};e2.pg={};e2.pg.Fp=!0;e2.pg.iA=!0;e2.pg.md=function(Z,m,S,B,C){if(B==null)B=["",100,!1,!1,!1,0];
B[6]=[];var u=new ToEMF;dy.rM(Z,B,u,C.Pl);return u.buffer};e2.pg.af=function(Z,m){var S=72,B=new ht(1,0,0,1,0,0);
B.scale(S/72,S/72);m.wd=S;var C=new bg(m,B,!1);FromEMF.Parse(Z,C)};e2.ui={};e2.ui.iA=!0;e2.ui.af=function(Z,m){return hv.FK(Z,m)};
e2.AF={};e2.AF.af=function(Z,m){var S=fL.FK(Z),B=new Uint8Array(Z),C=0,u,r,k,v,e,j,$,U,H=0,z=0,f=0,D=0,n=0;
for(var L=0;L<S.sub.length;L++){var a=S.sub[L],C=a.r;if(a.Us=="BMHD"){var F=[];for(var q=0;q<4;q++)F[q]=x.zO(B,C+2*q);
C+=8;v=F[2];e=F[3];r=F[0];k=F[1];u=l.U(r*k*4);j=B[C++];$=B[C++];U=B[C++]}else if(a.Us=="CMAP")H=C;else if(a.Us=="CAMG"){var A=x.l(B,C);
z=A&32768,f=A&4,D=A&2048;n=A&128}else if(a.Us=="BODY"){var T=r+15>>>4<<1,Y=j+$,Q=l.U(T*k*Y),y,i,d;fw.d2(B,C,a.size,Q,0,Q.length);
var o=j-2,I=(1<<o)-1,c=Math.round(255/I);for(var e=0;e<k;e++)for(var v=0;v<r;v++){var V=0;for(var R=0;
R<Y;R++){var G=(e*Y+R)*T*8+v,M=Q[G>>>3]>>>7-(G&7)&1;V|=M<<R}var O=V>>>j,V=V&(1<<j)-1,q=e*r+v,K=q<<2;
if(H!=0){if(D!=0&&V>>>o!=0){var W=V>>>o,t=(V&I)*c;if(W==1)d=t;else if(W==2)y=t;else if(W==3)i=t}else{var t=H+V*3;
y=B[t+0];i=B[t+1];d=B[t+2]}}else{y=V>>>0&255;i=V>>>8&255;d=V>>>16&255}u[K+0]=y;u[K+1]=i;u[K+2]=d;u[K+3]=255}}}return[{cR:new bq(0,0,r,k),data:u.buffer}]};
e2._9={};e2._9.iA=!1;e2._9.md=function(Z,m,S,B){var C=Z[0][4],u=new Uint8Array(Z[0][0]),r=2,k=C?!0:!1,v=k?4:3,e=new Uint8Array(m*S*v);
for(var j=0;j<S;j++)for(var $=0;$<m;$++){var U=j*m+$<<2,H=((S-j-1)*m+$)*v;e[H]=u[U+2];e[H+1]=u[U+1];
e[H+2]=u[U+0];if(k)e[H+3]=C[0][j*m+$]}if(!0){var z=e.length,f=0,D=new Uint8Array(z*2),n=0,L=0,a=m*v;
while(L<z){var F=L,A=0,T=a*(Math.floor(L/a)+1);while(F<T&&A<128){var P=!0;for(var q=0;q<v;q++)P=P&e[L+q]==e[F+q];
if(!P)break;F+=v;A++}if(A==1){var Y=1;while(Y<128&&L+(Y+1)*v<T){var P=!0,Q=L+Y*v;for(var q=0;q<v;q++)P=P&e[Q+q]==e[Q+v+q];
if(P)break;Y++}D[n++]=Y-1;for(var o=0;o<Y;o++)for(var q=0;q<v;q++)D[n++]=e[L++]}else{D[n++]=127+A;for(var q=0;
q<v;q++)D[n+q]=e[L+q];n+=v;L+=v*A;f+=A}}e=D.slice(0,n);r+=8}var I=new Uint8Array(18+e.length+26);I[2]=r;
x.Bv(I,12,m);x.Bv(I,14,S);I[16]=v*8;I[17]=v==4?8:0;I.set(e,18);x.XI(I,18+e.length+8,"TRUEVISION-XFILE.");
return I.buffer};e2._9.af=function(Z){var m=new Uint8Array(Z),S=0,B=m[0],C=m[1],u=m[2],r=m[4]*256+m[3],k=m[6]*256+m[5],v=m[7],e=m[9]*256+m[8],j=m[11]*256+m[10],$=m[13]*256+m[12],U=m[15]*256+m[14],H=m[16],z=m[17],f=z>>>4,D=x.aD(m,18,B),n=l.U($*U*4),S=18+B+(k*v>>>3),L=new Uint8Array(m.buffer,S);
if(u>3){var a=0,F=m,A=new Uint8Array($*U*H>>>3),T=S,P=0,Y=m.length,Q=H>>>3;while(P<A.length){var gY=F[T];
T++;if(gY<128)for(var q=0;q<gY+1;q++){for(var o=0;o<Q;o++){A[P]=F[T];P++;T++}}else{for(var q=0;q<gY-127;
q++){for(var o=0;o<Q;o++){A[P]=F[T+o];P++}}T+=Q}}u-=8;L=A;S=T}else S+=$*U*H>>>3;var I=new Uint8Array(4),c=e2._9.al6;
for(var y=0;y<U;y++)for(var i=0;i<$;i++){var d=(f&2)==0?(U-y-1)*$+i:y*$+i,V=y*$+i,R,G,M,O=255,K=d*H>>>3;
if(u==1){var W=0;if(H==8)W=L[K];else throw"e";c(m,18+B+r+(W*v>>>3),v,I);R=I[0];G=I[1];M=I[2];O=I[3]}else if(u==2){c(L,K,H,I);
R=I[0];G=I[1];M=I[2];O=I[3]}else if(u==3){if(H==8)R=G=M=L[K];else throw"e"}var t=V*4;n[t]=R;n[t+1]=G;
n[t+2]=M;n[t+3]=O}var I={cR:new bq(0,0,$,U),data:n.buffer,yw:D};if(l.Bl(n)){var X=l.U($*U);l.NK(n,X,3);
l._z(n,4278190080,16777215);I.Xz=[X]}return[I]};e2._9.al6=function(Z,m,S,B){var C,u,r,k=255;if(S==24||S==32){r=Z[m];
u=Z[m+1];C=Z[m+2];if(S==32)k=Z[m+3]}else if(S==16){var v=Z[m+1]<<8|Z[m+0];C=v>>>10&31;u=v>>>5&31;r=v>>>0&31;
C=Math.round(C*(255/31));u=Math.round(u*(255/31));r=Math.round(r*(255/31))}else throw"e";B[0]=C;B[1]=u;
B[2]=r;B[3]=k};e2.av0=function(){var Z,m=[],S=!1;function B(r,k,v,e){Z=v;m.push(r,e);C()}function C(){if(S||m.length==0)return;
S=!0;e2.ajl(m.shift(),"image/avif",u)}function u(r){Z(null,[r],m.shift());S=!1;C()}return{iA:!1,ow:!0,af:B}}();
e2.acP=function(){var Z,m=[],S=!1,B,C,u,r,k,v;function e(H,z,f,D){Z=f;m.push(H,D);j()}function j(){if(S||m.length==0)return;
S=!0;B=document.createElement("canvas");C=B.getContext("2d");u=document.createElement("video");var H="data:"+"video/mp4"+";base64,"+e2.lK(m.shift());
u.src=H;u.muted=!0;u.currentTime=0;u.addEventListener("canplay",$,!1);u.addEventListener("timeupdate",U,!1)}function $(H){u.removeEventListener("canplay",$);
r=B.width=u.videoWidth;k=B.height=u.videoHeight;v=[];u.play()}function U(H){var z=10;C.drawImage(u,0,0);
v.push({yw:"_a_"+v.length+","+Math.round(1e3/z),cR:new bq(0,0,r,k),data:C.getImageData(0,0,r,k).data.buffer});
var f=u.currentTime+1/z;if(f<u.duration)u.currentTime=f;else{Z(null,v,m.shift());u.removeEventListener("timeupdate",U);
S=!1;j();v=null}}return{iA:!1,ow:!0,af:e}}();e2.el={};e2.el.af=function(Z){var m=new Uint8Array(Z),S=0,B=112,C=42,u=x.zs,j;
S+=8;var r=m[S];S++;if(r!=C)throw"e";var k=u(m,S);S+=4;var v=x.dB(m,S,k);S+=k*2;var e=[];while(S<m.length){j=u(m,S);
S+=4;if(j!=B)throw j;S+=4;j=m[S];S++;if(j!=C)throw j;var $=u(m,S);S+=4;var U=m[S];S++;if(U!=C){S-=5;
$=u(m,S);S+=8;j=m[S];S++;if(j!=C)throw j}var H=u(m,S)*2;S+=4;if($>0)e.push(S+H);S+=H+$}var z=new DOMParser,f=z.parseFromString(v,"image/svg+xml").firstChild.firstChild,D=[];
e2.el.n$(f,m,e,D);return D};e2.el.n$=function(Z,m,S,B){var C=Z.firstChild.firstChild;if(C.tagName=="Image"){var u=C.getElementsByTagName("ImageDescription")[0],r=u.children[0].children,k=u.children[1].children,v=S.shift(),e=[];
for(var q=0;q<k.length;q++)e.push(parseInt(k[q].getAttribute("NumberOfElements")));while(e.length>3)e[2]*=e.pop();
var j=r.length,$=e[0],U=e[1],H=e[2],z=parseInt(k[0].getAttribute("BytesInc"));for(var f=0;f<H;f++){var D=l.U($*U*4);
l._z(D,4278190080);for(var n=0;n<j;n++){var L=l.U($*U);if(z==1)for(var a=0;a<L.length;a++)L[a]=m[v+a];
else if(z==2)for(var a=0;a<L.length;a++)L[a]=Math.min(255,(m[v+a*2+1]<<8|m[v+a*2])>>>2);else throw z;
if(n!=3)l.cN(L,D,n);if(j==1){l.cN(L,D,1);l.cN(L,D,2)}v+=$*U*z}B.push({cR:new bq(0,0,$,U),data:D.buffer})}}else{var F=Z.children,A=0;
while(A<F.length&&F[A].tagName!="Children")A++;if(A==F.length)throw"e";F=F[A].children;for(var T=0;T<F.length;
T++)e2.el.n$(F[T],m,S,B)}};e2.Wg={};e2.Wg.af=function(Z){var m=new Uint8Array(Z),S=0,B={},j=1e9;for(var q=0;
q<306;q++){var C=x.aD(m,S,8).trim(),u=x.aD(m,S+9,71).split("/")[0].trim();B[C]=u;S+=80;if(C=="END"){S=Math.ceil(S/2880)*2880;
break}}var r=parseInt(B.NAXIS1),k=parseInt(B.NAXIS2),v=r*k,e=parseInt(B.BITPIX),$=-1e9,U=new Float32Array(v),H=new Float32Array(Z,S,Z.byteLength-S>>>2);
for(var q=0;q<v;q++){var z=q<<2,f=q<<1;if(e==-32){var D=m[S+z+0];m[S+z+0]=m[S+z+3];m[S+z+3]=D;var D=m[S+z+1];
m[S+z+1]=m[S+z+2];m[S+z+2]=D;U[q]=H[q]}else if(e==16){U[q]=x.Nz(m,S+f)}else throw e;var n=U[q];if(n<j)j=n;
if(n>$)$=n}var L=l.U(v*4),a=1/$;for(var F=0;F<k;F++)for(var A=0;A<r;A++){var q=F*r+A,T=(k-F-1)*r+A,z=T<<2,n=U[q]*a;
L[z]=L[z+1]=L[z+2]=255*n;L[z+3]=255}return[{cR:new bq(0,0,r,k),data:L,yw:B.OBJECT}]};e2.EB={};e2.EB.af=function(Z){var m=new Uint8Array(Z),S=16,B=x.aD(m,S,4),u=32,n=0,L=0,a=!1,G;
S+=4;var C=x.aD(m,S,8);S+=8;while(m[S+u-1]==0)u--;var r=x.aD(m,S,u);S+=32;var k=x.aD(m,S,4);S+=4;S+=20;
var v=x.l(m,S);S+=4;var e=x.l(m,S);S+=4;var j=x.l(m,S);S+=4;var $=x.l(m,S);S+=4;var U=x.l(m,S);S+=4;
var H=x.l(m,S);S+=4;var z="FujiFilm "+r,f=[0,1,1,2];if(z=="FujiFilm X10"){z="FujiFilm FinePix X10";f=[2,1,1,0]}var D={t271:["FujiFilm"],t272:[z],t277:[1],t33421:[2,2],t33422:f,Mu:1};
S=j;var F=[],A=x.zO,T=x.l(m,S);S+=4;for(var q=0;q<T;q++){var P=A(m,S);S+=2;var Y=A(m,S);S+=2;if(P==256){L=A(m,S);
n=A(m,S+2)}else if(P==272){F=[A(m,S),A(m,S+2)]}else if(P==273){F.push(A(m,S),A(m,S+2))}else if(P==304){a=!(m[S]>>>7)}else if(P==305){var Q=Math.round(Math.sqrt(Y)),o=[];
for(var I=0;I<Y;I++)o.push(m[S+I]);o.reverse();D.t33421=[Q,Q];D.t33422=o}else if(P==12272){var c=A(m,S),y=A(m,S+2),i=A(m,S+6);
D.t50728=[c/y,1,c/i]}S+=Y}var d=n<L,V=m.slice(U,U+H),R=Math.round(H*8/(n*L));if(V[0]==73&&V[1]==73&&V[2]==42){G=UTIF.decode(V.buffer)[0].fujiIFD;
R=G.t61443[0];var M=G.t61454,O=G.t61450;if(O)D.t50714=O;if(M)D.t50728=[M[0]/M[1],1,M[0]/M[2]];var K=G.t61447[0];
V=V.slice(K,K+G.t61448[0])}var H=V.length,W=H*8<n*L*R;if(W){console.log("compressed");var t=D.t33422,X=~~Math.sqrt(t.length),h=[];
for(var q=0;q<X;q++)h[q]=t.slice(q*X,q*X+X);V=new Uint8Array(UTIF._decompressRAF(V,h).buffer);H=V.length}function b(eo,co,c5){c5=c5<<8-(co&7);
var he=co>>>3;eo[he]|=c5>>>16;eo[he+1]|=c5>>>8;eo[he+2]|=c5}var E=H*8/(n*L);if(E==16)for(var q=0;q<H;
q+=2){var f0=V[q];V[q]=V[q+1];V[q+1]=f0}else if(E==14){for(var q=0;q<H;q+=4){var f0=V[q];V[q]=V[q+3];
V[q+3]=f0;f0=V[q+1];V[q+1]=V[q+2];V[q+2]=f0}}else if(E==12)for(var q=0;q<H;q+=3){var ay=V[q+2]<<16|V[q+1]<<8|V[q+0];
ay=ay>>>12|(ay&4095)<<12;V[q]=ay>>>16&255;V[q+1]=ay>>>8&255;V[q+2]=ay&255}if(d)V=e2.EB.apf(V,n,L);var p=d?2:1;
n*=p;D.t256=[n];D.t257=[L];D.t258=[R];D.t50719=[F[1],F[0]*p];D.t50720=[F[3],F[2]*p];D.width=n;D.height=L;
D.data=new Uint8Array(V.buffer);return[D]};e2.EB.apf=function(Z,m,S){Z=new Uint16Array(Z.buffer);var B=new Uint16Array(m*S*2);
for(var C=0;C<S;C+=2)for(var u=0;u<m;u++){var r=C*m+u,k=r*2,v=Z[r],e=Z[r+m];B[k+1]=B[k+2*m]=e;if(((C>>>1)+u&1)==0){B[k]=v;
B[k+2*m+1]=Z[r+1]}else{B[k]=Z[r-1];B[k+2*m+1]=v}}return B};e2.Kz={};e2.Kz.Fp=!0;e2.Kz.md=function(Z,m,S,B){var C=new Uint8Array(Z[0][0]),u=m*S,r=[1,3,4][B[0]],k=8+8*B[1],v=B[2];
if(r==1){var e=new Uint8Array(m*S);l.NK(C,e,0);C=e}if(r==3){var e=new Uint8Array(m*S*3);for(var q=0;
q<u;q++){var j=q*4,$=q*3;e[$]=C[j];e[$+1]=C[j+1];e[$+2]=C[j+2]}C=e}if(k==16){var U=C.length,e=new Uint8Array(U*2);
for(var q=0;q<U;q++){var H=Math.round(C[q]*(65535/255));e[q*2+v]=H>>>8;e[q*2+1-v]=H&255}C=e}return C.buffer};
e2.GI={};e2.GI.af=function(Z,m){function S(v){return~~(.5+l.mg(Math.max(0,Math.min(1,v)))*255)}var B=EXRLoader.parse(Z),C=B.width,u=B.height,r=l.U(C*u*4);
for(var k=0;k<u;k++)for(var v=0;v<C;v++){var q=(k*C+v)*4,e=((u-k-1)*C+v)*4;r[q]=S(B.data[e+0]);r[q+1]=S(B.data[e+1]);
r[q+2]=S(B.data[e+2]);r[q+3]=S(B.data[e+3])}return[{cR:new bq(0,0,C,u),data:r.buffer}]};e2.HC={};e2.HC.Fp=!0;
e2.HC.iA=!0;e2.HC.md=function(Z,m,S,B,C){B=["",100,!1,!1,!1,0];B[6]=["jpg"];var u=new ToDXF;dy.rM(Z,B,u,C.Pl);
return u.buffer};e2.HC.af=function(Z,m){var S=72,B=new ht(1,0,0,1,0,0);B.scale(S/72,S/72);m.wd=S;var C=new bg(m,B,!1);
FromDXF.Parse(Z,C)};e2.Xp={};e2.Xp.af=function(){var Z=x.Nz,m=x.zs,S=x.aD,B;function C(r,k,v,e,j){var $=m(r,v),U=m(r,v+4),H=m(r,v+8),z=Z(r,v+12),f=Z(r,v+14);
v+=16;var D={};for(var q=0;q<z+f;q++){var n=m(r,v),L=m(r,v+4),a,F;if(n>>>31==1){n=n&16777215}if(q<z)a=x.dB(r,k+n+2,Z(r,k+n));
else a="id"+n;var A=e.slice(0);A.push(a);if(L>>>31==1){L=L&268435455;F=C(r,k,k+L,A,j)}else{var T=m(r,k+L),P=m(r,k+L+4),Y=m(r,k+L+8),Q=m(r,k+L+12);
if(Q!=0)throw"e";if(T<j[0]||T>j[0]+j[1])throw"e";var o=j[2]+T-j[0];F=r.slice(o,o+P);var I=e2.SL(F.buffer);
if(I&&["bmp","png","ico"].indexOf(I)!=-1){var c=e2.Vh(I);if(!c.iA){var y=null;try{y=c.af(F.buffer)}catch(iD){}if(y){y[0].yw=A[1];
B.push(y[0])}}}else if(I)console.log(I)}D[a]=F;v+=8}return D}function u(r){B=[];var k=new Uint8Array(r),v=0,e=Z(k,v);
v+=2;v+=58;var j=m(k,v);v+=4;v=j;var $=S(k,v,4);v+=4;var U=Z(k,v);v+=2;var H=Z(k,v);v+=2;var z=m(k,v);
v+=4;var f=m(k,v);v+=4;var D=m(k,v);v+=4;var n=Z(k,v);v+=2;var L=Z(k,v);v+=2;v+=n;var a={};for(var q=0;
q<H;q++){var F=v;while(k[F]!=0)F++;var A=S(k,v,F-v),T=m(k,v+8),P=m(k,v+12),Y=m(k,v+16),Q=m(k,v+20),o=m(k,v+24),I=m(k,v+28),c=Z(k,v+32),y=Z(k,v+34),L=m(k,v+36);
a[A]=[P,T,Q,Y,L];if(o+I!=0)throw"e";v+=40}for(var i in a){var d=a[i];v=d[2];if(i==".rsrc"){var V=C(k,v,v,[],d),R="id134"}}return B}return u}();
e2.hW={};e2.hW.iA=!0;e2.hW.af=function(Z,m){fn.FK(Z,m)};(function(){var Z=e2.wP.get("wasm/zstd").buffer;
WebAssembly.instantiate(Z).then(function(m){var S=m.instance.exports;e2.hW.ann=S})}());e2.hW.vq=function(Z,m){var S=e2.hW.ann,B=Z.length,C=S.memory,u=2*B+1e6,v=8;
e2.cW(S,u);var r=new Uint8Array(C.buffer),k=S.malloc(B);r.set(Z,k);while(!0){var e=m==null?B*v:m;e2.cW(S,u+e);
var j=S.malloc(e),$=S.ZSTD_decompress(j,e,k,B);if($==-70){S.free(j);v+=v>>>1;if(m!=null)throw"error"}else{r=new Uint8Array(C.buffer);
Z=r.slice(j,j+$);S.free(j);break}}S.free(k);return Z};e2.f5={};e2.f5.iA=!0;e2.f5.af=function(){var Z=0,m=1,S=2,B=3,C=4,u=5,r=6,k=7,v=1,e=2,j=7,$=8,U=9,H,z,f,D,n;
function L(){var gY=x.ET(H,z);z+=4;return gY}function a(){var G=0,M=0;for(var q=0;q<5;q++){var O=H[z++];
G+=(O&127)<<M;M+=7;if((O&128)==0)break}return G}function F(){var G=a(),M=x.QN(H,z,G);z+=G;return M}function A(){return{typeName:F(),a9q:L()}}function T(){var G=L(),M=F(),O=[],K=L();
for(var q=0;q<K;q++)O.push([F()]);return{id:G,ra:M,a6n:O}}function P(G){var M=G.a6n,O=[];for(var q=0;
q<M.length;q++)M[q].push(H[z++]);for(var q=0;q<M.length;q++){var K=M[q][1],W;M[q].push(Y(K))}}function Y(G){var M;
if(G==Z)M=H[z++];else if(G==B)M=F();else if(G==C)M=A();else if(G==m||G==S||G==r||G==u){}else throw G;
return M}function Q(G,M,O){var K;if(G==Z){if(M==v)K=H[z++]==1;else if(M==e){K=H[z++]}else if(M==$)K=L();
else if(M==U){K=L();L()}else throw M}else if(G==B){K=y(O+1)}else if(G==C){K=y(O+1)}else if(G==u){K=y(O+1)}else if(G==m){K=y(O+1)}else if(G==r){K=y(O+1)}else throw G;
return K}function o(G,M){var O=f["c"+G],K=O.a6n,W={_class:O.ra};for(var q=0;q<K.length;q++){var t=K[q],X=t[1],h=t[2],b=Q(X,h,M),E=t[0];
W[E]=b}return W}function I(G,M,O,K){var W=[];for(var q=0;q<G;q++){var t=Q(M,O,K);if(t.aU&&t.aU=="null_count"){var X=t.jA;
for(var h=0;h<X;h++)W.push(null);q+=X-1}else W.push(t)}return W}function c(){return[L(),L()]}function y(G){if(G==null)throw"e";
var M=null,O=H[z],K=null;z++;if(O==0){var W=L(),t=L(),X=L(),h=L();M=[W,t,X,h]}else if(O==1){K=L();var b=L();
M=o(b,G)}else if(O==4){var E=T();K=E.id;P(E);f["c"+E.id]=E;M=o(E.id,G)}else if(O==5){var E=T();K=E.id;
P(E);var f0=L();f["c"+E.id]=E;M=o(E.id,G)}else if(O==6){K=L();var ay=F();M=ay}else if(O==7){K=L();var p=H[z++];
if(p!=0)throw p;var eo=L();if(eo!=1)throw eo;var co=L(),c5=H[z++],he=Y(c5);M=I(co,c5,he,G)}else if(O==9){var hU=L();
M={aU:"ref",jA:hU};n["o"+hU]=!0}else if(O==10){M={aU:"null_count",jA:1}}else if(O==11){M={aU:"end"}}else if(O==12){var f0=L(),aB=F()}else if(O==13){var ep=H[z++];
M={aU:"null_count",jA:ep}}else if(O==16){var aO=c();K=aO[0];M=I(aO[1],C,null,G)}else if(O==17){var aO=c();
K=aO[0];M=I(aO[1],m,null,G)}else throw"e";if(K!=null&&K>0){if(D["o"+K]!=null)throw"e";D["o"+K]=M}return M}function i(G,D){if(G instanceof Array){for(var q=0;
q<G.length;q++)G[q]=d(G[q],D)}else if(G instanceof Object){for(var M in G)G[M]=d(G[M],D)}}function d(G,D){if(G&&G.aU&&G.aU=="ref")return D["o"+G.jA];
else return G}function V(G,M,O){H=new Uint8Array(G);z=0;f={};D={};n={};var K=x.aD(H,0,4);if(K!="PDN3")throw K;
z+=4;var W=x.Nz(H,z)+H[z+2]*256*256;z+=3;var t=x.aD(H,z,W);z+=W;z+=2;while(!0){var X=y(0);if(X&&X.aU&&X.aU=="end")break}for(var h in n)if(D[h]==null)throw h;
for(var h in D)i(D[h],D);var b=D.o1;console.log(b);M.e=b.width;M.n=b.height;M.buffer=l.U(M.e*M.n*4);
var E=b.layers["ArrayList+_items"];for(var q=0;q<E.length;q++){var f0=E[q];if(f0==null)continue;console.log(f0);
var ay=f0["Layer+width"],p=f0["Layer+height"],eo=f0["Layer+properties"],co=f0.properties,c5=co.blendOp._class.split("+").pop();
c5=c5.slice(0,c5.length-7);var he={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[c5],hU=M.AB();
hU.Se(eo.name);hU.opacity=eo.opacity;hU.p0(eo.visible);hU.E4=he;var aB=1<<16,ep=Math.ceil(ay*p/aB);hU.rect=new bq(0,0,ay,p);
hU.buffer=l.U(ay*p*4);var aO=hU.buffer;z+=5;for(var f$=0;f$<ep;f$++){var fo=R();aO.set(fo[1],fo[0]*aB*4)}for(var bb=0;
bb<aO.length;bb+=4){var jl=aO[bb+0];aO[bb+0]=aO[bb+2];aO[bb+2]=jl}M.g.push(hU)}}function R(){var G=x.l(H,z);
z+=4;var M=x.l(H,z);z+=4;var O=pako.inflateRaw(H.slice(z+10));z+=M;return[G,O]}return V}();var N={};
N.V8=!1;N.I9=!1;N.qg=!1;N.O=document.createElement("canvas");N.az=null;N.sA=null;N.e3=0;(function(){var Z={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},m;
if(!m)m=N.O.getContext("webgl",Z);if(!m)m=N.O.getContext("experimental-webgl",Z);if(m){N.V8=!0;N.I9=!0;
N.az=m;N.sA=m.createFramebuffer();m.bindFramebuffer(m.FRAMEBUFFER,N.sA);m.disable(m.BLEND);m.disable(m.DEPTH_TEST);
var S=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,S);m.bufferData(m.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),m.STATIC_DRAW);
m.enableVertexAttribArray(0);m.vertexAttribPointer(0,2,m.FLOAT,!1,0,0)}}());N.a0l=function(Z){Z=Z.replace(/\s\s+/g," ");
Z=Z.replace(/; /g,";");Z=Z.replace(/} /g,"}");Z=Z.replace(/ }/g,"}");Z=Z.replace(/{ /g,"{");Z=Z.replace(/ {/g,"{");
Z=Z.replace(/= /g,"=");Z=Z.replace(/ =/g,"=");Z=Z.replace(/\| /g,"|");Z=Z.replace(/ \|/g,"|");return Z};
N.ak9=function(Z){var m=N.az;if(Z>m.getParameter(m.MAX_TEXTURE_SIZE)){N.V8=!1;alert("Disabling WebGL")}};
N.Oo=function(Z,m){return new Float32Array([(Z.x-m.x)/m.e,(Z.y-m.y)/m.n,Z.e/m.e,Z.n/m.n])};N.Df=function(){return this.O};
N.dF=function(Z,m){var S=N.az;S.bindFramebuffer(S.FRAMEBUFFER,N.sA);S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,Z.Wa,0);
S.viewport(0,0,Z.e,Z.n);if(m){S.enable(S.SCISSOR_TEST);S.scissor(m.x,m.y,m.e,m.n)}else S.disable(S.SCISSOR_TEST)};
N.Fs=function(Z,m,S){if(S)throw"error";var B=N.az;B.disable(B.SCISSOR_TEST);B.bindFramebuffer(B.FRAMEBUFFER,null);
B.viewport(0,0,Z,m);if(S){B.enable(B.SCISSOR_TEST);B.scissor(S.x,S.y,Math.round(S.e),Math.round(S.n))}else B.disable(B.SCISSOR_TEST)};
N.clear=function(){var Z=N.az;Z.clearColor(0,0,0,0);Z.clear(Z.COLOR_BUFFER_BIT)};N.nB=function(Z,m){if(m==null)m=0;
var S=(m>>>0&255)==0,B=(m>>>8&255)==0,C=(m>>>16&255)==0,u=(m>>>24&255)==0,r=(Z>>>0&255)*(1/255),k=(Z>>>8&255)*(1/255),v=(Z>>>16&255)*(1/255),e=(Z>>>24&255)*(1/255),j=N.az;
j.colorMask(S,B,C,u);j.clearColor(r,k,v,e);j.clear(j.COLOR_BUFFER_BIT);j.colorMask(!0,!0,!0,!0)};N.PU=function(Z,m,S,B,C){var u=m.o9(B);
if(C)u=u.o9(C);if(u.Ov())return;var r=N.az;N.dF(Z);r.bindTexture(r.TEXTURE_2D,S.Wa);r.copyTexSubImage2D(r.TEXTURE_2D,0,u.x-B.x,u.y-B.y,u.x-m.x,u.y-m.y,u.e,u.n)};
N.u4=function(q,Z,m){var S=N._M[q];if(S==null||S.e!=Z||S.n!=m){if(S)S.delete();S=new N._8(Z,m)}N._M[q]=S;
return S};N._M=[];N.lq=function(){this.il=null;this.Ez=null};N.lq.NP=null;N.lq.prototype.i6=function(Z){if(this.Ez)return;
this.Ez={};var m=N.az,S=this.il,B=this.Ez;for(var q=0;q<Z.length;q++){var C=Z[q];B[C]=m.getUniformLocation(S,C)}};
N.lq.prototype.qV=function(){};N.lq.prototype.sX=function(Z){var m=N.az;for(var q=0;q<Z.length;q+=2){m.uniform1i(Z[q],q>>>1);
m.activeTexture(m["TEXTURE"+(q>>>1)]);m.bindTexture(m.TEXTURE_2D,Z[q+1])}m.activeTexture(m.TEXTURE0)};
N.lq.prototype.R$=function(Z,m){var S=N.az,B=S.createShader(S.FRAGMENT_SHADER);S.shaderSource(B,Z);S.compileShader(B);
if(!S.getShaderParameter(B,S.COMPILE_STATUS))console.log(S.getShaderInfoLog(B));var C=S.createShader(S.VERTEX_SHADER);
S.shaderSource(C,m);S.compileShader(C);if(!S.getShaderParameter(C,S.COMPILE_STATUS))console.log(S.getShaderInfoLog(C));
var u=S.createProgram();S.attachShader(u,C);S.attachShader(u,B);S.linkProgram(u);if(!S.getProgramParameter(u,S.LINK_STATUS))console.log("Could not initialise shaders");
this.il=u};N.lq.prototype.Sl=function(){if(N.lq.NP!=this){N.az.useProgram(this.il);N.lq.NP=this}};N.ob=function(Z,m){N.M3++;
N.e3+=Z*m;if(N.qg)console.log("GL.Channels instances: "+N.M3+", memory: "+N.e3);var S=N.az;this.e=Z;
this.n=m;this.Wa=S.createTexture();this.RK=null;this.ea(this.Wa,Z,m)};N.ob.prototype.ea=function(Z,m,S){var B=N.az;
B.bindTexture(B.TEXTURE_2D,Z);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,B.NEAREST);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.NEAREST);
B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,B.CLAMP_TO_EDGE);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,B.CLAMP_TO_EDGE);
B.texImage2D(B.TEXTURE_2D,0,B.ALPHA,m,S,0,B.ALPHA,B.UNSIGNED_BYTE,null)};N.ob.prototype.set=function(Z){var m=N.az;
m.bindTexture(m.TEXTURE_2D,this.Wa);m.pixelStorei(m.UNPACK_ALIGNMENT,1);m.texImage2D(m.TEXTURE_2D,0,m.ALPHA,this.e,this.n,0,m.ALPHA,m.UNSIGNED_BYTE,Z);
m.pixelStorei(m.UNPACK_ALIGNMENT,4)};N.ob.prototype.delete=function(){var Z=N.az;if(this.Wa){Z.deleteTexture(this.Wa);
N.M3--;N.e3-=this.e*this.n}if(N.qg)if(N.qg)console.log("GL.Channels instances: "+N.M3+", memory: "+N.e3*4)};
N.M3=0;N._8=function(Z,m,S){if(S==null)S=!1;N.M3++;N.e3+=Z*m*4;if(N.qg)console.log("GL.Channels instances: "+N.M3+", memory: "+N.e3);
var B=N.az;this.ame=S;this.e=Z;this.n=m;this.Wa=B.createTexture();this.RK=null;this.ea(this.Wa,Z,m)};
N._8.prototype.set=function(Z,m){var S=N.az;S.disable(S.SCISSOR_TEST);S.bindTexture(S.TEXTURE_2D,this.Wa);
if(Z==null||Z instanceof Uint8Array){var B=this.e*this.n;if(m==null||m.Z()*10>B)S.texImage2D(S.TEXTURE_2D,0,S.RGBA,this.e,this.n,0,S.RGBA,S.UNSIGNED_BYTE,Z);
else{var C=l.U(m.Z()*4);l.pY(Z,new bq(0,0,this.e,this.n),C,m);S.texSubImage2D(S.TEXTURE_2D,0,m.x,m.y,m.e,m.n,S.RGBA,S.UNSIGNED_BYTE,C)}}else S.texImage2D(S.TEXTURE_2D,0,S.RGBA,S.RGBA,S.UNSIGNED_BYTE,Z)};
N._8.prototype.get=function(Z){var m=N.az;N.dF(this);m.readPixels(0,0,this.e,this.n,m.RGBA,m.UNSIGNED_BYTE,Z)};
N._8.prototype.EZ=function(Z){if(Z.Ov())return;var m=N.az;if(this.RK==null){this.RK=m.createTexture();
this.ea(this.RK,this.e,this.n);N.M3++;N.e3+=this.e*this.n*4}m.bindFramebuffer(m.FRAMEBUFFER,N.sA);m.bindTexture(m.TEXTURE_2D,this.RK);
if(Z){var S=Math.max(Z.x,0),B=Math.max(Z.y,0);m.copyTexSubImage2D(m.TEXTURE_2D,0,S,B,S,B,Z.e,Z.n)}else m.copyTexImage2D(m.TEXTURE_2D,0,m.RGBA,0,0,this.e,this.n,0)};
N._8.prototype.ea=function(Z,m,S){var B=N.az;B.bindTexture(B.TEXTURE_2D,Z);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,this.ame?B.LINEAR:B.NEAREST);
B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,B.NEAREST);B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_S,B.CLAMP_TO_EDGE);
B.texParameteri(B.TEXTURE_2D,B.TEXTURE_WRAP_T,B.CLAMP_TO_EDGE);B.texImage2D(B.TEXTURE_2D,0,B.RGBA,m,S,0,B.RGBA,B.UNSIGNED_BYTE,null)};
N._8.prototype.delete=function(){var Z=N.az;if(this.Wa){Z.deleteTexture(this.Wa);N.M3--;N.e3-=this.e*this.n*4}if(this.RK){Z.deleteTexture(this.RK);
N.M3--;N.e3-=this.e*this.n*4}if(N.qg)if(N.qg)console.log("GL.Channels instances: "+N.M3+", memory: "+N.e3)};
N._8.prototype.clone=function(){var Z=N.az,m=new N._8(this.e,this.n);N.dF(this);Z.bindTexture(Z.TEXTURE_2D,m.Wa);
Z.copyTexImage2D(Z.TEXTURE_2D,0,Z.RGBA,0,0,this.e,this.n,0);return m};N.IO={a06:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",ai1:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",nC:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",aL:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",ft:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",yL:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",iT:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",ty:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aae:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",M9:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",ach:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",KL:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",q2:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",M8:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",kq:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",El:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",$C:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",TX:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",W6:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",apa:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",ads:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",E5:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",xa:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
N.a={};N.a.qS={};N.a.KS=null;N.a.pn=null;N.a.Zb=null;N.a.Bh=function(Z,m,S,B,C,u,r,k){if(k==null)k=aK.Tt();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(Z)==-1){r=r*k.fill;k.fill=1;k.style=!1}var v=Z+(k.Tv?"1":"");
if(N.a.qS[v]==null)N.a.qS[v]=new N.a.Bg(Z,k.Tv!=null);var e=N.a.qS[v],j=S.o9(C).o9(u);j.offset(-C.x,-C.y);
if(j.Ov())return;var $=N.az;N.dF(B,j);B.EZ(j);e.Sl();e.qV(m.Wa,B.RK,N.Oo(S,C),r,k.fill,k.style?1:0,k.UN?1:0,k.Tv?new Float32Array(k.Tv):null);
$.drawArrays($.TRIANGLES,0,6)};N.a.ro=function(Z,m,S,B,C,u,r,k,v,e,j){if(N.a.KS==null)N.a.KS=new N.a.z1(!0,!0);
if(N.a.pn==null)N.a.pn=new N.a.z1(!0,!1);if(N.a.Zb==null)N.a.Zb=new N.a.z1(!1,!0);var $=e?1:0,U=Z?C?N.a.KS:N.a.pn:N.a.Zb,H=new Float32Array(j?[j[0],j[1],j[2],1]:[1,1,1,1]),z=m?m.o9(B).o9(k):B.o9(k);
if(z.Ov())return;z.offset(-B.x,-B.y);var f=N.az;N.dF(S,z);S.EZ(z);U.Sl();if(Z==null)U.qV(null,S.RK,C.Wa,N.Oo(B,B),N.Oo(u,B),r/255,v,$,H);
else if(C)U.qV(Z.Wa,S.RK,C.Wa,N.Oo(m,B),N.Oo(u,B),r/255,v,$,H);else U.qV(Z.Wa,S.RK,null,N.Oo(m,B),null,r/255,v,$,H);
f.drawArrays(f.TRIANGLES,0,6)};N.a.a0N=function(Z,m,S){if(N.a.afx==null)N.a.afx=new N.a.pV;var B=N.a.afx,C=new bq(0,0,Z.e,Z.n),u=N.az;
N.dF(m);m.EZ(C);B.Sl();B.qV(C,Z.Wa,m.RK,S.Wa);u.drawArrays(u.TRIANGLES,0,6)};N.a.Hg={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
N.a.Bg=function(Z,m){N.lq.call(this);var S="\t\t\tprecision highp float;\t\t\t"+N.IO.nC+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(m?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+N.IO.yL+"\t\t\t"+N.IO.iT+"\t\t\t"+N.IO.ty+"\t\t\t"+N.IO.a06+"\t\t\t"+N.IO.ai1+"\t\t\t"+N.IO.aae+"\t\t\t"+N.IO.M9+"\t\t\t"+N.IO.ach+"\t\t\t"+N.IO.KL+"\t\t\t"+N.IO.hash+"\t\t\t"+(m?N.IO.E5:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+N.a.Hg[Z]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",B="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(Z=="diss")S+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else S+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(m?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.R$(S,B)};N.a.Bg.prototype=new N.lq;N.a.Bg.prototype.qV=function(Z,m,S,B,C,u,r,k){this.i6("srct alpha source target fill style keepBGA blIf".split(" "));
var v=N.az,e=this.Ez;v.uniform4fv(e.srct,S);v.uniform1f(e.alpha,B);v.uniform1f(e.fill,C);v.uniform1f(e.style,u);
v.uniform1f(e.keepBGA,r);if(k)v.uniform4fv(e.blIf,k);this.sX([e.source,Z,e.target,m])};N.a.z1=function(Z,m){N.lq.call(this);
this.atB=Z;this.M2=m;var S="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+N.IO.q2+"\t\t\t"+N.IO.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(Z?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(m?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(Z?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(m?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",B="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.R$(S,B)};N.a.z1.prototype=new N.lq;N.a.z1.prototype.qV=function(Z,m,S,B,C,u,r,k,v){if(this.M2)this.i6("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.i6("srct awg dissv source target cswitch".split(" "));var e=N.az,j=this.Ez;e.uniform4fv(j.srct,B);
if(this.M2){e.uniform4fv(j.wrct,C);e.uniform1f(j.wcolor,u)}else{e.uniform4fv(j.cswitch,v)}e.uniform1f(j.awg,r);
e.uniform1f(j.dissv,k);var $=[j.source,Z,j.target,m];if(this.M2)$.push(j.weight,S);this.sX($)};N.a.pV=function(){N.lq.call(this);
var Z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",m="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.R$(Z,m)};N.a.pV.prototype=new N.lq;N.a.pV.prototype.qV=function(Z,m,S,B){this.i6(["rct","prev","next","alpha"]);
var C=N.az,u=this.Ez;C.uniform4fv(u.rct,[0,0,1,1]);this.sX([u.prev,m,u.next,S,u.alpha,B])};N.sv={As:{},VF:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
N.sv.oj=function(Z,m){var S=e$.OK,B=[S.Rk,S.rx,S.Q6,S.nG,S.jz,S.Nj,S.ES,S.cp].indexOf(Z.type),C=N.sv.As[Z.type];
if(C==null)C=N.sv.As[Z.type]=new N.As[B];C.Sl();C.qV(m,Z);N.az.drawArrays(N.az.TRIANGLES,0,6)};N.As=[];
N.As[0]=function(){N.lq.call(this);this.nF={};var Z="\t\t\tprecision mediump float;\t\t\t"+N.IO.iT+"\t\t\t"+N.IO.nC+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.R$(Z,N.sv.VF)};N.As[0].prototype=new N.lq;N.As[0].prototype.qV=function(Z,m){var S={I:m.ih,z:m.u7,S:m.o6,AQ:l.U(m.ih.length)},B=S.I.length;
if(this.nF["m"+B]==null){this.nF["m"+B]={amq:new N._8(B,1),MW:l.U(B*4)}}var C=this.nF["m"+B];l.t5(S,C.MW,0);
var u=C.amq;u.set(C.MW);this.i6(["source","map","toGray","presLum"]);var r=N.az,k=this.Ez;r.uniform1f(k.toGray,m.he?1:0);
r.uniform1f(k.presLum,m.hv?1:0);this.sX([k.source,Z,k.map,u.Wa])};N.As[1]=function(){N.lq.call(this);
this.ajv=new N._8(256,1);this.arA=l.U(256*4);var Z="\t\t\t\tprecision mediump float;\t\t\t\t"+N.IO.El+"\t\t\t\t"+N.IO.M8+"\t\t\t\t"+N.IO.kq+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.R$(Z,N.sv.VF)};N.As[1].prototype=new N.lq;N.As[1].prototype.qV=function(Z,m){l.t5({I:m.aqh,z:m.YV,S:m.aiA,AQ:l.U(256)},this.arA);
this.ajv.set(this.arA);this.i6(["source","map","cfa","cfb","colorize"]);var S=N.az,B=this.Ez;S.uniform1f(B.cfa,m.a4T);
S.uniform1f(B.cfb,m.UE);S.uniform1i(B.colorize,m.a47);this.sX([B.source,Z,B.map,this.ajv.Wa])};N.As[2]=function(){N.lq.call(this);
var Z="\t\t\tprecision mediump float;\t\t\t"+N.IO.El+"\t\t\t"+N.IO.$C+"\t\t\t"+N.IO.TX+"\t\t\t"+N.IO.M8+"\t\t\t"+N.IO.kq+"\t\t\t"+N.IO.apa+"\t\t\t"+N.IO.ads+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.R$(Z,N.sv.VF)};N.As[2].prototype=new N.lq;N.As[2].prototype.qV=function(Z,m){this.i6(["source","vib","sat","yF"]);
var S=N.az,B=this.Ez;S.uniform1f(B.vib,m.Lh[0]);S.uniform1f(B.sat,m.Lh[1]);S.uniform3fv(B.yF,new Float32Array([m.Lh[2],m.Lh[3],m.Lh[3]]));
this.sX([B.source,Z])};N.As[3]=function(){N.lq.call(this);var Z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.R$(Z,N.sv.VF)};N.As[3].prototype=new N.lq;N.As[3].prototype.qV=function(Z,m){this.i6(["source","trf"]);
var S=N.az,B=this.Ez;S.uniformMatrix4fv(B.trf,!1,new Float32Array(l.fd.O5(m.TZ)));this.sX([B.source,Z])};
N.As[4]=function(){N.lq.call(this);var Z="\t\t\tprecision mediump float; \t\t\t"+N.IO.W6+"\t\t\t"+N.IO.El+"\t\t\t"+N.IO.kq+"\t\t\t"+N.IO.M8+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.R$(Z,N.sv.VF)};N.As[4].prototype=new N.lq;N.As[4].prototype.qV=function(Z,m){this.i6(["source","mnm","mxm","shift","lim"]);
var S=N.az,B=this.Ez;S.uniform3fv(B.mnm,new Float32Array(m.fI));S.uniform3fv(B.mxm,new Float32Array(m.MC));
S.uniform3fv(B.shift,new Float32Array(m.shift));S.uniform1f(B.lim,m.Lc);this.sX([B.source,Z])};N.As[5]=function(){N.lq.call(this);
var Z="\t\t\tprecision mediump float;\t\t\t"+N.IO.nC+"\t\t\t"+N.IO.aL+"\t\t\t"+N.IO.ft+"\t\t\t"+N.IO.M8+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.R$(Z,N.sv.VF)};N.As[5].prototype=new N.lq;N.As[5].prototype.qV=function(Z,m){this.i6(["source","cfs"]);
var S=N.az,B=this.Ez;S.uniform3fv(B.cfs,m.aaB);this.sX([B.source,Z])};N.As[6]=function(){N.lq.call(this);
var Z="\t\t\tprecision mediump float;\t\t\t"+N.IO.El+"\t\t\t"+N.IO.aL+"\t\t\t"+N.IO.ft+"\t\t\t"+N.IO.M8+"\t\t\t"+N.IO.kq+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.R$(Z,N.sv.VF)};N.As[6].prototype=new N.lq;N.As[6].prototype.qV=function(Z,m){this.i6(["source","wght","prms"]);
var S=N.az,B=this.Ez,C=[m.wY,m.a7V,m.iT,m.as5,m.iR,m.a9d];S.uniform1fv(B.wght,new Float32Array(m.asE));
S.uniform1fv(B.prms,new Float32Array(C));this.sX([B.source,Z])};N.As[7]=function(){N.lq.call(this);this.TV={};
var Z="\t\t\tprecision mediump float;\t\t\t"+N.IO.xa+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.R$(Z,N.sv.VF)};N.As[7].prototype=new N.lq;N.As[7].prototype.qV=function(Z,m){this.i6(["source","lut","N"]);
var S=N.az,B=this.Ez,C=m.xX,u=m.aP;if(this.TV["m"+C]==null)this.TV["m"+C]=new N._8(C,C*C);var r=this.TV["m"+C];
r.set(u);S.uniform1f(B.N,C);this.sX([B.source,Z,B.lut,r.Wa]);S.activeTexture(S.TEXTURE1);var k=S.LINEAR;
S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,k);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,k);
S.activeTexture(S.TEXTURE0)};N.filter={SU:{},VF:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",anZ:0,aew:1,XR:2,ais:3,aeh:4,aol:5,Ax:6,ajs:7};
N.filter.oj=function(Z,m){var S=N.filter,B,C=Z.type+":"+(Z.xe?Z.xe.join(","):""),B=N.filter.SU[C];if(B==null)B=N.filter.SU[C]=new N.SU[Z.type](Z.xe);
B.Sl();B.qV(m,Z);N.az.drawArrays(N.az.TRIANGLES,0,6)};N.SU=[0,0,0,0,0,0,0,0,0,0,0,0];N.SU[7]=function(){N.lq.call(this);
var Z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.R$(dR.Fr(Z),dR.Fr(N.filter.VF))};N.SU[7].prototype=new N.lq;N.SU[7].prototype.qV=function(Z,m){this.i6(["source","iwh","kern"]);
var S=N.az,B=this.Ez;S.uniform2fv(B.iwh,m.hh);S.uniform1fv(B.kern,m.auG);this.sX([B.source,Z])};N.SU[6]=function(Z){N.lq.call(this);
var m=Z[0],S=Z[1],B=Z[2],C="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",u=dR.Fr(C);
u=u.replaceAll("PRC",B+".0");u=u.replaceAll("DIR",["x,0","0,x"][S]);this.R$(u,N.sv.VF)};N.SU[6].prototype=new N.lq;
N.SU[6].prototype.qV=function(Z,m){this.i6(["source","iwh","rad"]);var S=N.az,B=this.Ez;S.uniform2fv(B.iwh,m.hh);
S.uniform1f(B.rad,m.sP);this.sX([B.source,Z])};N.SU[4]=function(Z){N.lq.call(this);var m=Z[0],S=Z[1],B="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+Z[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][S]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][m]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][S]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(S==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.R$(B,N.sv.VF)};N.SU[4].prototype=new N.lq;N.SU[4].prototype.qV=function(Z,m){this.i6(["source","iwh","rrad","tr"]);
var S=N.az,B=this.Ez;S.uniform2fv(B.iwh,m.hh);S.uniform1f(B.rrad,m.yx);S.uniform1f(B.tr,m.agc);this.sX([B.source,Z]);
var C=S.LINEAR;C=S.NEAREST;S.activeTexture(S.TEXTURE0);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,C);
S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,C);S.activeTexture(S.TEXTURE0)};N.SU[5]=function(){N.lq.call(this);
var Z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.R$(dR.Fr(Z),dR.Fr(N.filter.VF))};N.SU[5].prototype=new N.lq;N.SU[5].prototype.qV=function(Z,m){this.i6(["source","ssum","iwh","amnt","edgf"]);
var S=N.az,B=this.Ez;S.uniform2fv(B.iwh,m.hh);S.uniform1f(B.amnt,m.afw);S.uniform1f(B.edgf,m.aui);this.sX([B.source,Z,B.ssum,m.ak1])};
N.SU[3]=function(){N.lq.call(this);var Z="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.R$(dR.Fr(Z),dR.Fr(N.filter.VF))};N.SU[3].prototype=new N.lq;N.SU[3].prototype.qV=function(Z,m){this.i6("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var S=N.az,B=this.Ez;S.uniform2fv(B.iwh,m.hh);S.uniform1f(B.tdep,m.agm);S.uniform1f(B.rrad,m.yx);S.uniform2fv(B.spec,m.aiG);
S.uniform3fv(B.nois,m.art);S.uniformMatrix4fv(B.poly0,!1,m.a6A);S.uniformMatrix4fv(B.poly1,!1,m.asi);
this.sX([B.source,Z]);var C=S.LINEAR;S.activeTexture(S.TEXTURE0);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,C);
S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,C);S.activeTexture(S.TEXTURE0)};N.SU[0]=function(){N.lq.call(this);
var Z="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.R$(dR.Fr(Z),dR.Fr(N.filter.VF))};N.SU[0].prototype=new N.lq;N.SU[0].prototype.qV=function(Z,m){this.i6(["source","iwh","ld","shine"]);
var S=N.az,B=this.Ez;S.uniform2fv(B.iwh,m.hh);S.uniform3fv(B.ld,m.a16);S.uniform1f(B.shine,m.afC);this.sX([B.source,Z,B.tang,m.gs])};
N.SU[1]=function(){N.lq.call(this);var Z="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.R$(dR.Fr(Z),dR.Fr(N.filter.VF))};N.SU[1].prototype=new N.lq;N.SU[1].prototype.qV=function(Z,m){this.i6(["source","iwh","isc","bristle"]);
var S=N.az,B=this.Ez;S.uniform2fv(B.iwh,m.hh);S.uniform1f(B.isc,m.at7);S.uniform1f(B.bristle,m.a3O);
this.sX([B.source,Z])};N.SU[2]=function(){N.lq.call(this);var Z="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.R$(dR.Fr(Z),dR.Fr(N.filter.VF))};N.SU[2].prototype=new N.lq;N.SU[2].prototype.qV=function(Z,m){this.i6(["source","tang","iwh","sigma","expo"]);
var S=N.az,B=this.Ez;S.uniform2fv(B.iwh,m.hh);S.uniform1f(B.sigma,m.aqw);S.uniform1f(B.expo,m.a07);this.sX([B.source,Z,B.tang,m.gs]);
var C=S.LINEAR;S.activeTexture(S.TEXTURE0);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,C);S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,C);
S.activeTexture(S.TEXTURE0)};function l(){}l.p={};l.anS={};l.arf=function(){var Z=[64,64,128,256,512,1024,2048],m=[];
for(var q=0;q<Z.length;q++){var S=Z[q],B=document.createElement("canvas");B.width=S;B.height=S;m.push(B.getContext("2d"))}return m}();
l.Df=function(Z,m){var S,B=l.arf,q=1,C=Math.max(Z,m);while(q<B.length&&C>B[q].canvas.width)q++;if(q==B.length){S=B[0];
var u=S.canvas;u.width=Z;u.height=m}else{S=B[q];S.clearRect(0,0,Z,m)}return S};l.Cq=function(Z,m,S){var B=new Uint32Array(m*S);
B[0]=Z[0];for(var C=1;C<m;C++)B[C]=B[C-1]+Z[C];for(var u=1;u<S;u++){var q=u*m;B[q]=B[q-m]+Z[q];for(var C=1;
C<m;C++)B[q+C]=Z[q+C]+B[q+C-1]+B[q+C-m]-B[q+C-m-1]}return B};l.$e=function(Z,m,S,B,C,u){var r=(C-1)*m,k=u*m;
return Z[k+B]-Z[k+S-1]-Z[r+B]+Z[r+S-1]};l.Mh=function(Z,m,S){var B={},C=0,u=0,r=new Uint32Array(Z.buffer),k=r.length,v=Date.now();
for(var e=1;e<S-1;e++)for(var j=1;j<m-1;j++){var $=e*m+j,U=r[$];if(U>>>24<230)u++;if(B[U]==null){B[U]=!0;
C++}}if(u!=0||C<20)return!1;return!0};l.AN=function(Z,m,S,B,C,u){if(C==null)C=u=0;B=Math.log(B)/Math.log(2);
B=Math.round(B);for(var q=0;q<S;q++)for(var r=0;r<m;r++){var k=q*m+r<<2,v=l.tM(q+u,r+C,B);Z[k]=Z[k+1]=Z[k+2]=v;
Z[k+3]=255}};l.tM=function(q,Z,m){return 255-((q>>>m)+(Z>>>m)&1)*51};l.L5=function(Z){var m=Z.toString(16);
while(m.length<6)m="0"+m;return m};l.da=function(Z){return parseInt(Z,16)};l.iT=function(Z){return.3*Z.I+.59*Z.z+.11*Z.S};
l.yL=function(Z){return Math.max(Z.I,Z.z,Z.S)-Math.min(Z.I,Z.z,Z.S)};l.dA=function(Z,m,S){return.3*Z+.59*m+.11*S};
l.ai5=function(Z,m,S){return Math.max(Z,m,S)-Math.min(Z,m,S)};l.aL=function(Z,m){var S=m-Z,B=Math.abs(S),C=S-1,u=S+1;
if(Math.abs(C)<B)S=C;else if(Math.abs(u)<B)S=u;return S};l.mg=function(Z){return Z<.0031308?12.92*Z:1.055*Math.pow(Z,1/2.4)-.055};
l.CQ=function(Z){return Z<.04045?Z/12.92:Math.pow((Z+.055)/1.055,2.4)};l.asZ=function(Z,m){var S=Math.min(Z.length,m.length);
for(var q=0;q<S;q+=4){var B=Z[q],C=Z[q+1],u=Z[q+2];m[q]=16+Math.floor(65.481/255*B+128.553/255*C+24.966/255*u+.5);
m[q+1]=128-Math.floor(37.797/255*B-74.203/255*C+112/255*u+.5);m[q+2]=128+Math.floor(112/255*B-93.786/255*C-18.214/255*u+.5);
m[q+3]=Z[q+3]}};l.arb=function(Z,m,S){var B,C,u,r=Math.max(Z,m,S),k=Math.min(Z,m,S);u=r;if(r!=0)C=(r-k)/r;
else C=0;if(C==0)B=0;else{var v=r-k,e=(r-Z)/v,j=(r-m)/v,$=(r-S)/v;if(Z==r)B=$-j;else if(m==r)B=2+e-$;
else B=4+j-e;B*=1/6;if(B<0)B=B+1}return{Vi:B,Ve:C,S:u}};l.a3p=function(Z,m,S){var B=0,C=0,u=0;if(m==0)B=C=u=S;
else{var r=(Z-Math.floor(Z))*6,k=Math.floor(r),v=r-Math.floor(r),e=S*(1-m),j=S*(1-m*v),$=S*(1-m*(1-v));
switch(k){case 0:B=S;C=$;u=e;break;case 1:B=j;C=S;u=e;break;case 2:B=e;C=S;u=$;break;case 3:B=e;C=j;
u=S;break;case 4:B=$;C=e;u=S;break;case 5:B=S;C=e;u=j;break}}return{I:B,z:C,S:u}};l.M8=function(Z,m,S){var B=Math.max(Z,m,S),C=Math.min(Z,m,S),u=0,r=0,k=(B+C)*.5;
if(B!=C){var v=B-C;r=k>.5?v/(2-(B+C)):v/(B+C);switch(B){case Z:u=(m-S)/v+(m<S?6:0);break;case m:u=(S-Z)/v+2;
break;case S:u=(Z-m)/v+4;break}u*=1/6}return{Vi:u,Ve:r,bN:k}};l.kq=function(Z,m,S){var B,C,u;if(m==0)B=C=u=S;
else{var r=S<.5?S*(1+m):S+m-S*m,k=2*S-r;B=l.El(k,r,Z+1/3);C=l.El(k,r,Z);u=l.El(k,r,Z-1/3)}return{I:B,z:C,S:u}};
l.El=function(Z,m,S){if(S<0)S+=1;if(S>1)S-=1;if(S<1/6)return Z+(m-Z)*6*S;if(S<1/2)return m;if(S<2/3)return Z+(m-Z)*(2/3-S)*6;
return Z};l.$C=function(Z,m,S){var B=Math.max(Z,m,S),C=Math.min(Z,m,S),u,r,k=B,v=B-C;r=B==0?0:v/B;if(B==C)u=0;
else{switch(B){case Z:u=(m-S)/v+(m<S?6:0);break;case m:u=(S-Z)/v+2;break;case S:u=(Z-m)/v+4;break}u*=1/6}return{Vi:u,Ve:r,jA:k}};
l.TX=function(Z,m,S){var B,C,u,q,r,k,v,e;q=Math.floor(Z*6);r=Z*6-q;k=S*(1-m);v=S*(1-r*m);e=S*(1-(1-r)*m);
switch(q%6){case 0:B=S,C=e,u=k;break;case 1:B=v,C=S,u=k;break;case 2:B=k,C=S,u=e;break;case 3:B=k,C=v,u=S;
break;case 4:B=e,C=k,u=S;break;case 5:B=S,C=k,u=v;break}return{I:B,z:C,S:u}};l.tb=function(){var Z=[],m=[];
for(var q=0;q<2e3;q++){var S=q/1e3;Z[q]=l.CQ(S);m[q]=S>.008856?Math.pow(S,1/3):(903.3*S+16)*(1/116)}return[Z,m]}();
l.W6=function(Z,m,S){var B=l.tb[0],C=l.tb[1];Z=B[~~(Z*(1e3/255))];m=B[~~(m*(1e3/255))];S=B[~~(S*(1e3/255))];
var u=l.fd.a08,r=u[0]*Z+u[1]*m+u[2]*S,k=u[4]*Z+u[5]*m+u[6]*S,v=u[8]*Z+u[9]*m+u[10]*S;r=r*(100/96.72);
k=k*(100/100);v=v*(100/81.427);return l.ai(r,k,v)};l.ai=function(Z,m,S){var B=l.tb[1],C=B[~~(Z*1e3)],u=B[~~(m*1e3)],r=B[~~(S*1e3)];
return{Ma:116*u-16,AQ:500*(C-u),S:200*(u-r)}};l.y7=function(Z,m,S){var B=903.3,C=.008856,u=(Z+16)/116,r=u*u*u,k=u-S/200,v=k*k*k,e=m/500+u,j=e*e*e,$=v>C?v:(116*k-16)/B,U=r>C?r:(116*u-16)/B,H=j>C?j:(116*e-16)/B,z=H*96.72,f=U*100,D=$*81.427,n=l.fd.b1(l.fd.Cx,[z/100,f/100,D/100,0]);
for(var q=0;q<4;q++)n[q]=Math.max(0,Math.min(255,l.mg(n[q])*255));return{I:n[0],z:n[1],S:n[2]}};l.bv=function(Z,m,S,B,C){var u=Z.Ma,r=Z.AQ,k=Z.S,v=(u<m.Ma?m.Ma-u:S.Ma<u?S.Ma-u:0)*(1/100),e=(r<m.AQ?m.AQ-r:S.AQ<r?S.AQ-r:0)*(1/116),j=(k<m.S?m.S-k:S.S<k?S.S-k:0)*(1/116),$=Math.sqrt(v*v+e*e+j*j)*1.35;
return $<=B?Math.min(1,1.17*(1-$*C)):0};l.Iy=function(Z,m,S){var B=Z.length,C=.3,u=.59,r=.11;if(S){C=S[0];
u=S[1];r=S[2]}for(var q=0;q<B;q+=4)m[q>>2]=~~(Z[q+0]*C+Z[q+1]*u+Z[q+2]*r+.5)};l.Dc=function(Z,m){var S=m.length;
for(var q=0;q<S;q+=4){var B=Z[q>>>2];m[q]=B;m[q+1]=B;m[q+2]=B}};l.t5=function(Z,m){var S=Z.AQ,B=Z.I,C=Z.z,u=Z.S,r=Math.min(Z.AQ.length,m.buffer.byteLength>>>2),k=4*Math.floor(r/4),v=new Uint32Array(m.buffer),e=new Uint32Array(S.buffer),j=new Uint32Array(B.buffer),$=new Uint32Array(C.buffer),U=new Uint32Array(u.buffer);
for(var q=0;q<k;q+=4){var H=e[q>>2],z=U[q>>2],f=$[q>>2],D=j[q>>2];v[q]=H<<24|(z&255)<<16|(f&255)<<8|D&255;
v[q+1]=(H&65280)<<16|(z&65280)<<8|f&65280|(D&65280)>>>8;v[q+2]=(H&16711680)<<8|z&16711680|(f&16711680)>>>8|(D&16711680)>>>16;
v[q+3]=H&4278190080|(z&4278190080)>>>8|(f&4278190080)>>>16|(D&4278190080)>>>24}for(var q=k;q<r;q++)v[q]=S[q]<<24|u[q]<<16|C[q]<<8|B[q]};
l.Fz=function(Z,m){var S=m.AQ,B=m.I,C=m.z,u=m.S,r=Math.min(m.AQ.length,Z.buffer.byteLength>>>2),k=4*Math.floor(r/4),v=new Uint32Array(Z.buffer),e=new Uint32Array(S.buffer),j=new Uint32Array(B.buffer),$=new Uint32Array(C.buffer),U=new Uint32Array(u.buffer);
for(var q=0;q<k;q+=4){var H=v[q],z=v[q+1],f=v[q+2],D=v[q+3];j[q>>2]=H&255|(z&255)<<8|(f&255)<<16|D<<24;
$[q>>2]=(H&65280)>>8|z&65280|(f&65280)<<8|(D&65280)<<16;U[q>>2]=(H&16711680)>>16|(z&16711680)>>8|f&16711680|(D&16711680)<<8;
e[q>>2]=H>>>24|z>>>24<<8|f>>>24<<16|D&4278190080}for(var q=k;q<r;q++){var n=v[q];B[q]=n>>0&255;C[q]=n>>8&255;
u[q]=n>>16&255;S[q]=n>>24&255}};l.NK=function(Z,m,S){var B=new Uint8Array(Z.buffer),C=Math.min(B.length/4,m.length);
for(var q=0;q<C;q++){m[q]=B[(q<<2)+S]}};l.cN=function(Z,m,S){var B=new Uint8Array(m.buffer),C=new Uint32Array(Z.buffer),u=Math.min(B.length/4,Z.length),q=0;
while(q+4<u){var r=C[q>>>2];B[(q<<2)+S]=r&255;B[(q<<2)+S+4]=r>>>8&255;B[(q<<2)+S+8]=r>>>16&255;B[(q<<2)+S+12]=r>>>24;
q+=4}while(q<u){B[(q<<2)+S]=Z[q];q++}};l._z=function(Z,m,S){if(S==null)S=0;var B=new Uint32Array(Z.buffer),C=B.length;
for(var q=0;q<C;q++)B[q]=B[q]&S|m};l.auv=function(Z,m,S,B,C){if(C==null)C=0;var u=new Uint32Array(Z.buffer);
S=S.o9(m);var r=S.x-m.x,k=S.y-m.y,v=S.e,e=S.n,j=m.e;for(var $=0;$<e;$++){var q=(k+$)*j+r;for(var U=0;
U<v;U++){u[q]=u[q]&C|B;q++}}};l.Yx=function(Z,m){var S=Math.min(Z.buffer.byteLength,m.buffer.byteLength),B=S>>>2,Z=new Uint32Array(Z.buffer,0,B),m=new Uint32Array(m.buffer,0,B);
m.set(Z)};l.Qu=function(Z,m){var S=Z.buffer.byteLength,B=m.buffer.byteLength,C=new Uint32Array(Z.buffer,0,S>>2),u=new Uint32Array(m.buffer,0,B>>2);
if(S!=B)return!1;var r=C.length;for(var q=0;q<r;q++)if(u[q]!=C[q])return!1;return!0};l.Yy=function(Z){var m=new Uint32Array(Z.buffer),S=m.length;
for(var q=0;q<S;q++)m[q]=~m[q]};l.a23=function(Z){var m=Z.length;for(var q=0;q<m;q+=4){Z[q]=~Z[q];Z[q+1]=~Z[q+1];
Z[q+2]=~Z[q+2]}};l.asK=function(Z){var m=Z.length;for(var q=3;q<m;q+=4)Z[q]=~Z[q]};l.aqT=function(Z){return Z+(Z%4==0?0:4-Z%4)};
l.U=function(Z,m){if(m==null)m=!1;if(!m)Z=l.aqT(Z);try{var S=new Uint8Array(Z)}catch(iD){alert("Not enough RAM! (need "+Math.round(Z/(1<<20))+" MB)",7e3);
throw"low_ram"}return S};l.io=function(Z){var m=Z.length,S=Z[m-2],B=Z[m-1];while(B.e>=2&&B.n>=2){var C=l.UC(S,B);
Z.push(C.MW,C.rect);S=C.MW;B=C.rect}};l.mE=function(Z){var m=Z.length,S=Z[m-2],B=Z[m-1];while(B.e>=2&&B.n>=2){var C=l.ux(S,B);
Z.push(C.MW,C.rect);S=C.MW;B=C.rect}};l.UC=function(Z,m,S){var B=m.e,C=m.n,u=B>>1,r=C>>1,k=new bq(m.x,m.y,u,r),v=S&&S.length==u*r*4?S:l.U(u*r*4),e=new Uint32Array(Z.buffer),j=new Uint32Array(v.buffer);
for(var $=0;$<r;$++)for(var U=0;U<u;U++){var H=$*u+U,z=($<<1)*B+(U<<1),f=e[z],D=e[z+1],n=e[z+B],L=e[z+B+1],a=f>>>24,F=D>>>24,A=n>>>24,T=L>>>24,P=a+F+A+T;
if(P==1020){var Y=(f>>>0&255)+(D>>>0&255)+(n>>>0&255)+(L>>>0&255)+2>>>2,Q=(f>>>8&255)+(D>>>8&255)+(n>>>8&255)+(L>>>8&255)+2>>>2,o=(f>>>16&255)+(D>>>16&255)+(n>>>16&255)+(L>>>16&255)+2>>>2;
j[H]=255<<24|o<<16|Q<<8|Y}else if(P==0)j[H]=0;else{var Y=(f>>>0&255)*a+(D>>>0&255)*F+(n>>>0&255)*A+(L>>>0&255)*T,Q=(f>>>8&255)*a+(D>>>8&255)*F+(n>>>8&255)*A+(L>>>8&255)*T,o=(f>>>16&255)*a+(D>>>16&255)*F+(n>>>16&255)*A+(L>>>16&255)*T,I=1/P;
Y=~~(Y*I+.5);Q=~~(Q*I+.5);o=~~(o*I+.5);j[H]=P+2>>>2<<24|o<<16|Q<<8|Y}}return{rect:k,MW:v}};l.CV=function(Z,m,S){var B=m.e,C=m.n,u=B>>1,r=C>>1,k=new bq(m.x,m.y,u,r),v=S&&S.length==u*r*4?S:l.U(u*r*4),e=new Uint32Array(Z.buffer),j=new Uint32Array(v.buffer);
for(var $=0;$<r;$++)for(var U=0;U<u;U++){var H=$*u+U,z=($<<1)*B+(U<<1),f=e[z],D=e[z+1],n=e[z+B],L=e[z+B+1],a=2+(f>>>0&255)+(D>>>0&255)+(n>>>0&255)+(L>>>0&255)>>>2,F=2+(f>>>8&255)+(D>>>8&255)+(n>>>8&255)+(L>>>8&255)>>>2,A=2+(f>>>16&255)+(D>>>16&255)+(n>>>16&255)+(L>>>16&255)>>>2,T=2+(f>>>24&255)+(D>>>24&255)+(n>>>24&255)+(L>>>24&255)>>>2;
j[H]=T<<24|A<<16|F<<8|a}return{rect:k,MW:v}};l.a0s=function(Z,m,S){var B=m.e,C=m.n,u=2*Math.floor(B/3),r=2*Math.floor(C/3),k=new bq(m.x,m.y,u,r),v=S&&S.length==u*r*4?S:l.U(u*r*4),e=new Uint32Array(Z.buffer),j=new Uint32Array(v.buffer);
for(var $=0;$<r;$+=2)for(var U=0;U<u;U+=2){var H=$*u+U,z=($*3>>>1)*B+(U*3>>>1),f=e[z],D=e[z+1],n=e[z+2],L=e[z+B],a=e[z+1+B],F=e[z+2+B],A=e[z+B+B],T=e[z+1+B+B],P=e[z+2+B+B],Y=f>>>24<<2,Q=(f>>>16&255)*Y,o=(f>>>8&255)*Y,I=(f&255)*Y,c=D>>>24<<1,y=(D>>>16&255)*c,i=(D>>>8&255)*c,d=(D&255)*c,V=n>>>24<<2,R=(n>>>16&255)*V,G=(n>>>8&255)*V,M=(n&255)*V,O=L>>>24<<1,K=(L>>>16&255)*O,W=(L>>>8&255)*O,t=(L&255)*O,X=a>>>24,h=(a>>>16&255)*X,b=(a>>>8&255)*X,E=(a&255)*X,f0=F>>>24<<1,ay=(F>>>16&255)*f0,p=(F>>>8&255)*f0,eo=(F&255)*f0,co=A>>>24<<2,c5=(A>>>16&255)*co,he=(A>>>8&255)*co,hU=(A&255)*co,aB=T>>>24<<1,ep=(T>>>16&255)*aB,aO=(T>>>8&255)*aB,f$=(T&255)*aB,fo=P>>>24<<2,bb=(P>>>16&255)*fo,jl=(P>>>8&255)*fo,e0=(P&255)*fo,gI=Y+c+O+X,d4=V+c+f0+X,ab=co+aB+O+X,c3=fo+aB+f0+X,gr=gI==0?0:1/gI,a2=d4==0?0:1/d4,aL=ab==0?0:1/ab,el=c3==0?0:1/c3,iJ=0,aC=0,cr=0,bN=0;
iJ=~~(.5+(I+d+t+E)*gr);aC=~~(.5+(o+i+W+b)*gr);cr=~~(.5+(Q+y+K+h)*gr);bN=~~(.5+gI*(1/9));j[H]=bN<<24|cr<<16|aC<<8|iJ;
iJ=~~(.5+(M+d+eo+E)*a2);aC=~~(.5+(G+i+p+b)*a2);cr=~~(.5+(R+y+ay+h)*a2);bN=~~(.5+d4*(1/9));j[H+1]=bN<<24|cr<<16|aC<<8|iJ;
iJ=~~(.5+(hU+f$+t+E)*aL);aC=~~(.5+(he+aO+W+b)*aL);cr=~~(.5+(c5+ep+K+h)*aL);bN=~~(.5+ab*(1/9));j[H+u]=bN<<24|cr<<16|aC<<8|iJ;
iJ=~~(.5+(e0+f$+eo+E)*el);aC=~~(.5+(jl+aO+p+b)*el);cr=~~(.5+(bb+ep+ay+h)*el);bN=~~(.5+c3*(1/9));j[H+u+1]=bN<<24|cr<<16|aC<<8|iJ}return{rect:k,MW:v}};
l.alw=function(Z,m,S){var B=m.e,C=m.n,u=2*Math.floor(B/3),r=2*Math.floor(C/3),k=new bq(m.x,m.y,u,r),v=S&&S.length==u*r*4?S:l.U(u*r*4),e=new Uint32Array(Z.buffer),j=new Uint32Array(v.buffer);
for(var $=0;$<r;$+=2)for(var U=0;U<u;U+=2){var H=$*u+U,z=($*3>>>1)*B+(U*3>>>1),f=e[z],D=e[z+1],n=e[z+2],L=e[z+B],a=e[z+1+B],F=e[z+2+B],A=e[z+B+B],T=e[z+1+B+B],P=e[z+2+B+B],Y=(f>>>16&255)<<2,Q=(f>>>8&255)<<2,o=(f&255)<<2,I=(D>>>16&255)<<1,c=(D>>>8&255)<<1,y=(D&255)<<1,i=(n>>>16&255)<<2,d=(n>>>8&255)<<2,V=(n&255)<<2,R=(L>>>16&255)<<1,G=(L>>>8&255)<<1,M=(L&255)<<1,O=a>>>16&255,K=a>>>8&255,W=a&255,t=(F>>>16&255)<<1,X=(F>>>8&255)<<1,h=(F&255)<<1,b=(A>>>16&255)<<2,E=(A>>>8&255)<<2,f0=(A&255)<<2,ay=(T>>>16&255)<<1,p=(T>>>8&255)<<1,eo=(T&255)<<1,co=(P>>>16&255)<<2,c5=(P>>>8&255)<<2,he=(P&255)<<2,hU=0,aB=0,ep=0;
hU=~~(.5+(o+y+M+W)*(1/9));aB=~~(.5+(Q+c+G+K)*(1/9));ep=~~(.5+(Y+I+R+O)*(1/9));j[H]=255<<24|ep<<16|aB<<8|hU;
hU=~~(.5+(V+y+h+W)*(1/9));aB=~~(.5+(d+c+X+K)*(1/9));ep=~~(.5+(i+I+t+O)*(1/9));j[H+1]=255<<24|ep<<16|aB<<8|hU;
hU=~~(.5+(f0+eo+M+W)*(1/9));aB=~~(.5+(E+p+G+K)*(1/9));ep=~~(.5+(b+ay+R+O)*(1/9));j[H+u]=255<<24|ep<<16|aB<<8|hU;
hU=~~(.5+(he+eo+h+W)*(1/9));aB=~~(.5+(c5+p+X+K)*(1/9));ep=~~(.5+(co+ay+t+O)*(1/9));j[H+u+1]=255<<24|ep<<16|aB<<8|hU}return{rect:k,MW:v}};
l.Bl=function(Z){var m=255,S=Z.length;S-=S&31;for(var q=3;q<S;q+=32)m=m&Z[q]&Z[q+4]&Z[q+8]&Z[q+12]&Z[q+16]&Z[q+20]&Z[q+24]&Z[q+28];
return m!=255};l.a2A=function(Z,m,S,B){var C=l.UC,u=l.a0s,k=0;if(!l.Bl(Z)){C=l.CV;u=l.alw}var r={MW:Z,rect:m},v=S;
while(v<.499){k++;v*=2}for(var q=0;q<k;q++)r=C(r.MW,r.rect,B);if(v<.5001)r=C(r.MW,r.rect,B);else r=u(r.MW,r.rect,B);
return r};l.a9g=function(Z,m,S,B){var C=l.ux,u=l.FV,r={MW:Z,rect:m},k=0,v=S;while(v<.499){k++;v*=2}for(var q=0;
q<k;q++)r=C(r.MW,r.rect,B);if(v<.5001)r=C(r.MW,r.rect,B);else r=u(r.MW,r.rect,B);return r};l.ux=function(Z,m,S){var B=m.e,C=m.n,u=B>>1,r=C>>1,k=new bq(m.x,m.y,u,r);
if(Z==null)return{rect:k};var v=S&&S.length>=u*r?S:l.U(u*r);for(var e=0;e<r;e++){var j=e*u;for(var $=0;
$<u;$++){var U=(e<<1)*B+($<<1);v[j+$]=2+Z[U]+Z[U+1]+Z[U+B]+Z[U+B+1]>>>2}}return{rect:k,MW:v}};l.FV=function(Z,m,S){var B=m.e,C=m.n,u=2*Math.floor(B/3),r=2*Math.floor(C/3),k=new bq(m.x,m.y,u,r);
if(Z==null)return{rect:k};var v=S&&S.length>=u*r?S:l.U(u*r);for(var e=0;e<r;e+=2)for(var j=0;j<u;j+=2){var $=e*u+j,U=(e*3>>>1)*B+(j*3>>>1),H=Z[U]<<2,z=Z[U+1]<<1,f=Z[U+2]<<2,D=Z[U+B]<<1,n=Z[U+1+B],L=Z[U+2+B]<<1,a=Z[U+B+B]<<2,F=Z[U+1+B+B]<<1,A=Z[U+2+B+B]<<2;
v[$]=~~(.5+(H+z+D+n)*(1/9));v[$+1]=~~(.5+(f+z+L+n)*(1/9));v[$+u]=~~(.5+(a+F+D+n)*(1/9));v[$+u+1]=~~(.5+(A+F+L+n)*(1/9))}return{rect:k,MW:v}};
l.Ju=function(Z,m,S,B,C){var u=m.o9(B);if(C)u=u.o9(C);var r=Math.max(0,u.x-m.x),k=Math.max(0,u.x-B.x),v=Math.max(0,u.y-m.y),e=Math.max(0,u.y-B.y),j=u.e,$=u.n;
for(var q=0;q<$;q++){var U=(v+q)*m.e+r,H=(e+q)*B.e+k;for(var z=0;z<j;z++){S[H+z]=Z[U+z]}}};l.vT=function(Z,m,S,B){if(m.Qu(B)){l.cN(Z,S,3);
return}var C=m.o9(B),u=Math.max(0,C.x-m.x),r=Math.max(0,C.x-B.x),k=Math.max(0,C.y-m.y),v=Math.max(0,C.y-B.y),e=C.e,j=C.n;
for(var q=0;q<j;q++){var $=(k+q)*m.e+u,U=(v+q)*B.e+r;for(var H=0;H<e;H++)S[(U+H<<2)+3]=Z[$+H]}};l.jD=function(Z,m,S,B){var C=m.o9(B),u=Math.max(0,C.x-m.x),r=Math.max(0,C.x-B.x),k=Math.max(0,C.y-m.y),v=Math.max(0,C.y-B.y),e=C.e,j=C.n;
for(var q=0;q<j;q++){var $=(k+q)*m.e+u,U=(v+q)*B.e+r;for(var H=0;H<e;H++)S[U+H]=Z[($+H<<2)+3]}};l.pY=function(Z,m,S,B,C){if(m.Qu(B)&&(C==null||C.Qu(B))){l.Yx(Z,S);
return}Z=new Uint32Array(Z.buffer),S=new Uint32Array(S.buffer);var u=m.o9(B);if(C)u=u.o9(C);var r=Math.max(0,u.x-m.x),k=Math.max(0,u.x-B.x),v=Math.max(0,u.y-m.y),e=Math.max(0,u.y-B.y),j=u.e,$=u.n,U=j&3,H=U==0?j:j-U;
for(var q=0;q<$;q++){var z=(v+q)*m.e+r,f=(e+q)*B.e+k;S.set(new Uint32Array(Z.buffer,z*4,j),f)}};l.PU=function(Z,m,S,B){var C=m.o9(B),u=Math.max(0,C.x-m.x),r=Math.max(0,C.x-B.x),k=Math.max(0,C.y-m.y),v=Math.max(0,C.y-B.y),e=C.e,j=C.n,$=Z.AQ,U=Z.I,H=Z.z,z=Z.S,f=S.AQ,D=S.I,n=S.z,L=S.S;
for(var q=0;q<j;q++){var a=(k+q)*m.e+u,F=(v+q)*B.e+r;for(var A=0;A<e;A++){f[F+A]=$[a+A];D[F+A]=U[a+A];
n[F+A]=H[a+A];L[F+A]=z[a+A]}}};l.yu=function(Z){var m=Z.length;for(var q=0;q<m;q+=4){var S=Z[q+3];if(S==255)continue;
Z[q]=~~(Z[q]*S*(1/255)+.5);Z[q+1]=~~(Z[q+1]*S*(1/255)+.5);Z[q+2]=~~(Z[q+2]*S*(1/255)+.5)}};l.u6=function(Z){var m=Z.length;
for(var q=0;q<m;q+=4){var S=Z[q+3];if(S==0||S==255)continue;var B=255/S;Z[q]=~~(Z[q]*B+.5);Z[q+1]=~~(Z[q+1]*B+.5);
Z[q+2]=~~(Z[q+2]*B+.5)}};l.em=function(Z,m){for(var q=0;q<Z.length;q++)if(Z[q]!=m)return!1;return!0};
l.ZC=function(Z){return Z+1+(Z>>>8)>>>8};l.round=function(Z,m){if(m==null)m=128;var S=Z.length;for(var q=0;
q<S;q++)Z[q]=Z[q]<m?0:255};l.WQ=function(Z,m){var S=Z.length;for(var q=0;q<S;q++)Z[q]=Math.round(Z[q]*m)};
l.n5=function(Z,m){var S=new Uint32Array(Z.buffer),B=new Uint32Array(m.buffer),C=S.length;for(var q=0;
q<C;q++){var u=S[q],r=B[q];B[q]=l.ZC((u>>>24)*(r>>>24))<<24|l.ZC((u>>>16&255)*(r>>>16&255))<<16|l.ZC((u>>>8&255)*(r>>>8&255))<<8|l.ZC((u&255)*(r&255))}};
l.K7=function(Z,m){var S=Z.length;for(var q=0;q<S;q++)m[(q<<2)+3]=l.ZC(m[(q<<2)+3]*Z[q])};l.agh=function(Z,m,S,B){var C=Math.max(0,B.x-m.x),u=Math.max(0,m.x-B.x),r=Math.max(0,B.y-m.y),k=Math.max(0,m.y-B.y),v=Math.min(m.x+m.e,B.x+B.e)-Math.max(m.x,B.x),e=Math.min(m.y+m.n,B.y+B.n)-Math.max(m.y,B.y);
for(var q=0;q<e;q++){var j=(r+q)*m.e+C,$=(k+q)*B.e+u;for(var U=0;U<v;U++){S[$]=l.ZC(S[$]*Z[j]);j++;$++}}};
l.bc=function(Z,m,S,B){var C=Math.max(0,B.x-m.x),u=Math.max(0,m.x-B.x),r=Math.max(0,B.y-m.y),k=Math.max(0,m.y-B.y),v=Math.min(m.x+m.e,B.x+B.e)-Math.max(m.x,B.x),e=Math.min(m.y+m.n,B.y+B.n)-Math.max(m.y,B.y);
for(var q=0;q<e;q++){var j=(r+q)*m.e+C,$=((k+q)*B.e+u<<2)+3;for(var U=0;U<v;U++){S[$]=l.ZC(S[$]*Z[j]);
j++;$+=4}}};l.W9=function(Z,m,S,B){var C=Math.max(0,B.x-m.x),u=Math.max(0,m.x-B.x),r=Math.max(0,B.y-m.y),k=Math.max(0,m.y-B.y),v=Math.min(m.x+m.e,B.x+B.e)-Math.max(m.x,B.x),e=Math.min(m.y+m.n,B.y+B.n)-Math.max(m.y,B.y);
for(var q=0;q<e;q++){var j=((r+q)*m.e+C<<2)+3,$=((k+q)*B.e+u<<2)+3;for(var U=0;U<v;U++){S[$]=l.ZC(S[$]*Z[j]);
j+=4;$+=4}}};l.LA=function(Z){var m=new Float64Array(256),S=new Float64Array(256),B=new Float64Array(256),C=new Float64Array(256),u=Z.length,r=0;
for(var q=0;q<u;q+=4){var k=Z[q+0],v=Z[q+1],e=Z[q+2],j=Z[q+3],$=j*(1/255);S[k]+=$;B[v]+=$;C[e]+=$;r+=j}for(var q=0;
q<256;q++)m[q]=S[q]+B[q]+C[q];return[m,S,B,C,u>>>2,r/255]};l.wt=function(Z,m){function S(T,P){var Y=-1,Q=0;
while(Q<=P){Y++;Q+=T[Y]}return Y}function B(T,P){var Y=256,Q=0;while(Q<=P){Y--;Q+=T[Y]}return Y}function C(T){var P=0,Y=0;
for(var q=0;q<256;q++){Y+=T[q];P+=T[q]*q*(1/255)}return P/Y}var u=Z[0],r=Z[1]/100,k=Z[2]/100,v=[],e=[];
for(var q=0;q<4;q++){var j=q==0?3:1;v[q]=S(m[q],j*r*m[5]);e[q]=B(m[q],j*k*m[5])}var $=[C(m[1]),C(m[2]),C(m[3])],U=$.slice(0);
U.sort(function(T,P){return T-P});var H=$.indexOf(U[1]),z=($[0]+$[1]+$[2])/3,f=[];for(var q=0;q<4;q++){var D=0,n=255,L=v[q],a=e[q];
if(u==0&&q==0){D=L;n=a}if(u==1&&q!=0){D=L;n=a}if(u==2&&q!=0){var j=$[q-1]/z;n=Math.max(0,Math.min(255,e[H]*j))}var F=[D,n];
f.push(F);if(u==3&&q==0){var A=255*(1-z);F.push(A)}}return f};l.ac=function(Z,m){var S=new Uint32Array(Z.buffer),B=S.length;
for(var q=0;q<B;q++){var C=S[q],u=C&255,r=C>>8&255,k=C>>16&255,v=C>>24&255;S[q]=m[u]|m[r]<<8|m[k]<<16|m[v]<<24}};
l.a4L=function(Z,m,S,B,C,u,r){var k=new Uint32Array(Z.buffer),v=new Uint32Array(m.buffer),e=k.length,j=0;
while(256<<j<S.length)j++;if(!r&&!u){for(var q=0;q!=e;q++){var $=k[q],U=($&255)<<j,H=($>>>8&255)<<j,z=($>>>16&255)<<j,f=S[U],D=B[H],n=C[z];
v[q]=f|D<<8|n<<16|$&4278190080}return}for(var q=0;q<e;q++){var $=k[q],U=($&255)<<j,H=($>>>8&255)<<j,z=($>>>16&255)<<j;
if(u)U=H=z=Math.round(U*.3+H*.59+z*.11);var f=S[U],D=B[H],n=C[z];if(r){var L=l.dA(U,H,z),a=l.dA(f,D,n);
if(L>a){var F=(L-a)/(255-a);f+=F*(255-f);D+=F*(255-D);n+=F*(255-n)}else if(a==0)f=D=n=0;else{var F=L/a;
f=F*f;D=F*D;n=F*n}}v[q]=f|D<<8|n<<16|$&4278190080}};l.cg=function(Z,m){var S=m.e,B=m.n,top=0,C=0,u=0,r=0,k=0;
k=0;for(var v=0;v<B;v++){var e=v*S;for(var q=0;q<S;q++)k|=Z[e+q];if(k!=0)break;top++}if(top==B)return new bq(0,0,0,0);
k=0;for(var v=B-1;v>=0;v--){var e=v*S;for(var q=0;q<S;q++)k|=Z[e+q];if(k!=0)break;u++}var j=B-u;k=0;
for(var q=0;q<S;q++){for(var v=top;v<j;v++)k|=Z[v*S+q];if(k!=0)break;C++}k=0;for(var q=S-1;q>=0;q--){for(var v=top;
v<j;v++)k|=Z[v*S+q];if(k!=0)break;r++}var $=new bq(m.x+C,m.y+top,S-C-r,B-top-u);return $};l.Ag=function(Z,m,S,B){if(B==null)B=[!0,!0,!0,!0];
if(S==null)S=0;var C=new Uint32Array(Z.buffer),u=m.e,r=m.n,top=0,k=0,v=0,e=0,j=!1,$=[C[0],C[C.length-1],0][S];
j=!1;if(B[0])for(var U=0;U<r;U++){var H=U*u;for(var q=0;q<u;q++)if(C[H+q]!=$)j=!0;if(j)break;top++}j=!1;
if(B[2])for(var U=r-1;U>=0;U--){var H=U*u;for(var q=0;q<u;q++)if(C[H+q]!=$)j=!0;if(j)break;v++}j=!1;
if(B[1])for(var q=0;q<u;q++){for(var U=0;U<r;U++)if(C[U*u+q]!=$)j=!0;if(j)break;k++}j=!1;if(B[3])for(var q=u-1;
q>=0;q--){for(var U=0;U<r;U++)if(C[U*u+q]!=$)j=!0;if(j)break;e++}var z=new bq(m.x+k,m.y+top,u-k-e,r-top-v);
return z.Ov()?new bq(0,0,0,0):z};l.t6=function(Z){var m=l.cg(Z.channel,Z.rect);if(m.Qu(Z.rect))return;
var S=l.U(m.Z());l.Ju(Z.channel,Z.rect,S,m);Z.channel=S;Z.rect=m};l.LG=function(Z){var m=l.U(Z.buffer.length>>2);
l.NK(Z.buffer,m,3);var S=l.cg(m,Z.rect);if(S.Qu(Z.rect))return;var B=new l.U(S.Z()*4);l.pY(Z.buffer,Z.rect,B,S);
Z.buffer=B;Z.rect=S};l.extend=function(Z,m,S){if(Z.rect.wZ(m))return;var B=Z.rect.j3(m),C=l.U(B.Z());
if(S!=null)C.fill(S);l.Ju(Z.channel,Z.rect,C,B);Z.rect=B;Z.channel=C};l.ajo=function(Z,m){if(m.Ov()||Z.rect.wZ(m))return;
var S=Z.rect.j3(m),B=l.U(S.Z()*4);l.pY(Z.buffer,Z.rect,B,S);Z.rect=S;Z.buffer=B};l.vS=function(Z,m,S){if(!S.hV(Z))return!1;
var B=Math.floor(Z.x)-S.x,C=Math.floor(Z.y)-S.y,q=C*S.e+B;return m[q]>128};l.au4=function(Z,m,S){if(!S.hV(Z))return!1;
var B=Math.floor(Z.x)-S.x,C=Math.floor(Z.y)-S.y,q=C*S.e+B;return m[4*q+3]>128};l.fH=function(Z){if(l.f1.length<Z){l.f1=l.U(Z);
l.f1.fill(255)}return l.f1};l.f1=l.U(0);l.Td=function(Z){if(l.ke.length<Z)l.ke=l.U(Z);return l.ke};l.ke=l.U(0);
l._8=function(Z){this.AQ=l.U(Z);this.I=l.U(Z);this.z=l.U(Z);this.S=l.U(Z)};l._8.prototype.clone=function(){var Z=this.AQ.length,m=new l._8(1);
m.AQ=this.AQ.slice(0);m.I=this.I.slice(0);m.z=this.z.slice(0);m.S=this.S.slice(0);return m};l.p.ahp=function(Z,m,S,B,C){var u=C[0]+1,r=C[1],k=Math.abs(r-25)/4,v=C[2],e=v%2+v*v>>1,j=l.p.P;
j.R$(m,S);var $=j.B6(1),U=j.B6(1),H=j.B6(1);j.B2(Z,B,v,v,e);j.kd(B);j.MS(B,$);j.NH($,U,u,u,1);j.NH($,H,u,u,u*u);
j.sub(H,U);j.n5(U,k);(r<25?j.sub:j.add)($,U);j.vU(U,B);j.lM(B)};l.p.amw=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=C[0]*2.55,k=C[1],v=k>>1,e=C[2]*.25,j=u.B6(4),$=u.B6(1),U=u.B6(1);u.lT(Z,j,k,1,!0,v);
u.lT(Z,B,k,1,!1,v);u.vH(Z,$);u.gD($,r);u.DG($,U,3);u.KV(B,U,j);u.hB(j,B,e)};l.p.ae$=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);u.ov(C[3]);var r=C[0]*-3+80,k=C[1]*-3+80,v=C[2]/2+.5,e=C[4],j=C[5],$=u.B6(1),U=u.B6(1),H=u.B6(1),z=u.B6(1),f=u.B6(4),D=u.B6(4);
u.vH(Z,$);u.Yx($,U);u.lr($,k,5);u.jY($,.4,0);u.DG($,H,3);u.CR(H,$,9,3,!0,27);u.Yx(U,H);u.Yy(H);var n=u.qN(r,5,H);
for(var q=0;q<u.g6;q++){U[q]=n[255-U[q]]}u.jY(U,.4,0);u.Yx(U,H);u.DG(H,z,2);u.CR(z,H,5,3,!1,15);u.n5($,v);
u.n5(H,v);u.$E(B,2155905279);u.$E(D,e);u.$E(f,j);u.KV(D,$,B);u.KV(f,H,B)};l.p.af7=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=new Uint8Array(256),k=5+10*C[1];k+=C[1]>3?(C[1]-3)*10:0;var v=~~(C[2]*.73)+50,e=Math.min(v+k,128),j=e-v,$=-255*v;
for(var q=0;q<256;q++){var U=q*65;r[q]=u.r2($/j);$+=255}var H=u.B6(1),z=u.B6(1),f=u.B6(1);u.vH(Z,H);
u.Yx(H,f);u.DG(H,z,2*C[0]+1);u.sub(z,H);u.n5(H,65);u.CR(H,z,9,3,!0,20);for(var q=0;q<u.g6;q++){var D=f[q],n=z[q];
H[q]=n>0?~~((n*D+(255-n)*128)/255):128}u.DG(H,z,3);u.CR(z,H,15,2,!0,16);u.CR(z,f,15,2,!1,15);u.Zw(H,f);
u.dj(f,z,2);u.xQ(z,r);u.DG(z,H,2);u.Aq(H,B)};l.p.ar_=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);var r=2*C[0]+1,k=u.lj[C[1]],v=C[2]*5.1,e=C[3],j=u.B6(1),$=u.B6(1),U=u.B6(4),H=u.B6(4);
u.$E(U,e);u.kd(U,B);u.sH(j,v);u.vU(j,B);u.lM(B,U);u.vH(Z,$);u.DG($,j,r);u.sub(j,$);u.n5($,k);u.CR($,j,9,3,!0,20);
u.KV(Z,j,U);u.AM(U,B,3);u.lT(B,U,15,2,!0,16);u.lT(B,H,15,2,!1,16);u.Zw(U,H);u.hB(H,B,2)};l.p.au$=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=(15-C[0])/4+1,k=(15-C[1])/4+1,v=C[2],e=C[3],j=u.om(C[4]),$=C[5]+1,U=C[6],H=C[7],z=C[8],f=u.B6(1),D=u.B6(1),n=u.B6(1),L=u.B6(1),a=u.B6(4),F=u.B6(4);
u.pL(n,v,e,U);u.vH(Z,D);u.DG(D,f,5);u.T9(n,f,L,$,j);u.n5(L,r);u.X1(L,2);u.Yy(f);u.T9(n,f,D,$,j);u.n5(D,k);
u.X1(D,2);u.$E(a,2155905279);u.$E(F,H);u.$E(B,z);u.KV(a,D,F);u.KV(F,L,B)};l.p.aiF=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);u.ov(C[3]);var r=C[0],k=C[1]/10,v=C[2]/10,e=u.B6(1),j=u.B6(1),$=u.B6(1),U=u.A5(),H=u.A5(),z=u.A5();
u.HQ(e);u.DG(e,j,11);u.DG(j,e,11);u.rA(e,U);u.LU(Z,e);u.Yx(e,$);u.DG(e,j,9);u.DG(j,e,9);u.rA(e,H);u.Ly(H,z,5);
u.Ly(z,H,5);u.ZE(U,.8);u.af$(U,H,.8,.9);u.qY(H,e,r);u.NH(e,j,2,2,1);u.NH(j,e,2,2,3);u.NH(e,j,2,2,3);
u.NH($,e,5,5,13);u.kO(j,e,j,k);u.k2(e,j,j,v);u.T9(j,j,e,5,1);u.kd(Z,B);u.vU(e,B);u.lM(B)};l.p.alj=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=C[0],k=C[1]/2,v=C[2],e=r/2,j=u.B6(4),$=u.B6(4);u.Yx(Z,B);for(var U=0;U<v;U++){u.lT(B,j,r,1,!0,e);
u.lT(B,$,r,1,!1,e);u.Zw($,j);u.AM(j,$,2);u.hB($,B,k)}};l.p.a5m=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);
var r=C[0]*10,k=C[1]*4.9,v=C[2]*4.9,e=u.B6(1),j=u.B6(1),$=u.B6(4),U=u.B6(4);u.vH(Z,e);u.gD(e,u.aqE(e,r));
u.DG(e,j,3);u.lT(Z,$,5,1,!1,1);u.lT(Z,B,15,2,!0,16);u.KV(B,j,$);u.kd($,B);u.MS(B,e);u.lr(e,k,v);u.vU(e,B);
u.lM(B)};l.p.akU=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);u.ov(C[4]);var r=C[0]/20,k=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][C[1]],v=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][C[2]],e=C[3],j=new Int16Array(256);
for(var q=0;q<256;q++){j[q]=~~((q-128)*r)}var $=u.B6(1),U=u.B6(1),H=u.B6(4);u.vH(Z,$);u.DG($,U,25);u.n5(U,k);
u.X1(U,v);u.DG(U,$,25);u.HQ(U);u.GW($,U,j);u.Yx(Z,B);u.$E(H,e);u.KV(H,$,B)};l.p.aqy=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=C[0]+5,k=15-C[1],v=r*r/2,e=1-(3-C[2])/10,j=~~(k*k*e-1),$=~~(k*k*(1-e));if($==0)$=1;var U=u.B6(1),H=u.B6(1),z=u.B6(1),f=u.B6(4);
u.vH(Z,z);u.NH(z,U,r,r,v);u.DG(z,H,r);u.sub(U,H);u.gD(H,1);u.B2(Z,f,k,k,j);u.B2(Z,B,k,k,$);u.KV(f,H,B)};
l.p.a9y=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);u.ov(C[3]);var r=(20-C[0])*.05,k=C[1]*-2.75+60,v=65-k,e=C[2]/10,j=u.B6(1),$=u.B6(1);
u.LU(Z,$);var U=u.qN(k,v,$);u.kd(Z,B);u.MS(B,$);u.HQ(j);u.Oi($,j,r);u.xQ($,U);u.n5($,C[2]/10);u.add(j,$);
u.vU($,B);u.lM(B)};l.p.aa6=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);var r=5+C[0],k=15-C[1],v=C[2],e=r*r/2+r*r%2*1,j=1-(3-C[2])/10,$=~~(k*k*j-1),U=~~(k*k*(1-j));
if(U==0)U=1;var H=u.B6(1),z=u.B6(1),f=u.B6(1),D=u.B6(1),n=u.B6(1);u.LU(Z,z);u.dj(z,H,3);u.NH(H,z,2,2,1);
var L=u.qN(20,20,z);u.xQ(z,L);u.DG(z,n,5);u.NH(n,H,r,r,e);u.NH(n,z,k,k,$);u.NH(n,f,k,k,U);u.DG(n,D,r);
u.sub(H,D);u.gD(D,1);u.Rb(z,D,f);u.kd(Z,B);u.vU(f,B);u.lM(B)};l.p.al7=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);u.ov(C[5]);var r=u.g6,k=u.JF,v=C[0],e=C[1],j=C[2],$=C[3],U=C[4],H=.05*v+1,z=v/100,f=v>>1,D=2*v-100,n=+(e==9),L=+(e==7),a=[4,1][n],F=[3,2][n],A=[1,2][L],T=[2,1][L],P=[50,75][n],Y=e<4?j:(j>>1)+50,Q=u.S1(P,Y),o=u._a($),I=u._a(U),c=u.B6(4),y=u.B6(4),i=u.B6(1),d=u.B6(1);
function V(B,Q){if(Y!=50){u.fJ(B,Q)}}function R(Z,ay){for(var q=0;q<r;q++){Z[q]=u.r2(Z[q]+(ay[q]-128)*z)}}function G(Z,ay){for(var q=0,p=0;
q<r;q++){Z[p]=u.r2(Z[p]+(ay[p]-128)*z);Z[p+1]=u.r2(Z[p+1]+(ay[p+1]-128)*z);Z[p+2]=u.r2(Z[p+2]+(ay[p+2]-128)*z);
p+=4}}function M(Z,B){u.HQ(y);u.Yx(Z,B);G(B,y);V(B,Q)}function O(ay){var p=0;for(var eo=0;eo<12;eo++)p+=u.random();
return u.r2(f*(p-6)+ay)}function K(Z,B){u.Yx(Z,B);for(var q=0;q<k;q+=4){B[q]=O(B[q]);B[q+1]=O(B[q+1]);
B[q+2]=O(B[q+2])}V(B,Q)}function W(Z,B){u.Yx(Z,B);for(var q=0;q<k;q+=4){if(u.random()<z){B[q]=o[0];B[q+1]=o[1];
B[q+2]=o[2]}}V(B,Q)}function t(Z,B){u.HQ(c);u.B2(c,y,F,F,a);u.Yx(Z,c);G(c,y);u.B2(c,B,5,5,13);V(B,Q)}function X(Z,B){u.HQ(y);
u.Yx(Z,c);G(c,y);V(B,Q);u.B2(c,B,F,F,a)}function h(Z,B){u.Yx(Z,c);V(B,Q);u.vH(c,i);for(var q=0,ay=0;
q<r;q++){var p=((D-i[q]+255)*128.5+.5)/32767;if(u.random()<=p){B[ay++]=I[0];B[ay++]=I[1];B[ay++]=I[2]}else{B[ay++]=o[0];
B[ay++]=o[1];B[ay++]=o[2]}B[ay]=Z[ay];ay++}}function b(Z,B){u.kd(Z,B);u.MS(B,i);u.dj(i,d,H);u.NH(d,i,F,F,a);
u.xQ(i,Q);u.vU(i,B);u.lM(B)}function E(Z){var ay=0;if(e==8){for(var p=0;p<m;p++){Z[ay++]=~~(u.random()*255)}for(var q=1;
q<S;q++){for(var p=0;p<m;p++){Z[ay++]=Z[p]}}}else{for(var q=0;q<S;q++){var eo=~~(u.random()*255);for(var p=0;
p<m;p++){Z[ay++]=eo}}}}function f0(Z,B){u.vH(Z,i);u.HQ(d);R(i,d);E(d);R(i,d);u.AM(Z,c,9);u.AM(c,y,9);
u.DG(i,d,2);u.xQ(d,Q);u.DG(d,i,2);u.kd(y,B);u.vU(i,B);u.lM(B)}[M,K,W,t,t,X,h,f0,f0,b][e](Z,B)};l.p.a5l=function(Z,m,S,B,C){var u=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],r=l.p.P,f=0,D,q,A,T,P,Y=0,Q=1,o=255;
r.R$(m,S);r.ov(C[3]);var k=r.B6(1),v=r.B6(1);r.vH(Z,k);var e=C[0],j=C[1],$=j<=50?u[j]/255:1+(255-u[101-j])/255,U=C[2],H=k.length,z=new Float32Array(H),n=1+1/10*e,L=(1-1/n)/2,a=16/256,F=m-1;
for(q=0;q<r.g6;q++){z[q]=k[q]/255;v[q]=e==1?r.random()<1/255?o:Q:Q}function I(c,y){var i=c*m+y;if(v[i]!=Q||c>=S||y>=m){return}var T=z[i],d=$-T,V=r.random(),R=V/n+L;
if(f==0||Math.abs(P-T)>a){D=R<=d?Y:o;f=~~(r.random()*e)}else if(.1<V){f--}else{f=0}v[i]=D;P=T}if(U==0){for(q=0;
q<m;q++){for(A=0;A<m;A++){T=q+A;if(T>=m)break;I(A,F-T)}f=0}for(q=1;q<S;q++){for(A=0;A<S;A++){T=q+A;if(T>=S||A>=m)break;
I(T,F-A)}f=0}}else if(U==1){for(q=0;q<S;q++){for(A=0;A<m;A++){I(q,A)}f=0}}else if(U==2){for(q=0;q<m;
q++){for(A=0;A<m;A++){T=q+A;if(T>=m)break;I(A,T)}f=0}for(q=1;q<S;q++){for(A=0;A<S;A++){T=q+A;if(T>=S||A>=m)break;
I(T,A)}f=0}}else{for(q=0;q<m;q++){for(A=0;A<S;A++){I(A,q)}f=0}}r.Aq(v,B)};l.p.au_=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=C[0],k=C[1],v=C[2],e=u.B6(1),j=u.B6(1),$=u.B6(1),U=u.B6(4),H=u.B6(4);u.vH(Z,e);u.NH(e,j,3,3,1);
u.NH(e,$,3,3,9);u.sub($,j);u.DG(j,e,3);u.lr(e,40,10);u.lT(Z,B,r,2,!1,r);u.lT(Z,U,r,2,!0,r);u.$E(H,255);
u.KV(B,e,H);u.KV(H,e,U);u.hB(U,B,1);u.kd(B);u.MS(B,e);u.lr(e,k,v);u.vU(e,B);u.lM(B)};l.p.ak0=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);u.ov(C[3]);var r=C[0],k=C[1],v=C[2]/10;r=r+k;var e=u.B6(1),j=u.B6(1),$=u.A5(),U=u.A5();u.HQ(e);
u.DG(e,j,11);u.DG(j,e,11);u.rA(e,$);u.Ly($,U,5);u.Ly(U,$,5);u.ZE(U,.97);u.qY(U,e,r);u.NH(e,j,k,k,1);
u.LU(Z,e);u.kO(j,e,j,.6);u.k2(e,j,j,v);u.T9(j,j,e,5,1);u.kd(Z,B);u.vU(e,B);u.lM(B)};l.p.ajd=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=Math.abs(C[0]),k=r+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][r],v=2*r+1,e=C[1]/10,j=e*13/15,$=u.B6(1),U=u.B6(1),H=u.B6(1),z=u.B6(1),f=u.B6(4),D=u.B6(4),n=u.B6(4),L=u.B6(4),a=u.B6(4);
u.vH(Z,$);if(C[0]>=0){u.Yy($)}u.Yx($,H);u.DG($,z,k);u.DG(z,$,k);u.n5($,e);u.Yx($,U);u.DG($,z,v);u.DG(z,$,v);
u.n5($,j);u.$E(n,C[2]);u.$E(L,C[3]);u.$E(a,C[4]);u.KV(n,$,L,f);u.KV(a,U,f,D);u.KV(L,H,D,B);u.MS(Z,H,3);
u.vU(H,B,3)};l.p.au6=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);u.ov(C[5]);var r=C[0]*5.1,k=C[1]/100,v=u.Sg[C[2]],e=u.B6(1),j=u.B6(1),$=u.B6(1);
u.vH(Z,e);u.sH(j,255);u.HQ($);u.gD(e,r);u.Oi(j,e,.7);u.Oi($,e,k);u.T9(e,e,j,5,v);u.Yx(Z,B);u.a03(B,r,C[4],C[3]);
u.kd(B);u.vU(j,B);u.lM(B)};l.p.aoQ=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);var r=C[0],k=4-C[1],v=11-C[2],e=u.B6(1),j=u.B6(1),$=u.B6(4);
u.LU(Z,j);for(var q=0;q<k;q++){u.Yx(j,e);u.Vl(e,j,r,r)}u.AM(Z,$,r);u.kd($,$);u.vU(j,$);u.lM($,$);(v<11?u.agx:u.Yx)($,B,v)};
l.p.acj=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);u.ov(C[2]);var r=C[0]+5,k=~~(r/5+1),v=~~(r/2)+1,e=v*v,j=~~(r/3),$=u.Sg[C[1]],U=new Array(256);
for(var q=0;q<256;q++){U[q]=~~(.2*(q-128))}var H=u.B6(1),z=u.B6(1);u.apP(Z,B,r);u.kd(B);u.MS(B,H);u.HQ(z);
u.GW(H,z,U);u.ala(z,r,r,k,k);u.kO(H,z,H,1);u.DG(H,z,j);u.DG(z,H,j);u.NH(H,z,v,v,e);u.T9(z,z,H,5,$);u.vU(H,B);
u.lM(B)};l.p.ar2=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);var r=u.B6(1),k=u.B6(1),v=u.B6(1),e=u.A5(),j=u.A5();
u.vH(Z,r);u.DG(r,k,C[2]);u.gD(k,C[0]*5.1);u.NH(k,r,2,2,4);u.DG(r,k,3);u.DG(k,r,3);u.Yx(r,v);u.DG(r,k,5);
u.DG(k,r,5);u.rA(r,e);u.Ly(e,j,5);u.Ly(j,e,5);u.a34(e,k,C[1]);u.Yy(k);u.kO(v,k,v,1);u.Aq(v,B)};l.p.a2U=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=1<<7-C[2],k=u.B6(1),v=u.B6(1),e=u.B6(1);u.LU(Z,v);u.DG(v,k,3);u.Yx(k,v);u.DG(k,e,C[0]+5);
u.sub(e,v);u.lr(v,1,C[1]);u.n5(k,1/r);u.n5(k,r);u.sub(k,v);u.kd(Z,B);u.vU(v,B);u.lM(B)};l.p.aeV=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);u.ov(C[3]);var r=u.B6(1),k=u.B6(1),v=u.B6(1);u.vH(Z,r);u.a9h(k,C[0]/50);u.DG(k,v,3);u.NH(r,k,9,9,41);
u.lr(k,C[1],C[2]);u.kO(k,v,v,.75);u.k2(k,v,k,.5);u.Yx(k,r);u.NH(r,v,3,3,8);u.kO(v,k,v,.75);u.n5(v,1.2);
u.dj(v,r,1);u.DG(r,v,2);u.dj(v,r,2);u.n5(r,1.2);u.DG(r,v,2);u.Aq(v,B)};l.p.aqK=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=C[0]+9,k=C[1]/2,v=C[2],e=C[3],j=u.om(C[4]),$=C[5]+1,U=C[6],H=u.B6(1),z=u.B6(1),f=u.B6(4),D=u.B6(4);
u.pL(z,v,e,U);u.Kp(Z,B,r,1,1);u.Kp(B,f,r,1,1);u.a8j(f,f,D,7,k);u.n5(D,1.2);u.X1(D,1.2);u.T9(z,H,H,$,j);
u.n5(H,3);u.Yx(Z,B);u.KV(D,H,B)};l.p.aez=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);u.ov(C[3]);var r=C[0]+4,k=r*2/5+(r%5|0);
r--;var v=C[1]*-2.75+60,e=65-v,j=C[2]/10,$=u.B6(1),U=u.B6(1);u.HQ($);u.LU(Z,U);var H=u.qN(v,e,U);u.kd(Z,B);
u.MS(B,U);u.Oi(U,$,.8);u.xQ(U,H);u.n5(U,j);u.add($,U);u.CR(U,$,r,3,!1,k);u.vU($,B);u.lM(B)};l.p.anI=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);u.ov(C[3]);var r=C[0]+5,k=(r*r>>1)+r%2,v=C[1]/10,e=C[2],j=(e*e>>1)+e%2,$=u.B6(1),U=u.B6(1),H=u.B6(1),z=u.B6(4),f=u.B6(4),D=u.B6(4);
u.HQ(H);u.kd(Z,D);u.MS(D,$);u.Oi($,H,.8);u.DG(H,$,3);u.dj($,H,v);u.vU(H,D);u.lM(D,D);u.vH(D,H);u.NH(H,$,r,r,k);
u.DG(H,U,r);u.sub($,U);u.gD(U,1);u.B2(D,z,7,7,40);u.B2(D,f,7,7,10);u.KV(z,U,f);u.B2(f,B,e,e,j)};l.p.a7v=function(Z,m,S,B,C){var u=l.p.P,k=255,q,e;
u.R$(m,S);var r=C[0];if(r<2)k=r;else if(r<12)k=5*r-5;else if(r<47)k=2*r+28;else if(r<50){q=r-47;k=125+12.5*q+12.5*q*q}var v=new Uint8Array(256);
for(q=75,e=15;q<256;q++,e+=24)v[q]=Math.min(255,e);var j=u.B6(1),$=u.B6(1),U=u.B6(1);u.vH(Z,j);u.DG(j,$,11);
u.DG($,U,11);u.sub(U,j);u.n5(j,8);u.sub(U,j);u.gD(j,k);u.Yy(j);u.DG(j,$,5);u.gD($,51);u.DG($,j,C[1]);
u.DG(j,$,C[1]);u.Yy($);u.xQ($,v);u.Aq($,B)};l.p.ae9=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);var r=u.lj[C[1]],k=C[2],v=k*1.5,e=u.B6(1),j=u.B6(1),$=u.B6(1);
u.LU(Z,e);u.CR(e,j,15,2,!0,15);u.Yx(j,$);u.lr($,k,v);u.DG($,e,3);u.DG(j,$,C[0]);u.sub($,j);u.n5(j,r);
u.sub(e,j);u.DG(j,e,3);u.CR(e,j,3,1,!1,1);u.AM(Z,B,15);u.kd(B);u.vU(j,B);u.lM(B)};l.p.a1u=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);u.ov(C[3]);var r=C[0]*5.1,k=16-C[1],v=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][C[2]],e=u.B6(1),j=u.B6(1),$=u.B6(1);
u.vH(Z,e);u.gD(e,r);u.DG(e,j,k);u.DG(j,e,k);u.HQ($);u.k2(e,$,$,1);u.kO(e,$,e,.75);u.n5(e,v);u.X1(e,v);
u.NH(e,j,2,2,2);u.Aq(j,B)};l.p.apY=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);var r=C[0]+9,k=C[1]+9,v=C[2],e=C[3],j=u.om(C[4]),$=C[5]+1,U=C[6],H=u.B6(1),z=u.B6(1),f=u.B6(1),D=u.B6(1),n=u.B6(1),L=u.B6(4);
u.LU(Z,H);u.Vl(H,f,r,r);u.DG(f,H,k);u.Yx(f,n);u.Yx(H,D);u.sub(n,D);u.sub(H,n);u.add(n,D);u.n5(D,10);
u.pL(z,v,e,U);u.T9(z,H,n,$,j);u.Rb(n,D,f,.8);u.AM(Z,L,9);u.AM(L,B,9);u.kd(B);u.vU(f,B);u.lM(B)};l.p.agd=function(Z,m,S,B,C){var u=l.p.P;
u.R$(m,S);var r=16-C[0],k=C[1]*8,v=1-(3-C[2])/10,e=~~(r*r*v-1),j=~~(r*r*(1-v));if(j==0)j=1;var $=u.B6(1),U=u.B6(1),H=u.B6(1),z=u.B6(4);
u.vH(Z,H);u.NH(H,$,7,7,25);u.DG(H,U,7);u.sub($,U);u.gD(U,1);u.B2(Z,z,r,r,e);u.B2(Z,B,r,r,j);u.KV(z,U,B);
u.kd(B);u.MS(B,$);u.NH($,H,3,3,1);u.NH($,U,3,3,9);u.sub(U,H);u.Yx(H,U);u.sub($,H);u.sub(H,U);u.NH(U,$,3,3,8);
u.lr($,k,1);u.vU($,B);u.lM(B)};l.p.aeJ=function(Z,m,S,B,C){var u=l.p.P;u.R$(m,S);u.ov(C[3]);var r=C[0],k=C[1],v=C[2],e=r>>1,j=Math.max(~~(r/5),1),$=Math.max(~~(r*2/3),1),U=u.S1(k,v),H=u.B6(1),z=u.B6(1),f=u.B6(1),D=u.B6(1),n=u.B6(4);
u.LU(Z,H);u.cn(2147483647,4,2,2,0,255,z);u.cn(4,2147483647,2,2,0,255,D);u.HQ(f);u.k2(z,f,z,1);u.k2(D,f,D,1);
u.k2(z,H,z,1);u.k2(D,H,D,1);u.AM(Z,n,e);u.AM(n,B,e);u.NH(z,H,1,r,j);u.NH(H,z,3,r,$);u.NH(D,H,r,1,j);
u.NH(H,D,r,3,$);u.Zw(z,D);u.kd(B);u.vU(D,B);u.lM(B);u.fJ(B,U)};l.p.P={};l.p.P.OU=0;l.p.P.Vi=0;l.p.P.g6=0;
l.p.P.D_=0;l.p.P.JF=0;l.p.P.R$=function(Z,m){var S=Z*m,self=l.p.P;self.OU=Z;self.Vi=m;self.g6=S;self.D_=S<<1;
self.JF=S<<2};l.p.P.ov=function(Z){l.p.P.random=function(){var m=Z+=1831565813;m=Math.imul(m^m>>>15,m|1);
m^=m+Math.imul(m^m>>>7,m|61);return((m^m>>>14)>>>0)/4294967296}};l.p.P.B6=function(Z){var m=l.p.P;return new Uint8Array([-1,m.g6,m.D_,-1,m.JF][Z])};
l.p.P.A5=function(){return new Int32Array(l.p.P.D_)};l.p.P.DG=function(Z,m,S,B){if(B==null)B=S;var self=l.p.P,C=self.OU,u=self.Vi;
l.EE.Xx(Z,m,new bq(0,0,C,u),S>>>1);return};l.p.P.Ly=function(Z,m,S,B){var self=l.p.P,C=new Int32Array(self.g6),u=new Int32Array(self.g6);
for(var q=0;q<2;q++){self.MS(Z,C,q,2);self.DG(C,u,S,B);self.vU(u,m,q,2)}};l.p.P.AM=function(Z,m,S,B){var self=l.p.P,C=self.B6(1),u=self.B6(1);
for(var q=0;q<4;q++){self.MS(Z,C,q);if(q<3)self.DG(C,u,S,B);else u=C;self.vU(u,m,q)}};l.p.P.Kp=function(Z,m,S,B,C){var self=l.p.P,u=self.OU,r=self.Vi,k=S+B-1,v=S>>1,e=k>>1,j=0,$=S*B,U=new Int32Array(S);
for(var q=0;q<r;q++){var H=0,z=0,f=0;for(var D=0;D<S;D++){var n=C?k-D-B:D;for(var L=n,a=B+n;L<a;L++){var F=0-e+L,A=q-v+D;
if(L==n){U[D]=F}if(F<0)F=0;else if(F>=u)F=u-1;if(A<0)A=0;else if(A>=r)A=r-1;var T=u*A+F<<2;H+=Z[T];z+=Z[T+1];
f+=Z[T+2]}}m[j++]=~~(H/$);m[j++]=~~(z/$);m[j++]=~~(f/$);m[j]=Z[j];j++;for(var P=1;P<u;P++){for(var D=0;
D<S;D++){var A=q-v+D,n=U[D]+1;U[D]=n;var Y=n-1,Q=n+B-1;if(A<0)A=0;else if(A>=r)A=r-1;if(Y<0)Y=0;else if(Y>=u)Y=u-1;
if(Q<0)Q=0;else if(Q>=u)Q=u-1;var o=A*u+Y<<2,I=A*u+Q<<2;H=H+Z[I]-Z[o];z=z+Z[I+1]-Z[o+1];f=f+Z[I+2]-Z[o+2]}m[j++]=~~(H/$);
m[j++]=~~(z/$);m[j++]=~~(f/$);m[j]=Z[j];j++}}};l.p.P.CR=function(Z,m,S,B,C,u){var self=l.p.P,r=self.OU,k=self.Vi,v=S+B-1,e=S>>1,j=v>>1,$=0,U=new Int32Array(S),H=new Int32Array(256),z=new Int32Array(16);
for(var q=0;q<k;q++){H.fill(0);z.fill(0);for(var f=0;f<S;f++){var D=C?v-f-B:f;for(var n=D,L=B+D;n<L;
n++){var a=0-j+n,F=q-e+f;if(n==D){U[f]=a}if(a<0)a=0;else if(a>=r)a=r-1;if(F<0)F=0;else if(F>=k)F=k-1;
H[Z[F*r+a]]++;z[Z[F*r+a]>>>4]++}}m[$++]=l.p.P.Bj(z,H,u);for(var A=1;A<r;A++){for(var f=0;f<S;f++){var F=q-e+f,D=U[f]+1;
U[f]=D;var T=D-1,P=D+B-1;if(F<0)F=0;else if(F>=k)F=k-1;if(T<0)T=0;else if(T>=r)T=r-1;if(P<0)P=0;else if(P>=r)P=r-1;
var Y=Z[F*r+T],Q=Z[F*r+P];H[Y]--;H[Q]++;z[Y>>>4]--;z[Q>>>4]++}m[$++]=l.p.P.Bj(z,H,u)}}};l.p.P.lT=function(Z,m,S,B,C,u){var self=l.p.P,r=self.B6(1),k=self.B6(1);
for(var q=0;q<4;q++){self.MS(Z,r,q);if(q<3)self.CR(r,k,S,B,C,u);else k=r;self.vU(k,m,q)}};l.p.P.NH=function(Z,m,S,B,C){C=Math.min(B*S,C);
var self=l.p.P,u=self.OU,r=self.Vi,k=B>>1,v=S>>1,e=0,j=new Int32Array(B),$=new Int32Array(256),U=new Int32Array(16);
for(var q=0;q<r;q++){$.fill(0);U.fill(0);for(var H=0;H<B;H++){for(var z=0,f=S;z<f;z++){var D=0-v+z,n=q-k+H;
if(z==0){j[H]=D}if(D<0)D=0;else if(D>=u)D=u-1;if(n<0)n=0;else if(n>=r)n=r-1;$[Z[n*u+D]]++;U[Z[n*u+D]>>>4]++}}m[e++]=l.p.P.Bj(U,$,C);
for(var L=1;L<u;L++){for(var H=0;H<B;H++){var n=q-k+H,a=j[H]+1;j[H]=a;var F=a-1,A=a+S-1;if(n<0)n=0;else if(n>=r)n=r-1;
if(F<0)F=0;else if(F>=u)F=u-1;if(A<0)A=0;else if(A>=u)A=u-1;var T=Z[n*u+F],P=Z[n*u+A];$[T]--;$[P]++;
U[T>>>4]--;U[P>>>4]++}m[e++]=l.p.P.Bj(U,$,C)}}};l.p.P.Bj=function(Z,m,S){var B=0,C=0;while(B+Z[C>>>4]<S){B+=Z[C>>>4];
C+=16}for(;C<256;C++){B+=m[C];if(B>=S)break}return C};l.p.P.B2=function(Z,m,S,B,C){var self=l.p.P,u=self.B6(1),r=self.B6(1);
for(var q=0;q<4;q++){self.MS(Z,u,q);if(q<3)self.NH(u,r,S,B,C);else r=u;self.vU(r,m,q)}};l.p.P.dj=function(Z,m,S){var self=l.p.P,B=self.OU,C=self.Vi,u=0;
for(var q=0;q<C;q++){var r=q*B,k=(q-1)*B,v=(q+1)*B;if(k<0)k=r;if(v>=C)v=r;for(var e=0;e<B;e++){var j=e-1,$=e+1;
if(j<0)j=e;if($>=B)$=e;var U=r+j,H=r+$,z=k+e,f=v+e,D=r+e,n=Z[U],L=Z[H],a=Z[z],F=Z[f],A=Z[D],T=A+(A*4*S+.5);
T=T-((n+L+F+a)*S+.5);m[u++]=self.r2(T)}}};l.p.P.hB=function(Z,m,S){var self=l.p.P,B=self.B6(1),C=self.B6(1);
for(var q=0;q<4;q++){self.MS(Z,B,q);if(q<3)self.dj(B,C,S);else C=B;self.vU(C,m,q)}};l.p.P.agx=function(Z,m,S){var self=l.p.P,B=self.OU,C=self.Vi,u=0,r=S+4;
for(var q=0;q<C;q++){var k=q*B,v=(q-1)*B,e=(q+1)*B;if(v<0)v=k;if(e>=C)e=k;for(var j=0;j<B;j++){var $=j-1,U=j+1;
if($<0)$=j;if(U>=B)U=j;var H=k+$<<2,z=k+U<<2,f=v+j<<2,D=e+j<<2,n=k+j<<2;for(var L=0;L<3;L++){var a=Z[H+L],F=Z[z+L],A=Z[f+L],T=Z[D+L],P=Z[n+L];
m[u++]=(P*S+a+F+T+A)/r}m[u]=Z[u];u++}}};l.p.P.Vl=function(Z,m,S,B){var self=l.p.P,C=self.OU,u=self.Vi,r=S>>1,k=B>>1,v=0,e=new Int32Array(S),j=new Int32Array(256);
for(var q=0;q<u;q++){j.fill(0);for(var $=0;$<S;$++){for(var U=0,H=B;U<H;U++){var z=0-k+U,f=q-r+$;if(U==0){e[$]=z}if(z<0)z=0;
else if(z>=C)z=C-1;if(f<0)f=0;else if(f>=u)f=u-1;j[Z[f*C+z]]++}}var D=0,n=0;for(var L=0;L<256;L++){if(D<j[L]){n=L;
D=j[L]}}m[v++]=n;for(var a=1;a<C;a++){for(var $=0;$<S;$++){var f=q-r+$,F=e[$]+1;e[$]=F;var A=F-1,T=F+B-1;
if(f<0)f=0;else if(f>=u)f=u-1;if(A<0)A=0;else if(A>=C)A=C-1;if(T<0)T=0;else if(T>=C)T=C-1;j[Z[f*C+A]]--;
j[Z[f*C+T]]++}D=0;n=0;for(var L=0;L<256;L++){if(D<j[L]){n=L;D=j[L]}}m[v++]=n}}};l.p.P.a1K=[function(Z,m,S,B,C,u,r,k,v,e){return C+(Z+m+S)*e-(v+k+r)*e},function(Z,m,S,B,C,u,r,k,v,e){return C+(m+S+u)*e-(k+r+B)*e},function(Z,m,S,B,C,u,r,k,v,e){return C+(S+u+v)*e-(r+B+Z)*e},function(Z,m,S,B,C,u,r,k,v,e){return C+(u+v+k)*e-(B+Z+m)*e},function(Z,m,S,B,C,u,r,k,v,e){return C+(v+k+r)*e-(Z+m+S)*e},function(Z,m,S,B,C,u,r,k,v,e){return C+(k+r+B)*e-(m+S+u)*e},function(Z,m,S,B,C,u,r,k,v,e){return C+(r+B+Z)*e-(S+u+v)*e},function(Z,m,S,B,C,u,r,k,v,e){return C+(B+Z+m)*e-(u+v+k)*e}];
l.p.P.T9=function(Z,m,S,B,C){var self=l.p.P,u=self.OU,r=self.Vi,k=u,v=self.a1K[B-1];for(var q=0;q<r;
q++){var e=(q>0?q-1:0)*k,j=q*k,$=(q<r?q+1:q)*k;for(var U=0;U<u;U++){var H=U>0?U-1:0,z=U<u?U+1:U,f=j+U,D=Z[e+H],n=Z[e+U],L=Z[e+z],a=Z[j+H],F=m[f],A=Z[j+z],T=Z[$+H],P=Z[$+U],Y=Z[$+z];
S[f]=self.r2(v(D,n,L,a,F,A,T,P,Y,C))}}};l.p.P.a8j=function(Z,m,S,B,C){var self=l.p.P,u=self.B6(1),r=self.B6(1),k=self.B6(1);
for(var q=0;q<3;q++){self.MS(Z,u,q);self.MS(m,r,q);self.T9(u,r,k,B,C);self.vU(k,S,q)}self.MS(m,u,3);
self.vU(u,S,3)};l.p.P.vH=function(Z,m){var S=Z.length,B=0;for(var q=0;q<S;q++){m[B++]=~~((Z[q++]+Z[q++]+Z[q++]+2)/3)}};
l.p.P.Aq=function(Z,m){var S=m.length,B=0;for(var q=0;q<S;q++){var C=Z[q];m[B++]=C;m[B++]=C;m[B++]=C;
m[B++]=255}if(m[0]==255)m[0]--;else m[0]++};l.p.P.LU=function(Z,m){var S=m.length,B=0;for(var q=0;q<S;
q++){var C=Z[B++],u=Z[B++],r=Z[B++];B++;if(u>C)C=u;if(r>C)C=r;m[q]=C}};l.p.P.kd=function(Z,m){if(m==null)m=Z;
var S=Z.length;for(var B=0;B<S;B+=4){var C=Z[B],u=Z[B+1],r=Z[B+2],k=C,v=0,e=C,$;if(u<=C){C=u}else{v=1;
e=u}if(r<=e){if(C>r){C=r}}else{v=2;e=r}var j=e-C;if(j!=0){if(v==0){$=~~(43*(u-r)/j)}else if(v==1){$=~~(43*(r+2*j-k)/j)}else{$=43*(k+4*j-u)/j}if($<0){$=255&$-1}m[B]=$;
m[B+1]=~~(255*j/e)}else{m[B]=j;m[B+1]=j}m[B+2]=e;m[B+3]=Z[B+3]}};l.p.P.lM=function(Z,m){if(m==null)m=Z;
var S=Z.length;for(var B=0;B<S;B+=4){var C=Z[B],u=Z[B+1],r=Z[B+2];if(u){if(C==255)C=0;var k=~~(6*C/255),v=~~(-255*k+6*C);
if(k==0){m[B]=r;m[B+1]=~~(r*(255-u*(255-v)/255)/255);m[B+2]=~~(r*(255-u)/255)}else if(k==1){m[B]=~~(r*(255-u*v/255)/255);
m[B+1]=r;m[B+2]=~~(r*(255-u)/255)}else if(k==2){m[B]=~~(r*(255-u)/255);m[B+1]=r;m[B+2]=~~(r*(255-u*(255-v)/255)/255)}else if(k==3){m[B]=~~(r*(255-u)/255);
m[B+1]=~~(r*(255-u*v/255)/255);m[B+2]=r}else if(k==4){m[B]=~~(r*(255-u*(255-v)/255)/255);m[B+1]=~~(r*(255-u)/255);
m[B+2]=r}else{m[B]=r;m[B+1]=~~(r*(255-u)/255);m[B+2]=~~(r*(255-u*v/255)/255)}}else{m[B]=r;m[B+1]=r;m[B+2]=r}m[B+3]=Z[B+3]}};
l.p.P.vU=function(Z,m,S,B){if(S==null)S=2;if(B==null)B=4;var C=Z.length;for(var q=0;q<C;q++){m[S]=Z[q];
S+=B}};l.p.P.MS=function(Z,m,S,B){if(S==null)S=2;if(B==null)B=4;var C=m.length;for(var q=0;q<C;q++){m[q]=Z[S];
S+=B}};l.p.P.Rb=function(Z,m,S,B){if(B==null)B=1;var C=m.length,u=0,r;for(var u=0;u<C;u++){r=m[u];if(r){r*=B;
S[u]=~~((r*Z[u]+(255-r)*S[u])/255)}}};l.p.P.KV=function(Z,m,S,B){if(B==null)B=S;var C=m.length,u=0,r,k;
for(var q=0;q<C;q++){r=m[q];if(r){k=255-r;B[u]=~~((r*Z[u]+k*S[u])/255);B[u+1]=~~((r*Z[u+1]+k*S[u+1])/255);
B[u+2]=~~((r*Z[u+2]+k*S[u+2])/255)}B[u+3]=Z[u+3];u+=4}};l.p.P.kO=function(Z,m,S,B){var C=~~(B*255),u=S.length;
for(var q=0;q<u;q++){S[q]=((255-C*(255-Z[q])/255)*m[q]+Z[q]*(C*(255-Z[q])/255))/255}};l.p.P.k2=function(Z,m,S,B){var C=~~(B*255),u=S.length;
for(var q=0;q<u;q++){S[q]=((255-C*Z[q]/255)*m[q]+Z[q]*(C*Z[q]/255))/255}};l.p.P.Oi=function(Z,m,S){var B=m.length;
for(var q=0;q<B;q++){m[q]=~~(Z[q]*S+.5)+(m[q]-~~(m[q]*S+.5))}};l.p.P.sub=function(Z,m){var S=Z.length;
for(var q=0;q<S;q++){m[q]=Math.max(Z[q]-m[q],0)}};l.p.P.add=function(Z,m){var S=Z.length;for(var q=0;
q<S;q++){m[q]=Math.min(Z[q]+m[q],255)}};l.p.P.Zw=function(Z,m){var S=Z.length;for(var q=0;q<S;q++){m[q]=Z[q]+m[q]>>1}};
l.p.P.Yx=function(Z,m){var S=Z.length;for(var q=0;q<S;q++){m[q]=Z[q]}};l.p.P.xQ=function(Z,m){var S=Z.length;
for(var q=0;q<S;q++){Z[q]=m[Z[q]]}};l.p.P.fJ=function(Z,m){var S=l.p.P.JF;for(var q=0;q<S;q+=4){var B=Z[q],C=Z[q+1],u=Z[q+2],r=B;
if(C>B)r=C;if(u>B)r=u;var k=m[r];if(k){Z[q]=~~(k*B/r);Z[q+1]=~~(k*C/r);Z[q+2]=~~(k*u/r)}else{Z[q]=k;
Z[q+1]=k;Z[q+2]=k}}};l.p.P.n5=function(Z,m){for(var q=0,S=Z.length;q<S;q++){Z[q]=Math.min(255,~~(.5+Z[q]*m))}};
l.p.P.X1=function(Z,m){for(var q=0,S=Z.length;q<S;q++){Z[q]=255-Math.min(255,~~(.5+(255-Z[q])*m))}};
l.p.P.Yy=function(Z){var m=Z.length;for(var q=0;q<m;q++){Z[q]=255-Z[q]}};l.p.P.gD=function(Z,m,S,B){if(S==null)S=0;
if(B==null)B=255;for(var q=0,C=Z.length;q<C;q++){Z[q]=Z[q]>=m?B:S}};l.p.P._a=function(Z){return[Z>>24&255,Z>>16&255,Z>>8&255,Z&255]};
l.p.P.a03=function(Z,m,S,B){if(S==null)S=255;if(B==null)B=4278190335;var C=l.p.P,u=C.JF,r=C._a(S),k=C._a(B);
for(var q=0;q<u;q+=4){var v=~~((Z[q]+Z[q+1]+Z[q+2]+2)/3);if(v>=m){Z[q]=r[0];Z[q+1]=r[1];Z[q+2]=r[2]}else{Z[q]=k[0];
Z[q+1]=k[1];Z[q+2]=k[2]}}};l.p.P.$E=function(Z,m){var S=l.p.P,B=S.JF,C=S._a(m);for(var q=0;q<B;){Z[q++]=C[0];
Z[q++]=C[1];Z[q++]=C[2];Z[q++]=C[3]}};l.p.P.sH=function(Z,m){var S=Z.length;for(var q=0;q<S;){Z[q++]=m}};
l.p.P.S1=function(Z,m){Z=Z>5?(100-Math.max(4,Z))/100:.95;m=m!=100?Math.max(4,m)/100:.9995;var S=new Uint8Array(256),B=m>.5?.5/(1-m):m*2,C=~~(B*256),u=~~((.5-Z*B)*256)<<8;
for(var q=0;q<256;q++){S[q]=l.p.P.r2(u>>8);u+=C}return S};l.p.P.HQ=function(Z){for(var q=0,m=l.p.P,S=Z.length;
q<S;q++){Z[q]=~~(m.random()*256)}};l.p.P.a9h=function(Z,m){for(var q=0,S=l.p.P,B=Z.length;q<B;q++){Z[q]=S.random()<m?255:0}};
l.p.P.jY=function(Z,m,S){for(var q=0,B=l.p.P,C=Z.length;q<C;q++){if(B.random()<m)Z[q]=S}};l.p.P.GW=function(Z,m,S){var B=Z.length;
for(var q=0;q<B;q++){Z[q]=l.p.P.r2(Z[q]+S[m[q]])}};l.p.P.o4=function(Z){var m=new Uint32Array(256);for(var q=0,S=Z.length;
q<S;q++){m[Z[q]]++}return m};l.p.P.qN=function(Z,m,S){var self=l.p.P,B=self.o4(S),C=self.g6/100,u=new Uint8Array(256),r=C*Z,k=C*m,v=0,e=-1,j=256;
do{v+=B[++e]}while(v<=r);v=0;do{v+=B[--j]}while(v<=k);if(j-e<=0)j=e+1;if(j>255){j=255;e=254}var $=255/(j-e),U=-e;
for(var q=0;q<256;q++){u[q]=self.r2($*U+.5);U++}return u};l.p.P.lr=function(Z,m,S){var B=l.p.P;B.xQ(Z,B.qN(m,S,Z))};
l.p.P.aqE=function(Z,m){var self=l.p.P,S=self.o4(Z),B=self.g6*m/100,C=0,u=-1;do{C+=S[++u]}while(C<=B);
return u};l.p.P.rA=function(Z,m){var S=0,self=l.p.P,B=self.OU,C=self.Vi,u=1/Math.PI,r=u*255;for(var q=0;
q<C;q++){var k=q+1;if(k==C)k--;var v=q*B,e=~~((1-(q+1)/C)*255);for(var j=0;j<B;j++){var $=j+1;if($==B)$--;
var U=Z[v+j],H=Z[v+$],z=Z[k*B+j];if(U-z==0){m[S++]=e}else{var f=U-z+255;if(f==255){f=0}else{f=~~(Math.atan2(1/(255-f),1)*r+.5);
if(f<0)f+=255}m[S++]=f}if(U-H==0){m[S++]=~~((1-(j+1)/B)*255)}else{var f=U-H+255;if(f==255){f=0}else{f=~~(Math.atan2(1/(255-f),1)*r+.5);
if(f<0)f+=255}m[S++]=f}}}};l.p.P.ZE=function(Z,m){var self=l.p.P,S=self.OU,B=self.Vi,C=0;for(var q=0;
q<B;q++){for(var u=0;u<S;u++){Z[C]=~~(q*m+.5)+~~(Z[C]*(1-m)+.5);C++;Z[C]=~~(u*m+.5)+~~(Z[C]*(1-m)+.5);
C++}}};l.p.P.af$=function(Z,m,S,B){var self=l.p.P,C=self.OU,u=self.Vi,r=0;for(var q=0;q<u;q++){for(var k=0;
k<C;k++){m[r]=~~(m[r]*(1-S)+.5)+~~(Z[r]*B+.5);r++;m[r]=~~(m[r]*(1-S)+.5)+~~(Z[r]*B+.5);r++}}};l.p.P.qY=function(Z,m,S){var self=l.p.P,B=self.OU,C=self.Vi,u=0,r=0;
for(var q=0;q<C;q++){for(var k=0;k<B;k++){var v=Z[u++],e=Z[u++];m[r++]=e%S>=2&&v%S>=2?255:0}}};l.p.P.cn=function(Z,m,S,B,C,u,r){var self=l.p.P,k=self.OU,v=self.Vi,e=0,j=0,$=0;
for(var q=0;q<v;q++){var U=q%Z<S||v-S<=q;for(var H=0;H<k;H++){r[e++]=U||H%m<B||k-B<=H?C:u}}};l.p.P.pL=function(Z,m,S,B){var self=l.p.P,C=self.OU,u=self.Vi,r=e_.pL(m),k=r[0],v=r[1],e=l.U(k.Z()*4);
e.fill(4294967295);l.Dc(v,e);var j=l.scale.DY(e,k.e,k.n),$=l.scale.FL(j,null,C,u,S/100,S/100,0,0);l.NK($,Z,0);
if(B)l.Yy(Z)};l.p.P.r2=function(Z){return~~Math.min(255,Math.max(0,Z))};l.p.P.lj=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
l.p.P.Sg=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];l.p.P.om=function(Z){return Z>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][Z-41]:Z/40};
l.p.P.apP=function(Z,m,S){var self=l.p.P,B=self.OU,C=self.Vi,u=S,r=S>>1,k=r-1,v=u*u,e=0;for(var q=0;
q<C;q++){var j=0,$=0,U=0,H=~~(q/S)*S,z=0;for(var f=0;f<u;f++){for(var D=0;D<u;D++){var n=z+D,L=H+f;if(n>=B)n=B-1;
if(L>=C)L=C-1;j+=Z[L*B+n<<2];$+=Z[(L*B+n<<2)+1];U+=Z[(L*B+n<<2)+2]}}var a=~~(j/v),F=~~($/v),A=~~(U/v);
m[e]=a;m[e+1]=F;m[e+2]=A;m[e+3]=Z[e+3];e+=4;for(var T=1;T<B;T++){for(var f=0;f<u;f++){var P=T-1,Y=P+u,L=H+f;
if(Y>=B)Y=B-1;if(L>=C)L=C-1;var Q=L*B,o=Q+Y<<2,I=Q+P<<2;j+=Z[o]-Z[I];$+=Z[o+1]-Z[I+1];U+=Z[o+2]-Z[I+2]}if(T%S==0){a=~~(j/v);
F=~~($/v);A=~~(U/v)}m[e]=a;m[e+1]=F;m[e+2]=A;m[e+3]=Z[e+3];e+=4}}};l.p.P.ala=function(Z,m,S,B,C){var self=l.p.P,u=self.OU,r=self.Vi,k=0,v=0,e=0,j=0;
for(var q=j;q<r+j;q++){var $=q%m>=B||q<B||r+j-B<=q;for(var U=0;U<u;U++){Z[k++]=$&&(U%S>=C||U<C||u-C<=U)?255:0}}};
l.p.P.a34=function(Z,m,S){var B=function(e,j){return j<=e?e/j&1?j-e%j:e%j:e},C=[function(k,v){return B(k,255)/255},function(k,v){return(255+B(k,255)-B(v,255))/510},function(k,v){return(255-B(v,255))/255},function(k,v){return(510-B(k,255)-B(v,255))/510},function(k,v){return(255-B(k,255))/255},function(k,v){return(255-B(k,255)+B(v,255))/510},function(k,v){return B(v,255)/255},function(k,v){return(B(k,255)+B(v,255))/510}][S],u=0,r=0;
for(var q=0;q<l.p.P.g6;q++){var k=Z[u++],v=Z[u++];m[r++]=~~(255*C(k,v))}};l.p.att=function(){var Z=[],m=new Uint8Array(512),S=new Float32Array(512),B=new Float32Array(512),C=[1,-1,1,-1,1,-1,0,0],u=[1,1,-1,-1,0,0,1,-1],r=0,k,z=0;
for(;r<256;r++)Z[r]=r;while(r!=0){r--;k=Math.floor(Math.random()*r);Z[k]^=Z[r]^(Z[r]=Z[k])}function v(v){v=Math.floor(v*65536);
if(v<256){v|=v<<8}for(var q=0;q<256;q++){var n=q+256,L=Z[q]^(q&1?v:v>>8)&255;m[q]=m[n]=L;L=L%8;S[q]=S[n]=C[L];
B[q]=B[n]=u[L]}}function e(n){return n*n*n*(n*(n*6-15)+10)}function j(n,L,a){return(1-a)*n+a*L}function $(n,L){return n&L}function U(n,L){return n%L}function H(n,L,a,F,A){var T=Math.floor(n),P=Math.floor(L),r,Y,Q,o,I,c;
n=n-T;L=L-P;T=T&255;P=P&255;r=T+m[P];o=S[r]*n+B[r]*L;r=T+m[A(P+1,F)];Q=S[r]*n+B[r]*(L-1);r=A(T+1,a)+m[P];
I=S[r]*(n-1)+B[r]*L;r=A(T+1,a)+m[A(P+1,F)];c=S[r]*(n-1)+B[r]*(L-1);Y=e(n);return j(j(o,I,Y),j(Q,c,Y),e(L))}function f(n,r,L){n[r]=L}function D(n,L,a,F,A){var T=Math.min(Math.min(L,256),Math.min(256,a)),P=T==256||T<8,Y=8,Q=new Uint32Array(Y),o=new Uint32Array(Y),I=new Float32Array(Y),c=new Float32Array(Y),y=1,i=1,d=P?$:U,V=f,R;
for(var q=0;q<Y;q++){R=i*1/T;if(P){o[q]=(1<<Math.ceil(Math.log2(a*R)))-1;Q[q]=(1<<Math.ceil(Math.log2(L*R)))-1}else{o[q]=R*a;
Q[q]=R*L}I[q]=y;c[q]=R;y*=.5;i=i<<1}v(Math.random());for(var G=0,r=0;G<a;G++){for(var M=0;M<L;M++){var O=0;
for(var K=0;K<Y;K++){R=c[K];O+=H(M*R,G*R,Q[K],o[K],d)*I[K]}V(F,r++,Math.round(Math.max(0,255*Math.min(1,.5+O*.5))))}}}return D}();
l.p.ajy=function(){function Z(m,S,B,C){var u=new Uint8Array(m.length>>>2),r=new Uint8Array(m.length>>>2),k=new Uint8Array(m.length);
for(var q=0;q<m.length;q+=4){var v=m[q+0]*.3+m[q+1]*.59+m[q+2]*.11;r[q>>>2]=v;k[q]=m[q];k[q+1]=m[q+1];
k[q+2]=m[q+2]}l.Jc.TC(r,u,S,B);l.Jc.$d(m,C,S,B,l.Jc.LO[1],0,!0);for(var q=0;q<m.length;q+=4){k[q+3]=255-u[q>>>2]}for(var q=0,e=m.length;
q<e;q+=4){var j=k[q+3]/255;C[q]=k[q]*j+C[q]*(1-j);C[q+1]=k[q+1]*j+C[q+1]*(1-j);C[q+2]=k[q+2]*j+C[q+2]*(1-j)}}return Z}();
l.p.agk=function(){function Z(u,r,k,v,e){var j=new Uint32Array(u.buffer),$=0;for(var q=0;q<k;q++){for(var U=0;
U<r;U++,$+=4){var H=j[q*r+U],z=H&255,f=H>>>8&255,D=H>>>16&255,n=H>>>24&255,L=~~(Math.random()*8),a=L%3,F=0,A=0;
if(L<3){A--}else if(L>4){A++}if(a==0){F--}else if(a==2){F++}var T=U+F,P=q+A;if(T<0)T=0;else if(T>r-1)T=r-1;
if(P<0)P=0;else if(P>k-1)P=k-1;var H=j[P*r+T],Y=H&255,Q=H>>>8&255,o=H>>>16&255,I=H>>>24&255;v[$]=e(z,Y);
v[$+1]=e(f,Q);v[$+2]=e(D,o);v[$+3]=e(n,I)}}}function m(u,r){return r}function S(u,r){return u>r?r:u}function B(u,r){return u<r?r:u}function C(u,r,k,v,e){var j=e[0];
if(j==0)Z(u,r,k,v,m);else if(j==1)Z(u,r,k,v,S);else if(j==2)Z(u,r,k,v,B);else if(j==3){console.error("Not implemented")}else console.error("Mew mew")}return C}();
l.p.abt=function(){function Z(m,S,B,C,u){var r=u&&u[0]?u[0]:4,k,v,e,j,$,U,H;for(var q=0;q<B;q++){var z=Math.max(q-r,0),f=Math.min(q+r,B-1);
for(var D=0;D<S;D++){var n=Math.max(D-r,0),L=Math.min(D+r,S-1);k=z*S+n<<2;j=m[k];$=m[k+1];U=m[k+2];H=m[k+3];
k=z*S+L<<2;j+=m[k];$+=m[k+1];U+=m[k+2];H+=m[k+3];k=f*S+n<<2;j+=m[k];$+=m[k+1];U+=m[k+2];H+=m[k+3];k=f*S+L<<2;
j+=m[k];$+=m[k+1];U+=m[k+2];H+=m[k+3];k=q*S+D<<2;C[k]=j+2>>>2;C[k+1]=$+2>>>2;C[k+2]=U+2>>>2;C[k+3]=H+2>>>2}}}return Z}();
l.p.a8s=function(){function Z(m,S,B,C){var u=new Uint8Array(m.length),r=new Uint8Array(m.length>>>2),k=new Uint8Array(m.length>>>2);
l.Jc.$d(m,u,S,B,l.Jc.LO[2],0,!0);for(var q=0;q<m.length;q+=4){var v=u[q+0]*.3+u[q+1]*.59+u[q+2]*.11;
r[q>>>2]=v;C[q+0]=m[q+0];C[q+1]=m[q+1];C[q+2]=m[q+2];C[q+3]=m[q+3]}l.Jc.TC(r,k,S,B);for(var q=0;q<m.length;
q+=4){u[q+3]=~~(Math.max(0,255-k[q>>>2]-50)*(255/205))}for(var q=0,e=m.length;q<e;q+=4){var j=u[q+3]/255;
C[q]=u[q]*j+C[q]*(1-j);C[q+1]=u[q+1]*j+C[q+1]*(1-j);C[q+2]=u[q+2]*j+C[q+2]*(1-j)}}return Z}();l.p.ct=function(){function Z(L,a){return L[a]+L[a+1]+L[a+2]+L[a+3]}function m(L,a){return L[a]+L[a+1]+L[a+2]+2*L[a+3]}function S(L,a,F,A){L[a]=F[A];
L[a+1]=F[A+1];L[a+2]=F[A+2];L[a+3]=F[A+3]}function B(L,a,F){L[a]=L[F];L[a+1]=L[F+1];L[a+2]=L[F+2];L[a+3]=L[F+3]}function C(L,a,F){L[F]=a[F];
L[F+1]=a[F+1];L[F+2]=a[F+2];L[F+3]=255-a[F+3]}function u(L){for(var q=0,a=L.length;q<a;q+=4){L[q+3]=255-L[q+3]}}function r(){var L=Math.random();
if(L>.5)return 0;if(L>.25)return 1;if(L>.1)return 2;if(L>.02143)return 3;if(L>.00445)return 4;if(L>65e-5)return 5;
if(L>415e-6)return 6;if(L>55e-6)return 7;return 8}function k(L,a,F,A,T,P){L[a]=F[A]+(T[P]-F[A]>>1);L[a+1]=F[A+1]+(T[P+1]-F[A+1]>>1);
L[a+2]=F[A+2]+(T[P+2]-F[A+2]>>1);L[a+3]=F[A+3]+(T[P+3]-F[A+3]>>1)}function v(L,a,F,A,T,P){L[a]=T[P]+F[A]>>1;
L[a+1]=T[P+1]+F[A+1]>>1;L[a+2]=T[P+2]+F[A+2]>>1;L[a+3]=T[P+3]+F[A+3]>>1}function e(L,a,F,A,T,P,Y,Q,o){var I=0,c=0,y=0,q,i=T[P],d;
k(Q,0,L,a,L,F);for(q=0;q<i;q++){k(Q,(q+1)*4,Q,q*4,L,F)}c=(i+1)*4;y+=i;P--;S(L,a,Q,c-4);A[P]=Z(L,a);a-=o;
while(P>0&&A[P-1]<A[P]){d=Q;Q=Y;Y=d;I=c;v(Q,0,L,a-o,Y,0);for(q=4;q<I;q+=4){v(Q,q,Q,q-4,Y,q)}i=T[P];for(q=y;
q<i;q++){k(Q,c,Q,c-4,Y,I-4);c+=4;y++}P--;S(L,a,Q,c-4);A[P]=Z(L,a);a-=o}}function j(L,a,F,A,T){var P=a*4,Y=0,Q,o,I=new Uint8Array(a+1),c=new Uint8Array(10*4),y=new Uint8Array(10*4);
for(var q=0;q<F;q++){C(A,L,Y);T[0]=Z(A,Y);I[0]=r();Q=Y;Y+=4;for(var i=1;i<a;i++){C(A,L,Y);T[i]=Z(A,Y);
o=r();I[i]=o;if(T[i-1]<T[i]&&o>0){e(A,Y-4,Y,T,I,i,c,y,4)}Y+=4}T[a]=T[0];I[a]=I[0];if(T[a-1]<T[a]&&o>0){e(A,Y,Q,T,I,a,c,y,4)}}u(A)}function $(){var L=Math.random();
if(L>.659755)return 0;if(L>.1625)return 10;if(L>.06)return 20;if(L>.01)return 30;if(L>.0035)return 40;
if(L>65e-5)return 50;if(L>415e-6)return 60;if(L>55e-6)return 70;return 80}function U(L,a,F,A,T,P){var Y=$()+1,Q=A[T];
for(var q=1;q<Y;q++){if(0>T)break;if(A[T-q]<Q){B(L,a,F)}else{break}a+=P}}function H(L,a,F,A,T){var P=a*4,Y=0;
for(var q=0;q<F;q++){C(A,L,Y);T[0]=Z(A,Y);Y+=4;for(var Q=1;Q<a;Q++){C(A,L,Y);T[Q]=Z(L,Y);if(T[Q-1]<T[Q]){U(A,Y-4,Y,T,Q,-4)}Y+=4}T[a]=T[0];
if(T[Q-1]<T[Q]){U(A,Y-4,Y-P,T,Q,-4)}}u(A)}function z(L,a,F,A,T,P){var Y=1,Q,o,I=new Uint8Array(4),c,y=a;
while(Math.random()<1/Y){y=a;if(A<=1)break;Q=F[A];o=F[A-1];if(Q<=o)break;S(I,0,L,y-P);c=!0;for(var q=A;
q<T;q++){if(o>F[q]){S(L,y-P,I,0);F[q-1]=o;c=!1;break}S(L,y-P,L,y);F[q-1]=F[q];y+=P}if(c){S(L,y-P,I,0);
F[T-1]=o}Y++;A--;a-=P}}function f(L,a,F,A,T){var P=0,Y=0,Q=a*4;for(var q=0;q<F;q++){Y=P;for(var o=0;
o<a;o++){C(A,L,P);T[o]=m(A,P);P+=4}P=Y;for(var o=1;o<a;o++){if(T[o-1]<T[o]&&Math.random()<.66){z(A,P+4,T,o,a,4)}P+=4}P+=4}u(A)}function D(L,a,F,A,T){var P=T[0],Y=T[1],Q=new Uint16Array(a+1),o=L,I=A,c;
if(Y){c=A.slice(0);n(L,A,a,F);o=A;I=c}if(P==0)j(o,a,F,I,Q);else if(P==1)H(o,a,F,I,Q);else if(P==2)f(o,a,F,I,Q);
if(Y){n(c,A,a,F)}}function n(L,a,F,A){for(var T=0;T<A;T++)for(var P=0;P<F;P++){var Y=T*F+P<<2,Q=T*F+(F-1-P)<<2;
a[Q]=L[Y];a[Q+1]=L[Y+1];a[Q+2]=L[Y+2];a[Q+3]=L[Y+3]}}return D}();l.p.Wj=function(Z,m,S,B,C){var u=l.p.P,r=1,D=0,a=0;
u.R$(m,S);u.ov(C[2]);var k=3<<13,v=Math.PI/2.43,e=v/256,j=Math.PI*2/256;function $(){var P=u.random()*256,Y=u.random()*256;
return r*~~(Math.tan(v-P*e)*325*Math.cos(Y*j)*256)+k>>16}r=C[0];var U=C[1],H=(U+2)/2,z=u.random()*255,f=u.B6(1);
for(var q=0;q<S;q++){var n=u.r2($()+z);for(var L=0;L<m;L++){n=u.r2($()+n);f[D++]=n}}D=m;for(var q=1;
q<S;q++){var F=u.r2($()+f[a++]);f[D++]=F;for(var L=1;L<m;L++){var A=a+1;if(L+1==m){A--}var T=(H+F+f[A]+f[a]*U)/(U+2);
F=u.r2($()+T);f[D++]=F;a++}}u.Aq(f,B)};var ci=function(){function Z(X){X=X^61^X>>>16;X=X+(X<<3);X=X^X>>>4;
X=X*668265261;X=X^X>>>15;return X}var m=function(){var m=function(X){if(X){this.AQ=X}this.AQ=Z(this.AQ);
return(this.AQ&16777215)*(1/16777215)};return m};function S(X,h){if(h==null){h=[0,0]}return Math.sqrt((h[0]-X[0])*(h[0]-X[0])+(h[1]-X[1])*(h[1]-X[1]))}function B(X,h){if(h==null){h=[0,0]}return[-(h[1]-X[1])/S(X,h),(h[0]-X[0])/S(X,h)]}function C(X){return[Math.cos(X),Math.sin(X)]}function u(X){var h=S(X,[0,0]),b=[X[0]/h,X[1]/h],E=Math.atan(b[1]/b[0]);
if(b[0]>0&&b[1]<0){E+=2*Math.PI}else if(b[0]<0&&b[1]<0){E+=Math.PI}else if(b[0]<0&&b[1]>0){E+=Math.PI}return E}function r(X){var r=0;
for(var q=1;q<X.length/2;++q){r+=S([X[2*q],X[2*q+1]],[X[2*(q-1)],X[2*(q-1)+1]])}return r}function k(X,h,b){var E=new Float32Array(X.length),f0=1/(X.length/2),ay=A(b);
for(var q=0;q<X.length/2;++q){var p=q*f0,eo=p/2+.5,co=1,c5=0;if(b.shape==2){co=1/(2*eo)}if(b.shape==3){eo=(1-p)/2+.5;
co=1/(2*eo)+.5}if(b.shape==4){eo=p;co=Math.sin(3/2*Math.PI*eo)/4+1}if(b.shape==5){eo=(p-.5)*6;co=(-Math.atan(eo)/1.25+1)/5+.6-.2*p}var he=[null,null];
if(q==0){he=B([X[2*q],X[2*q+1]],[X[2*(q+1)],X[2*(q+1)+1]])}else if(q==X.length/2-1){he=B([X[2*(q-1)],X[2*(q-1)+1]],[X[2*q],X[2*q+1]])}else{he=B([X[2*(q-1)],X[2*(q-1)+1]],[X[2*(q+1)],X[2*(q+1)+1]])}E[2*q]=X[2*q]+(co*h+c5)*he[0];
E[2*q+1]=X[2*q+1]+(co*h+c5)*he[1];if(b.style==2){E[2*q]+=T(2*q/E.length,ay,b)}}return E}function v(X,h,b){var E=new Float32Array(X.length),f0=1/(X.length/2);
for(var q=0;q<X.length/2;++q){var ay=q*f0,p=[null,null],eo=.6*b.jW*Q(ay,h.atu)*b.HR/100,co=.6*b.jW*Q(ay,h.ad7)*b.HR/100,c5=h.abE*eo+(1-h.abE)*co;
if(q==0){p=B([X[2*q],X[2*q+1]],[X[2*(q+1)],X[2*(q+1)+1]])}else if(q==X.length/2-1){p=B([X[2*(q-1)],X[2*(q-1)+1]],[X[2*q],X[2*q+1]])}else{p=B([X[2*(q-1)],X[2*(q-1)+1]],[X[2*(q+1)],X[2*(q+1)+1]])}E[2*q]=X[2*q]+c5*p[0];
E[2*q+1]=X[2*q+1]+c5*p[1]}return E}function e(X){if(X.FG==1){return[.150684932,.205479452,.465753425,.178082192]}else if(X.FG==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var h=[],b=1/(y(X)-1);
for(var q=0;q<y(X)-1;++q){h.push(b)}return h}}function j(X,h,b){var E=[],f0=h-X,ay=X;for(var q=0;q<b.length-1;
++q){E.push(ay+b[q]*f0);ay=E[q]}return E}function $(X,h,b,E){var f0=new Float32Array(b.length),ay=0,p={shape:Math.floor(E.random()*2.99),aiC:E.random()*.1+.15};
for(var q=0;q<b.length-1;++q){var eo=ay+b[q];f0[q]=((1-eo)*X+eo*h)*n(E,eo,p);ay=eo}return f0}function U(X,h,b,E){var f0=I(E),ay=E.random(),p=ay*20+(1-ay)*26,eo=new Float32Array(b.length),co=0;
for(var q=0;q<b.length-1;++q){var c5=co+b[q];eo[q]=(1-c5)*X+c5*h+f0/p*(2/3*Math.sin(Math.PI*c5)+1/3*Math.sqrt(Math.sin(Math.PI*c5)));
co=c5}return eo}function H(X,h,b){var E=[];for(var q=0;q<h.length-1;++q){E.push(h[q].slice());var f0=q*(y(b)-1),ay=(q+1)*(y(b)-1),p=X[ay]-X[f0];
for(var eo=f0+1;eo<ay;++eo){var co=A(b),c5=new Float32Array(h[0].length),he=(X[eo]-X[f0])/p;for(var hU=0;
hU<h[0].length/2;++hU){c5[2*hU]=(1-he)*h[q][2*hU]+he*h[q+1][2*hU];c5[2*hU+1]=(1-he)*h[q][2*hU+1]+he*h[q+1][2*hU+1];
if(b.style==2){c5[2*hU]+=T(2*hU/h[0].length,co,b)}}E.push(c5)}}E.push(h[h.length-1]);return E}function z(X,h,b){var E=new Array(h.length),f0=O(X),p=null;
for(var q=0;q<h.length;++q){E[q]=k(f0,(h[q]-.5)*b.HR,b)}var ay=1+.05*b.ank*I(b)/I({FG:1});for(var q=0;
q<h.length;++q){if(h[q]==0){p=q}}for(var q=0;q<h.length;++q){var eo=(b.random()-.5)*2,co=Math.round(b.random()*9+1),c5=new Float32Array(co*2+2);
for(var he=0;he<=co;++he){c5[2*he]=E[q][0]-(E[q][2*he]-E[q][0]);c5[2*he+1]=E[q][1]-(E[q][2*he+1]-E[q][1])}if(q==p){eo*=.1}for(var he=(E[q].length-1)/2;
he>co;--he){E[q][2*he]=(1-eo)*E[q][2*he]+eo*(E[q][2*(he-co)]+ay*(E[q][2*he]-E[q][2*(he-co)]));E[q][2*he+1]=(1-eo)*E[q][2*he+1]+eo*(E[q][2*(he-co)+1]+ay*(E[q][2*he+1]-E[q][2*(he-co)+1]))}for(var he=co-1;
he>=0;--he){E[q][2*he]=(1-eo)*E[q][2*he]+eo*(c5[2*(co-he)]+ay*(E[q][2*he]-c5[2*(co-he)]));E[q][2*he+1]=(1-eo)*E[q][2*he+1]+eo*(c5[2*(co-he)+1]+ay*(E[q][2*he+1]-c5[2*(co-he)+1]))}}var hU=Y(h,b);
if(b.jW>0){var aB=0;for(var q=0;q<h.length;++q){if(q==0){aB+=h[q]}else{aB+=Math.abs(h[q]-h[q-1])}var ep=aB-Math.floor(aB),aO=1;
if(ep==0){aO=0}E[q]=v(E[q],{atu:hU[Math.floor(aB)],ad7:hU[Math.floor(aB)+aO],abE:ep},b)}}return E}function f(X,h){var b=V(h,X),E=R(h,X),f0=[],ay=[],p=[],eo=e(X);
for(var q=0;q<h.length-1;++q){f0.push(h[q]);ay.push(b[q]);p.push(E[q]);var co=j(h[q],h[q+1],eo),c5=$(b[q],b[q+1],eo,X),he=U(E[q],E[q+1],eo,X);
for(var hU=0;hU<co.length;++hU){f0.push(co[hU]);ay.push(c5[hU]);p.push(he[hU])}}f0.push(h[h.length-1]);
ay.push(b[b.length-1]);p.push(E[E.length-1]);return{a1g:f0,a8Y:ay,MA:p}}function D(X,h,b,E){var f0=new Float32Array(2*E),ay=X.length/2,p=ay-h,eo=b*p,co=eo/E;
for(var q=0;q<E;++q){var c5=Math.floor(h+q*co),he=Math.ceil(h+q*co),b=h+q*co,hU=he-c5,aB=1,ep=0;if(hU!=0){aB=(he-b)/hU;
ep=(b-c5)/hU}f0[2*q]=aB*X[2*c5]+ep*X[2*he];f0[2*q+1]=aB*X[2*c5+1]+ep*X[2*he+1]}return f0}function n(X,h,b){var E=b.aiC,f0=h*2*Math.PI,ay=f0,p=0;
if(b.shape==0){p=(Math.sin(2*ay+Math.PI/2)+1)/2}else if(b.shape==1){p=(Math.sin(ay+Math.PI/2)+1)/2}else{p=(4*Math.sin(3/4*ay+Math.PI)+Math.sin(Math.PI/2+2*ay)-2*ay/Math.PI+6)/7}return Math.min(1,1-E+E*p)}function L(X,h,b,E){var f0=[];
for(var q=0;q<X.length;++q){f0.push(D(X[q],h[q],b[q],E))}return f0}function a(X,h,b){var E=[];for(var q=0;
q<X.length;++q){var f0=C(2*Math.PI*b.random()),ay=C(2*Math.PI*b.random()),p=b.iZ*.5*i({FG:1})/i(b),eo=p*b.HR/200,co=p*h/500,c5=new Float32Array(X[0].length);
for(var he=0;he<X[0].length/2;++he){var hU=C(2*Math.PI*b.random()),aB=2*he/X[0].length;c5[2*he]=X[q][2*he]+eo*(hU[0]+((1-aB)*f0[0]+aB*ay[0]));
c5[2*he+1]=X[q][2*he+1]+co*(hU[1]+((1-aB)*f0[1]+aB*ay[1]))}E.push(c5)}return E}function F(X,h,b){var E=b.py,f0=2/E,ay=[1/10,1/30,1/40,1/45,1/100],p=ay[b.FG-1],eo=4*(b.opacity/25*f0*p)*(1-b.iZ/150),hU=0,ep=0;
if(b.style==3){return eo*.09}var co=2.2*(X-.5),c5=co*co*co*co+.27+Math.max(0,(b.opacity-50)/15),he=2*(Math.sin(3*Math.PI*h)/(Math.PI*h+2)+1.1)-h/2;
h=2*h;if(h<.41){var aB=2*Math.PI*h/.41;hU=(Math.sin(aB-Math.PI/2)+1)/4+.5}else if(h<.77){var aB=2*Math.PI*(h-.41)/.36;
hU=(Math.sin(aB-Math.PI/2)+1)/4+.5-aB/2/Math.PI*.5}else{var aB=2*Math.PI*(h-.77)/.23;hU=(Math.sin(aB-Math.PI/2)+1)/2*.12}hU*=3;
hU+=Math.max(0,(b.opacity-50)/15);if(b.type==6){ep=he}else{ep=hU}return eo*c5*ep}function A(X){return{B:X.random()*7/2+.5,Oa:X.random()*2*Math.PI}}function T(X,h,b){return b.HR/300*y({FG:1})/y(b)*10*(Math.sin(h.B*2*Math.PI*X+h.Oa)+10*(b.random()-.5))}function P(X){var h=Math.exp(-X.jW/25);
return{B:X.random()*3/2+.5,Oa:X.random()*2*Math.PI,v9:(X.random()-.5)*10*h}}function Y(X,h){var b=Math.ceil(G(X)),E=[];
for(var q=0;q<=b;++q){E.push(P(h))}return E}function Q(X,h){var b=h.B*4*Math.PI*X+h.Oa;return Math.exp(-1/2*Math.PI*X)*Math.cos(b)*Math.cos(b)*Math.cos(b)*Math.cos(b)*Math.cos(b)+X*h.v9-h.v9/4}function o(X,h,b,E,f0){var ay=0,p=i(h)-1;
for(var q=0;q<p;++q){for(var eo=0;eo<X.length-1;eo+=y(h)-1){for(var co=q;co<X[0].length/2-p;co+=p){for(var c5=eo;
c5<eo+(y(h)-1);++c5){b[f0+ay]=F(c5*(h.py-1)/(X.length-1)%1,co/X[0].length,h);var he=0,hU=0;if(h.type==6&&c5!=0&&c5!=X.length-1){hU=(X[c5][2*(co+1)+1]-X[c5][2*co+1])/2;
he=(X[c5][2*(co+1)]-X[c5][2*co])/2}E[8*f0+8*ay]=X[c5][2*co]+he;E[8*f0+8*ay+1]=X[c5][2*co+1]+hU;E[8*f0+8*ay+2]=X[c5][2*(co+p)]+he;
E[8*f0+8*ay+3]=X[c5][2*(co+p)+1]+hU;E[8*f0+8*ay+4]=X[c5+1][2*(co+p)];E[8*f0+8*ay+5]=X[c5+1][2*(co+p)+1];
E[8*f0+8*ay+6]=X[c5+1][2*co];E[8*f0+8*ay+7]=X[c5+1][2*co+1];++ay}}}}}function I(X){var h=[100,300,500,700,1e3];
return h[X.FG-1]}function c(X){var h=[30,70,100,140,300];return h[X.FG-1]}function y(X){var h=[5,7,26,40,100];
return h[X.FG-1]}function i(X){if(X.FG==1){return 4}else if(X.FG==2){return 8}else{return Math.floor(c(X)/9)}}function d(X){var h=X.py,b=new Float32Array(h),E=null;
for(var q=0;q<h;++q){b[q]=X.random()}if(X.py<=3){b[0]=0;b[X.py-1]=1}else{for(var q=0;q<2;++q){var f0=Math.floor(X.random()*h);
if(E==null||E!=f0){b[f0]=q;E=f0}else{b[f0+1]=q}}}return b}function V(X,h){var b=[],E=.2,ay=0;for(var q=0;
q<X.length;++q){var f0=h.random()*(1-E)+E;b.push(f0)}var p=Math.min(3,h.py);for(var q=0;q<X.length;++q){if(b[q]>.9){++ay}}while(ay<p){var eo=Math.floor(h.random()*X.length);
if(b[eo]<=.9){b[eo]=.9+.1*h.random();++ay}}return b}function R(X,h){var b=I(h),E=I({FG:1}),f0=[];for(var q=0;
q<X.length;++q){f0.push(Math.max(1,(h.random()*10+2)*b/E))}return f0}function G(X){var h=0;for(var q=0;
q<X.length;++q){if(q==0){h+=X[q]}else{h+=Math.abs(X[q]-X[q-1])}}return h}function M(X,h){if(X.length/2-1==I(h)){return X}var b=new Float32Array(2*(I(h)+1)),E=(X.length-2)/(b.length-2);
for(var q=0;q<b.length/2;++q){var f0=q*E,ay=Math.floor(f0),p=Math.ceil(f0),eo=p-ay,co=1,c5=0;if(eo!=0){co=(p-f0)/eo;
c5=(f0-ay)/eo}b[2*q]=co*X[2*ay]+c5*X[2*p];b[2*q+1]=co*X[2*ay+1]+c5*X[2*p+1]}return b}function O(X,h){var b=X.length/2,E=r(X),f0=E/b,ay=!1,co=0,c5=0,he=1;
if(h){var p=Math.floor(E/h.a6y),eo=h.a6y;if(h.a1F&&X[0]==X[X.length-2]&&X[1]==X[X.length-1]){ay=!0;eo=E/(p+1)}if(h.type==2&&!ay&&eo*p+h.length>E){b=p+1}else{b=p+2}f0=eo}var hU=new Float32Array(b*2);
hU[0]=X[0];hU[1]=X[1];for(var q=1;q<b;++q){while(co<=q*f0){c5=co;co+=S([X[2*he],X[2*he+1]],[X[2*(he-1)],X[2*(he-1)+1]]);
++he}var aB=1-(q*f0-c5)/(co-c5);hU[2*q]=(1-aB)*X[2*he]+aB*X[2*(he-1)];hU[2*q+1]=(1-aB)*X[2*he+1]+aB*X[2*(he-1)+1]}hU[hU.length-2]=X[X.length-2];
hU[hU.length-1]=X[X.length-1];return hU}function K(X,h){var b=O(X,h),E=[];for(var q=0;q<(b.length-2)/2;
++q){var f0=[];f0.push(b[2*q]);f0.push(b[2*q+1]);var ay=S([b[2*(q+1)],b[2*(q+1)+1]],[b[2*q],b[2*q+1]]),p=[(b[2*(q+1)]-b[2*q])/ay,(b[2*(q+1)+1]-b[2*q+1])/ay],eo=C((h.a3q-90)/360*2*Math.PI),co=p;
if(h.type==3){co=eo}else if(h.type==4){co=C(u(p)+u(eo))}else if(h.type==5){co=C(((h.random()-.5)*h.a3q-90)/360*2*Math.PI)}var c5=h.length;
if(h.acz){c5=2*h.random()*h.length}f0.push(b[2*q]+co[0]*c5);f0.push(b[2*q+1]+co[1]*c5);E.push(f0)}return E}function W(X){if(X.aso){X.AL=100*Math.random()}else{X.AL=X.agK}X.random=new m;
X.random(X.AL);if(X.type==6){X.py=2;X.shape=5;X.ank=0}}function t(X,h){X=M(X,h);var b=[X],c5=0;if(h.type>=2&&h.type<6){b=K(X,h)}var E=i(h)-1,f0=c(h)-E,ay=(h.py-1)*(y(h)-1),p=b.length*f0*ay,eo=new Float32Array(p),co=new Float32Array(8*p);
for(var q=0;q<b.length;++q){for(var he=0;he<1e4;++he){h.AL=Z(h.AL)}h.random(h.AL);var X=M(b[q],h),hU=d(h),aB=G(hU),ep=z(X,hU,h),aO=f(h,hU),f$=H(aO.a1g,ep,h);
f$=L(f$,aO.MA,aO.a8Y,c(h));if(h.iZ>0){f$=a(f$,r(b[q]),h)}o(f$,h,eo,co,c5);c5+=f0*ay}return[eo,co]}var ci=function(X){var h=performance.now(),b=X[0],E=X[1];
W(E);var f0=[new Float32Array(0),new Float32Array(0)];for(var q=0;q<b.length;++q){E.AL=Z(E.AL);var ay=t(b[q],E),p=new Float32Array(f0[0].length+ay[0].length),eo=new Float32Array(f0[1].length+ay[1].length);
p.set(f0[0]);p.set(ay[0],f0[0].length);f0[0]=p;eo.set(f0[1]);eo.set(ay[1],f0[1].length);f0[1]=eo}var co=performance.now();
if(E.a19){console.e8("Geometry: "+String(co-h)+"ms")}return f0};return ci}(),cE=function(){function Z(C,u){var r=[],k=0,v=u.length,e=0,j=0,$=new bq,U=0,H=1e9;
for(j=0;j<v;j++){var z=j*8,f=u[j];if(f<H)H=f;var D=C[z+0],n=C[z+1],L=C[z+2],a=C[z+3],F=C[z+4],A=C[z+5],T=C[z+6],P=C[z+7],Y=Math.min(D,L,F,T),Q=Math.max(D,L,F,T),o=Math.min(n,a,A,P),I=Math.max(n,a,A,P),c=new bq(Y,o,Q-Y,I-o),y=c.j3($),i=U+f;
if(j-e<10&&(j==e||y.Z()*.8<c.Z()+$.Z())){$=y;U=i}else{r.push(j-e);e=j;$=c;U=f;H=f}}if(j!=e)r.push(j-e);
return r}function m(C,u,r,k,v,e){var j=document.createElement("canvas"),n=0,p=.8;j.width=u;j.height=r;
var $=j.getContext("2d"),U=v[0],H=v[1],z=new Float64Array(u*r),f=Date.now(),D=Z(H,U);for(var L=0;L<D.length;
L++){var a=n,F=n+D[L],P=1e9,Q=1e9,V=0;n=F;var A=a*8,T=F*8,Y=-P,o=-Q;for(var I=A;I<T;I+=2){var c=H[I],y=H[I+1];
if(c<P)P=c;if(c>Y)Y=c;if(y<Q)Q=y;if(y>o)o=y}P=Math.floor(P);Y=Math.ceil(Y);Q=Math.floor(Q);o=Math.ceil(o);
var i=Y-P,d=o-Q;for(var R=a;R<F;R++)V+=U[R];for(var I=A;I<T;I+=8){var G=U[I>>>3],M=H[I+0],O=H[I+1],K=H[I+2],W=H[I+3],t=H[I+4],X=H[I+5],h=H[I+6],b=H[I+7];
$.fillStyle="rgba(0,0,0,"+G/V+")";$.beginPath();$.moveTo(M,O);$.lineTo(K,W);$.lineTo(t,X);$.lineTo(h,b);
$.closePath();$.fill()}var E=$.getImageData(P,Q,i,d).data;for(var y=0;y<d;y++)for(var c=0;c<i;c++){var q=y*i+c,f0=E[q*4+3],ay=(Q+y)*u+P+c;
if(f0!=0)z[ay]+=f0*V}$.clearRect(P,Q,i,d)}var eo=e[1].color,co=Math.pow(eo.I/255,p),c5=Math.pow(eo.z/255,p),he=Math.pow(eo.S/255,p),hU=new bq(0,0,u,r),aB=l.U(u*r*4);
for(var y=0;y<r;y++)for(var c=0;c<u;c++){var q=y*u+c,R=q*4,U=z[q]*(1/255);aB[R]=B(co,U);aB[R+1]=B(c5,U);
aB[R+2]=B(he,U);aB[R+3]=Math.min(255,U*255)}l.a.qn("norm",aB,hU,k,hU,hU,1)}var S=new Uint8Array(2e3);
for(var q=0;q<2e3;q++)S[q]=255*Math.min(1,Math.log(q/700+1));function B(C,u){return S[Math.min(1500,~~(C*u*1e3))]}return m}(),gy=function(){var Z=new Float32Array(3e3),m=new Float32Array(3e3),S=new Float32Array(256),B=new Float32Array(3e3);
function C(){var H=Z.length;Z[0]=Math.log10(157647e-9);for(var q=1;q<H;++q)Z[q]=Math.log10(q/H)}function u(){var H=m.length;
for(var q=0;q<H;++q)m[q]=Math.pow(10,20*(q-H/2)/H)}function r(){var H=S.length;for(var q=0;q<H;++q)S[q]=l.CQ(q/255)}function k(){var H=B.length;
for(var q=0;q<H;++q)B[q]=255*l.mg(q/(H-1))}function v(H,z){var f=H.length>>>2;for(var q=0;q<f;++q){var D=S[H[4*q]],n=S[H[4*q+1]],L=S[H[4*q+2]],a=.3811*D+.5783*n+.0402*L,F=.1967*D+.7244*n+.0782*L,A=.0241*D+.1288*n+.8444*L;
a=Z[~~(a*Z.length)];F=Z[~~(F*Z.length)];A=Z[~~(A*Z.length)];z[3*q]=(a+F+A)*.5773502692;z[3*q+1]=(a+F-2*A)*.4082482905;
z[3*q+2]=(a-F)*.7071067812}}function e(H,z){var f=z.length>>>2,D=B.length-1;for(var q=0;q<f;++q){var n=.5773502692*H[3*q],L=.4082482905*H[3*q+1],a=.7071067812*H[3*q+2],F=m[~~((n+L+a+10)*(3e3/20))],A=m[~~((n+L-a+10)*(3e3/20))],T=m[~~((n-2*L+10)*(3e3/20))],P=4.4679*F-3.5873*A+.1193*T,Y=-1.2186*F+2.3809*A-.1624*T,Q=.0497*F-.2439*A+1.2045*T;
z[4*q]=B[~~(D*Math.max(0,Math.min(1,P)))];z[4*q+1]=B[~~(D*Math.max(0,Math.min(1,Y)))];z[4*q+2]=B[~~(D*Math.max(0,Math.min(1,Q)))]}}function j(H){var z=0,f=0,D=0;
for(var q=0;q<H.length;q+=3){z+=H[q];f+=H[q+1];D+=H[q+2]}return[z/(H.length/3),f/(H.length/3),D/(H.length/3)]}function $(H,j){var z=0,f=0,D=0;
for(var q=0;q<H.length;q+=3){var n=H[q]-j[0],L=H[q+1]-j[1],a=H[q+2]-j[2];z+=n*n;f+=L*L;D+=a*a}return[Math.sqrt(z/(H.length/3)),Math.sqrt(f/(H.length/3)),Math.sqrt(D/(H.length/3))]}function U(H,z,f,D,n,L){C();
u();r();k();var a=0,O,K;if(L[0]>100)a=-(L[0]-100)/100*.13;else if(L[0]>=75)a=(100-L[0])/25*.04;else if(L[0]>=50)a=.04+(75-L[0])/25*.04;
else if(L[0]>=25)a=.08+(50-L[0])/25*.08;else a=.16+(25-L[0])/25*.24;var F=(L[1]-100+100)/100,A=L[2]/100,T=L[3],P=new Float32Array(H.length*3/4),Y=new Float32Array(D.length*3/4),Q=Date.now();
v(H,P);v(D,Y);var o=Date.now(),I=j(P),c=j(Y),y=Date.now(),i=$(P,I),d=$(Y,c),V=Date.now();c[0]*=Math.pow(10,a);
var R=[d[0]/i[0],d[1]/i[1],d[2]/i[2]],G=P.length,M=1/-1.1546978950500488;for(var q=0;q<G;q+=3){if(T){var W=Math.max(0,Math.min(1,P[q]*M));
W=1-Math.sqrt(W);O=W*c[1];K=W*c[2]}else{O=c[1];K=c[2]}P[q]=(P[q]-I[0])*R[0]+c[0];P[q+1]=(P[q+1]-I[1])*R[1]*F+O;
P[q+2]=(P[q+2]-I[2])*R[2]*F+K}var t=Date.now();e(P,n);var X=n.length>>>2;for(var q=0;q<X;++q){n[4*q]=(1-A)*n[4*q]+A*H[4*q];
n[4*q+1]=(1-A)*n[4*q+1]+A*H[4*q+1];n[4*q+2]=(1-A)*n[4*q+2]+A*H[4*q+2];n[4*q+3]=255}}return U}(),aT=function(){function Z(m,S,B,C,u){var r=[-1,-1,-1,-1],k=255,v=160,e,j=!1,$=new Array(4);
$[0]=new Array(S);$[1]=new Array(B);$[2]=new Array(S);$[3]=new Array(B);var U=new Array(2);U[0]=new Array(B);
U[1]=new Array(B);function H(d,V,R,G,M){this.start=G;this.axis=M;this.dir=d;this.end=-1;this.source=V;
this.Z=R}function z(d,V,R,G,M){if(R%2==0){if(!$[R][d])$[R][d]=new Array;$[R][d].push(new H(R,G,M,V,d))}else{if(!$[R][V])$[R][V]=new Array;
$[R][V].push(new H(R,G,M,d,V))}var O=Date.now()}function f(q){var d=!1,V=0;if(m[4*q+3]<k)return d;var R=q%S,G=Math.floor(q/S);
D(R,G);if(q+S<S*B&&m[4*(q+S)+3]<k&&m[4*(q-S)+3]>=k&&m[4*(q-2*S)+3]>=k){var M=2;if(m[4*(q+S)+3]<=v)V=-1;
if(m[4*(q+2*S-1)+3]<k&&m[4*(q+2*S+1)+3]<k)d=!0;else if(m[4*(q+2*S-1)+3]>=k&&m[4*(q+1)+3]>=k)d=!0;else if(m[4*(q+2*S+1)+3]>=k&&m[4*(q-1)+3]>=k)d=!0;
z(R,G,M,V,d)}else if(q-S>=0&&m[4*(q-S)+3]<k&&m[4*(q+S)+3]>=k&&m[4*(q+2*S)+3]>=k){var M=0;if(m[4*(q-S)+3]<=v)V=-1;
if(m[4*(q-2*S-1)+3]<k&&m[4*(q-2*S+1)+3]<k)d=!0;else if(m[4*(q-2*S-1)+3]>=k&&m[4*(q+1)+3]>=k)d=!0;else if(m[4*(q-2*S+1)+3]>=k&&m[4*(q-1)+3]>=k)d=!0;
z(R,G,M,V,d)}V=0;if(q+1<S*B&&m[4*(q+1)+3]<k&&m[4*(q-1)+3]>=k&&m[4*(q-2)+3]>=k){var M=3;if(m[4*(q+1)+3]<=v)V=-1;
if(!d&&m[4*(q+S+2)+3]<k&&m[4*(q-S+2)+3]<k){d=!0;z(R,G,M,V,!0)}else z(R,G,M,V,!1)}else if(q>=1&&m[4*(q-1)+3]<k&&m[4*(q+1)+3]>=k&&m[4*(q+2)+3]>=k){var M=1;
if(m[4*(q-1)+3]<=v)V=-1;if(!d&&m[4*(q+S-2)+3]<k&&m[4*(q-S-2)+3]<k){d=!0;z(R,G,M,V,!0)}else z(R,G,M,V,!1)}return d}function D(q,d){if(r[0]==-1){r[0]=q;
r[1]=d;r[2]=1;r[3]=1}if(q<r[0]){r[2]+=r[0]-q;r[0]=q}if(q>r[0]+r[2])r[2]=q-r[0];if(d<r[1]){r[3]+=r[1]-d;
r[1]=d}if(d>r[1]+r[3])r[3]=d-r[1]}function n(d,q,V,R){if(!V.Z)return;var G=(d+2)%4,M=V.start,O=r[1];
if(d==2)O+=r[3];else if(d==1)O=r[0];else if(d==3)O=r[0]+r[2];var K=V.source;if($[G][q])for(var W=0;W<$[G][q].length;
++W){if(d>1){var t=M+Math.floor(($[G][q][W].start-M)/2);if($[G][q][W].start>M&&t<O)O=t}else{var t=M-Math.floor((M-$[G][q][W].start)/2);
if($[G][q][W].start<M&&t>O)O=t}}for(var X=1;X<Math.abs(O-M);++X){var W=M+X;if(d==1||d==0)W=M-X;for(var h=0;
h<2;++h){var b=2*h,E=!1;if(d%2==0)b+=1;if($[b][W]){for(var f0=0;f0<$[b][W].length;++f0){if($[b][W][f0].Z){var ay=$[b][W][f0].start,p=q-ay,eo=W-M;
if(b==0||b==1)p=-p;if(p<=0)continue;if(d==0||d==1)eo=-eo;if(eo>p){O=W;E=!0;break}}}if(E)break}}}V.end=O;
F(d,q,M,O,K)}function L(d){for(var q=0;q<$[d].length;++q){if($[d][q])for(var V=0;V<$[d][q].length;++V){n(d,q,$[d][q][V])}}}function a(){var d=[2,0,3,1];
for(var q=0;q<d.length;++q)L(d[q])}function F(d,q,V,R,G){if(d==2)for(var M=V;M<=R;++M){if(!A(M*S+q,(V+G)*S+q))return!1}else if(d==0)for(var M=V;
M>=R;--M){if(!A(M*S+q,(V-G)*S+q))return!1}else if(d==1)for(var M=V;M>=R;--M){if(!A(q*S+M,q*S+V-G))return!1}else if(d==3)for(var M=V;
M<=R;++M){if(!A(q*S+M,q*S+V+G))return!1}}function A(d,V){if(!e[d]){C[4*d]=C[4*V];C[4*d+1]=C[4*V+1];C[4*d+2]=C[4*V+2];
if(j)C[4*d+3]=255;e[d]=!0;return!0}return!1}function T(){for(var q=0;q<4;q+=1){for(var d=0;d<$[q].length;
++d){if($[q][d])for(var V=0;V<$[q][d].length;++V){var R=$[q][d][V];for(var G=1;G<3;G+=2){var M=(q+G)%4;
if($[M][R.start])for(var O=0;O<$[M][R.start].length;++O){if($[M][R.start][O].start==R.axis){var gY=S*R.start+R.axis;
if(q%2==1){gY=R.start+S*R.axis;P($[M][R.start][O])}else P(R)}}}}}}}function P(d){if(d.dir%2==0){var gY=S*d.start+d.axis,V=d.start,R=1;
if(!e[gY+1])R=3;else if(e[gY-1])return;var G=C[4*gY],M=C[4*gY+1],O=C[4*gY+2];while(C[4*gY]==G&&C[4*gY+1]==M&&C[4*gY+2]==O){if(R==1){if(!U[0][V])U[0][V]=new Array;
U[0][V].push(new H(R,0,!1,d.axis,V))}else{if(!U[1][V])U[1][V]=new Array;U[1][V].push(new H(R,0,!1,d.axis,V))}if(d.dir==2){gY+=S;
V++}else{gY-=S;V--}}}}function Y(){for(var d=0;d<2;++d){var V=(d+1)%2;for(var q=0;q<U[d].length;++q){if(U[d][q])for(var R=0;
R<U[d][q].length;++R){var G=r[0];if(d==1)G+=r[2];var M=U[d][q][R].start;if(U[V][q])for(var O=0;O<U[V][q].length;
++O){var K=U[V][q][O].Ve;if(d==0){if(K>G&&K<M){G=M-Math.floor((M-K)/2)}}else{if(K<G&&K>M){G=M+Math.ceil((K-M)/2)}}}if(d==0)F(U[d][q][R].dir,q,M-1,G,-1);
else F(U[d][q][R].dir,q,M+1,G,-1)}}}for(var q=0;q<e.length;++q){if(!e[q]&&q%S>=r[0]&&q%S<=r[0]+r[2]&&Math.floor(q/S)>=r[1]&&Math.floor(q/S)<=r[1]+r[3]){var M=S;
if(q<M||!e[q-M])M=1;C[4*q]=C[4*(q-M)];C[4*q+1]=C[4*(q-M)+1];C[4*q+2]=C[4*(q-M)+2];e[q]=!0;if(j)C[4*q+3]=255}}}function Q(){e=new Array(m.length/4);
for(var q=0;q<C.length/4;++q){e[q]=!1;C[4*q]=m[4*q];C[4*q+1]=m[4*q+1];C[4*q+2]=m[4*q+2];C[4*q+3]=m[4*q+3];
if(C[4*q+3]==255)e[q]=!0;if(f(q))e[q]=!1}if(r[0]>0){r[0]--;r[2]++}if(r[1]>0){r[1]--;r[3]++}if(r[0]+r[2]<S){r[2]++}if(r[1]+r[3]<B){r[3]++}}var o=Date.now();
Q();var I=Date.now();a();var c=Date.now();T();var y=Date.now();Y();var i=Date.now();console.log("Init: "+String(I-o));
console.log("Filling: "+String(c-I));console.log("Check areas: "+String(y-c));console.log("Fill areas: "+String(i-y))}return Z}();
l._J={a6x:function(Z,m){var q=Z.length;Z.push(m);var S=q>>>1;while(S!=0&&Z[q][0]<Z[S][0]){var B=Z[q];
Z[q]=Z[S];Z[S]=B;q=S;S=q>>>1}},ajj:function(Z){if(Z.length==2)return Z.pop();var top=Z[1],q=1;Z[1]=Z.pop();
var m=Z.length;while(!0){var S=q<<1,B=S+1,C=q;if(S<m&&Z[S][0]<Z[C][0])C=S;if(B<m&&Z[B][0]<Z[C][0])C=B;
if(C==q)break;var u=Z[q];Z[q]=Z[C];Z[C]=u;q=C}return top},akZ:function(Z){for(var q=1;q<Z.length;q++){var m=q,S=1e9;
while(m!=0){var B=Z[m][0];if(B>S){console.log(q);throw"e"}S=B;m=m>>>1}}}};l.a={};l.a.cJ=new Float64Array(256);
l.a.Tw=new Uint8Array(256*256);l.a.e5=new Uint8Array(256*256);(function(){for(var q=0;q<256;q++)l.a.cJ[q]=255/q;
for(var q=0;q<256;q++)for(var Z=0;Z<256;Z++)l.a.Tw[q*256+Z]=q==0?0:Math.round(Z*255/q);for(var q=0;q<256;
q++)for(var Z=0;Z<256;Z++)l.a.e5[q*256+Z]=Math.round(q*(255-Z)/255)}());l.a.qn=function(Z,m,S,B,C,u,r,k){if(k==null)k=aK.Tt();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(Z)==-1){r=r*k.fill;k.fill=1;k.style=!1}var v="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),e="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),j=l.a[Z+"F"];
if(k.Tv==null&&Z=="norm")l.a.a7T(m,S,B,C,u,r,j,k.UN?1:0);else if(Z=="diss")l.a.abT(m,S,B,C,u,r,j,k.UN?1:0);
else if(v.indexOf(Z)!=-1)l.a.auW(m,S,B,C,u,r,j,k);else if(e.indexOf(Z)!=-1)l.a.amm(m,S,B,C,u,r,j,k)};
l.a.a6c=function(Z,m,S){var B=Z*S+1-S;return B<.001?0:1-Math.min(1,(1-m)/B)};l.a.aoZ=function(Z,m,S){return Z*S==1?1:Math.min(1,m/(1-Z*S))};
l.a.ty=function(Z){return Z<=.25?((16*Z-12)*Z+4)*Z:Math.sqrt(Z)};l.a.normF=function(Z,m,S){return Z};
l.a.darkF=function(Z,m,S){return Math.min(Z,m)};l.a["mul F"]=function(Z,m,S){return Z*m};l.a.idivF=function(Z,m,S){var B=Z*S+1-S;
return m==1?1:1-m>=B?0:1-(1-m)/B};l.a.lbrnF=function(Z,m,S){return Math.max(0,Z*S+m-S)};l.a.dkClF=function(Z,m,S){var B=l.iT(Z)<l.iT(m)?Z:m;
S.I=B.I;S.z=B.z;S.S=B.S;return S};l.a.liteF=function(Z,m,S){return Math.max(Z,m)};l.a.scrnF=function(Z,m,S){return m+Z-m*Z};
l.a["div F"]=function(Z,m,S){Z*=S;return m==0?0:m>=1-Z?1:m/(1-Z)};l.a.lddgF=function(Z,m,S){Z*=S;return Math.min(1,Z+m)};
l.a.lgClF=function(Z,m,S){var B=l.iT(Z)>l.iT(m)?Z:m;S.I=B.I;S.z=B.z;S.S=B.S;return S};l.a.overF=function(Z,m,S){return l.a.hLitF(m,Z,S)};
l.a.sLitF=function(Z,m,S){return Z<=.5?m-(1-2*Z)*m*(1-m):m+(2*Z-1)*(l.a.ty(m)-m)};l.a.hLitF=function(Z,m,S){return Z<=.5?l.a["mul F"](2*Z,m,S):l.a.scrnF(2*Z-1,m,S)};
l.a.vLitF=function(Z,m,S){return Z<=.5?l.a.a6c(2*Z,m,S):l.a.aoZ(2*Z-1,m,S)};l.a.lLitF=function(Z,m,S){return Z<=.5?l.a.lbrnF(2*Z,m,S):l.a.lddgF(2*Z-1,m,S)};
l.a.pLitF=function(Z,m,S){return Z<=.5?l.a.darkF(2*Z,m,S):l.a.liteF(2*Z-1,m,S)};l.a.hMixF=function(Z,m,S){if(S>.99)return Z+m<1?0:1;
return Math.min(1,Math.max(0,(m+Z*S-S)/(1-S+1e-6)))};l.a.diffF=function(Z,m,S){Z*=S;return Math.abs(Z-m)};
l.a.smudF=function(Z,m,S){return Z+m-2*Z*m};l.a.fsubF=function(Z,m,S){return Math.max(m-Z,0)};l.a.fdivF=function(Z,m,S){return Math.min(m/Z,1)};
l.a["hue F"]=function(Z,m,S){l.a.M9(Z,l.yL(m),S);l.a.KL(S,l.iT(m),S)};l.a["sat F"]=function(Z,m,S){l.a.M9(m,l.yL(Z),S);
l.a.KL(S,l.iT(m),S)};l.a.colrF=function(Z,m,S){l.a.KL(Z,l.iT(m),S)};l.a["lum F"]=function(Z,m,S){l.a.KL(m,l.iT(Z),S)};
l.a.KL=function(Z,m,S){var B=m-l.iT(Z);S.I=Z.I+B;S.z=Z.z+B;S.S=Z.S+B;l.a.abi(S)};l.a.abi=function(Z){var m=Z.I,S=Z.z,B=Z.S,C=l.dA(m,S,B),gY=Math.min(m,S,B),u=Math.max(m,S,B);
if(gY<0){var r=C/(C-gY);m=C+(m-C)*r;S=C+(S-C)*r;B=C+(B-C)*r}if(u>1){var r=(1-C)/(u-C);m=C+(m-C)*r;S=C+(S-C)*r;
B=C+(B-C)*r}Z.I=m;Z.z=S;Z.S=B};l.a.M9=function(Z,m,S){var B=l.a.a9a,C=Z.I,u=Z.z,r=Z.S;if(C==u&&u==r){S.I=S.z=S.S=0}else if(C>u){if(C>r){if(u>r){S.I=m;
S.z=B(C,u,r,m);S.S=0}else{S.I=m;S.S=B(C,r,u,m);S.z=0}}else{S.S=m;S.I=B(r,C,u,m);S.z=0}}else{if(C<r){if(u>r){S.z=m;
S.S=B(u,r,C,m);S.I=0}else{S.S=m;S.z=B(r,u,C,m);S.I=0}}else{S.z=m;S.I=B(u,C,r,m);S.S=0}}};l.a.a9a=function(Z,m,S,B){return(m-S)*B/(Z-S)};
l.a.a7T=function(Z,m,S,B,C,u,r,k){var v=m.o9(B).o9(C),e=Math.max(0,v.x-m.x),j=Math.max(0,v.x-B.x),$=Math.max(0,v.y-m.y),U=Math.max(0,v.y-B.y),H=v.e,z=v.n,f=m.e,D=B.e,n=l.a.Tw,L=l.a.e5,a=new Uint32Array(Z.buffer),F=new Uint32Array(S.buffer);
for(var q=0;q<z;q++){var A=($+q)*f+e,T=(U+q)*D+j;for(var P=0;P<H;P++){var Y=a[A+P],R=1;if(Y>>>24==0)continue;
if(Y>>>24==255&&u==1&&k==0){F[T+P]=a[A+P];continue}var Q=F[T+P],o=Y&255,I=Y>>>8&255,c=Y>>>16&255,y=Q&255,i=Q>>>8&255,d=Q>>>16&255,V=u,G=(Q>>>24)*(1/255);
if(k==0){V=(Y>>>24)*u*(1/255);R=G}var M=R*(1-V),O=V+M,K=1/O;F[T+P]=~~(.5+(k*G+(1-k)*O)*255)<<24|~~(.5+(c*V+d*M)*K)<<16|~~(.5+(I*V+i*M)*K)<<8|~~(.5+(o*V+y*M)*K)}}};
l.a.as_=function(Z,m,S,B,C,u){var r=m.o9(B).o9(C),k=Math.max(0,r.x-m.x),v=Math.max(0,r.x-B.x),e=Math.max(0,r.y-m.y),j=Math.max(0,r.y-B.y),$=r.e,U=r.n,H=m.e,z=B.e,f=l.a.Tw,D=l.a.e5,n=new Uint32Array(Z.buffer),L=new Uint32Array(S.buffer),a=Math.floor(Math.random()*16777215),F=0;
for(var q=0;q<U;q++){var A=(e+q)*H+k,T=(j+q)*z+v;for(var P=0;P<$;P++){var Y=n[A+P];if(Y>>>24==0)continue;
if(Y>>24==255&&u==1){L[T+P]=Y;continue}var Q=L[T+P],o=(Y>>>24)*u*(1/255),I=(Q>>>24)*(1/255),c=I*(1-o),y=o+c,i=Y&255,d=Y>>>8&255,V=Y>>>16&255,R=Q&255,G=Q>>>8&255,M=Q>>>16&255;
F>>>=8;if((P&3)==0)F=l.a.Qc(T+P+a);var O=y==0?0:1/y,K=Math.floor(y*(256*255))+(F&255)>>>8,W=Math.floor((V*o+M*c)*O+.5),t=Math.floor((d*o+G*c)*O+.5),X=Math.floor((i*o+R*c)*O+.5);
L[T+P]=K<<24|W<<16|t<<8|X}}};l.a.E5=function(Z,m,S,B,C,u,r,k){var v=l.dA(Z,m,S),e=l.dA(B,C,u),j=Math.min,$=l.a.agg,U=$(v,k,0);
U=j(U,$(Z,k,8));U=j(U,$(m,k,16));U=j(U,$(S,k,24));var H=$(e,k,4);H=j(H,$(B,k,12));H=j(H,$(C,k,20));H=j(H,$(u,k,28));
H=Math.max(H,1-r);var z=Math.min(U,H);return z<0?0:z>1?1:z};l.a.agg=function(Z,m,q){return Math.min((Z-m[q])*m[q+1],(Z-m[q+3])*m[q+2])};
l.a.auW=function(Z,m,S,B,C,u,r,k){var v=1/255,e=v*u,j=k.UN?1:0,$=k.fill,U=k.style,H=m.o9(B).o9(C),z=Math.max(0,H.x-m.x),f=Math.max(0,H.x-B.x),D=Math.max(0,H.y-m.y),n=Math.max(0,H.y-B.y),L=H.e,a=H.n,F=m.e,A=B.e,T=new Uint32Array(Z.buffer),P=new Uint32Array(S.buffer);
for(var q=0;q<a;q++){var Y=(D+q)*F+z,Q=(n+q)*A+f;for(var o=0;o<L;o++,Y++,Q++){var I=T[Y],O=1;if(I>>>24==0)continue;
var c=P[Q],y=(I&255)*v,i=(I>>>8&255)*v,d=(I>>>16&255)*v,V=(c&255)*v,R=(c>>>8&255)*v,G=(c>>>16&255)*v,M=u;
if(j==0){M=(I>>>24)*e;O=(c>>>24)*v}if(k.Tv)M*=l.a.E5(y,i,d,V,R,G,O,k.Tv);var K=O*(1-M),W=M+K,t=W==0?0:255/W,X=U?1:M,h=((1-O)*M*y+(1-X)*O*V+X*O*r(y,V,(1+M-X)*$))*t,b=((1-O)*M*i+(1-X)*O*R+X*O*r(i,R,(1+M-X)*$))*t,E=((1-O)*M*d+(1-X)*O*G+X*O*r(d,G,(1+M-X)*$))*t;
W=M*$+O*(1-M*$);var f0=~~(W*255+.5);P[Q]=j*(c>>>24)+(1-j)*f0<<24|E<<16|b<<8|h}}};l.a.amm=function(Z,m,S,B,C,u,r,k){var v=1/255,e=v*u,j=k.UN?1:0,$=m.o9(B).o9(C),U=Math.max(0,$.x-m.x),H=Math.max(0,$.x-B.x),z=Math.max(0,$.y-m.y),f=Math.max(0,$.y-B.y),D=$.e,n=$.n,L=new Uint32Array(Z.buffer),a=new Uint32Array(S.buffer),F={I:0,z:0,S:0},A={I:0,z:0,S:0},T={I:0,z:0,S:0};
for(var q=0;q<n;q++){var P=(z+q)*m.e+U,Y=(f+q)*B.e+H;for(var Q=0;Q<D;Q++,P++,Y++){var o=L[P],I=a[Y],c=(o&255)*v,y=(o>>>8&255)*v,i=(o>>>16&255)*v,d=(I&255)*v,V=(I>>>8&255)*v,R=(I>>>16&255)*v,G=u,M=1;
if(j==0){G=(o>>>24)*e;M=(I>>>24)*v}if(k.Tv)G*=l.a.E5(c,y,i,d,V,R,M,k.Tv);var O=M*(1-G),K=G+O,W=255/K;
F.I=c;F.z=y;F.S=i;A.I=d;A.z=V;A.S=R;r(F,A,T);var t=(((1-M)*c+M*T.I)*G+d*O)*W,X=(((1-M)*y+M*T.z)*G+V*O)*W,h=(((1-M)*i+M*T.S)*G+R*O)*W,b=j*(I>>>24)+(1-j)*Math.round(K*255);
a[Y]=b<<24|h<<16|X<<8|t}}};l.a.ju=function(Z){Z=Z^61^Z>>>16;Z=Z+(Z<<3);Z=Z^Z>>>4;Z=Z*668265261;Z=Z^Z>>15;
return(Z&16777215)*(1/16777215)};l.a.Qc=function(Z){Z=Z^61^Z>>>16;Z=Z+(Z<<3);Z=Z^Z>>>4;Z=Z*668265261;
Z=Z^Z>>>15;return Z};l.a.hb=function(Z){this.ov=Z};l.a.hb.prototype.get=function(){var Z=this.ov=l.a.Qc(this.ov);
return(Z&16777215)*(1/16777215)};l.a.abT=function(Z,m,S,B,C,u,r,k){var v=1/255,e=v*u,j=Math.round(u*(256*256*256/255)),$=m.o9(B).o9(C),U=Math.max(0,$.x-m.x),H=Math.max(0,$.x-B.x),z=Math.max(0,$.y-m.y),f=Math.max(0,$.y-B.y),D=$.e,n=$.n,L=new Uint32Array(Z.buffer),a=new Uint32Array(S.buffer);
for(var q=0;q<n;q++){var F=(z+q)*m.e+U,A=(f+q)*B.e+H;for(var T=0;T<D;T++,F++,A++){var P=L[F],Y=a[A],Q=k*255+(1-k)*(P>>>24);
if((l.a.Qc(F)&16777215)>=Q*j)continue;a[A]=P&16777215|k*(Y>>>24)+(1-k)*255<<24}}};l.a.a53=function(Z,m,S){for(var q=0;
q<Z.length;q+=4){var B=S[q>>>2];if(B==0)continue;var C=B*(1/255),u=1/C,r=m[q],k=m[q+1],v=m[q+2],e=Z[q],j=Z[q+1],$=Z[q+2];
m[q]=Math.min(255,Math.max(0,Math.round((r-(1-C)*e)*u)));m[q+1]=Math.min(255,Math.max(0,Math.round((k-(1-C)*j)*u)));
m[q+2]=Math.min(255,Math.max(0,Math.round((v-(1-C)*$)*u)));m[q+3]=255}};l.a.yb=function(Z,m,S,B,C,u,r,k,v,e,j){if(e==null)e=!1;
if(j==null)j=[1,1,1];var $=255<<24|j[2]*16711680|j[1]*65280|j[0]*255,U=~$;if(C&&!m.Qu(u)){var H=l.U(m.Z()*4);
H.fill(r);l.Ju(C,u,H,m);C=H;u=m}if(e){if(C==null)l.a.a4Z(Z,m,S,B,C,k,v,$,U);else l.a.akM(Z,m,S,B,C,k,v)}else{if(C==null)l.a.ab9(Z,m,S,B,C,k,v,$,U);
else l.a.akD(Z,m,S,B,C,k,v)}};l.a.ab9=function(Z,m,S,B,C,u,r,k,v){var e=1/255,j=m.o9(B).o9(u),$=Math.max(0,j.x-m.x),U=Math.max(0,j.x-B.x),H=Math.max(0,j.y-m.y),z=Math.max(0,j.y-B.y),f=j.e,D=j.n,n=new Uint32Array(Z.buffer),L=new Uint32Array(S.buffer),a=l.a.Tw,F=r*255&255;
for(var q=0;q<D;q++){var A=(H+q)*m.e+$,T=(z+q)*B.e+U;for(var P=0;P<f;P++,A++,T++){var Y=n[A],Q=L[T],o=Y>>>24,I=Q>>>24,c=l.ZC(F*o+(255-F)*I),y=l.ZC(o*F),i=l.ZC(I*(255-F)),d=Y&255,V=Y>>>8&255,R=Y>>>16&255,G=Q&255,M=Q>>>8&255,O=Q>>>16&255,K=y*d+G*i,W=y*V+M*i,t=y*R+O*i;
K=a[c<<8|l.ZC(K)];W=a[c<<8|l.ZC(W)];t=a[c<<8|l.ZC(t)];var X=c<<24|t<<16|W<<8|K;L[T]=v&Q|k&X}}};l.a.a4Z=function(Z,m,S,B,C,u,r,k,v){var e=1/255,j=m.o9(B).o9(u),$=Math.max(0,j.x-m.x),U=Math.max(0,j.x-B.x),H=Math.max(0,j.y-m.y),z=Math.max(0,j.y-B.y),f=j.e,D=j.n,n=new Uint32Array(Z.buffer),L=new Uint32Array(S.buffer),a=l.a.Tw,F=r*16777215&16777215;
for(var q=0;q<D;q++){var A=(H+q)*m.e+$,T=(z+q)*B.e+U;for(var P=0;P<f;P++,A++,T++){if((l.a.Qc(A)&16777215)<F){L[T]=v&L[T]|k&n[A]}}}};
l.a.akD=function(Z,m,S,B,C,u,r){var k=1/255,v=m.o9(B).o9(u),e=Math.max(0,v.x-m.x),j=Math.max(0,v.x-B.x),$=Math.max(0,v.y-m.y),U=Math.max(0,v.y-B.y),H=v.e,z=v.n,f=new Uint32Array(Z.buffer),D=new Uint32Array(S.buffer),n=l.a.Tw;
for(var q=0;q<z;q++){var L=($+q)*m.e+e,a=(U+q)*B.e+j;for(var F=0;F<H;F++,L++,a++){var A=C[L]*r&255;if(A==0)continue;
if(A==255){D[a]=f[L];continue}var T=f[L],P=D[a],Y=T>>>24,Q=P>>>24,o=l.ZC(A*Y+(255-A)*Q),I=l.ZC(Y*A),c=l.ZC(Q*(255-A)),y=T&255,i=T>>>8&255,d=T>>>16&255,V=P&255,R=P>>>8&255,G=P>>>16&255,M=n[o<<8|l.ZC(I*y+V*c)],O=n[o<<8|l.ZC(I*i+R*c)],K=n[o<<8|l.ZC(I*d+G*c)];
D[a]=o<<24|K<<16|O<<8|M}}};l.a.akM=function(Z,m,S,B,C,u,r){var k=1/255,v=m.o9(B).o9(u),e=Math.max(0,v.x-m.x),j=Math.max(0,v.x-B.x),$=Math.max(0,v.y-m.y),U=Math.max(0,v.y-B.y),H=v.e,z=v.n,f=new Uint32Array(Z.buffer),D=new Uint32Array(S.buffer),n=l.a.Tw,L=Math.round(r*257);
for(var q=0;q<z;q++){var a=($+q)*m.e+e,F=(U+q)*B.e+j;for(var A=0;A<H;A++,a++,F++){var T=C[a]*L;if((l.a.Qc(a)&65535)<T)D[F]=f[a]}}};
l.a.I$=function(Z,m,S,B,C,u,r){var k=1/255,v=m.o9(B).o9(u),e=Math.max(0,v.x-m.x),j=Math.max(0,v.x-B.x),$=Math.max(0,v.y-m.y),U=Math.max(0,v.y-B.y),H=v.e,z=v.n,f=new Uint32Array(Z.buffer),D=new Uint32Array(S.buffer),n=Math.floor(Math.random()*B.Z()),L=l.a.a9T;
for(var q=0;q<z;q++){var a=($+q)*m.e+e,F=(U+q)*B.e+j;for(var A=0;A<H;A++){var T=C[a+A]*r;if(T==0)continue;
if(T==255){D[F+A]=f[a+A];continue}var P=f[a+A],Y=D[F+A],Q=P>>>24,o=Y>>>24,I=Q*T*(1/255),c=o*(255-T)*(1/255),y=P&255,i=P>>>8&255,d=P>>>16&255,V=Y&255,R=Y>>>8&255,G=Y>>>16&255,M=l.a.Qc(F+A+n),O=Math.floor((I+c)*256+.5)+(M>>>0&255)>>>8,K=O==0?0:256/(I+c),W=y*I+V*c,t=i*I+R*c,X=d*I+G*c,h=Math.floor(W*K+.5)+(M>>>8&255)>>>8,b=Math.floor(t*K+.5)+(M>>>16&255)>>>8,E=Math.floor(X*K+.5)+(M>>>24&255)>>>8;
D[F+A]=O<<24|E<<16|b<<8|h}}};l.a.a9T=function(Z){return Math.floor(Z+Math.random())};l.a.AJ=function(Z,m,S,B,C,u,r){var k=1/255,v=m.o9(B).o9(u),e=Math.max(0,v.x-m.x),j=Math.max(0,v.x-B.x),$=Math.max(0,v.y-m.y),U=Math.max(0,v.y-B.y),H=v.e,z=v.n;
for(var q=0;q<z;q++){var f=($+q)*m.e+e,D=(U+q)*B.e+j;for(var n=0;n<H;n++,f++,D++){var L=r*C[f]*k;if(L==0)continue;
if(L==1){S[D]=Z[f];continue}S[D]=Z[f]*L+S[D]*(1-L)}}};l.ss={};l.ss.a4O=function(Z,m,S,B,C,u){l.ss.rY(Z,m,S,B,C,u,null,0)};
l.ss.a7P=function(Z,m,S,B,C){l.ss.rY(Z,m,S,B,C,null,null,0)};l.ss.a1p=function(Z,m,S,B,C,u,r){l.ss.rY(Z,m,S,B,C,null,u,r*.5)};
l.ss.rY=function(Z,m,S,B,C,u,r,k){var v=0,c=0,y=1e9,i=0,d=1e9,V=0,R=1e9,G=0,M=0,O=0,K=0;if(u){v=C*.5;
C=3+Math.round((C-3)*.75)}if(r){C=Math.round(C*2.2)}var e=1/C,j=Math.floor(m*e)+1,$=Math.floor(S*e)+1,U=[],H=new Uint8Array(j*$*4),z=r?.5:1,f=u?64:0;
for(var D=0;D<$;D++){var n=r?.5*(D&1):0;for(var L=0;L<j;L++){var a=(L+Math.random()*z+n)*C,F=(D+Math.random()*z)*C;
U.push(a,F);var A=Math.min(m-1,Math.floor(a)),T=Math.min(S-1,Math.floor(F)),P=(T*m+A)*4,Y=(D*j+L)*4;
for(var q=0;q<4;q++)H[Y+q]=Math.max(0,Math.min(255,Math.floor(Z[P+q]+(Math.random()-.5)*f)))}}var Q=u?u:r?r:[0,0,0],o=j*$*2,I=[-j-1,-j,-j+1,-1,0,1,j-1,j,j+1];
for(var D=0;D<S;D++){O=0;for(var L=0;L<m;L++){var W=L+.5,t=D+.5,X=Math.floor(t*e),h=Math.floor(W*e),b=X*j+h,ay=0,p=0;
if(O>1+k){y=l.ss.Ci(U,c,W,t);G=Math.sqrt(y);O--;K++}else{y=d=R=1e9;for(var q=0;q<I.length;q++){var E=(b+I[q])*2;
if(E<0||E>=o)continue;var f0=l.ss.Ci(U,E,W,t);if(f0<R){if(f0<d){if(f0<y){V=i;R=d;i=c;d=y;c=E;y=f0}else{V=i;
R=d;i=E;d=f0}}else{V=E;R=f0}}}G=Math.sqrt(y);M=Math.sqrt(d);O=M-(G+M)*.5}if(r==null){var eo=(G+M)*.5,co=u?Math.max(0,eo-v):0;
ay=Math.max(0,Math.min(1,.5+eo-G-co));p=Math.max(0,Math.min(1,1-(.5+eo-G)-co))}else{var c5=Math.min(l.ss.vE(U,c,i,W,t),l.ss.vE(U,c,V,W,t));
ay=Math.max(0,Math.min(1,c5-k*.5));if(W<k||m-k<W||t<k||S-k<t)ay=0;p=0}var he=1-p-ay,Y=D*m+L<<2,hU=c<<1,aB=i<<1;
B[Y+0]=Math.floor(.5+ay*H[hU+0]+p*H[aB+0]+he*Q[0]);B[Y+1]=Math.floor(.5+ay*H[hU+1]+p*H[aB+1]+he*Q[1]);
B[Y+2]=Math.floor(.5+ay*H[hU+2]+p*H[aB+2]+he*Q[2]);B[Y+3]=Z[Y+3]}}};l.ss.Ci=function(Z,m,S,B){var C=S-Z[m],u=B-Z[m+1];
return C*C+u*u};l.ss.vE=function(Z,m,S,B,C){var u=Z[m],r=Z[m+1],k=Z[S],v=Z[S+1],e=(u+k)*.5,j=(r+v)*.5,$=e+(v-r),U=j-(k-u),H=U-j,z=$-e;
return Math.abs(H*B-z*C+$*j-U*e)/Math.sqrt(z*z+H*H)};l.EE={};l.EE.Rq=function(Z){if(l.EE.Cn.length<Z)l.EE.Cn=l.U(Z);
return l.EE.Cn};l.EE.Cn=l.U(0);l.EE.KQ=function(Z){if(l.EE.VA.length<Z)l.EE.VA=new Float32Array(Z);return l.EE.VA};
l.EE.VA=new Float32Array(0);l.EE.HY=function(Z,m,S,B){var C=S.e,u=S.n;l.EE.aiN(Z,m,C,u,B)};l.EE.AT=function(Z,m,S,B){var C=S.e,u=S.n;
l.EE.a75(Z,m,C,u,B)};l.EE.lI=function(Z,m,S){var B=m.e,C=m.n;l.EE.acD(Z,B,C,S)};l.EE.b0=function(Z,m,S,B,C){var u=S.e,r=S.n;
l.EE.aev(Z,m,u,r,B,C)};l.EE.Xx=function(Z,m,S,B){var C=S.e,u=S.n;B=Math.round(B);var r=l.EE.Rq(C*u);
l.Yx(Z,m);l.EE.yk(m,r,C,u,B)};l.EE.R9=function(Z,m,S){var B=m.e,C=m.n;S=Math.round(S);var u=l.EE.Rq(B*C*4);
l.EE.nA(Z,u,B,C,S)};l.EE.Dg=function(Z,m,S,B){var C=S.e,u=S.n;B=Math.round(B);var r=l.EE.KQ(C*u);l.Yx(Z,m);
l.EE.nl(m,r,C,u,B)};l.EE.g7=function(Z,m,S){var B=m.e,C=m.n;S=Math.round(S);var u=l.EE.Rq(B*C*4);l.EE.X0(Z,u,B,C,S);
l.Yx(u,Z)};l.EE.Un=function(Z,gY){var m=Math.sqrt(12*Z*Z/gY+1),S=Math.floor(m);if(S%2==0)S--;var B=S+2,C=(12*Z*Z-gY*S*S-4*gY*S-3*gY)/(-4*S-4),u=Math.round(C),r=[];
for(var q=0;q<gY;q++)r.push(q<u?S:B);return r};l.EE.aiN=function(Z,m,S,B,C){var u=l.EE.Un(C,3),r=l.EE.Rq(S*B);
l.Yx(Z,m);l.EE.yk(m,r,S,B,u[0]-1>>1);l.EE.yk(m,r,S,B,u[1]-1>>1);l.EE.yk(m,r,S,B,u[2]-1>>1)};l.EE.a75=function(Z,m,S,B,C){var u=l.EE.Un(C,2),r=l.EE.Rq(S*B);
l.Yx(Z,m);l.EE.yk(m,r,S,B,u[0]-1>>1);l.EE.yk(m,r,S,B,u[1]-1>>1)};l.EE.acD=function(Z,m,S,B){var C=l.EE.Un(B,3),u=l.EE.Rq(m*S*4);
l.EE.nA(Z,u,m,S,C[0]-1>>1);l.EE.nA(Z,u,m,S,C[1]-1>>1);l.EE.nA(Z,u,m,S,C[2]-1>>1)};l.EE.aev=function(Z,m,S,B,C,u){if(u==null)u=3;
var r=l.EE.Un(C,u),k=l.EE.KQ(S*B);l.Yx(Z,m);for(var q=0;q<u;q++)l.EE.nl(m,k,S,B,(r[q]-1)/2)};l.EE.yk=function(Z,m,S,B,C){l.EE.alJ(Z,m,S,B,C);
l.EE.ady(m,Z,S,B,C)};l.EE.nA=function(Z,m,S,B,C){l.EE.X0(Z,m,S,B,C);l.EE.abB(m,Z,S,B,C)};l.EE.nl=function(Z,m,S,B,C){l.EE.arm(Z,m,S,B,C);
l.EE.aq5(m,Z,S,B,C)};l.EE.g3=[];l.EE.Px=function(Z){if(l.EE.g3[Z])return l.EE.g3[Z];var m=1/(Z+Z+1),S=(Z+Z+1)*256,B=l.U(S);
for(var q=0;q<S;q++)B[q]=Math.round(q*m);l.EE.g3[Z]=B;return B};l.EE.alJ=function(Z,m,S,B,C){var u=1/(C+C+1),r=S-C-C-1,k=l.EE.Px(C);
for(var q=0;q<B;q++){var v=q*S,e=v,j=v+C,$=Z[v],U=Z[v+S-1],H=(C+1)*$;for(var z=0;z<C;z++)H+=Z[v+z];for(var z=0;
z<=C;z++){H+=Z[j+z]-$;m[v+z]=k[H]}j+=C+1;v+=C+1;for(var z=0;z<r;z++){H+=Z[j+z]-Z[e+z];m[v+z]=k[H]}j+=r;
e+=r;v+=r;for(var z=S-C;z<S;z++){H+=U-Z[e++];m[v++]=k[H]}}};l.EE.X0=function(Z,m,S,B,C){var u=S<<2,r=C<<2,k=1/(C+C+1),v=S-C-C-1,e=v<<2,j=l.EE.Px(C);
for(var q=0;q<B;q++){var $=q*u,U=$,H=$+r,z=$+u,f=Z[$],D=Z[$+1],n=Z[$+2],L=Z[$+3],a=(C+1)*f,F=(C+1)*D,A=(C+1)*n,T=(C+1)*L;
for(var P=0;P<r;P+=4){a+=Z[$+P];F+=Z[$+P+1];A+=Z[$+P+2];T+=Z[$+P+3]}for(var P=0;P<=r;P+=4){a+=Z[H]-f;
m[$]=j[a];F+=Z[H+1]-D;m[$+1]=j[F];A+=Z[H+2]-n;m[$+2]=j[A];T+=Z[H+3]-L;m[$+3]=j[T];H+=4;$+=4}for(var P=0;
P<e;P+=4){a+=Z[H+P]-Z[U+P];m[$+P]=j[a];F+=Z[H+P+1]-Z[U+P+1];m[$+P+1]=j[F];A+=Z[H+P+2]-Z[U+P+2];m[$+P+2]=j[A];
T+=Z[H+P+3]-Z[U+P+3];m[$+P+3]=j[T]}H+=e;U+=e;$+=e;f=Z[z-4];D=Z[z-3];n=Z[z-2];L=Z[z-1];for(var P=S-C;
P<S;P++){a+=f-Z[U];m[$]=j[a];F+=D-Z[U+1];m[$+1]=j[F];A+=n-Z[U+2];m[$+2]=j[A];T+=L-Z[U+3];m[$+3]=j[T];
U+=4;$+=4}}};l.EE.arm=function(Z,m,S,B,C){var u=1/(C+C+1),r=S-C-C-1;for(var q=0;q<B;q++){var k=q*S,v=k,e=k+C,j=Z[k],$=Z[k+S-1],U=(C+1)*j;
for(var H=0;H<C;H++)U+=Z[k+H];for(var H=0;H<=C;H++){U+=Z[e+H]-j;m[k+H]=U*u}e+=C+1;k+=C+1;for(var H=0;
H<r;H++){U+=Z[e+H]-Z[v+H];m[k+H]=U*u}e+=r;v+=r;k+=r;for(var H=S-C;H<S;H++){U+=$-Z[v++];m[k++]=U*u}}};
l.EE.ady=function(Z,m,S,B,C){var u=1/(C+C+1),r=B-C-C-1,k=l.EE.Px(C);for(var q=0;q<S;q++){var v=q,e=v,j=v+C*S,$=Z[v],U=Z[v+S*(B-1)],H=(C+1)*$;
for(var z=0;z<C;z++)H+=Z[v+z*S];for(var z=0;z<=C;z++){H+=Z[j]-$;m[v]=k[H];j+=S;v+=S}for(var z=0;z<r;
z++){var f=z*S;H+=Z[j+f]-Z[e+f];m[v+f]=k[H]}e+=r*S;j+=r*S;v+=r*S;for(var z=B-C;z<B;z++){H+=U-Z[e];m[v]=k[H];
e+=S;v+=S}}};l.EE.abB=function(Z,m,S,B,C){var u=S<<2,r=C<<2,k=1/(C+C+1),v=B-C-C-1,e=v<<2,j=l.EE.Px(C);
for(var q=0;q<S;q++){var $=q<<2,U=$,H=$+C*u,z=$+u*(B-1),f=Z[$],D=Z[$+1],n=Z[$+2],L=Z[$+3],a=(C+1)*f,F=(C+1)*D,A=(C+1)*n,T=(C+1)*L;
for(var P=0;P<C;P++){var Y=$+P*u;a+=Z[Y];F+=Z[Y+1];A+=Z[Y+2];T+=Z[Y+3]}for(var P=0;P<=C;P++){a+=Z[H]-f;
m[$]=j[a];F+=Z[H+1]-D;m[$+1]=j[F];A+=Z[H+2]-n;m[$+2]=j[A];T+=Z[H+3]-L;m[$+3]=j[T];H+=u;$+=u}for(var P=0;
P<v;P++){var Q=P*u;a+=Z[H+Q]-Z[U+Q];m[$+Q]=j[a];F+=Z[H+Q+1]-Z[U+Q+1];m[$+Q+1]=j[F];A+=Z[H+Q+2]-Z[U+Q+2];
m[$+Q+2]=j[A];T+=Z[H+Q+3]-Z[U+Q+3];m[$+Q+3]=j[T]}U+=v*u;H+=v*u;$+=v*u;f=Z[z];D=Z[z+1];n=Z[z+2];L=Z[z+3];
for(var P=B-C;P<B;P++){a+=f-Z[U];m[$]=j[a];F+=D-Z[U+1];m[$+1]=j[F];A+=n-Z[U+2];m[$+2]=j[A];T+=L-Z[U+3];
m[$+3]=j[T];U+=u;$+=u}}};l.EE.aq5=function(Z,m,S,B,C){var u=1/(C+C+1),r=B-C-C-1;for(var q=0;q<S;q++){var k=q,v=k,e=k+C*S,j=Z[k],$=Z[k+S*(B-1)],U=(C+1)*j;
for(var H=0;H<C;H++)U+=Z[k+H*S];for(var H=0;H<=C;H++){U+=Z[e]-j;m[k]=U*u;e+=S;k+=S}for(var H=0;H<r;H++){var z=H*S;
U+=Z[e+z]-Z[v+z];m[k+z]=U*u}v+=r*S;e+=r*S;k+=r*S;for(var H=B-C;H<B;H++){U+=$-Z[v];m[k]=U*u;v+=S;k+=S}}};
l.oI={};l.oI.U=function(Z,m,S,B){var C=[];for(var u=0;u<4;u++)for(var r=0;r<4;r++)C.push(Z+S*r/3,m+B*u/3);
return C};l.oI.pG=function(Z,m){var S=Z.slice(0);for(var q=0;q<4;q++)for(var B=0;B<4;B++){var C=2*(q*4+B),u=2*(B*4+(3-q));
if(m){var r=C;C=u;u=r}S[u]=Z[C];S[u+1]=Z[C+1]}return S};l.oI.ca=l.U(0);l.oI.drawImage=function(Z,m,S,B,C,u,r){var k=!1,v=Date.now(),e=2,j=S+2*e,$=B+2*e,U=new bq(e,e,S,B),H=U.clone(),L=50;
H.QW(e,e);var z=l.oI.ca;if(z.length!=H.Z()*4)z=l.oI.ca=l.U(H.Z()*4);else z.fill(0);l.pY(m,U,z,H);if(k)console.log(Date.now()-v,"copy rect");
v=Date.now();l.yu(z);if(k)console.log(Date.now()-v,"multiply alpha");v=Date.now();var f=[],D=[],n=[];
for(var a=0;a<L+1;a++)for(var F=0;F<L+1;F++){var A=F/L,T=a/L;f.push(j*A,$*T);if(F<L&&a<L){var P=a*(L+1)+F,Y=P+1,Q=P+L+1,o=Q+1;
D.push(P,Y,Q);D.push(Q,Y,o)}var I=l.oI.abO(Z,A,T);n.push(-I)}var c=f.slice(0);l.oI.A(Z,c,new bq(e,e,S,B));
l.H.A(c,new ht(1,0,0,1,-u.x,-u.y),c);if(k)console.log(Date.now()-v,"mesh built");v=Date.now();var y=u.e,i=u.n;
l.Ay.fs(z,j,$,C,y,i,f,c,n,D);if(k)console.log(Date.now()-v,"rendered");v=Date.now();l.u6(C);if(k)console.log(Date.now()-v,"divided");
v=Date.now()};l.oI.LY=new Array(10);l.oI.a4Y=function(Z,m){var S=200,B=0,C=0,u=1e9,r=l.oI.LY;for(var k=0;
k<S+1;k++)for(var v=0;v<S+1;v++){var e=v/S,j=k/S;l.oI.b2(Z,e,j,r);var $=r[8]-m.x,U=r[9]-m.y,H=$*$+U*U;
if(H<u){u=H;B=e;C=j}}return[B,C]};l.oI.A=function(Z,m,S){var B=S.x,C=S.y,u=1/S.e,r=1/S.n,k=l.oI.LY;for(var v=0;
v<m.length;v+=2){var e=(m[v]-B)*u,j=(m[v+1]-C)*r;l.oI.b2(Z,e,j,k);m[v]=k[8];m[v+1]=k[9]}};l.oI.abO=function(Z,m,S){var B,C,u,r,k=l.oI.LY;
l.oI.a2N(Z,m,S,k);B=k[8];C=k[9];l.oI.at9(Z,m,S,k);u=k[8];r=k[9];return B*r-C*u};l.oI.b2=function(Z,m,S,B){l.oI.dV(B,0,S);
l.oI.dV(B,4,m);l.oI.YW(Z,B)};l.oI.a2N=function(Z,m,S,B){l.oI.dV(B,0,S);l.oI.GH(B,4,m);l.oI.YW(Z,B)};
l.oI.at9=function(Z,m,S,B){l.oI.GH(B,0,S);l.oI.dV(B,4,m);l.oI.YW(Z,B)};l.oI.GH=function(Z,q,m){var S=1-m;
Z[q]=-3*(S*S);Z[q+1]=3*(S*S)-6*(m*S);Z[q+2]=6*(m*S)-3*(m*m);Z[q+3]=3*(m*m)};l.oI.dV=function(Z,q,m){var S=1-m;
Z[q]=S*(S*S);Z[q+1]=3*m*(S*S);Z[q+2]=3*(m*m)*S;Z[q+3]=m*m*m};l.oI.YW=function(Z,m){var S=0,B=0,C=0,u=m[0],r=m[1],k=m[2],v=m[3],e=m[4],j=m[5],$=m[6],U=m[7];
C=u*e;S+=Z[0]*C;B+=Z[1]*C;C=u*j;S+=Z[2]*C;B+=Z[3]*C;C=u*$;S+=Z[4]*C;B+=Z[5]*C;C=u*U;S+=Z[6]*C;B+=Z[7]*C;
C=r*e;S+=Z[8]*C;B+=Z[9]*C;C=r*j;S+=Z[10]*C;B+=Z[11]*C;C=r*$;S+=Z[12]*C;B+=Z[13]*C;C=r*U;S+=Z[14]*C;B+=Z[15]*C;
C=k*e;S+=Z[16]*C;B+=Z[17]*C;C=k*j;S+=Z[18]*C;B+=Z[19]*C;C=k*$;S+=Z[20]*C;B+=Z[21]*C;C=k*U;S+=Z[22]*C;
B+=Z[23]*C;C=v*e;S+=Z[24]*C;B+=Z[25]*C;C=v*j;S+=Z[26]*C;B+=Z[27]*C;C=v*$;S+=Z[28]*C;B+=Z[29]*C;C=v*U;
S+=Z[30]*C;B+=Z[31]*C;m[8]=S;m[9]=B};l.vM={};l.vM.a56=function(Z,m,S){var B=Date.now(),C=new ArrayBuffer(m*S*16),u=l.vM.a1r(Z,m,S,C),r=l.vM.atF(m,S,C);
return{xX:r,bN:u}};l.vM.ahD=function(Z,m,S){var B=Math.round(Z.length/8),C=new Uint32Array(B),u=new Uint8Array(B),r=new Uint32Array(B);
l._z(C,4294967295,0);C[S]=0;var k=new e4(B);k.push(S,C[S]);var v={xX:Z,bN:m,yn:C,jT:u,z6:r,Ma:k,adI:S};
return v};l.vM.as=function(Z,m){var S=Z.xX,B=Z.bN,C=Z.yn,u=Z.jT,r=Z.z6,k=Z.Ma;while(!k.Ov()&&(m==null||u[m]==0)){var v=k.pop();
u[v]=1;for(var q=0;q<8;q++){var e=S[8*v+q],j=v+e;if(e==0||u[j])continue;var $=C[v]+B[8*v+q];if(k.contains(j)&&$<C[j])k.remove(j,C[j]);
if(!k.contains(j)){C[j]=$;r[j]=v;k.push(j,C[j])}}}};function e4(Z){this.p_=new Uint32Array(Z);this.list=[];
this.Bq=0;this.hf=4294967295}e4.prototype.Ov=function(){return this.Bq==0};e4.prototype.push=function(Z,m){var S=this.list;
if(S[m]==null)S[m]=[];S[m].push(Z);this.Bq++;this.p_[Z]=S[m].length-1+1;this.hf=Math.min(this.hf,m)};
e4.prototype.pop=function(){this.Bq--;var Z=this.list,m=this.hf,S=Z[m].pop();if(Z[m].length==0)Z[m]=null;
this.pU();this.p_[S]=0;return S};e4.prototype.contains=function(Z){return this.p_[Z]!=0};e4.prototype.remove=function(Z,m){this.Bq--;
var S=this.list,q=this.p_[Z]-1;if(q==S[m].length-1)S[m].pop();else{var B=S[m].pop();S[m][q]=B;this.p_[B]=q+1}if(S[m].length==0)S[m]=null;
this.p_[Z]=0;this.pU()};e4.prototype.pU=function(){if(this.Bq==0){this.hf=4294967295;return}var Z=this.hf,m=this.list;
while(m[Z]==null)Z++;this.hf=Z};l.vM.afy=function(Z,m,S,B){var C=new Int16Array(B);for(var u=0;u<S;u++)for(var r=0;
r<m;r++){var q=u*m+r,k=0;if(1<r&&r<m-2&&1<u&&u<S-2){k+=Z[q-m-m];k+=Z[q-m-1]+2*Z[q-m]+Z[q-m+1];k+=Z[q-2]+2*Z[q-1]-16*Z[q]+2*Z[q+1]+Z[q+2];
k+=Z[q+m-1]+2*Z[q+m]+Z[q+m+1];k+=Z[q+m+m]}else k=-16*Z[q];C[q]=k}return C};l.vM.alz=function(Z,m,S,B){if(B==null)B=128;
var C=new Uint8Array(m*S);for(var u=1;u<S-1;u++)for(var r=1;r<m-1;r++){var q=u*m+r;C[q]=l.vM.au8(Z[q],Z[q-1],Z[q+1],Z[q-m],Z[q+m],B)}return C};
l.vM.au8=function(Z,m,S,B,C,u){var r=Math.abs(Z);return Z*m<0&&r<Math.abs(m)&&Math.abs(m-Z)>u||Z*S<0&&r<Math.abs(S)&&Math.abs(S-Z)>u||Z*B<0&&r<Math.abs(B)&&Math.abs(B-Z)>u||Z*C<0&&r<Math.abs(C)&&Math.abs(C-Z)>u?1:0};
l.vM.aqF=function(Z,m,S,B){var C=new Float32Array(B),u=0;new Uint32Array(B).fill(0);for(var r=0;r<S;
r++)for(var k=0;k<m;k++){var v=0,e=0,q=r*m+k,j=q*3;if(0<k&&k<m-1)v=Z[q+1]-Z[q-1];if(0<r&&r<S-1)e=Z[q+m]-Z[q-m];
var $=C[j+2]=Math.sqrt(v*v+e*e);if($!=0){var U=1/$;C[j]=v*U;C[j+1]=e*U}if($>u)u=$}var H=m*S,z=u==0?0:1/u;
for(var q=0;q<H;q++)C[q*3+2]=1-C[q*3+2]*z;return C};l.vM.aru=function(Z,m,S){return S[~~((.5+.5*Z)*255)]+S[~~((.5+.5*m)*255)]};
l.vM.a1r=function(Z,m,S,B){var C=Date.now(),u=l.vM.afy(Z,m,S,B),r=l.vM.alz(u,m,S),k=l.vM.aqF(Z,m,S,B),v=new Float32Array(256);
for(var q=0;q<256;q++)v[q]=Math.acos(-1+2*q/255)*(.95/Math.PI);var e=[-1,0,1,1,1,0,-1,-1],j=[-1,-1,-1,0,1,1,1,0];
for(var q=0;q<8;q++){var $=1/Math.sqrt(e[q]*e[q]+j[q]*j[q]);e[q]*=$;j[q]*=$}var U=[e[0],j[0],e[1],j[1],e[2],j[2],e[3],j[3]],H=[-m-1,-m,-m+1,1],z=new Uint8Array(m*S*8);
new Uint32Array(z.buffer).fill(4294967295);var f=m*S;for(var D=1;D<S-1;D++)for(var n=1;n<m-1;n++){var L=D*m+n,a=1-r[L],F=k[L*3+2],A=k[3*L+1],T=-k[3*L];
for(var P=0;P<4;P++){var Y=L+H[P];l.vM.aqc(L,Y,P,z,r,k,a,F,A,T,U,v)}}return z};l.vM.aqc=function(Z,m,S,B,C,u,r,k,v,e,j,$){var U=1-C[m],H=(S&1)==0?1:Math.SQRT1_2,z=u[m*3+2]*H,f=u[3*m+1],D=-u[3*m],n=k*H,L=j[S+S],a=j[S+S+1],F=v*L+e*a,A=f*L+D*a;
if(F+A<0){F=-F;A=-A}var T=l.vM.aru(F,A,$);B[(Z<<3)+S]=l.vM.ls(U,T,z);B[(m<<3)+S+4]=l.vM.ls(r,T,n)};l.vM.ls=function(Z,m,S){return 1+~~(.5+20*(.43*Z+.43*m+.14*S))};
l.vM.atF=function(Z,m,S){var B=new Int16Array(S),C=B,q=0,u=0;new Uint32Array(S).fill(0);for(var r=0;
r<m;r++)for(var k=0;k<Z;k++){if(r>0&&k>0)C[u+0]=-Z-1;if(r>0)C[u+1]=-Z;if(r>0&&k<Z-1)C[u+2]=-Z+1;if(k<Z-1)C[u+3]=1;
if(r<m-1&&k<Z-1)C[u+4]=Z+1;if(r<m-1)C[u+5]=Z;if(r<m-1&&k>0)C[u+6]=Z-1;if(k>0)C[u+7]=-1;q++;u+=8}return B};
l.Jc={};l.Jc.lz=function(Z){var m=Z.slice(0),S=0;for(var q=0;q<Z.length;q++)S+=Z[q];for(var q=0;q<Z.length;
q++)m[q]/=S;return m};l.Jc.LO=[l.Jc.lz([1,2,1,2,16,2,1,2,1]),l.Jc.lz([1,2,1,2,4,2,1,2,1]),l.Jc.lz([0,-1,0,-1,8,-1,0,-1,0]),l.Jc.lz([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
l.Jc.$d=function(Z,m,S,B,C,u,r,k){if(r==null)r=!1;if(k==null)k=!1;var v=Math.floor(Math.sqrt(C.length)),e=v-1>>>1,j=new Uint32Array(Z.buffer),m=new Uint8ClampedArray(m.buffer);
for(var q=0;q<B;q++)for(var $=0;$<S;$++){var U=0,H=0,z=0,f=0;for(var D=0;D<v;D++)for(var n=0;n<v;n++){var L=C[D*v+n];
if(L==0)continue;var a=$-e+n,F=q-e+D;if(a<0)a=0;else if(a>S-1)a=S-1;if(F<0)F=0;else if(F>B-1)F=B-1;if(k&&j[F*S+a]>>>24==0){F=q;
a=$}var A=j[F*S+a];U+=(A&255)*L;H+=(A>>>8&255)*L;z+=(A>>>16&255)*L;f+=(A>>>24&255)*L}if(r){if(U<0)U=-U;
if(H<0)H=-H;if(z<0)z=-z;if(f<0)f=-f}if(k){U=Math.max(0,Math.min(255,U));H=Math.max(0,Math.min(255,H));
z=Math.max(0,Math.min(255,z));f=Math.max(0,Math.min(255,f))}var T=q*S+$<<2;m[T]=~~(.5+U);m[T+1]=~~(.5+H);
m[T+2]=~~(.5+z);m[T+3]=255-u&m[T+3]|u&~~(.5+f)}};l.Jc.MP=function(Z,m,S,B){var C=Z.length,u=new Uint8Array(C);
l.Jc.$d(Z,m,S,B,l.Jc.LO[4],0,!0);l.Jc.$d(Z,u,S,B,l.Jc.LO[5],0,!0);for(var q=0;q<C;q+=4){var r=m[q],k=m[q+1],v=m[q+2],e=m[q+3],j=u[q],$=u[q+1],U=u[q+2],H=u[q+3];
m[q]=255-Math.max(0,Math.min(255,Math.sqrt(r*r+j*j)));m[q+1]=255-Math.max(0,Math.min(255,Math.sqrt(k*k+$*$)));
m[q+2]=255-Math.max(0,Math.min(255,Math.sqrt(v*v+U*U)))}};l.Jc.TC=function(Z,m,S,B){var C=Z.length,u=new Uint8Array(C);
l.Jc.hc(Z,m,S,B,l.Jc.LO[4],!0);l.Jc.hc(Z,u,S,B,l.Jc.LO[5],!0);for(var q=0;q<C;q++){var r=m[q],k=u[q];
m[q]=255-Math.max(0,Math.min(255,Math.sqrt(r*r+k*k)))}};l.Jc.hc=function(Z,m,S,B,C,u){m=new Uint8ClampedArray(m.buffer);
var r=[-S-1,-S,-S+1,-1,0,1,S-1,S,S+1],k=B-1,v=S-1;for(var q=1;q<k;q++)for(var e=1;e<v;e++){var j=q*S+e,$=l.Jc.rb(Z,j,S,C);
if(u){if($<0)$=-$}m[j]=~~($+.5)}};l.Jc.rb=function(Z,m,S,B){return Z[m-S-1]*B[0]+Z[m-S]*B[1]+Z[m-S+1]*B[2]+Z[m-1]*B[3]+Z[m]*B[4]+Z[m+1]*B[5]+Z[m+S-1]*B[6]+Z[m+S]*B[7]+Z[m+S+1]*B[8]};
l.Jc.eh=function(Z,m,S,B,C){var u=[-S-1,-S,-S+1,-1,0,1,S-1,S,S+1],r=B-1,k=S-1;for(var q=1;q<r;q++)for(var v=1;
v<k;v++){var e=q*S+v;m[e]=l.Jc.as9(Z,e,S,C)}};l.Jc.as9=function(Z,m,S,B){return Z[m-S-1]*B[0]+Z[m-S]*B[1]+Z[m-S+1]*B[2]+Z[m-1]*B[3]+Z[m]*B[4]+Z[m+1]*B[5]+Z[m+S-1]*B[6]+Z[m+S]*B[7]+Z[m+S+1]*B[8]};
l.Y_={};l.Y_.Bu=function(){function Z(r,k,v,e,j,$,U){if(j==0){k.set(r);return}var H=l.U(v*e),z=l.U(v*e);
if(l.Bl(r)){m(r,k,v,e,j,$,U);var f=[l.Y_.Nt,l.Y_.L9],D=f.indexOf($),n=D!=-1?f[1-D]:$;l.NK(r,H,3);l.Y_.Bm(H,z,v,e,j,n,U);
l.cN(z,k,3)}else{for(var q=0;q<3;q++){l.NK(r,H,q);l.Y_.Bm(H,z,v,e,j,$,U);l.cN(z,k,q)}}}function m(r,k,v,e,j,$,U){var H=0,z=new ArrayBuffer(512*4*3),f=[new Int32Array(z,0),new Int32Array(z,2048),new Int32Array(z,2*2048)],D=1+2*Math.round(Math.sqrt(j)),n=D>>>1,L=new Array(D),a=new Array(D);
for(var q=0;q<D;q++){var z=new ArrayBuffer(512*4*3);L[q]=[new Int32Array(z,0),new Int32Array(z,2048),new Int32Array(z,2*2048)];
a[q]=L[q][0]}var F=$[0],A=$[1],T=f[0];for(var P=0;P<v;P++)if(P<j||P>v-j-D-1){T.fill(0);var Y=Math.max(P-j,0),Q=Math.min(v,P+j+1),o=Q-Y;
for(var I=0;I<j;I++)B(T,r,I*v+Y,I*v+Q,1);for(var I=0;I<e;I++){var c=I-j-1,y=I+j;if(y<e)B(T,r,y*v+Y,y*v+Q,1);
if(c>=0)B(T,r,c*v+Y,c*v+Q,-1);var i=I*v+P<<2;H=T[300];if(H!=0)for(var q=0;q<3;q++)k[i+q]=F(f[q],r[i+q],H,U)}}else{for(var q=0;
q<D;q++)a[q].fill(0);var Y=P-j+n,Q=P+j+1+n;for(var I=0;I<j;I++)S(a,r,I*v+Y,I*v+Q,1,n);for(var I=0;I<e;
I++){var c=I-j-1,y=I+j;if(c>=0)S(a,r,c*v+Y,c*v+Q,-1,n);if(y<e)S(a,r,y*v+Y,y*v+Q,1,n);var d=L[n];H=d[0][300];
for(var q=0;q<n;q++){var V=n-1-q,R=n+1+q,G=L[V],M=L[R],O=H+G[0][300],K=H+M[0][300],W=I*v+P+V<<2,t=I*v+P+R<<2;
if(O!=0)for(var X=0;X<3;X++)k[W+X]=A(d[X],G[X],r[W+X],O,U);if(K!=0)for(var X=0;X<3;X++)k[t+X]=A(d[X],M[X],r[t+X],K,U)}var i=I*v+P+n<<2;
if(H!=0)for(var X=0;X<3;X++)k[i+X]=F(d[X],r[i+X],H,U)}P+=D-1}}function S(r,k,v,e,j,$){var U=C,H=v<<2,z=e<<2;
U(r[$-1],k,v-1<<2,j);U(r[$-1],k,e-1<<2,-j);U(r[$+1],k,e<<2,j);U(r[$+1],k,v<<2,-j);for(var q=1;q<$;q++){var f=r[$-q-1],D=r[$+q+1];
for(var n=0;n<=q;n++){var L=n<<2;U(f,k,v-1-n<<2,j);U(f,k,e-1-n<<2,-j);U(D,k,e+n<<2,j);U(D,k,v+n<<2,-j)}}B(r[$],k,v,e,j)}function B(r,k,q,v,e){var j=q<<2,$=v<<2;
while(j<$){C(r,k,j,e);j+=4}}function C(r,k,v,e){var j=e*k[v+3];r[300]+=j;u(r,k[v],0,j);u(r,k[v+1],512,j);
u(r,k[v+2],1024,j)}function u(r,k,v,e){r[v|k]+=e;r[v|256|k>>>4]+=e}return Z}();l.Y_.Bm=function(){function Z($,U,H,z,f,D,n){if(f==0){U.set($);
return}if(f<=80)m($,U,H,z,f,D,n);else u($,U,H,z,f,D,n)}function m($,U,H,z,f,D,n){var L=0,a=new Int32Array(512),F=1+2*Math.round(Math.sqrt(f)),A=F>>>1,T=new Array(F);
for(var q=0;q<F;q++)T[q]=new Int32Array(512);var P=D[0],Y=D[1];for(var Q=0;Q<H;Q++)if(Q<f||Q>H-f-F-1){a.fill(0);
L=0;var o=Math.max(Q-f,0),I=Math.min(H,Q+f+1),c=I-o;for(var y=0;y<f;y++){L+=c;B(a,$,y*H+o,y*H+I,1)}for(var y=0;
y<z;y++){var i=y-f-1,d=y+f;if(i>=0){L-=c;B(a,$,i*H+o,i*H+I,-1)}if(d<z){L+=c;B(a,$,d*H+o,d*H+I,1)}var V=P(a,$[y*H+Q],L,n);
U[y*H+Q]=V}}else{for(var q=0;q<F;q++)T[q].fill(0);L=0;var o=Q-f+A,I=Q+f+1+A,c=I-o;for(var y=0;y<f;y++){L+=c;
S(T,$,y*H+o,y*H+I,1,A)}for(var y=0;y<z;y++){var i=y-f-1,d=y+f;if(i>=0){L-=c;S(T,$,i*H+o,i*H+I,-1,A)}if(d<z){L+=c;
S(T,$,d*H+o,d*H+I,1,A)}for(var q=0;q<A;q++){var R=A-1-q,G=A+1+q;U[y*H+Q+R]=Y(T[A],T[R],$[y*H+Q+R],L,n);
U[y*H+Q+G]=Y(T[A],T[G],$[y*H+Q+G],L,n)}U[y*H+Q+A]=P(T[A],$[y*H+Q+A],L,n)}Q+=F-1}}function S($,U,H,z,f,D){var n=C;
n($[D-1],U[H-1],0,f);n($[D-1],U[z-1],0,-f);n($[D+1],U[z],0,f);n($[D+1],U[H],0,-f);for(var q=1;q<D;q++){var L=$[D-q-1],a=$[D+q+1];
for(var F=0;F<=q;F++){n(L,U[H-1-F],0,f);n(L,U[z-1-F],0,-f);n(a,U[z+F],0,f);n(a,U[H+F],0,-f)}}B($[D],U,H,z,f)}function B($,U,q,H,z){while(q<H)C($,U[q++],0,z)}function C($,U,H,z){$[H|U]+=z;
$[H|256|U>>>4]+=z}function u($,U,H,z,f,D,n){var L=0,a=new Int32Array(512),F=new Int32Array(1*H),A=new Int32Array(512*H),T=Math.min(f,H),P=Math.min(f,z),Y=D[0];
for(var Q=0;Q<P;Q++)r(A,F,$,H,Q,1);for(var Q=0;Q<z;Q++){if(Q+f<z)r(A,F,$,H,Q+f,1);if(Q-f-1>=0)r(A,F,$,H,Q-f-1,-1);
a.fill(0);L=0;for(var o=0;o<T;o++){L+=F[o];k(a,A,o)}for(var o=0;o<H;o++){var I=o-f-1,c=o+f;if(I>=0&&F[I]!=0){L-=F[I];
v(a,A,I)}if(c<H&&F[c]!=0){L+=F[c];k(a,A,c)}var y=L==0?0:Y(a,$[Q*H+o],L,n);U[Q*H+o]=y}}}function r($,U,H,z,f,D){var q=f*z;
for(var n=0;n<z;n++){C($,H[q+n],n<<9,D);U[n]+=D}}function k($,U,H){for(var q=0;q<16;q++){var z=U[H<<9|256|q];
if(z==0)continue;$[256|q]+=z;var f=q<<4,D=H<<9|f;e($,U,f,D);e($,U,f+4,D+4);e($,U,f+8,D+8);e($,U,f+12,D+12)}}function v($,U,H){for(var q=0;
q<16;q++){var z=U[H<<9|256|q];if(z==0)continue;$[256|q]-=z;var f=q<<4,D=H<<9|f;j($,U,f,D);j($,U,f+4,D+4);
j($,U,f+8,D+8);j($,U,f+12,D+12)}}function e($,U,H,z){$[H]+=U[z];$[H+1]+=U[z+1];$[H+2]+=U[z+2];$[H+3]+=U[z+3]}function j($,U,H,z){$[H]-=U[z];
$[H+1]-=U[z+1];$[H+2]-=U[z+2];$[H+3]-=U[z+3]}return Z}();l.Y_.L9=[function(Z,m,S,B){var q=15;while(Z[256|q]==0&&q>0)q--;
q=(q<<4)+15;while(Z[q]==0&&q>0)q--;return q},function(Z,m,S,B,C){var q=15;while(Z[256|q]+m[256|q]==0&&q>0)q--;
q=(q<<4)+15;while(Z[q]+m[q]==0&&q>0)q--;return q}];l.Y_.Nt=[function(Z,m,S,B){var q=0;while(Z[256|q]==0&&q<15)q++;
q=q<<4;while(Z[q]==0&&q<255)q++;return q},function(Z,m,S,B,C){var q=0;while(Z[256|q]+m[256|q]==0&&q<15)q++;
q=q<<4;while(Z[q]+m[q]==0&&q<255)q++;return q}];l.Y_.FN=.5;l.Y_.k3=[function(Z,m,S,B){var C=~~(.5+l.Y_.FN*S),u=0,q=256;
while(u+Z[q]<=C)u+=Z[q++];q=q-256<<4;while(u<=C)u+=Z[q++];return q-1},function(Z,m,S,B,C){var u=~~(.5+l.Y_.FN*B),r=0,q=256;
while(r+Z[q]+m[q]<=u){r+=Z[q]+m[q];q++}q=q-256<<4;while(r<=u){r+=Z[q]+m[q];q++}return q-1}];l.Y_.w4=[function(Z,m,S,B){var C=B[0],u=0,r=0,q=Math.max(0,m-C),k=Math.min(256,m+C+1);
while(q<k){var v=Z[q];u+=q*v;r+=v;q++}return r==0?0:u/r},function(Z,m,S,B,C){var u=C[0],r=0,k=0,q=Math.max(0,S-u),v=Math.min(256,S+u+1);
while(q<v){var e=Z[q]+m[q];r+=q*e;k+=e;q++}return k==0?0:r/k}];l.N={};l.N.iX=function(Z){var m=g.Q.wG(Z.Trnf),S=Z.Sz.v,B=l.N.Eh(m,new bq(0,0,S.Wdth.v,S.Hght.v));
return l.N.aY(B)};l.N.Eh=function(Z,m){var S=Z[0],B=Z[1],C=Z[2],u=Z[3],r=Z[6],k=Z[7],v=Z[4],e=Z[5],j=0,$=0,U=1,H=0,z=0,f=1,D=1,n=1;
if(m){j=m.x;$=m.y;U=m.x+m.e;H=m.y;z=m.x;f=m.y+m.n;D=m.x+m.e;n=m.y+m.n}return l.N._7(Z,[j,$,U,H,D,n,z,f])};
l.N.HO=function(Z){function m(C,u){for(var q=0;q<u.length;q+=2)if(!S(C,u[q],u[q+1]))return!1;return!0}function S(C,u,r){return C[2*u]==C[2*r]&&C[2*u+1]==C[2*r+1]}var B=0;
if(m(Z,[0,1,2,3]))B+=1;if(m(Z,[0,3,1,2]))B+=2;return B};l.N._7=function(Z,m){function S(V,q,R){var y=V[q*2]-V[R*2],i=V[q*2+1]-V[R*2+1];
return Math.sqrt(y*y+i*i)}var B=Z[0],C=Z[1],u=Z[2],r=Z[3],k=Z[6],v=Z[7],e=Z[4],j=Z[5],$=m[0],U=m[1],H=m[2],z=m[3],f=m[6],D=m[7],n=m[4],L=m[5],a=[[$,U,1,0,0,0,-$*B,-U*B,B],[0,0,0,$,U,1,-$*C,-U*C,C],[H,z,1,0,0,0,-H*u,-z*u,u],[0,0,0,H,z,1,-H*r,-z*r,r],[f,D,1,0,0,0,-f*k,-D*k,k],[0,0,0,f,D,1,-f*v,-D*v,v],[n,L,1,0,0,0,-n*e,-L*e,e],[0,0,0,n,L,1,-n*j,-L*j,j]],F=[0,0,0,0,0,0,0,0],A=l.TZ.rt(a,F);
if(A!=0){F=[0,0,0,0,0,0,0,0];var T=l.N.HO(Z),P=l.N.HO(m);if(T==P&&T!=0){var Y=T==1,Q=Y?3:1,o=S(Z,0,Q),I=S(m,0,Q),c=I/o,y=Z[2*Q]-Z[0],i=Z[2*Q+1]-Z[1],d=new ht;
d.translate(-B,-C);d.rotate(Math.atan2(i,y)-(Y?Math.PI/2:0));if(Y)d.scale(1,c);else d.scale(c,1);d.translate($,U);
d.Yy();F=l.N.No(d)}}return F};l.N.lG=function(Z){return Math.abs(Z[6])<1e-10&&Math.abs(Z[7])<1e-10};
l.N.aY=function(Z){return new ht(Z[0],Z[3],Z[1],Z[4],Z[2],Z[5])};l.N.No=function(Z){return[Z.AQ,Z.mw,Z.s9,Z.S,Z.uw,Z.ku,0,0]};
l.N.A=function(Z,m){var S=new Float64Array(2);for(var B=0;B<m.length;B+=2){var C=m[B],u=m[B+1];l.N.gW(C,u,Z,S);
m[B]=S[0];m[B+1]=S[1]}};l.N.gW=function(Z,m,S,B){var C=1/(S[6]*Z+S[7]*m+1);B[0]=(S[0]*Z+S[1]*m+S[2])*C;
B[1]=(S[3]*Z+S[4]*m+S[5])*C};l.N.Q4=function(Z,m){var S=new Float64Array(2);l.N.gW(m.x,m.y,Z,S);return new aS(S[0],S[1])};
l.N.O5=function(Z,m,S,B){Z=new Uint32Array(Z.buffer);m=new Uint32Array(m.buffer);for(var C=0;C<B;C++){for(var u=0;
u<S;u++){m[u*B+C]=Z[C*S+u]}}};l.N.WF=function(Z,m,S,B){Z=new Uint32Array(Z.buffer);m=new Uint32Array(m.buffer);
for(var C=0;C<B;C++){for(var u=0;u<S;u++){m[C*S+u]=Z[C*S+S-1-u]}}};l.N.tD=function(Z){return Math.abs(Z[6])<1e-9&&Math.abs(Z[7])<1e-9};
l.N.F0=function(Z){return Math.abs(Z[0])<1e-9&&Math.abs(Z[4])<1e-9||Math.abs(Z[1])<1e-9&&Math.abs(Z[3])<1e-9};
l.N.drawImage=function(Z,m,S,B,C,u,r,k,v){if(r==null)r=!1;if(k==null)k=!1;var e=l.N.Yy(Z),j=!0,$=0;for(var q=0;
q<8;q++){var U=Math.round(Z[q]);if(q!=2&&q!=5)$+=Math.abs(U);if(Math.abs(U-Z[q])>1e-9)j=!1}var H=l.N.tD(Z),z=l.N.F0(Z)&&H,f=z?1:0;
if(r||j&&$==S+B&&H){l.N.abw(e,m,S,B,C,u,k,H,v);return}var D=u.e,n=u.n,L=new Float64Array(2);C=new Uint32Array(C.buffer);
m=new Uint32Array(m.buffer);for(var a=0;a<n;a++)for(var F=0;F<D;F++){var A=a*D+F,T,P,Y,Q,O=0,K=0,W=0,t=0;
C[A]=0;var o=F+u.x+.5,I=a+u.y+.5;T=o;P=I;Y=e;var c=Y[0]*T+Y[1]*P+Y[2],y=Y[3]*T+Y[4]*P+Y[5];if(!H){Q=1/(Y[6]*T+Y[7]*P+1);
c*=Q;y*=Q}var i=c*S,d=y*B,V=i<-1||i>S+1||d<-1||d>B+1;if(k){i=Math.max(.001,Math.min(S-1,i));d=Math.max(.001,Math.min(B-1,d))}else if(V)continue;
var R=l.N.aqj(Z,S,B,o,I,c,y),G=Math.round(R*2.3);if(R<1.1){l.N.Of(i,d,m,S,B,C,A,f);continue}if(!k&&(i<.6||i>S-.6||d<.6||d>B-.6)){G=Math.max(G,5)}if(k&&V)G=1;
var M=1/G,X=u.x+F,h=u.y+a;Y=e;for(var q=0;q<G;q++)for(var b=0;b<G;b++){T=X+(q+.5)*M;P=h+(b+.5)*M;var i=Y[0]*T+Y[1]*P+Y[2],d=Y[3]*T+Y[4]*P+Y[5];
if(!H){Q=1/(Y[6]*T+Y[7]*P+1);i*=Q;d*=Q}if(k){i=Math.max(.001,Math.min(.999,i));d=Math.max(.001,Math.min(.999,d))}else if(i<0||i>=1||d<0||d>=1)continue;
i=Math.floor(i*S);d=Math.floor(d*B);var E=d*S+i,f0=m[E],ay=f0>>>24;O+=(f0&255)*ay;K+=(f0>>>8&255)*ay;
W+=(f0>>>16&255)*ay;t+=ay}if(t!=0){var p=1/t;O=~~(O*p+.5);K=~~(K*p+.5);W=~~(W*p+.5);t=~~(t*M*M+.5);C[A]=t<<24|W<<16|K<<8|O}}};
l.N.aqj=function(Z,m,S,B,C,u,r){var k=l.N.yG(Z,B,C,u+1/m,r),v=l.N.yG(Z,B,C,u,r+1/S);return 1/Math.sqrt(Math.max(k,v))};
l.N.yG=function(Z,m,S,B,C){var u=1/(Z[6]*B+Z[7]*C+1),r=(Z[0]*B+Z[1]*C+Z[2])*u-m,k=(Z[3]*B+Z[4]*C+Z[5])*u-S;
return r*r+k*k};l.N.abw=function(Z,m,S,B,C,u,r,k,v){if(k&&!r&&u.Z()>4e6&&v){l.N.asv(Z,m,S,B,C,u,r,k,v);
return}var e=u.x+u.e,j=u.y+u.n,$=0,U=new Uint32Array(C.buffer),H=new Uint32Array(m.buffer),z=Z[0]*S,f=Z[1]*S,D=Z[2]*S,n=Z[3]*B,L=Z[4]*B,a=Z[5]*B,F=Z[6],A=Z[7];
if(k&&!r)for(var T=u.y+.5;T<j;T++)for(var P=u.x+.5;P<e;P++){var Y=z*P+f*T+D,Q=n*P+L*T+a;if(0<Y&&Y<S&&0<Q&&Q<B){var o=~~Q*S+~~Y;
U[$]=H[o]}else U[$]=0;$++}else for(var T=u.y+.5;T<j;T++)for(var P=u.x+.5;P<e;P++){var I=1/(F*P+A*T+1),Y=(z*P+f*T+D)*I,Q=(n*P+L*T+a)*I;
if(r){Y=Math.max(.001,Math.min(S-1,Y));Q=Math.max(.001,Math.min(B-1,Q))}if(0<Y&&Y<S&&0<Q&&Q<B){var o=Math.floor(Q)*S+Math.floor(Y);
U[$]=H[o]}else U[$]=0;$++}};l.N.asv=function(Z,m,S,B,C,u,r,k,v){var e=new Uint32Array(C.buffer),j=new Uint32Array(m.buffer),A=0;
if(v&&(u.e&3)!=0)throw"e";var $=Z[0]*S,U=Z[1]*S,H=Z[2]*S,z=Z[3]*B,f=Z[4]*B,D=Z[5]*B,n=Z[6],L=Z[7],a=u.e,F=u.n,T=u.x+.5,P=u.y+.5,Y=(a>>>2<<2)-1e-9,Q=-.1+(F>>>1<<1)-1e-9,o=~~S,I=$==0?0:1/$,c=z==0?0:1/z;
for(var y=0;y<F;y++){var i=T*$+U*(y+P)+H,d=T*z+f*(y+P)+D,V=0,R=a;if($==0){}else if(I>0){V=Math.max(V,-i*I);
R=Math.min(R,(S-i)*I)}else{R=Math.min(R,-i*I);V=Math.max(V,(S-i)*I)}if(z==0){}else if(c>0){V=Math.max(V,-d*c);
R=Math.min(R,(B-d)*c)}else{R=Math.min(R,-d*c);V=Math.max(V,(B-d)*c)}if(R<0)R=0;if(V>R)V=R;V=Math.ceil(V);
R=~~R;A=~~(y*a);for(var G=0;G<V;G++)e[A++]=0;for(var G=V;G<R;G+=4){var M=$*G+i,O=z*G+d,K=~~O*o+~~M;e[A++]=e[A++]=e[A++]=e[A++]=j[K]}for(var G=R;
G<a;G++)e[A++]=0}};l.N.Yy=function(Z){var m=Z[4]-Z[5]*Z[7],S=Z[2]*Z[7]-Z[1],B=Z[1]*Z[5]-Z[2]*Z[4],C=Z[5]*Z[6]-Z[3],u=Z[0]-Z[2]*Z[6],r=Z[3]*Z[2]-Z[0]*Z[5],k=Z[3]*Z[7]-Z[4]*Z[6],v=Z[1]*Z[6]-Z[0]*Z[7],e=1/(Z[0]*Z[4]-Z[1]*Z[3]);
return[m*e,S*e,B*e,C*e,u*e,r*e,k*e,v*e]};l.N.n_=function(Z,m){var S=Z[0],B=Z[1],C=Z[2],u=Z[3],r=Z[4],k=Z[5],v=Z[6],e=Z[7],j=m[0],$=m[1],U=m[2],H=m[3],z=m[4],f=m[5],D=m[6],n=m[7],L=[S*j+B*H+C*D,S*$+B*z+C*n,S*U+B*f+C,u*j+r*H+k*D,u*$+r*z+k*n,u*U+r*f+k,v*j+e*H+D,v*$+e*z+n],a=1/(v*U+e*f+1);
for(var q=0;q<8;q++)L[q]*=a;return L};l.N.Of=function(Z,m,S,B,C,u,r,k){var v=Z,e=m,U=0,H=0,z=0,f=0;Z-=.499999;
m-=.499999;var j=Math.floor(Z),$=Math.floor(m);if(k==0){var q=$*B+j,D=j>=0&&j<B,n=j+1>=0&&j+1<B,L=$>=0&&$<C,a=$+1>=0&&$+1<C;
if(D&&L)U=S[q];if(n&&L)H=S[q+1];if(D&&a)z=S[q+B];if(n&&a)f=S[q+B+1]}else if(k==1){var F=j<0?0:j>B-1?B-1:j,A=j<-1?0:j>B-2?B-1:j+1,T=$<0?0:$>C-1?C-1:$,P=$<-1?0:$>C-2?C-1:$+1;
U=S[T*B+F];H=S[T*B+A];z=S[P*B+F];f=S[P*B+A]}else{var F=(j+50*B)%B,A=(j+50*B)%B,T=($+50*C)%C,P=($+50*C)%C;
U=S[T*B+F];H=S[T*B+A];z=S[P*B+F];f=S[P*B+A]}var Y=Z-j,Q=m-$,o=(1-Q)*(1-Y)*(U>>>24),I=(1-Q)*Y*(H>>>24),c=Q*(1-Y)*(z>>>24),y=Q*Y*(f>>>24),i=o+I+c+y,d=o*(U&255)+I*(H&255)+c*(z&255)+y*(f&255),V=o*(U>>>8&255)+I*(H>>>8&255)+c*(z>>>8&255)+y*(f>>>8&255),R=o*(U>>>16&255)+I*(H>>>16&255)+c*(z>>>16&255)+y*(f>>>16&255);
if(i==0)u[r]=0;else{var G=1/i;d=~~(d*G+.5);V=~~(V*G+.5);R=~~(R*G+.5);i=~~(i+.5);u[r]=i<<24|R<<16|V<<8|d}};
l.N.tF=function(Z,m,S,B,C,u){var r=Z-.499999,k=m-.499999,v=~~r,e=~~k,j=r-v,$=k-e,U=(1-$)*(1-j),H=(1-$)*j,z=$*(1-j),f=$*j,D=e*B+v<<2,n=(e+1)*B+v<<2,L=U*S[D]+H*S[D+4]+z*S[n]+f*S[n+4],a=U*S[D+1]+H*S[D+5]+z*S[n+1]+f*S[n+5],F=U*S[D+2]+H*S[D+6]+z*S[n+2]+f*S[n+6],A=U*S[D+3]+H*S[D+7]+z*S[n+3]+f*S[n+7];
u[0]=L;u[1]=a;u[2]=F;u[3]=A};l.N.Uc=function(Z,m,S,B,C){Z-=.499999;m-=.499999;var u=Math.floor(Z),r=Math.floor(m),k=Z-u,v=m-r,e=(1-v)*(1-k),j=(1-v)*k,$=v*(1-k),U=v*k,H=(u+50*B)%B,z=(u+1+50*B)%B,f=(r+50*C)%C,D=(r+1+50*C)%C,n=S[f*B+H],L=S[f*B+z],a=S[D*B+H],F=S[D*B+z];
if(n==null||F==null)throw"e";return e*n+j*L+$*a+U*F};l.N.wM=function(Z,m,S,B,C,u,r,k,v,e,j,$){var U=new Uint32Array(Z.buffer),H=new Uint32Array(B.buffer),z=(1+2*e)/C,f=[],D=[];
for(var n=0;n<C;n++){var L=-.25+e-n*z;f.push(Math.cos(2*Math.PI*L)*$/j);f.push(Math.sin(2*Math.PI*L)/j)}r*=m;
k*=S;for(var a=0;a<u;a++){var F=Math.pow(a/u,v)*u;for(var n=0;n<C;n++){var A=r+f[n<<1]*F,T=k+f[(n<<1)+1]*F,P=~~(.5+(A<0?0:A>m-1?m-1:A)),Y=~~(.5+(T<0?0:T>S-1?S-1:T));
H[a*C+n]=U[Y*m+P]}}};l.N.gg=function(Z,m,S,B,C,u,r,k,v,e,j,$){var U=new Uint32Array(Z.buffer),H=new Uint32Array(B.buffer),z=1/$,f=[],D=S*4,n=1/D;
for(var L=0;L<D+10;L++)f.push(Math.pow(L*n,1/v)*S*j);r*=C;k*=u;for(var L=0;L<u;L++)for(var a=0;a<C;a++){var F=z*(a-r),A=L-k,T=1.75-Math.atan2(A,F)*(1/(2*Math.PI));
T=T-~~T;T=(T+e)*(1/(1+2*e));var P=Math.sqrt(F*F+A*A);P=f[~~(P*4)];l.N.Of(T*m+.5,P+.5,U,m,S,H,L*C+a,1)}};
l.N.zN=function(Z,m,S,B,C){var u=C[0],r=C[1];for(var k=0;k<r;k++)for(var v=0;v<u;v++){var e=C[2]*v+C[3]*k+C[4],j=C[5]*v+C[6]*k+C[7],$=k*u+v<<2,U=j*m+e<<2;
B[$]=Z[U+0];B[$+1]=Z[U+1];B[$+2]=Z[U+2];B[$+3]=Z[U+3]}};l.X={gT:function(Z,m){var S=~~(.499+Z*m);return S<0?0:S>m?m:S},arC:function(Z,m,S,B,C,u,r,k){var v=S[0],e=S[1],j=S[2],$=S[3],U=B.e,H=B.n,z=new Float64Array(U*4+8),f=new Float64Array(U*4+8);
for(var D=0,q=0;D<H;D++){var n=z;z=f;f=n;f.fill(0);for(var L=0;L<U;L++,q++){var a=L+C,F=D+u,A=v*a+e*F,T=j*a+$*F,P=0,o=0;
if(k==0)P=A+.5;else if(k==1)P=2*Math.sqrt(A*A+T*T);else if(k==2)P=(Math.PI+Math.atan2(-T,-A))/(2*Math.PI);
else if(k==3)P=Math.abs(A*2);else if(k==4)P=2*(Math.abs(A)+Math.abs(T));var Y=l.X.gT(P,r)*4,Q=L*4;for(var I=0;
I<4;I++){var c=Math.max(0,Math.min(254.999,m[Y+I]+z[Q+4+I])),y=Math.floor(c);if(Math.random()<c-y)y++;
var i=c-y;z[Q+8+I]=i*(7/16);f[Q+0+I]=i*(3/16);f[Q+4+I]=i*(5/16);f[Q+8+I]=i*(1/16);o|=y<<I*8}Z[q]=o}}},Jw:[function(Z,m,S,B,C,u,r){var k=S[0],v=S[1],e=S[2],j=S[3],$=B.e,U=B.n;
for(var H=0,q=0;H<U;H++)for(var z=0;z<$;z++,q++){var f=z+C,D=H+u,n=k*f+v*D,L=e*f+j*D,a=n+.5;Z[q]=m[l.X.gT(a,r)]}},function(Z,m,S,B,C,u,r){var k=S[0],v=S[1],e=S[2],j=S[3],$=B.e,U=B.n;
for(var H=0,q=0;H<U;H++)for(var z=0;z<$;z++,q++){var f=z+C,D=H+u,n=k*f+v*D,L=e*f+j*D,a=2*Math.sqrt(n*n+L*L);
Z[q]=m[l.X.gT(a,r)]}},function(Z,m,S,B,C,u,r){var k=S[0],v=S[1],e=S[2],j=S[3],$=B.e,U=B.n;for(var H=0,q=0;
H<U;H++)for(var z=0;z<$;z++,q++){var f=z+C,D=H+u,n=k*f+v*D,L=e*f+j*D,a=(Math.PI+Math.atan2(-L,-n))/(2*Math.PI);
Z[q]=m[l.X.gT(a,r)]}},function(Z,m,S,B,C,u,r){var k=S[0],v=S[1],e=S[2],j=S[3],$=B.e,U=B.n;for(var H=0,q=0;
H<U;H++)for(var z=0;z<$;z++,q++){var f=z+C,D=H+u,n=k*f+v*D,L=e*f+j*D,a=Math.abs(n*2);Z[q]=m[l.X.gT(a,r)]}},function(Z,m,S,B,C,u,r){var k=S[0],v=S[1],e=S[2],j=S[3],$=B.e,U=B.n;
for(var H=0,q=0;H<U;H++)for(var z=0;z<$;z++,q++){var f=z+C,D=H+u,n=k*f+v*D,L=e*f+j*D,a=2*(Math.abs(n)+Math.abs(L));
Z[q]=m[l.X.gT(a,r)]}}]};l.X.ahs=function(Z,m){return Z+.5};l.X.adr=function(Z,m){return 2*Math.sqrt(Z*Z+m*m)};
l.X.asm=function(Z,m){return(Math.PI+Math.atan2(-m,-Z))/(2*Math.PI)};l.X.a7L=function(Z,m){return Math.abs(Z*2)};
l.X.acm=function(Z,m){return 2*(Math.abs(Z)+Math.abs(m))};l.X.pp=function(Z,m,S,B,C,u,r,k,v,e,j,$){var U=Z.Clrs,H=new Uint32Array(m.buffer),z=1023,f=U?l.X._g(U.v,v,e):null;
if($&&U){var D=l.X.a3H(Z,f,z+1,r);l.X.arC(H,D,B,S,S.x-C,S.y-u,z,k)}else{var n=U?l.X.Jp(Z,f,z+1,r):l.X.iv(Z,z+1,r);
if(k<5){l.X.Jw[k](H,n,B,S,S.x-C,S.y-u,z)}else{var L=new Uint8Array(n.buffer),a=S.e,F=S.n,A=j.n4-j.s1,T=1/A,P=j.pD.e-S.e>>1,Y=j.pD.n-S.n>>1,Q=j.pD.e,o=-.6*T,I=(-.6+.4)*T,c=(-.6+2*.4)*T,y=(-.6+3*.4)*T;
for(var i=0,q=0;i<F;i++)for(var d=0;d<a;d++,q+=4){var V=0,R=0,G=0,M=0,O=(i+Y)*Q+d+P,K=(j.ME[O]-j.s1)*T,W=0;
if(K<=0||K>=1){W=(K<=0?0:z)<<2;m[q]=L[W];m[q+1]=L[W+1];m[q+2]=L[W+2];m[q+3]=L[W+3];continue}W=Math.max(0,Math.min(z-1,Math.round((K+o)*z)))<<2;
R+=L[W];G+=L[W+1];M+=L[W+2];V+=L[W+3];W=Math.max(0,Math.min(z-1,Math.round((K+I)*z)))<<2;R+=L[W];G+=L[W+1];
M+=L[W+2];V+=L[W+3];W=Math.max(0,Math.min(z-1,Math.round((K+c)*z)))<<2;R+=L[W];G+=L[W+1];M+=L[W+2];V+=L[W+3];
W=Math.max(0,Math.min(z-1,Math.round((K+y)*z)))<<2;R+=L[W];G+=L[W+1];M+=L[W+2];V+=L[W+3];m[q]=R>>>2;
m[q+1]=G>>>2;m[q+2]=M>>>2;m[q+3]=V>>>2}}}};l.X._g=function(Z,m,S){var B=[];for(var q=0;q<Z.length;q++){var C,u=Z[q].v,r=u.Type.v.Clry;
if(r=="FrgC")C={I:m>>16&255,z:m>>8&255,S:m&255};else if(r=="BckC")C={I:S>>16&255,z:S>>8&255,S:S&255};
else C=l.X.gN(u.Clr.v);B.push(C)}return B};l.X.gN=function(Z){var m,S=Z.classID;if(S=="RGBC"){if(Z.Rd)m={I:Z.Rd.v,z:Z.Grn.v,S:Z.Bl.v};
else m={I:Z.redFloat.v*255,z:Z.greenFloat.v*255,S:Z.blueFloat.v*255}}else if(S=="HSBC"){m=l.TX(Z.H.v.val/360,Z.Strt.v/100,Z.Brgh.v/100);
m.I*=255;m.z*=255;m.S*=255}else if(S=="CMYC"){var B=100-Z.Cyn.v,C=100-Z.Mgnt.v,u=100-Z.Ylw.v,r=100-Z.Blck.v,k=255*B*r*1e-4,v=255*(.2*B+.8*C)*r*1e-4,e=255*(.2*C+.8*u)*r*1e-4;
m={I:k,z:v,S:e}}else if(S=="Grsc")m={I:255-Z.Gry.v,z:255-Z.Gry.v,S:255-Z.Gry.v};else if(S=="LbCl"){m=l.y7(Z.Lmnc.v,Z.A.v,Z.B.v)}else console.log(Z);
if(isNaN(m.I))m.I=m.z=m.S=0;return m};l.X.iv=function(Z,m,S){var B=new Uint32Array(m),C=new Uint8Array(B.buffer);
B.fill(4278190080);var u=[],r=[],k=Z.RndS.v,v=Z.Smth.v/4096;for(var q=0;q<4;q++){u[q]=~~(Z.Mnm.v[q].v*255/100);
r[q]=~~(Z.Mxm.v[q].v*255/100)}var e=l.U(m*4),j=l.U(m);for(var $=0;$<3;$++){l.p.Wj(null,m,1,e,[1+Math.round(v*v*v*60),22,k*(2+$)]);
l.NK(e,j,0);l.cN(j,C,$);var U=u[$],H=r[$];for(var q=0;q<m;q++)C[4*q+$]=Math.max(U,Math.min(H,C[4*q+$]))}if(S)for(var q=0;
q<m/2;q++){var z=B[q];B[q]=B[m-1-q];B[m-1-q]=z}return B};l.X.M1=function(Z){return{classID:"RGBC",Rd:{t:"doub",v:Z.I},Grn:{t:"doub",v:Z.z},Bl:{t:"doub",v:Z.S}}};
l.X.a3H=function(Z,m,S,B){var C=[],u=1/(S-0);for(var q=0;q<S;q++){var r=q*4,k=l.X.sC(Z,m,(B?S-1-q:q)*u);
C[r]=k[0];C[r+1]=k[1];C[r+2]=k[2];C[r+3]=k[3]}return C};l.X.Jp=function(Z,m,S,B){var C=new Uint32Array(S),u=1/(S-0);
for(var q=0;q<S;q++)C[q]=l.X.UA(Z,m,(B?S-1-q:q)*u);return C};l.X.sC=function(Z,m,S){var B=4096,C=1/4096,u=Z.Intr.v*C,r=Z.Clrs.v,k=Z.Trns.v,v=r.length-1,e=k.length-1,q=-1,j=0,$=0,U=0,H=0;
while(q<e&&k[q+1].v.Lctn.v<=S*B)q++;if(q==-1){j=k[0].v.Opct.v.val*(255/100)}else if(q==e){j=k[q].v.Opct.v.val*(255/100)}else{var z=l.X.dC(k,C,q,S,u);
j=(z*k[q].v.Opct.v.val+(1-z)*k[q+1].v.Opct.v.val)*(255/100)}q=-1;while(q<v&&r[q+1].v.Lctn.v<=S*B)q++;
if(q==-1){var f=m[0];$=f.I;U=f.z;H=f.S}else if(q==v){var f=m[q];$=f.I;U=f.z;H=f.S}else{var D=m[q],n=m[q+1],L=l.X.dC(r,C,q,S,u);
$=L*D.I+(1-L)*n.I;U=L*D.z+(1-L)*n.z;H=L*D.S+(1-L)*n.S}return[$,U,H,j]};l.X.UA=function(Z,m,S){var B=l.X.sC(Z,m,S),C=~~(.5+B[0]),u=~~(.5+B[1]),r=~~(.5+B[2]),k=~~(.5+B[3]);
return k<<24|r<<16|u<<8|C};l.X.dC=function(Z,m,q,S,B){if(Z.length==2)B*=.5;var C=Z[q].v.Lctn.v*m,u=Z[q+1].v.Lctn.v*m,r=C+Z[q+1].v.Mdpn.v*.01*(u-C),k;
if(S<r)k=.5*(S-C)/(r-C);else k=.5+.5*(S-r)/(u-r);k=.5+.5*(B*Math.cos(Math.PI*k)+(1-B)*(1-2*k));return k};
l.X.Gl=function(Z,m){var S=Math.PI*Z.Angl.v.val/180,B=Z.Scl.v.val/100,C=Z.Ofst.v,u=C.Hrzn.v.val/100,r=C.Vrtc.v.val/100,k=Math.cos(S),v=-Math.sin(S),e=.5*m.n,j=e*(k/v),$=Math.sqrt(e*e+j*j),U=.5*m.e,H=U*(v/k),z=Math.sqrt(U*U+H*H),f=Math.min($,z)*B,D=m.x+m.e/2+u*m.e,n=m.y+m.n/2+r*m.n;
return[new aS(D,n),new aS(D+k*f,n+v*f)]};l.X.jR=function(Z,m,S,B){var C=m.x-Z.x,u=-(m.y-Z.y),r=Math.sqrt(C*C+u*u),k=Math.atan2(u,C),v=Math.cos(k),e=-Math.sin(k),j=.5*S.n,$=j*(v/e),U=Math.sqrt(j*j+$*$),H=.5*S.e,z=H*(e/v),f=Math.sqrt(H*H+z*z),D=r/Math.min(U,f),n=(Z.x-S.x-S.e/2)/S.e,L=(Z.y-S.y-S.n/2)/S.n;
B.Angl.v.val=180*k/Math.PI;B.Scl.v.val=D*100;var a=B.Ofst.v;a.Hrzn.v.val=n*100;a.Vrtc.v.val=L*100};l.X.rp=function(Z,m){for(var q=0;
q<Z.length;q++){var S=Z[q],B=Math.round(S[0]*4096),C=S[1],u=S[2],r=S[3];if(u==null)u=1;if(r==null)r=.5;
var k=l.X.M1({I:C[0]*255,z:C[1]*255,S:C[2]*255});m.Clrs.v[q]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:B},Mdpn:{t:"long",v:Math.round(r*100)},Clr:{t:"Objc",v:k},Type:{t:"enum",v:{Clry:"UsrS"}}}};
m.Trns.v[q]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:B},Mdpn:{t:"long",v:Math.round(r*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(u*100)}}}}}};
l.yN={};l.yN.ade=function(Z,m,S,B,C,u,r,k,v,e,j,$){var U,H,z,f=Date.now(),D=!1,n=r,L=e,a,F,A,T,P=u*255,Y=255-v*255,Q=1+C*6,o=1+k*6,I=1+$*4,c=(I-1)/7,y=0,i=255-0,d,V,R,G,M,O,K,W,t,X,h,b,E,f0=0,ay=1,p,eo,co,c5,he,hU,aB,ep,aO,f$,fo=1+j,bb,jl=l.U(S*B),e0=l.U(S*B),gI=l.U(S*B),d4=l.U(S*B),ab=255/P,c3=255/(255-Y);
for(H=0;H<B;H++){for(U=0;U<S;U++){var q=H*S+U,gr=q<<2;p=l.dA(Z[gr],Z[gr+1],Z[gr+2]);d4[q]=p;if(p<P)jl[q]=255-p*ab;
if(p>Y)e0[q]=255-(255-p)*c3}}if(D)console.log("init",Date.now()-f);f=Date.now();if(C*n>0){gI.set(jl);
l.EE.AT(gI,jl,new bq(0,0,S,B),n)}if(k*L>0){gI.set(e0);l.EE.AT(gI,e0,new bq(0,0,S,B),L)}if(D)console.log("blur",Date.now()-f);
f=Date.now();var a2=l.U(256),aL=l.U(256);for(var q=0;q<256;q++){var el=q*(1/255),iJ=0;iJ=(1-Math.pow(1-el,Q))*255;
a2[q]=Math.max(0,Math.min(255,~~(iJ+.5)));iJ=Math.pow(el,o)*255;aL[q]=Math.max(0,Math.min(255,~~(iJ+.5)))}var aC=new Uint8ClampedArray(m.buffer),cr=new Float32Array(32768);
for(var q=0;q<32768;q++){bb=Math.sqrt(q)*(1/128);if(fo>1)bb=(1-bb)*(fo-1)+1;else bb=bb*(fo-1)+1;cr[q]=bb}for(H=0;
H<B;H++){for(U=0;U<S;U++){var q=H*S+U,gr=q<<2,iJ=d4[q],bN=jl[q]*(1/255),hf=e0[q]*(1/255);iJ=(1-bN)*iJ+bN*a2[~~iJ];
iJ=(1-hf)*iJ+hf*aL[~~iJ];p=iJ;var cV=Z[gr],ez=Z[gr+1],jG=Z[gr+2];eo=-cV*.168736-ez*.331264+jG*.5;co=cV*.5-ez*.418688-jG*.081312;
bb=cr[~~(.5+eo*eo+co*co)];c5=eo*bb;hU=co*bb;ay=1-Math.min(2-(bN+hf),1);eo=ay*eo+(1-ay)*c5;co=ay*co+(1-ay)*hU;
ep=p+1.402*co;aO=p-.34414*eo-.71414*co;f$=p+1.772*eo;aC[gr]=~~(.5+ep);aC[gr+1]=~~(.5+aO);aC[gr+2]=~~(.5+f$)}}if(D)console.log("apply masks",Date.now()-f);
f=Date.now()};l.Zn={};l.Zn.Zi=function(Z,m,S,B,C){var u=!1,z=1,i=0,d=0,h=0,fo=0;if(!m.wZ(C)){var r=m.j3(C),k=l.U(r.Z()*4);
l.pY(Z,m,k,r);Z=k;m=r}var v=l.U(m.Z());l.Ju(S,C,v,m);l.round(v);C=C.o9(m);var e=C.e,j=C.n,$=e*3<j?2:1,U=j*3<e?2:1;
if(C.Z()*($*2+1)*(U*2+1)<m.Z()){var r=new bq(C.x-e*$,C.y-j*$,e*($*2+1),j*(U*2+1)).o9(m),k=l.U(r.Z()*4);
l.pY(Z,m,k,r);var H=l.U(r.Z());l.Ju(v,m,H,r);m=r;Z=k;v=H}while((m.e+m.n)/2/z>400)z++;var f=Z,D=m,n=v,L=Math.floor(D.e/z),a=Math.floor(D.n/z);
Z=l.U(L*a*4);l.scale.$U(f,D.e,D.n,Z,L,a,1/z);v=l.U(L*a);l.scale.zN(n,D.e,D.n,v,L,a,1/z);l.round(v,1);
var F=l.cg(v,new bq(0,0,L,a));if(F.Ov())return 1;var A=Math.round((F.e+F.n)/2/15),T=Date.now(),P=l.U(L*a*4);
l.asZ(Z,P);var Y=Int16Array,Q=new Y(L*a*24),o=new Y(64),I=new Y(64),c=new Y(64),y=new Y(64);for(var V=3;
V<a-4;V++)for(var R=3;R<L-4;R++){var G=V*L+R;if(v[G]==255)continue;if(l.Zn.ah3(P,v,R,V,L,a,o,I,c)!=0)continue;
l.Zn.KC(o,y);Q[i]=R;Q[i+1]=V;l.Zn.Yx(o,Q,i+4,12);i+=16;l.Zn.KC(I,y);l.Zn.Yx(I,Q,i,4);i+=4;l.Zn.KC(c,y);
l.Zn.Yx(c,Q,i,4);i+=4;var K=Q[i-24+5],W=Q[i-24+6];Q[i-24+5]=Q[i-24+20];Q[i-24+6]=Q[i-24+16];Q[i-24+16]=K;
Q[i-24+20]=W;d++}if(d==0)return 2;if(u)console.log(Date.now()-T,"FWHT computed");T=Date.now();var t=[];
l.Zn.YH(0,d-1,t,Q,new Y(2*24));if(u)console.log(Date.now()-T,"KD tree computed");T=Date.now();var X=new Float32Array(L*a*4);
for(var q=0;q<d;q++){var b=q,E=l.Zn.a3T(b,Q,t,A);if(E==-1)continue;var f0=b*24,ay=E*24,p=Q[f0],eo=Q[f0+1],co=Q[ay],c5=Q[ay+1];
h+=l.Zn.getError(ay,f0,Q,1e99);var he=co-p,hU=c5-eo;X[(a+hU)*2*L+(L+he)]+=1}if(u)console.log(Date.now()-T,"NN found");
T=Date.now();var aB=[],ep=1/(2*L);for(var q=0;q<X.length;q++){if(X[q]>0){var V=Math.floor(q*ep),R=q-V*2*L;
aB.push({x:R-L,y:V-a,k:X[q],c$:-1})}}aB.sort(function(hf,cV){return cV.k-hf.k});var aO=new Int32Array(L*a),f$=[];
for(var q=0;q<L*a;q++){if(v[q]==255){aO[q]=fo;f$.push(q%L,Math.floor(q/L));fo++}else if(Z[(q<<2)+3]<200){aO[q]=-2}else{aO[q]=-1}}var bb=l.Zn.aji(L,a,aB,aO,f$,fo);
if(bb==null){return 3}var jl=bb.m7,top=bb.top;jl=l.Zn.a60(jl,Z,L,a,top,aO,f$,fo);if(u)console.log(Date.now()-T,"optimal labeling found");
T=Date.now();var r=C.clone();r.QW(1,1);r=r.o9(D);var e0=l.U(r.Z()*4),gI=l.U(r.Z());l.pY(f,D,e0,r);var d4=D.e,ab=D.n;
for(var V=0;V<ab;V++)for(var R=0;R<d4;R++){if(n[V*d4+R]==0)continue;var c3=Math.min(Math.floor(R/z),L-1),gr=Math.min(Math.floor(V/z),a-1),a2=aO[gr*L+c3];
if(a2==-1)continue;var aL=jl[a2],el=top[aL],iJ=R+el.x*z,aC=V+el.y*z,cr=aC*d4+iJ<<2,bN=(V-r.y+D.y)*r.e+(R-r.x+D.x)<<2;
e0[bN]=f[cr];e0[bN+1]=f[cr+1];e0[bN+2]=f[cr+2];e0[bN+3]=f[cr+3];e0[bN+3]=f[cr+3];gI[bN>>2]=aL+1}if(u)console.log(Date.now()-T,"copied back");
T=Date.now();l.mI.Zi(e0,gI,r,null,1e3);if(u)console.log(Date.now()-T,"poisson smooth");T=Date.now();
l.pY(e0,r,B,C);return 0};l.Zn.fx=function(Z,m,S,B,C,u){return l.Zn.Gm(Z+C.x,m+C.y,S,B)&&u[(m+C.y)*S+(Z+C.x)]==-1?0:1e9};
l.Zn.a60=function(Z,m,S,B,top,C,u,r){var k=Date.now(),v=[-1,0,0,-1,1,0,0,1],e=1e99,j=[],$=[],U=2*(r*2*3+r*2),H=null,z=0,f=0,D=0,n=1e99;
while(!0&&Date.now()<k+12e3){D++;var L=null,a=e;for(var F=0;F<top.length;F++){var A=top[F],T=0,P=r+2,Y=0;
for(var q=0;q<r;q++){var Q=u[q*2],o=u[q*2+1],I=top[Z[q]],c=l.Zn.fx(Q,o,S,B,A,C),y=Z[q]==F?1e9:l.Zn.fx(Q,o,S,B,I,C);
for(var gY=0;gY<4;gY++){if(gY==0&&Q==0||gY==1&&o==0||gY==2&&Q==S-1||gY==3&&o==B-1)continue;var i=v[2*gY],d=v[2*gY+1],V=Q+i,R=o+d,G=C[R*S+V];
if(G==-2){}else if(G==-1){c+=3*l.Zn.MU(V+A.x,R+A.y,V,R,S,B,m,C);c+=2*l.Zn.MU(V+A.x+i,R+A.y+d,V+i,R+d,S,B,m,C);
y+=3*l.Zn.MU(V+I.x,R+I.y,V,R,S,B,m,C);y+=2*l.Zn.MU(V+I.x+i,R+I.y+d,V+i,R+d,S,B,m,C)}else if(gY>1){if(Z[q]==Z[G]){var M=0;
M+=l.Zn.MU(Q+I.x,o+I.y,Q+A.x,o+A.y,S,B,m,C);M+=l.Zn.MU(V+I.x,R+I.y,V+A.x,R+A.y,S,B,m,C);j[T]=q;j[T+1]=G;
$[T]=M;$[T+1]=M;T+=2}else{var O=top[Z[G]],K=P,W=0,t=0,X=0;P++;W+=l.Zn.MU(Q+I.x,o+I.y,Q+A.x,o+A.y,S,B,m,C);
W+=l.Zn.MU(V+I.x,R+I.y,V+A.x,R+A.y,S,B,m,C);t+=l.Zn.MU(Q+O.x,o+O.y,Q+A.x,o+A.y,S,B,m,C);t+=l.Zn.MU(V+O.x,R+O.y,V+A.x,R+A.y,S,B,m,C);
X+=l.Zn.MU(Q+O.x,o+O.y,Q+I.x,o+I.y,S,B,m,C);X+=l.Zn.MU(V+O.x,R+O.y,V+I.x,R+I.y,S,B,m,C);j[T]=q;j[T+1]=K;
$[T]=W;$[T+1]=W;T+=2;j[T]=G;j[T+1]=K;$[T]=t;$[T+1]=t;T+=2;j[T]=K;j[T+1]=r+1;$[T]=X;$[T+1]=0;T+=2}}}j[T]=r;
j[T+1]=q;$[T]=c;$[T+1]=0;T+=2;j[T]=q;j[T+1]=r+1;$[T]=y;$[T+1]=0;T+=2;Y+=Math.min(c,y)}if(Y>a)continue;
var h=l.o2.rt(P,T,r,r+1,j,$,a);if(h.yn<a){a=h.yn;var b=Z.slice(0);l.Zn.atG(b,T,j,h.us,F,r);L=b}}if(a*1>=e){break}e=a;
Z=L;if((D&3)==0){if(a*1.03>=n)break;n=a}if((D&3)==0){var E=0*top.length;for(var q=0;q<top.length&&top.length>E;
q++){if(Z.indexOf(q)!=-1)continue;top.splice(q,1);for(var G=0;G<Z.length;G++)if(Z[G]>q)Z[G]--;q--}}}return Z};
l.Zn.atG=function(Z,m,S,B,C,u){for(var q=0;q<B.length;q++){var r=B[q]<<1,k=0,v=0;if(r<m){k=S[r];v=S[r+1]}else{v=S[r];
k=S[r+1]}if(k==u&&Z[v]!=C)Z[v]=C}};l.Zn.i2=function(top,Z,m,S,B,C,u,r,k){for(var q=0;q<m.length;q++){var v=m[q],e=!0;
if(r!=null&&!(l.Zn.Gm(r+v.x,k+v.y,C,u)&&S[C*(k+v.y)+r+v.x]==-1))continue;if(v.c$==-1)v.c$=l.Zn.arz(v,S,B,C,u);
if(v.c$<=0)continue;for(var j=0;j<top.length;j++){var $=top[j],U=v.x-$.x,H=v.y-$.y;if(U*U+H*H<Z){e=!1;
break}}if(e)return v}return null};l.Zn.arz=function(Z,m,S,B,C){var u=0;for(var q=0;q<S.length;q+=2){var r=S[q]+Z.x,k=S[q+1]+Z.y;
if(l.Zn.Gm(r,k,B,C)&&m[B*k+r]==-1)u++}return u/(S.length>>1)};l.Zn.aji=function(Z,m,S,B,C,u){var top=[];
for(var q=0;q<60;q++){var r=l.Zn.i2(top,25,S,B,C,Z,m);if(r==null)break;else top.push(r)}if(top.length==0)return null;
var k=[];for(var q=0;q<u;q++){var v=C[q*2],e=C[q*2+1],j=-1,$=0;while(!0){$++;var U=Math.random();j=Math.floor(U*.99999*top.length);
var H=top[j],z=v+H.x,f=e+H.y;if(l.Zn.Gm(z,f,Z,m)&&B[f*Z+z]==-1)break;if($>100){var r;r=l.Zn.i2(top,0,S,B,C,Z,m,v,e);
if(r==null)return null;top.push(r);$=0}}k.push(j)}return{top:top,m7:k}};l.Zn.MU=function(Z,m,S,B,C,u,r,k){if(Z==S&&m==B)return 0;
if(Z<0||m<0||Z>=C||m>=u||S<0||B<0||S>=C||B>=u||k[m*C+Z]!=-1||k[B*C+S]!=-1)return 1e7;var v=m*C+Z<<2,e=B*C+S<<2,j=r[v]-r[e],$=r[v+1]-r[e+1],U=r[v+2]-r[e+2];
return 1+(j*j+$*$+U*U)};l.Zn.Gm=function(Z,m,S,B){return Z>=0&&Z<S&&m>=0&&m<B};l.Zn.a3T=function(Z,m,S,B){var C=24*Z,u=m[C],r=m[C+1],k=B*B,v=0,U=1e9;
while(S[v]!=99)if(m[C+S[v]]<S[v+1])v=S[v+2];else v=S[v+3];var e=S[v+1],j=S[v+2],$=-1;for(var q=e;q<=j;
q++){var v=q,H=v*24,z=m[H],f=m[H+1];if((z-u)*(z-u)+(f-r)*(f-r)<k)continue;var D=l.Zn.getError(H,C,m,U);
if(D<U){U=D;$=v}}return $};l.Zn.getError=function(Z,m,S,B){var C=0;for(var u=4;u<24;u+=4){var r=S[m+u]-S[Z+u],k=S[m+u+1]-S[Z+u+1],v=S[m+u+2]-S[Z+u+2],e=S[m+u+3]-S[Z+u+3];
C+=r*r+k*k+v*v+e*e;if(C>=B)return C+1}return C};l.Zn.YH=function(Z,m,S,B,C){var u=16,U=0;if(m-Z<=u){S.push(99,Z,m);
return}l.Zn.su(Z,m,B,C);var r=-1,k=-1;for(var q=4;q<24;q++){var v=C[2*q+1]-C[2*q];if(v>k){k=v;r=q}}var e=Z+m>>1,j=l.Zn.a1M(e,Z,m,B,r),$=-1;
for(var q=Z;q<=m;q++)if(B[24*q+r]==j){if($==-1)$=q;U=q}if(Z+8<$&&$-Z>m-U)e=$;else if(U+1<m-8)e=U+1;else if(m-Z<64){S.push(99,Z,m);
return}else e=e;var H=S.length;S.push(r,j,0,0);S[H+2]=H+4;l.Zn.YH(Z,e-1,S,B,C);S[H+3]=S.length;l.Zn.YH(e,m,S,B,C)};
l.Zn.su=function(Z,m,S,B){for(var q=0;q<48;q+=4){B[q]=3e4;B[q+1]=-3e4;B[q+2]=3e4;B[q+3]=-3e4}for(var q=Z;
q<=m;q++){var C=q*24;for(var u=0;u<24;u++){var r=S[C+u],k=B[u<<1],v=B[(u<<1)+1];if(r<k)B[u<<1]=r;if(r>v)B[(u<<1)+1]=r}}};
l.Zn.CC=function(Z,m,S){var B=0,q=0;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;
q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;
q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;
q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;
q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;
q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;
q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;
q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;
q++;B=S[Z+q];S[Z+q]=S[m+q];S[m+q]=B;q++};l.Zn.a2=function(Z,m,S,B){var C=S+B>>>1,u=Z[24*C+m];while(S<=B){while(Z[24*S+m]<u)S++;
while(Z[24*B+m]>u)B--;if(S<=B){if(Z[24*S+m]!=Z[24*B+m])l.Zn.CC(S*24,B*24,Z);S++;B--}}return S};l.Zn.a1M=function(Z,m,S,B,C){var u=0;
while(m!=S){u=l.Zn.a2(B,C,m,S);if(Z<u)S=u-1;else m=u}return B[Z*24+C]};l.Zn.Yx=function(Z,m,S,B){for(var q=0;
q<B;q++)m[S+q]=Z[q]};l.Zn.ah3=function(Z,m,S,B,C,u,r,k,v){var e=(B-3)*C+(S-3),j=e<<2;for(var $=0;$<8;
$++){if(m[e]+m[e+1]+m[e+2]+m[e+3]+m[e+4]+m[e+5]+m[e+6]+m[e+7]!=0||Z[j+3]<200||Z[j+7]<200||Z[j+11]<200||Z[j+15]<200||Z[j+19]<200||Z[j+23]<200||Z[j+27]<200||Z[j+31]<200)return 1;
var q=$<<3;r[q+0]=Z[j+0];k[q+0]=Z[j+1];v[q+0]=Z[j+2];r[q+1]=Z[j+4];k[q+1]=Z[j+5];v[q+1]=Z[j+6];r[q+2]=Z[j+8];
k[q+2]=Z[j+9];v[q+2]=Z[j+10];r[q+3]=Z[j+12];k[q+3]=Z[j+13];v[q+3]=Z[j+14];r[q+4]=Z[j+16];k[q+4]=Z[j+17];
v[q+4]=Z[j+18];r[q+5]=Z[j+20];k[q+5]=Z[j+21];v[q+5]=Z[j+22];r[q+6]=Z[j+24];k[q+6]=Z[j+25];v[q+6]=Z[j+26];
r[q+7]=Z[j+28];k[q+7]=Z[j+29];v[q+7]=Z[j+30];j+=C<<2;e+=C}return 0};l.Zn.KC=function(Z,m){m[0]=Z[32]+Z[0];
m[1]=Z[33]+Z[1];m[2]=Z[34]+Z[2];m[3]=Z[35]+Z[3];m[4]=Z[36]+Z[4];m[5]=Z[37]+Z[5];m[6]=Z[38]+Z[6];m[7]=Z[39]+Z[7];
m[8]=Z[40]+Z[8];m[9]=Z[41]+Z[9];m[10]=Z[42]+Z[10];m[11]=Z[43]+Z[11];m[12]=Z[44]+Z[12];m[13]=Z[45]+Z[13];
m[14]=Z[46]+Z[14];m[15]=Z[47]+Z[15];m[16]=Z[48]+Z[16];m[17]=Z[49]+Z[17];m[18]=Z[50]+Z[18];m[19]=Z[51]+Z[19];
m[20]=Z[52]+Z[20];m[21]=Z[53]+Z[21];m[22]=Z[54]+Z[22];m[23]=Z[55]+Z[23];m[24]=Z[56]+Z[24];m[25]=Z[57]+Z[25];
m[26]=Z[58]+Z[26];m[27]=Z[59]+Z[27];m[28]=Z[60]+Z[28];m[29]=Z[61]+Z[29];m[30]=Z[62]+Z[30];m[31]=Z[63]+Z[31];
m[32]=Z[0]-Z[32];m[33]=Z[1]-Z[33];m[34]=Z[2]-Z[34];m[35]=Z[3]-Z[35];m[36]=Z[4]-Z[36];m[37]=Z[5]-Z[37];
m[38]=Z[6]-Z[38];m[39]=Z[7]-Z[39];m[40]=Z[8]-Z[40];m[41]=Z[9]-Z[41];m[42]=Z[10]-Z[42];m[43]=Z[11]-Z[43];
m[44]=Z[12]-Z[44];m[45]=Z[13]-Z[45];m[46]=Z[14]-Z[46];m[47]=Z[15]-Z[47];m[48]=Z[16]-Z[48];m[49]=Z[17]-Z[49];
m[50]=Z[18]-Z[50];m[51]=Z[19]-Z[51];m[52]=Z[20]-Z[52];m[53]=Z[21]-Z[53];m[54]=Z[22]-Z[54];m[55]=Z[23]-Z[55];
m[56]=Z[24]-Z[56];m[57]=Z[25]-Z[57];m[58]=Z[26]-Z[58];m[59]=Z[27]-Z[59];m[60]=Z[28]-Z[60];m[61]=Z[29]-Z[61];
m[62]=Z[30]-Z[62];m[63]=Z[31]-Z[63];Z[0]=m[16]+m[0];Z[1]=m[17]+m[1];Z[2]=m[18]+m[2];Z[3]=m[19]+m[3];
Z[4]=m[20]+m[4];Z[5]=m[21]+m[5];Z[6]=m[22]+m[6];Z[7]=m[23]+m[7];Z[8]=m[24]+m[8];Z[9]=m[25]+m[9];Z[10]=m[26]+m[10];
Z[11]=m[27]+m[11];Z[12]=m[28]+m[12];Z[13]=m[29]+m[13];Z[14]=m[30]+m[14];Z[15]=m[31]+m[15];Z[16]=m[0]-m[16];
Z[17]=m[1]-m[17];Z[18]=m[2]-m[18];Z[19]=m[3]-m[19];Z[20]=m[4]-m[20];Z[21]=m[5]-m[21];Z[22]=m[6]-m[22];
Z[23]=m[7]-m[23];Z[24]=m[8]-m[24];Z[25]=m[9]-m[25];Z[26]=m[10]-m[26];Z[27]=m[11]-m[27];Z[28]=m[12]-m[28];
Z[29]=m[13]-m[29];Z[30]=m[14]-m[30];Z[31]=m[15]-m[31];m[0]=Z[8]+Z[0];m[1]=Z[9]+Z[1];m[2]=Z[10]+Z[2];
m[3]=Z[11]+Z[3];m[4]=Z[12]+Z[4];m[5]=Z[13]+Z[5];m[6]=Z[14]+Z[6];m[7]=Z[15]+Z[7];m[8]=Z[0]-Z[8];m[9]=Z[1]-Z[9];
m[10]=Z[2]-Z[10];m[11]=Z[3]-Z[11];m[12]=Z[4]-Z[12];m[13]=Z[5]-Z[13];m[14]=Z[6]-Z[14];m[15]=Z[7]-Z[15];
Z[0]=m[4]+m[0];Z[1]=m[5]+m[1];Z[2]=m[6]+m[2];Z[3]=m[7]+m[3];Z[4]=m[0]-m[4];Z[5]=m[1]-m[5];Z[6]=m[2]-m[6];
Z[7]=m[3]-m[7];Z[8]=m[12]+m[8];Z[9]=m[13]+m[9];Z[10]=m[14]+m[10];Z[11]=m[15]+m[11];Z[12]=m[8]-m[12];
Z[13]=m[9]-m[13];Z[14]=m[10]-m[14];Z[15]=m[11]-m[15];m[0]=Z[2]+Z[0];m[1]=Z[3]+Z[1];m[2]=Z[0]-Z[2];m[3]=Z[1]-Z[3];
m[4]=Z[6]+Z[4];m[5]=Z[7]+Z[5];m[6]=Z[4]-Z[6];m[7]=Z[5]-Z[7];m[8]=Z[10]+Z[8];m[9]=Z[11]+Z[9];m[10]=Z[8]-Z[10];
m[11]=Z[9]-Z[11];m[12]=Z[14]+Z[12];m[13]=Z[15]+Z[13];m[14]=Z[12]-Z[14];m[15]=Z[13]-Z[15];Z[0]=m[1]+m[0];
Z[1]=m[0]-m[1];Z[2]=m[3]+m[2];Z[3]=m[2]-m[3];Z[4]=m[5]+m[4];Z[5]=m[4]-m[5];Z[6]=m[7]+m[6];Z[7]=m[6]-m[7];
Z[8]=m[9]+m[8];Z[9]=m[8]-m[9];Z[10]=m[11]+m[10];Z[11]=m[10]-m[11];Z[12]=m[13]+m[12];Z[13]=m[12]-m[13];
Z[14]=m[15]+m[14];Z[15]=m[14]-m[15]};l.Zn.a1H=function(){var Z="",gY=64,m="v",S="t",B="a",C=5,q,u,r;
for(q=gY>>1;q>0;q>>=1,C--){for(u=0;u<gY;u++){r=(u>>C&1)!=0;if(r){Z+=S+"["+u+"] = "+m+"["+(-q+u)+"] - "+m+"["+u+"];  "}else{Z+=S+"["+u+"] = "+m+"["+(q+u)+"] + "+m+"["+u+"];  "}}B=m;
m=S;S=B;Z+="\n"}console.log(Z)};l.Zn.akx=function(gY,Z,m){var S=Z,B=m,C=S,u=0,q,k,v;while(gY>>u!=2)u++;
var r=u;for(q=gY>>1;q>0;q>>=1,u--){for(k=0;k<gY;k++){v=(k>>u&1)!=0;if(v)B[k]=S[-q+k]-S[k];else B[k]=S[q+k]+S[k]}C=S;
S=B;B=C}if((r&1)==1)for(q=0;q<gY;q++)m[q]=S[q]};l._B={};l._B.$p=function(Z,m,S,B,C,u,r,k,v){var e=Date.now(),j=new Uint32Array(Z.buffer),$=new Uint32Array(m.buffer),U=r/S,H=k/B,z=1/U,f=1/H,D=new Float64Array(2),n=3,L=1/n,a=1/(n*n),F=0,A=0,T=S,P=B;
if(C){F=C.x;A=C.y;T=C.e;P=C.n}for(var Y=0;Y<P;Y++)for(var Q=0;Q<T;Q++){var o=F+Q,I=A+Y,q=I*S+o,c=q<<1,y=q<<2;
l._B.aiJ(u,r,k,(o+.5)*U,(I+.5)*H,D);var i=D[0]*z,d=D[1]*f;if(i==0&&d==0)$[q]=j[q];else{l.N.Of(o+i+.5,I+d+.5,j,S,B,$,q,v)}}};
l._B.aiJ=function(Z,m,S,B,C,u){B-=.499999;C-=.499999;var r=~~B,k=~~C,v=B-r,e=C-k,j=(1-e)*(1-v),$=(1-e)*v,U=e*(1-v),H=e*v,z=r<m-1?r+1:r,f=k<S-1?k+1:k,D=k*m+r<<1,n=k*m+z<<1,L=f*m+r<<1,a=f*m+z<<1;
u[0]=j*Z[D]+$*Z[n]+U*Z[L]+H*Z[a];u[1]=j*Z[D+1]+$*Z[n+1]+U*Z[L+1]+H*Z[a+1]};l._B.acR=function(Z,m,S,B,C){var u=1/Z,r=[-1,1,-Z,Z],k=B.length;
for(var v=0;v<k;v++){var q=B[v],e=q<<1,j=v<<1,$=~~(q*u),U=q-Z*$,H=S[e],z=S[e+1],f=0,D=0;if(U!=0&&U!=Z-1){var n=q-1<<1,L=q+1<<1,a=S[n],F=S[L],A=S[n+1],T=S[L+1],P=H-(a+F)*.5,Y=z-(A+T)*.5;
f-=P*C;D-=Y*C}if($!=0&&$!=m-1){var n=q-Z<<1,L=q+Z<<1,a=S[n],F=S[L],A=S[n+1],T=S[L+1],P=H-(a+F)*.5,Y=z-(A+T)*.5;
f-=P*C;D-=Y*C}S[e]=H+f;S[e+1]=z+D}};l._B.a6_=function(Z,m){var S=Z+","+m;if(l._B.fL==S)return l._B.zH;
var B=l._B.zH=[];l._B.fL=S;for(var q=0;q<=1e3;q++){var C=q*.001,u=Math.sqrt(C),r=Math.exp(-4*u),k=.96*(1-u*u),v=m*((1-Z)*r+Z*k);
B[q]=v}return B};l._B.fL="";l._B.zH=[];l._B.atg=function(Z,m,S,B,C,u,r,k,v,e,j,$,U){var H=Math.max(0,Math.floor(C-r-1)),z=Math.min(m,Math.ceil(C+r+1)),f=Math.max(0,Math.floor(u-r-1)),D=Math.min(S,Math.ceil(u+r+1)),n=2*m,L=r*r,a=1/r,F=0;
if(U&&(B==3||B==6))v=-v;var A=l._B.a6_(k,v);for(var T=f;T<D;T++)for(var P=H;P<z;P++){var q=T*m+P,Y=q<<1,Q=(C-P)*a,o=(u-T)*a,I=Q*Q+o*o;
if(I<1){$[F]=q;var c=A[~~(I*1e3)];if(B==1){Z[Y]=Z[Y]*(1-c*.05);Z[Y+1]=Z[Y+1]*(1-c*.05)}else{var y=0,i=0,R,G,M,O;
if(B==0){y=e*c;i=j*c}else if(B==2){}else if(B==3){y=c*o;i=-c*Q}else if(B==4){y=c*Q;i=c*o}else if(B==5){y=-c*Q;
i=-c*o}else if(B==6){y=j*c;i=-e*c}var d=Z[Y],V=Z[Y+1];if(P==0||P!=m-1&&y<0){R=1+Z[Y+2]-d;M=Z[Y+3]-V}else{R=d-Z[Y-2]+1;
M=V-Z[Y-1]}if(T==0||T!=S-1&&i<0){G=Z[Y+n]-d;O=1+Z[Y+n+1]-V}else{G=d-Z[Y-n];O=V-Z[Y-n+1]+1}Z[Y]=-(R*y+G*i-d);
Z[Y+1]=-(M*y+O*i-V)}F++}}};l._B.a5Q=function(Z){var m=Z[0],S=Z[0],B=Z[1],C=Z[1];for(var q=0;q<Z.length;
q+=2){var u=Z[q],r=Z[q+1];if(u<m)m=u;else if(u>S)S=u;if(r<B)B=r;else if(r>C)C=r}return[m,B,S,C]};l.ahR=function(Z,m,S,B,C){function u(p,eo,co,c5){return Math.sqrt((p-co)*(p-co)+(eo-c5)*(eo-c5))}function r(p,eo){return p>=0&&p<m&&eo>=0&&eo<S}function k(p){if(p<0)return 0;
if(p>=m)return m-1;return p}function v(p){if(p<0)return 0;if(p>=S)return S-1;return p}function e(q,p){var eo=p[3]*(1/255),co=B[q]+p[0]*eo;
if(co>255)co=255;B[q]=co;co=B[q+1]+p[1]*eo;if(co>255)co=255;B[q+1]=co;co=B[q+2]+p[2]*eo;if(co>255)co=255;
B[q+2]=co}function j(p,eo,co){if(!K(p,eo))return;if(co[3]<0)co[3]=0;e((eo*m+p)*4,co)}function $(p){var eo=p.slice(0,3);
eo[3]=0;return eo}var U=m/800;function H(p){return Math.round(p*U)}function z(){for(var q=0;q<=300;q++){t[q]=f(q)}}function f(S){var p=.8,eo=.2,co=p*eo,c5=S/60%2-1,he=co*(1-c5*c5),hU=eo-co,aB;
if(S<60){aB=[co+hU,he,0]}else if(S<120){aB=[he,co,0]}else if(S<180){aB=[0,co,he]}else if(S<240){aB=[0,he,co]}else if(S<300){aB=[he,0,co]}else{aB=[co,0,he]}return[(aB[0]+hU)*255,(aB[1]+hU)*255,(aB[2]+hU)*255]}function D(S){return t[~~S]}function n(p){return 1-L(p)}function L(p){return p-~~p}function a(p,eo,co,c5){M(p,eo,co,0,eo+1,1,c5)}function F(p,eo,co,c5,he,hU){M(p,eo,co,0,c5,1,he,hU)}function A(p){for(var q=0;
q<B.length;q+=4){e(q,p)}}function T(p,eo,co,c5,he,hU,aB,ep){P(p,eo,co,c5,he,1,hU,aB,ep)}function P(p,eo,co,c5,he,hU,aB,ep,aO){if(hU==null)hU=.5;
if(aB==null)aB=0;if(ep==null)ep=0;if(aO==null)aO=!1;var f$=p.x,fo=p.y,bb=co.slice(0),jl=~~(co[3]*h);
c5=c5*h;if(!aO){eo=O(eo);he=O(he);aB=O(aB);ep=O(ep)}var e0=k(f$-eo),gI=k(f$+eo);for(var ab=e0;ab<=gI;
ab++){var c3=ab-f$,gr=Math.floor(Math.sqrt(eo*eo-c3*c3)),a2=v(fo-gr),aL=v(fo);for(var el=a2;el<=aL;el++){var iJ=u(ab,el,f$,fo);
if(iJ>eo||iJ<=eo-he)break;var aC=(iJ-eo+he)/he;bb[3]=jl-c5*(hU==1?aC:Math.pow(aC,hU));e((el*m+ab)*4,bb)}a2=v(fo+gr);
for(var el=a2;el>aL;el--){var iJ=u(ab,el,f$,fo);if(iJ>eo||iJ<=eo-he)break;var aC=(iJ-eo+he)/he;bb[3]=jl-c5*(hU==1?aC:Math.pow(aC,hU));
e((el*m+ab)*4,bb)}}if(aB>0){M(p,eo+aB,bb,bb[3],aB,1,0,0,!0)}if(ep>0){M(p,eo-he,W(co),-co[3],ep,1,0,0,!0)}}function Y(p,eo,co,c5,he,hU){M(p,eo,co,co[3],eo+1,1,c5,he,hU)}function Q(p,eo,co,c5,he){if(he==null)he=!1;
var hU=p.x,aB=p.y;c5*=h;if(!he){eo=O(eo);co=O(co)}var ep=k(hU-eo),aO=k(hU+eo);for(var f$=ep;f$<aO;f$++){var fo=f$-hU,bb=~~Math.sqrt(eo*eo-fo*fo),jl=v(aB-bb),e0=v(aB);
for(var gI=jl;gI<=e0;gI++){var c3=u(f$,gI,hU,aB);if(c3>eo||c3<=eo-co)break;var gr=(eo-c3)/co,a2=D(300*gr);
a2[3]=c5;e((gI*m+f$)*4,a2)}jl=v(aB+bb);for(var gI=jl;gI>e0;gI--){var c3=u(f$,gI,hU,aB);if(c3>eo||c3<=eo-co)break;
var gr=(eo-c3)/co,a2=D(300*gr);a2[3]=c5;e((gI*m+f$)*4,a2)}}}function o(X,p){var eo=X.RR,co=X.Tx,c5=p.slice(0),he=p[3]*h,hU=Math.abs(co.y-eo.y)>Math.abs(co.x-eo.x);
if(hU){var aB=eo.x;eo.x=eo.y;eo.y=aB;aB=co.x;co.x=co.y;co.y=aB}if(eo.x>co.x){var aB=eo;eo=co;co=aB}var ep=co.x-eo.x,aO=co.y-eo.y,f$=ep==0?1:aO/ep,fo=Math.round(eo.x),bb=eo.y+f$*(fo-eo.x),jl=n(eo.x+.5),e0=fo,gI=~~bb;
if(hU){c5[3]=he*n(bb)*jl;j(gI,e0,c5);c5[3]=he*L(bb)*jl;j(gI+1,e0,c5)}else{c5[3]=he*n(bb)*jl;j(e0,gI,c5);
c5[3]=he*L(bb)*jl;j(e0,gI+1,c5)}var d4=bb-f$;fo=Math.round(co.x);bb=co.y+f$*(fo-co.x);jl=L(co.x+.5);
var ab=fo,c3=~~bb;if(hU){c5[3]=he*n(bb)*jl;j(c3,ab,c5);c5[3]=he*L(bb)*jl;j(c3+1,ab,c5)}else{c5[3]=he*n(bb)*jl;
j(ab,c3,c5);c5[3]=he*L(bb)*jl;j(ab,c3+1,c5)}if(hU){for(var gr=e0+1;gr<=ab-1;gr++){c5[3]=he*n(d4);j(~~d4,gr,c5);
c5[3]=he*L(d4);j(~~d4+1,gr,c5);d4+=f$}}else{for(var gr=e0+1;gr<=ab-1;gr++){c5[3]=he*n(d4);j(gr,~~d4,c5);
c5[3]=he*L(d4);j(gr,~~d4+1,c5);d4+=f$}}}function I(p,eo,co,c5){for(var q=0;q<4;q++){var he=p.$O(eo+1.3*q,co);
o(he,c5,1)}}function aS(p,eo){this.x=Math.round(p);this.y=Math.round(eo)}var c=Math.PI/180;aS.prototype.$O=function(p,eo){p=p*c;
var co=this.x+eo*Math.cos(p),c5=this.y+eo*Math.sin(p);return new y(this.x,this.y,co,c5)};aS.prototype.a3C=function(p,eo){p=p*c;
var co=this.hn+eo*Math.cos(p),c5=this.ahg+eo*Math.sin(p);return new aS(co,c5)};function y(p,eo,co,c5){this.RR=new aS(p,eo);
this.Tx=new aS(co,c5)}y.prototype.UF=function(p){var eo=p*this.RR.x+(1-p)*this.Tx.x,co=p*this.RR.y+(1-p)*this.Tx.y;
return new aS(eo,co)};var i=T,d=Y,V=a,R=F,G=Q,M=P,O=H,K=r,W=$,t=[];z();for(var q=0;q<Z.length;q++){B[q]=Z[q]}var X=new y(m*C[2],S*C[3],m/2,S/2),h=C[1],b=[];
b[0]=function E(){var p=[80,40,15,60],co=0,c5=0;V(X.UF(1.4),260,p,10);V(X.UF(1),100,[240,50,50,30],30);
d(X.UF(1),60,[255,40,0,40]);var eo=[255,255,255,255];M(X.UF(1),70,eo,eo[3],58,.5);V(X.UF(1),12,eo);eo[3]=40;
i(X.UF(1),150,eo,eo[3],150);for(var q=0;q<40;q++){co+=Math.random()*25;c5=Math.random()*O(300)+O(100);
var he=X.UF(1).$O(co,c5);o(X.UF(1).$O(co,c5),[110,110,110,30])}d(X.UF(1),130,[255,255,255,8]);var hU=[170,30,23,70];
R(X.UF(1),70,hU,1,3,3);var aB=[60,60,130,40];V(X.UF(.47),44,aB,5);V(X.UF(.43),22,aB,3);aB[3]=16;V(X.UF(.53),15,aB,2);
var ep=[138,94,42,100];V(X.UF(.2),16,ep,2);var aO=[130,255,170,180];d(X.UF(0),4,aO);d(X.UF(-.25),5,aO);
ep=[150,90,0,50];i(X.UF(-.45),55,W(ep),-ep[3],40,2);V(X.UF(-.42),35,ep,2);V(X.UF(-.5),15,ep,2);G(X.UF(-1.28),145,11,70);
var f$=D(0);f$[3]=50;i(X.UF(-1.28),149,f$,f$[3],4);f$=D(300);f$[3]=50;i(X.UF(-1.28),155-1,W(f$),-f$[3],3);
var fo=[130,130,10,50];R(X.UF(-1),73,fo,3,2);var bb=[40,130,70,40];i(X.UF(-1),70,W(bb),-bb[3],35);bb=[40,170,60,50];
V(X.UF(-.7),25,bb,4);var bb=[70,110,50,60];i(X.UF(1.3),30,W(bb),-bb[3],11,3);aB=[0,50,210,80];d(X.UF(-.72),20,aB)};
b[1]=function f0(){d(X.UF(1),150,[240,70,70,60]);V(X.UF(1),100,[200,60,60,40],30);var p=[255,255,255,255],eo=0,co=0;
M(X.UF(1),75,p,p[3],63);V(X.UF(1),12,p);d(X.UF(1),270,[200,200,200,20],10);for(var q=0;q<10;q++){eo+=10+Math.random()*40;
co=Math.random()*O(250)+O(80);var c5=X.UF(1).$O(eo,co);o(c5,[110,110,110,35])}eo=5;co=100;for(var q=0;
q<12;q++){eo+=30;I(X.UF(1),eo,co,[90,90,90,40])}var he=[150,40,23,100];R(X.UF(1),70,he,1,3,3);var hU=[30,100,60,40];
d(X.UF(-.9),180,[255,255,255,20]);V(X.UF(-.9),140,hU,15);var aB=[170,80,25,15];R(X.UF(-.9),120,aB,1,4,4);
var ep=[110,240,190,200];d(X.UF(-.6),3,ep);ep[3]=100;d(X.UF(-.6),7,ep);var aO=[230,120,40,85];d(X.UF(-.73),9,aO);
var f$=[60,60,190,50];V(X.UF(.3),28,f$,6);f$[3]=25;V(X.UF(.34),20,f$,3)};b[2]=function ay(){var p=[255,255,255,255],co=0,c5=0;
V(X.UF(1),13,p);M(X.UF(1),150,p,p[3],137);var eo=[120,80,35,20];V(X.UF(1.4),260,eo,10);for(var q=0;q<40;
q++){co+=5+Math.random()*30;c5=Math.random()*O(300);o(X.UF(1).$O(co,c5),[110,110,110,20])}var he=[10,30,255,30];
V(X.UF(1),70,he,50);var hU=[15,90,170,15];V(X.UF(1.5),60,hU);var aB=[220,220,20,50];V(X.UF(-1.15),8,aB,2);
var p=[255,255,255,40];d(X.UF(-1.18),6,p);d(X.UF(-1.18),4,p);aB=[110,110,10,8];i(X.UF(-1.2),32,W(aB),-aB[3],20,3);
var ep=[5,0,16,255];for(var q=0;q<4;q++){V(X.UF(-1.36),10,ep,3)}var aO=[90,200,150,20],f$=aO.slice(0);
f$[3]*=2;V(X.UF(-1.32),7,f$,3);V(X.UF(-1.36),7,f$,3);V(X.UF(-1.4),7,f$,3);var p=[230,230,230,100];d(X.UF(-1.36),2,p);
p[3]=3;V(X.UF(-.55),10,p);aB=[120,100,10,18];V(X.UF(-.55),160,aB,8);V(X.UF(-.55),80,aB,4);aO[3]=3;f$[3]=6;
i(X.UF(-.49),13,W(f$),-f$[3],13,2);i(X.UF(-.55),13,W(f$),-f$[3],13,2);aO[3]=20;V(X.UF(.15),25,aO,3);
aB[3]=100;d(X.UF(-.52),3,aB);aB=[200,200,50,40];V(X.UF(.27),1,aB,4);var fo=[150,40,23,30];i(X.UF(1),80,W(fo),-fo[3],2,1)};
return b[C[0]]()};l.TZ={};l.TZ.O5=function(Z){var m=Z.length,gY=Z[0].length,S=new Array(gY);for(var q=0;
q<gY;q++)S[q]=new Array(m);for(var q=0;q<gY;q++)for(var B=0;B<m;B++)S[q][B]=Z[B][q];return S};l.TZ.Vf=function(Z,m){var S=Z.length,gY=Z[0].length,B=new Array(S);
for(var q=0;q<S;q++)B[q]=new Array(gY);for(var q=0;q<S;q++)for(var C=0;C<gY;C++)B[q][C]=Z[q][C]-m[q][C];
return B};l.TZ.add=function(Z,m){var S=Z.length,gY=Z[0].length,B=new Array(S);for(var q=0;q<S;q++)B[q]=new Array(gY);
for(var q=0;q<S;q++)for(var C=0;C<gY;C++)B[q][C]=Z[q][C]+m[q][C];return B};l.TZ.multiply=function(Z,m){var S=Z.length,B=Z[0].length,gY=m[0].length;
if(B!=m.length)throw"e";var C=new Array(S);for(var q=0;q<S;q++)C[q]=new Array(gY);if((B&1)!=0)for(var q=0;
q<S;q++){var u=Z[q],r=C[q];for(var k=0;k<gY;k++){var v=0;for(var e=0;e<B;e++)v+=u[e]*m[e][k];r[k]=v}}else for(var q=0;
q<S;q++){var u=Z[q],r=C[q];for(var k=0;k<gY;k++){var v=0;for(var e=0;e<B;e+=2)v+=u[e]*m[e][k]+u[e+1]*m[e+1][k];
r[k]=v}}return C};l.TZ.E8=function(Z,m){var S=Z.length,gY=Z[0].length,B=new Array(S);for(var q=0;q<S;
q++){var C=0;for(var u=0;u<gY;u++)C+=Z[q][u]*m[u];B[q]=C}return B};l.TZ.MA=function(Z,m){var S=[];for(var q=0;
q<Z;q++){S.push([]);for(var B=0;B<m;B++)S[q].push(0)}return S};l.TZ.atf=function(Z){for(var q=0;q<Z.length;
q++)console.log(JSON.stringify(Z[q]))};l.TZ.atl=function(Z){var m=[];for(var q=0;q<Z.length;q++)m.push(Z[q].join(","));
return"["+m.join(";")+"]"};l.TZ.rt=function(Z,m){var S=Z.length;for(var B=0;B<S;B++){var C=0,u=Number.NEGATIVE_INFINITY;
for(var q=B;q<S;q++)if(Math.abs(Z[q][B])>u){C=q;u=Math.abs(Z[q][B])}l.TZ.aod(Z,B,C);for(var q=B+1;q<S;
q++){if(Z[B][B]==0)return 1;var r=Z[q][B]/Z[B][B];for(var k=B;k<S+1;k++)Z[q][k]-=Z[B][k]*r}}for(var q=S-1;
q>=0;q--){if(Z[q][q]==0)return 1;var v=Z[q][S]/Z[q][q];m[q]=v;for(var k=q-1;k>=0;k--){Z[k][S]-=Z[k][q]*v;
Z[k][q]=0}}return 0};l.TZ.aod=function(Z,m,S){var B=Z[m];Z[m]=Z[S];Z[S]=B};l.TZ.a8G=function(Z){var m=Z.length,S=l.TZ.MA(m,m);
for(var q=0;q<m;q++)S[q][q]=Z[q];return S};l.TZ.aoV=function(Z){var m=Z.length,S=Z[0].length,B=new Array(m);
for(var q=0;q<m;q++){B[q]=0;for(var C=0;C<S;C++)B[q]+=Z[q][C];B[q]/=S}return B};l.TZ.uu=function(Z){var m=0;
for(var q=0;q<Z.length;q++)m+=Z[q]*Z[q];return Math.sqrt(m)};l.fd={};l.fd.OY=function(Z){var m=~~(Z+.5);
return m<0?0:m>255?255:m};l.fd.transform=function(Z,m,S){var B=l.fd.OY,C=Z.I.length;for(var q=0;q<C;
q++){var u=Z.I[q],r=Z.z[q],k=Z.S[q];m.I[q]=B(S[0]*u+S[1]*r+S[2]*k+S[3]*255);m.z[q]=B(S[4]*u+S[5]*r+S[6]*k+S[7]*255);
m.S[q]=B(S[8]*u+S[9]*r+S[10]*k+S[11]*255)}};l.fd.NB=function(Z,m,S){var B=l.fd.OY,C=Z.length;for(var q=0;
q<C;q+=4){var u=Z[q],r=Z[q+1],k=Z[q+2];m[q]=B(S[0]*u+S[1]*r+S[2]*k+S[3]*255);m[q+1]=B(S[4]*u+S[5]*r+S[6]*k+S[7]*255);
m[q+2]=B(S[8]*u+S[9]*r+S[10]*k+S[11]*255)}};l.fd.J2=function(Z){var m=Z[0]+Z[1]+Z[2],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(m==1){var B=Z.indexOf(1);S[B]=S[B+4]=S[B+8]=1}else{S[0]=Z[0];S[5]=Z[1];S[10]=Z[2]}return S};l.fd.C9=function(Z,m,S){return[1,0,0,Z,0,1,0,m,0,0,1,S,0,0,0,1]};
l.fd.Gv=function(Z,m,S){return[Z,0,0,0,0,m,0,0,0,0,S,0,0,0,0,1]};l.fd.ahv=function(Z){return[Z[0],Z[1],Z[2],Z[4],Z[5],Z[6],Z[8],Z[9],Z[10]]};
l.fd.Rn=function(Z){return[Z[0],Z[1],Z[2],0,Z[3],Z[4],Z[5],0,Z[6],Z[7],Z[8],0,0,0,0,1]};l.fd.b1=function(Z,m){return[Z[0]*m[0]+Z[1]*m[1]+Z[2]*m[2]+Z[3]*m[3],Z[4]*m[0]+Z[5]*m[1]+Z[6]*m[2]+Z[7]*m[3],Z[8]*m[0]+Z[9]*m[1]+Z[10]*m[2]+Z[11]*m[3],Z[12]*m[0]+Z[13]*m[1]+Z[14]*m[2]+Z[15]*m[3]]};
l.fd.O5=function(Z){var m=[];m[0]=Z[0];m[1]=Z[4];m[2]=Z[8];m[3]=Z[12];m[4]=Z[1];m[5]=Z[5];m[6]=Z[9];
m[7]=Z[13];m[8]=Z[2];m[9]=Z[6];m[10]=Z[10];m[11]=Z[14];m[12]=Z[3];m[13]=Z[7];m[14]=Z[11];m[15]=Z[15];
return m};l.fd.add=function(Z,m){var S=Z.slice(0);for(var q=0;q<16;q++)S[q]+=m[q];return S};l.fd.multiply=function(Z,m){var S=[];
S[0]=Z[0]*m[0]+Z[1]*m[4]+Z[2]*m[8]+Z[3]*m[12];S[1]=Z[0]*m[1]+Z[1]*m[5]+Z[2]*m[9]+Z[3]*m[13];S[2]=Z[0]*m[2]+Z[1]*m[6]+Z[2]*m[10]+Z[3]*m[14];
S[3]=Z[0]*m[3]+Z[1]*m[7]+Z[2]*m[11]+Z[3]*m[15];S[4]=Z[4]*m[0]+Z[5]*m[4]+Z[6]*m[8]+Z[7]*m[12];S[5]=Z[4]*m[1]+Z[5]*m[5]+Z[6]*m[9]+Z[7]*m[13];
S[6]=Z[4]*m[2]+Z[5]*m[6]+Z[6]*m[10]+Z[7]*m[14];S[7]=Z[4]*m[3]+Z[5]*m[7]+Z[6]*m[11]+Z[7]*m[15];S[8]=Z[8]*m[0]+Z[9]*m[4]+Z[10]*m[8]+Z[11]*m[12];
S[9]=Z[8]*m[1]+Z[9]*m[5]+Z[10]*m[9]+Z[11]*m[13];S[10]=Z[8]*m[2]+Z[9]*m[6]+Z[10]*m[10]+Z[11]*m[14];S[11]=Z[8]*m[3]+Z[9]*m[7]+Z[10]*m[11]+Z[11]*m[15];
S[12]=Z[12]*m[0]+Z[13]*m[4]+Z[14]*m[8]+Z[15]*m[12];S[13]=Z[12]*m[1]+Z[13]*m[5]+Z[14]*m[9]+Z[15]*m[13];
S[14]=Z[12]*m[2]+Z[13]*m[6]+Z[14]*m[10]+Z[15]*m[14];S[15]=Z[12]*m[3]+Z[13]*m[7]+Z[14]*m[11]+Z[15]*m[15];
return S};l.fd.Yy=function(Z){var m=[];m[0]=Z[5]*Z[10]*Z[15]-Z[5]*Z[14]*Z[11]-Z[6]*Z[9]*Z[15]+Z[6]*Z[13]*Z[11]+Z[7]*Z[9]*Z[14]-Z[7]*Z[13]*Z[10];
m[1]=-Z[1]*Z[10]*Z[15]+Z[1]*Z[14]*Z[11]+Z[2]*Z[9]*Z[15]-Z[2]*Z[13]*Z[11]-Z[3]*Z[9]*Z[14]+Z[3]*Z[13]*Z[10];
m[2]=Z[1]*Z[6]*Z[15]-Z[1]*Z[14]*Z[7]-Z[2]*Z[5]*Z[15]+Z[2]*Z[13]*Z[7]+Z[3]*Z[5]*Z[14]-Z[3]*Z[13]*Z[6];
m[3]=-Z[1]*Z[6]*Z[11]+Z[1]*Z[10]*Z[7]+Z[2]*Z[5]*Z[11]-Z[2]*Z[9]*Z[7]-Z[3]*Z[5]*Z[10]+Z[3]*Z[9]*Z[6];
m[4]=-Z[4]*Z[10]*Z[15]+Z[4]*Z[14]*Z[11]+Z[6]*Z[8]*Z[15]-Z[6]*Z[12]*Z[11]-Z[7]*Z[8]*Z[14]+Z[7]*Z[12]*Z[10];
m[5]=Z[0]*Z[10]*Z[15]-Z[0]*Z[14]*Z[11]-Z[2]*Z[8]*Z[15]+Z[2]*Z[12]*Z[11]+Z[3]*Z[8]*Z[14]-Z[3]*Z[12]*Z[10];
m[6]=-Z[0]*Z[6]*Z[15]+Z[0]*Z[14]*Z[7]+Z[2]*Z[4]*Z[15]-Z[2]*Z[12]*Z[7]-Z[3]*Z[4]*Z[14]+Z[3]*Z[12]*Z[6];
m[7]=Z[0]*Z[6]*Z[11]-Z[0]*Z[10]*Z[7]-Z[2]*Z[4]*Z[11]+Z[2]*Z[8]*Z[7]+Z[3]*Z[4]*Z[10]-Z[3]*Z[8]*Z[6];m[8]=Z[4]*Z[9]*Z[15]-Z[4]*Z[13]*Z[11]-Z[5]*Z[8]*Z[15]+Z[5]*Z[12]*Z[11]+Z[7]*Z[8]*Z[13]-Z[7]*Z[12]*Z[9];
m[9]=-Z[0]*Z[9]*Z[15]+Z[0]*Z[13]*Z[11]+Z[1]*Z[8]*Z[15]-Z[1]*Z[12]*Z[11]-Z[3]*Z[8]*Z[13]+Z[3]*Z[12]*Z[9];
m[10]=Z[0]*Z[5]*Z[15]-Z[0]*Z[13]*Z[7]-Z[1]*Z[4]*Z[15]+Z[1]*Z[12]*Z[7]+Z[3]*Z[4]*Z[13]-Z[3]*Z[12]*Z[5];
m[11]=-Z[0]*Z[5]*Z[11]+Z[0]*Z[9]*Z[7]+Z[1]*Z[4]*Z[11]-Z[1]*Z[8]*Z[7]-Z[3]*Z[4]*Z[9]+Z[3]*Z[8]*Z[5];m[12]=-Z[4]*Z[9]*Z[14]+Z[4]*Z[13]*Z[10]+Z[5]*Z[8]*Z[14]-Z[5]*Z[12]*Z[10]-Z[6]*Z[8]*Z[13]+Z[6]*Z[12]*Z[9];
m[13]=Z[0]*Z[9]*Z[14]-Z[0]*Z[13]*Z[10]-Z[1]*Z[8]*Z[14]+Z[1]*Z[12]*Z[10]+Z[2]*Z[8]*Z[13]-Z[2]*Z[12]*Z[9];
m[14]=-Z[0]*Z[5]*Z[14]+Z[0]*Z[13]*Z[6]+Z[1]*Z[4]*Z[14]-Z[1]*Z[12]*Z[6]-Z[2]*Z[4]*Z[13]+Z[2]*Z[12]*Z[5];
m[15]=Z[0]*Z[5]*Z[10]-Z[0]*Z[9]*Z[6]-Z[1]*Z[4]*Z[10]+Z[1]*Z[8]*Z[6]+Z[2]*Z[4]*Z[9]-Z[2]*Z[8]*Z[5];var S=Z[0]*m[0]+Z[1]*m[4]+Z[2]*m[8]+Z[3]*m[12];
for(var q=0;q<16;q++)m[q]/=S;return m};l.fd.ag2=function(Z){var m=[],S=Z[5]*Z[10]*Z[15]-Z[5]*Z[14]*Z[11]-Z[6]*Z[9]*Z[15]+Z[6]*Z[13]*Z[11]+Z[7]*Z[9]*Z[14]-Z[7]*Z[13]*Z[10],B=-Z[4]*Z[10]*Z[15]+Z[4]*Z[14]*Z[11]+Z[6]*Z[8]*Z[15]-Z[6]*Z[12]*Z[11]-Z[7]*Z[8]*Z[14]+Z[7]*Z[12]*Z[10],C=Z[4]*Z[9]*Z[15]-Z[4]*Z[13]*Z[11]-Z[5]*Z[8]*Z[15]+Z[5]*Z[12]*Z[11]+Z[7]*Z[8]*Z[13]-Z[7]*Z[12]*Z[9],u=-Z[4]*Z[9]*Z[14]+Z[4]*Z[13]*Z[10]+Z[5]*Z[8]*Z[14]-Z[5]*Z[12]*Z[10]-Z[6]*Z[8]*Z[13]+Z[6]*Z[12]*Z[9];
return Z[0]*S+Z[1]*B+Z[2]*C+Z[3]*u};l.fd.Cx=l.fd.Rn([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
l.fd.asb=l.fd.Rn([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
l.fd.a08=l.fd.Yy(l.fd.Cx);l.o2={};l.o2.S3=new Uint32Array(1);l.o2.q8=function(Z,m,S,B,C,u){var r=new Uint32Array(Z),k=0,v=l.o2.S3;
if(v.length<m*4)l.o2.S3=v=new Uint32Array(m*4);var e=new Float64Array(v.buffer);for(var q=0;q<m;q+=2){var j=C[q],$=C[q+1],U=u[q],H=u[q+1];
v[k]=$;e[k+2>>1]=U;v[k+1]=r[j];r[j]=k+1;k+=4;v[k]=j;e[k+2>>1]=H;v[k+1]=r[$];r[$]=k+1;k+=4}return{jT:v,a0S:e,akP:r}};
l.o2.rt=function(Z,m,S,B,C,u,r){var k=1,v=l.o2.q8(Z,m,S,B,C,u),e=v.jT,j=v.a0S,$=v.akP,U=new Uint32Array(Z),H=new l.o2.En(Z),f=1,F=0;
H.push(S);H.push(B);var z=new l.o2.En(Z),D=new Uint8Array(Z),n=new Uint32Array(Z);D[S]=1;D[B]=2;var L=new Uint32Array(Z),a=new Uint32Array(Z);
a[S]=a[B]=0;L[S]=L[B]=1;while(!0){var A=-1,c=0,V=1e30;while(!H.Id()&&A==-1){var T=H.top(),P=D[T],Y=$[T]-1;
while(Y!=-1){var Q=e[Y],o=D[Q],I=Y^P-1<<2;if(j[I+2>>1]!=0){if(o==0){l.o2.V5(T,Y,Q,D,n,a,L);H.push(Q)}else if(o==P&&L[Q]<=L[T]&&a[Q]>a[T])l.o2.V5(T,Y,Q,D,n,a,L);
else if(o!=P){A=I}}Y=e[Y+1]-1}if(A!=-1)break;H.pop()}if(A==-1){break}f++;var y=A;while(y!=-1){U[c]=y;
c++;y=n[e[y^4]]-1}var i=c>>1;for(var q=0;q<i;q++){var d=U[q];U[q]=U[c-q-1];U[c-q-1]=d}y=n[e[A]]-1;while(y!=-1){U[c]=y^4;
c++;y=n[e[y^4]]-1}for(var q=0;q<c;q++)V=Math.min(V,j[U[q]+2>>1]);F+=V;if(F>=r)return{us:null,yn:F};for(var q=0;
q<c;q++){var R=U[q],G=R^4,T=e[G],Q=e[R];j[R+2>>1]-=V;j[G+2>>1]+=V;if(j[R+2>>1]==0&&D[T]==D[Q]){if(D[T]==1){n[Q]=0;
z.push(Q)}if(D[T]==2){n[T]=0;z.push(T)}}}while(!z.Id()){var T=z.pop(),P=D[T],Y=$[T]-1,M=P==1?4:0,O=0,K=0,W=1e9;
while(Y!=-1){var Q=e[Y],t=Y^4,I=Y^M;if(D[Q]==P&&j[I+2>>1]>0&&l.o2.ahi(Q,S,B,n,e,f,L,a)+1<W){O=Q;K=t;
W=a[Q]+1}Y=e[Y+1]-1}if(K!=0){l.o2.V5(O,K,T,D,n,a,L);continue}Y=$[T]-1;while(Y!=-1){var Q=e[Y],I=Y^M;
if(D[Q]==P){if(j[I+2>>1]>0){H.push(Q)}if(n[Q]==Y+1){n[Q]=0;z.push(Q)}}Y=e[Y+1]-1}D[T]=0;H.remove(T)}}var X=[];
for(var q=0;q<m;q+=2){var T=C[q],Q=C[q+1];if(D[T]==1&&D[Q]!=1){X.push(q>>1)}if(D[Q]==1&&D[T]!=1){X.push(m+q>>1)}}return{us:X,yn:F}};
l.o2.V5=function(Z,m,S,B,C,u,r){B[S]=B[Z];C[S]=m+1;u[S]=u[Z]+1;r[S]=r[Z]};l.o2.ahi=function(Z,m,S,B,C,u,r,k){var v=Z,e=B[Z]-1,j=0;
while(e!=-1&&r[Z]!=u){Z=C[e^4];e=B[Z]-1;j++}if(e==-1&&Z!=m&&Z!=S)return 1e9;var $=k[Z]+j;j=0;e=B[v]-1;
while(v!=Z){k[v]=$-j;j++;r[v]=u;v=C[e^4];e=B[v]-1}return $};l.o2.a31=function(Z,m,S,B,C,u){var r=l.o2.q8(Z,m,S,B,C,u),k=r.jT,v=r.a0S,e=r.akP,j=0,$=0,U=new Uint32Array(Z*2),H=new l.o2.Uj(Z),z=0;
while(!0){H.reset();H.push(S);for(var q=0;q<Z;q++)U[q<<1]=0;while(!H.Id()){var f=H.pop(),D=e[f]-1;while(D!=-1){z=k[D];
if(U[z<<1]==0&&v[D+2>>1]>0&&z!=S){U[z<<1]=f+1;U[(z<<1)+1]=D;H.push(z)}D=k[D+1]-1}if(U[B<<1]!=0){break}}if(U[B<<1]==0){break}var n=1e30;
z=B;while(!0){var L=U[z<<1]-1;if(L==-1)break;var a=U[(z<<1)+1];n=Math.min(n,v[a+2>>1]);z=L}z=B;while(!0){var L=U[z<<1]-1;
if(L==-1)break;var a=U[(z<<1)+1],F=a^4;v[a+2>>1]-=n;v[F+2>>1]+=n;z=L}j+=n}var A=[];for(var q=0;q<m;q+=2){var L=C[q],z=C[q+1];
if((U[L<<1]!=0||L==S)&&U[z<<1]==0&&z!=S){A.push(q>>1)}if((U[z<<1]!=0||z==S)&&U[L<<1]==0&&L!=S){A.push(m+q>>1)}}return{us:A,yn:j}};
l.o2.Uj=function(Z){Z|=Z>>1;Z|=Z>>2;Z|=Z>>4;Z|=Z>>8;Z|=Z>>16;this.FX=new Uint32Array(Z+1);this.pi=Z;
this.fV=0;this.J$=0};l.o2.Uj.prototype={push:function(Z){var m=this.J$;this.FX[m]=Z;this.J$=m+1&this.pi},pop:function(){var Z=this.fV,m=this.FX[Z];
this.fV=Z+1&this.pi;return m},Id:function(){return this.fV==this.J$},reset:function(){this.fV=0;this.J$=0}};
l.o2.En=function(Z){Z|=Z>>1;Z|=Z>>2;Z|=Z>>4;Z|=Z>>8;Z|=Z>>16;this.FX=new Uint32Array(Z+1);this.VJ=new Uint32Array(Z+1);
this.pi=Z;this.fV=0;this.J$=0};l.o2.En.prototype={top:function(){return this.FX[this.fV]},aig:function(){return this.FX[this.J$]},push:function(Z){if(this.VJ[Z]!=0)return;
this.VJ[Z]=this.J$+1;var m=this.J$;this.FX[m]=Z;this.J$=m+1&this.pi},pop:function(){var Z=this.fV,m=this.FX[Z];
this.VJ[m]=0;this.fV=Z+1&this.pi;return m},Id:function(){return this.fV==this.J$},remove:function(Z){var m=this.VJ[Z]-1;
if(m==-1)return;this.VJ[Z]=0;if(m==this.fV){this.pop();return}var S=this.pop();this.FX[m]=S;this.VJ[S]=m+1},$I:function(q){return q+this.pi+1&this.pi}};
l.o2.vh=function(Z,m,S){var B=l.o2.a2(Z,m,S);if(m<B-1)l.o2.vh(Z,m,B-1);if(B<S)l.o2.vh(Z,B,S)};l.o2.a2=function(Z,m,S){var B=Z[m+S>>>1];
while(m<=S){while(Z[m]<B)m++;while(Z[S]>B)S--;if(m<=S){l.o2.CC(Z,m,S);m++;S--}}return m};l.o2.CC=function(Z,m,S){var B=Z[m];
Z[m]=Z[S];Z[S]=B};l.Ka={};l.Ka.aka=function(Z){for(var q=0;q<Z.length;q++)l.Ka.uQ(Z,q)};l.Ka.uQ=function(Z,q){Z[q].v.keyShapeInvalidated={t:"bool",v:!0}};
l.Ka.ahJ=function(Z){for(var q=0;q<Z.length;q++)Z[q].v.keyOriginIndex.v=q};l.Ka.Td=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
l.Ka.wo=function(Z){Z=Z.v;var m={Rctn:2,Ln:4,Elps:5},S=m[Z.classID],B=Z.topLeft?l.Ka.O7(Z):null,C=null,u=0,r=[!1,!1,0,0,0];
if(S==4){var k=Z.Strt.v,v=Z.End.v;C=[k.Hrzn.v.val,k.Vrtc.v.val,v.Hrzn.v.val,v.Vrtc.v.val];u=Z.Wdth.v.val;
for(var q=0;q<2;q++){var e=Z[q==0?"StrA":"EndA"];if(e==null)continue;e=e.v;r[q]=e.On.v;r[2]=e.Wdth.v;
r[3]=e.Lngt.v;r[4]=e.Cncv.v.val}}if(S==null)return null;return l.Ka.rP(S,S==4?null:l.Ka.fB(Z),B,C,u,r)};
l.Ka.bZ=function(Z,m,S,B,C,u,r){var k={classID:Z,unitValueQuadVersion:{t:"long",v:1}};if(m)l.Ka.XK(k,["Left","Top","Rght","Btom"],m);
if(S)l.Ka.XK(k,["topLeft","topRight","bottomRight","bottomLeft"],S);if(Z=="Ln"){k.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:B[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:B[1]}}}},k.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:B[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:B[3]}}}},k.Wdth={t:"UntF",v:{type:"#Pxl",val:C}};
for(var q=0;q<2;q++){var v=q==0?"StrA":"EndA";k[v]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:r[q]},Wdth:{t:"doub",v:r[2]},Lngt:{t:"doub",v:r[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:r[4]}}}}}}if(u)k.Nm={t:"TEXT",v:u};
return{t:"Objc",v:k}};l.Ka.LR=function(Z,m){var S=l.Ka.w1(Z),B=Z[2]-Z[0],C=Z[3]-Z[1],u=Math.sqrt(B*B+C*C),r=[0,0,u,0,u,m,0,m],k=new ht;
k.rotate(-S);k.translate(Z[0],Z[1]);l.H.A(r,k,r);return r};l.Ka.rP=function(Z,m,S,B,C,u){var r=l.Ka.Td(),k=r.v,v;
delete k.keyShapeInvalidated;k.keyOriginType={t:"long",v:Z};k.keyOriginResolution={t:"doub",v:75};if(Z==4){k.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:B[0]},Vrtc:{t:"doub",v:B[1]}}};
k.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:B[2]},Vrtc:{t:"doub",v:B[3]}}};v=l.Ka.LR(B,C);
var e=l.H.su(v);m=[e.x,e.y,e.x+e.e,e.y+e.n];k.keyOriginLineWeight={t:"doub",v:C};if(u)l.Ka.abA(k,u)}else v=[m[0],m[1],m[2],m[1],m[2],m[3],m[0],m[3]];
k.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};l.Ka.bt(k,"keyOriginBoxCorners",v);var j={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
k.keyOriginShapeBBox={t:"Objc",v:j};l.Ka.Y1(k,m);if(S!=null){var $={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
k.keyOriginRRectRadii={t:"Objc",v:$};l.Ka.kp(k,S)}return r};l.Ka.A=function(Z,m,S,B){var C=l.N.F0(m),u=l.N.tD(m);
for(var q=0;q<Z.length;q++){var r=Z[q].v;if(!l.Ka.x7(r))continue;if(S.length!=0&&S.indexOf(q)==-1)continue;
var k=r.keyOriginType.v,v=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var e=0;e<v.length;
e++){var j=l.Ka.KO(r,v[e]);if(j==null)continue;l.N.A(m,j);l.Ka.bt(r,v[e],j);var $=l.H.su(j);l.Ka.Y1(r,[$.x,$.y,$.x+$.e,$.y+$.n]);
var U=new ht;U.rotate(-l.Ka.w1(j));var H={classID:"Trnf"};r.Trnf={t:"Objc",v:H};var z="xx xy yx yy tx ty".split(" "),f=[U.AQ,U.S,U.mw,U.uw,U.s9,U.ku];
for(var D=0;D<6;D++)H[z[D]]={t:"doub",v:f[D]}}var j=l.Ka.KO(r,"keyOriginBoxCorners"),n=j[2]-j[0],L=j[3]-j[1],a=Math.sqrt(n*n+L*L);
n/=a;L/=a;var F=j[6]-j[0],A=j[7]-j[1],T=Math.sqrt(F*F+A*A);F/=T;A/=T;if(k==4){r.keyOriginLineWeight.v=T;
var P=l.Ka._0(r);l.N.A(m,P);l.Ka.a72(r,P)}var Y=n*F+L*A;if(Math.abs(Y)>.001){l.Ka.uQ(Z,q)}}};l.Ka.x7=function(Z){var m=Z.keyShapeInvalidated,S=Z.keyOriginType;
return(m==null||!m.v)&&S!=null&&S.v!=9};l.Ka.a6I=function(Z){var m=Z.keyOriginType.v,S=l.Ka.Ft(Z),B=S[0],C=S[1],u=S[2],r=S[3],k=new ht,v=Z.keyOriginPolyCornerRadius,H;
v=v?v.v:0;var e=l.Ka.KO(Z,m==7||m==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),j=l.Ka.oT(e),$=j[2],U=j[3];
B=-$/2;u=$/2;C=-U/2;r=U/2;k.rotate(-l.Ka.w1(e));k.s9=j[0];k.ku=j[1];if(m==1||m==2){var z=m==1?0:l.Ka.$0(Z);
H=l.q.eF.Rect(B,C,u-B,r-C,z)}else if(m==4){var f=l.Ka._0(Z),D=l.Ka.afZ(Z);k=new ht;if(D==null)H=l.q.eF.LV(f[0],f[1],f[2],f[3],Z.keyOriginLineWeight.v);
else H=l.q.eF.gS(f[0],f[1],f[2],f[3],Z.keyOriginLineWeight.v,D)}else if(m==5){H=l.q.eF.cP(B,C,u-B,r-C)}else if(m==7||m==8){var n=m==7?3:Z.keyOriginPolySides.v;
H=l.q.eF.AW(0,0,100,Math.PI/n-Math.PI/2,n,v,u,r)}l.q.uA(H,k);return H};l.Ka.oY=function(Z,m){var S=m.u;
for(var q=0;q<Z.length;q++){var B=Z[q].v;if(!l.Ka.x7(B))continue;var C=l.Ka.a6I(B),u=l.q.jw(S,q),r=l.q.SD(S,q);
C[2].QZ=S[u].QZ;var k=S;S=S.slice(0,u);for(var v=2;v<C.length;v++)S.push(C[v]);for(var v=u+r;v<k.length;
v++)S.push(k[v])}m.u=S;m.ZZ=!0};l.Ka.Eh=function(Z){var m=1e9,S=-m,B=1e9,C=-B,u=[],r=Z.Nu(),k=r[0],v=r[1];
for(var e=0;e<v.length;e++){var j=k[v[e]],$=j.add.vogk;if($==null)continue;var U=j.add.vmsk._;for(var H=0;
H<$.length;H++){var z=$[H].v,n=0;if(!l.Ka.x7(z))continue;if(v.length==1&&U.length!=0&&U.indexOf(H)==-1)continue;
var f=z.keyOriginType.v;if(f==9)continue;var D=l.Ka.Ft(z);m=Math.min(m,D[0]);B=Math.min(B,D[1]);S=Math.max(S,D[2]);
C=Math.max(C,D[3]);var L=l.Ka.KO(z,"keyOriginBoxCorners");if(L){var a=l.Ka.oT(L),F=a[2],A=a[3];D[2]=D[0]+F;
D[3]=D[1]+A;n=l.Ka.w1(L)}var T=[f,D,n];u.push(T);if(f==2)T.push(l.Ka.$0(z));if(f==7||f==8)T.push(z.keyOriginPolyCornerRadius.v);
if(f==8)T.push(z.keyOriginPolySides.v)}}return u.length==1?u[0]:[0,m<S?[m,B,S,C]:null,0]};l.Ka.w1=function(Z){var m=Z[2]-Z[0],S=Z[3]-Z[1];
return-Math.atan2(-S,m)};l.Ka.amU=function(Z,m){var S=l.Ka.Eh(Z),B=-1;for(var q=0;q<m.length;q++)if(JSON.stringify(m[q])!=JSON.stringify(S[q]))B=q;
if(B==1||B==2){}var C=Z.Nu(),u=C[0],r=C[1];for(var k=0;k<r.length;k++){var v=u[r[k]],e=v.add.vogk;if(e==null)continue;
var j=v.add.vmsk._;for(var $=0;$<e.length;$++){var U=e[$].v;if(!l.Ka.x7(U))continue;if(r.length==1&&j.length!=0&&j.indexOf($)==-1)continue;
var H=U.keyOriginType.v;if(B==1||B==2){l.Ka.A(e,l.Ka.anB(B,U,S,m),j,!1);break}if(B==3)if(H==2)l.Ka.kp(U,m[3]);
else U.keyOriginPolyCornerRadius.v=m[3];if(B==4)U.keyOriginPolySides.v=m[4]}}};l.Ka.anB=function(Z,m,S,B){var C=B[1],u=S[1],r=(C[2]-C[0])/(u[2]-u[0]),k=(C[3]-C[1])/(u[3]-u[1]),v=new ht;
if(Z==1){if(Math.max(Math.abs(r-1),Math.abs(k-1))>1e-8){var e=C[0],j=C[1];if(B[0]!=0){var $=l.Ka.KO(m,"keyOriginBoxCorners");
e=$[0];j=$[1]}v.translate(-e,-j);v.rotate(B[2]);v.scale(r,k);v.rotate(-B[2]);v.translate(e,j)}else{v.translate(-u[0],-u[1]);
v.translate(C[0],C[1])}}else{if(B[0]!=0)C=l.Ka.Ft(m);var e=(C[0]+C[2])/2,j=(C[1]+C[3])/2;v.translate(-e,-j);
if(S[0]!=0)v.rotate(S[2]);v.rotate(-B[2]);v.translate(e,j)}return l.N.No(v)};l.Ka.oT=function(Z){var m=Z[0],S=Z[1],B=Z[2],C=Z[3],u=Z[4],r=Z[5],k=Z[6],v=Z[7],e=B-m,j=C-S,$=Math.sqrt(e*e+j*j),e=u-B,j=r-C,U=Math.sqrt(e*e+j*j);
return[(m+u)/2,(S+r)/2,$,U]};l.Ka.KO=function(Z,m){var S=Z[m];if(S==null)return null;var B=[];S=S.v;
for(var C=0;C<4;C++){var u=S["rectangleCorner"+["A","B","C","D"][C]].v;B.push(u.Hrzn.v,u.Vrtc.v)}return B};
l.Ka.bt=function(Z,m,S){var B=Z[m];if(B==null)return null;B=B.v;for(var C=0;C<4;C++){var u="rectangleCorner"+["A","B","C","D"][C];
B[u]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:S[2*C]},Vrtc:{t:"doub",v:S[2*C+1]}}}}};l.Ka.Ft=function(Z){return l.Ka.fB(Z.keyOriginShapeBBox.v)};
l.Ka.fB=function(Z){var m=Z.classID,S=Z.Left.v,B=Z.Rght.v,C=Z.Top.v,u=Z.Btom.v;if(m=="unitRect"||m=="radii"||m=="Rctn"){S=S.val;
B=B.val;C=C.val;u=u.val}return[S,C,B,u]};l.Ka.Y1=function(Z,m){l.Ka.XK(Z.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],m)};
l.Ka.$0=function(Z){return l.Ka.O7(Z.keyOriginRRectRadii.v)};l.Ka.O7=function(Z){var m=[],S=["topLeft","topRight","bottomRight","bottomLeft"];
for(var B=0;B<4;B++)m.push(Z[S[B]].v.val);return m};l.Ka.kp=function(Z,m){l.Ka.XK(Z.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],m)};
l.Ka.XK=function(Z,m,S){var B=Z.classID;if(B=="unitRect"||B=="radii"||B=="Rctn"){for(var q=0;q<4;q++)if(S[q]!=null)Z[m[q]]={t:"UntF",v:{type:"#Pxl",val:S[q]}}}else{for(var q=0;
q<4;q++)if(S[q]!=null)Z[m[q]]={t:"doub",v:S[q]}}};l.Ka._0=function(Z){var m=Z.keyOriginLineStart.v,S=Z.keyOriginLineEnd.v;
return[m.Hrzn.v,m.Vrtc.v,S.Hrzn.v,S.Vrtc.v]};l.Ka.a72=function(Z,m){var S=Z.keyOriginLineStart.v,B=Z.keyOriginLineEnd.v;
S.Hrzn.v=m[0];S.Vrtc.v=m[1];B.Hrzn.v=m[2];B.Vrtc.v=m[3]};l.Ka.afZ=function(Z){var m=[],S=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var q=0;q<5;q++){var B=Z["keyOriginLineArr"+S[q]];if(B==null)return null;m[q]=B.v}return m};l.Ka.abA=function(Z,m){Z.keyOriginLineArrowSt={t:"bool",v:m[0]};
Z.keyOriginLineArrowEnd={t:"bool",v:m[1]};Z.keyOriginLineArrWdth={t:"doub",v:m[2]};Z.keyOriginLineArrLngth={t:"doub",v:m[3]};
Z.keyOriginLineArrConc={t:"long",v:m[4]}};l.H={};l.H.clone=function(Z){return{C:Z.C.slice(0),t:Z.t.slice(0)}};
l.H.Qz=function(Z){if(Z.length<6)return!0;var m=Z.length-4;for(var q=0;q<m;q+=2)if(!l.H.me(Z[q],Z[q+1],Z[q+2],Z[q+3],Z[q+4],Z[q+5]))return!1;
if(!l.H.me(Z[m],Z[m+1],Z[m+2],Z[m+3],Z[0],Z[1]))return!1;if(!l.H.me(Z[m+2],Z[m+3],Z[0],Z[1],Z[2],Z[3]))return!1;
return!0};l.H.me=function(Z,m,S,B,C,u){return(m-B)*(C-S)+(S-Z)*(u-B)>=0};l.H.V0=function(Z){var m={},S=null,B=0,C={M:2,L:2,Q:4,C:6};
for(var q=0;q<Z.C.length;q++){var u=Z.C[q];if(u.charAt(0)=="#"){if(m[u]==null)m[u]={t:[],C:[]};S=m[u]}else if(u!="X"){S.C.push(u);
var r=C[u];if(r==null)r=0;for(var k=0;k<r;k++)S.t.push(Z.t[B+k]);B+=r}}return m};l.H.Ah=function(Z,m,S){Z=l.H.Kg(Z);
var B=Z.t,C=Z.C,u=0,r=[],k=null;for(var q=0;q<C.length;q++){var v=C[q];if(v=="M"){k={W3:u,g6:0,St:!1};
r.push(k);u+=2}if(v=="C"){k.g6++;u+=6}if(v=="Z"&&k!=null){k.St=!0}}var e=[];for(var q=0;q<r.length;q++)if(r[q].g6!=0)e.push(r[q]);
r=e;for(var q=0;q<r.length;q++){var j=r[q],$=j.W3,U=$+2+j.g6*6,z=0;j.rK=l.H.su(B,$,U);var H=B[$]==B[U-2]&&B[$+1]==B[U-1];
for(var f=0;f<j.g6;f++){var D=$+f*6,n=D+6;z+=(B[n]-B[D])*(B[n+1]+B[D+1])}if(j.g6==2){var L=function(h,b,E){var f0=1-E;
return f0*f0*f0*h[b]+3*f0*f0*E*h[b+2]+3*f0*E*E*h[b+4]+E*E*E*h[b+6]},a=B[$],F=B[$+1],A=B[$+6],T=B[$+7],P=B[$+6],Y=B[$+7],Q=L(B,$,.5),o=L(B,$+1,.5),I=L(B,$+6,.5),c=L(B,$+7,.5);
z=(Q-a)*(o-F)+(A-Q)*(T-o)+(I-A)*(c-T)+(P-I)*(Y-c)}if(!H)z+=(B[$]-B[U-2])*(B[$+1]+B[U-1]);j.Fl=z<=0}for(var q=0;
q<r.length-1;q++)for(var D=q+1;D<r.length;D++){var y=r[q],i=r[D];if(i.rK.wZ(y.rK)){r[q]=i;r[D]=y}}var d=r.length==0?!0:r[0].Fl,V=[{type:6},{type:8,all:0}];
for(var q=0;q<r.length;q++){var j=r[q],$=j.W3,U=$+2+j.g6*6,H=B[$]==B[U-2]&&B[$+1]==B[U-1],R=j.St||H?0:3,G=j.Fl==d&&!m?1:0;
if(!m&&q!=0){if(r[q-1].rK.wZ(j.rK)&&r[q-1].Fl!=j.Fl)G=0;for(var D=0;D<r.length;D++)if(D!=q&&r[D].rK.wZ(j.rK))G=0}V.push({type:R,length:j.g6+(H?0:1),QZ:S?1:G,Fw:2});
for(var D=0;D<j.g6;D++){var u=$+D*6,M=new aS(B[u],B[u+1]),O=new aS(B[u+2],B[u+3]),K;if(D==0){if(H)K=new aS(B[U-4],B[U-3]);
else K=M.clone()}else K=new aS(B[u-2],B[u-1]);V.push({type:R+2,H0:K,M:M,XX:O})}if(!H){var W=new aS(B[U-2],B[U-1]);
V.push({type:R+2,H0:new aS(B[U-4],B[U-3]),M:W,XX:W.clone()})}}for(var D=0;D<V.length;D++){var t=V[D];
if(t.type>5||t.type==0||t.type==3)continue;var X=t.H0.Qu(t.M)||t.XX.Qu(t.XX);if(!X){var y=t.H0.x*(t.M.y-t.XX.y)+t.M.x*(t.XX.y-t.H0.y)+t.XX.x*(t.H0.y-t.M.y);
if(Math.abs(y)<1e-6)X=!0}if(X)t.type--}return V};l.H.Zf=function(Z,m){var S=l.q.Ei(Z),B=!1;for(var q=2;
q<Z.length;q++){var C=Z[q].QZ;if(C!=null){if(C==2||C==0||C==3)B=!0}}if((B||m)&&Z.length<15e3&&S>1)Z=l.q.eO(Z);
var u=l.H.Rl(Z);return{Wk:u,cr:B?1:0}};l.H.Rl=function(){function Z(B,C,u,r){if(!r&&B.XX.Qu(B.M)&&C.H0.Qu(C.M)){u.t.push(C.M.x,C.M.y);
u.C.push("L")}else{u.t.push(B.XX.x,B.XX.y,C.H0.x,C.H0.y,C.M.x,C.M.y);u.C.push("C")}}function m(B,C,q,u,r,k){var v=C[q];
B.t.push(v.M.x,v.M.y);B.C.push("M");for(var e=q;e<q+u-1;e++)Z(C[e],C[e+1],B,k);if(!r)Z(C[e],C[q],B,k)}function S(B,C){if(C==null)C=!1;
var u={t:[],C:[]};for(var q=0;q<B.length;q++){if(B[q].type>5)continue;var r=B[q].length;if(r==0)continue;
if(q==B.length-1)break;var k=B[q].type==3;m(u,B,q+1,r,k,C);if(!k)u.C.push("Z");q+=r}return u}return S}();
l.H.apZ=function(Z){var m=Z.t,S=[],B,C=0;for(var q=0;q<Z.C.length;q++){var u=Z.C[q];if(u=="C"){B.push(m[C++],m[C++],m[C++],m[C++],m[C++],m[C++])}else if(u=="Z"){}else{B=[];
if(u!="M"){B.push(u);q++}B.push(m[C++],m[C++]);S.push(B)}}return S};l.H.Ox=function(Z,m,S,B){if(B==null)B=1e9;
var C=1e9,u=0;for(var q=0;q<Z.length;q+=2){var r=m-Z[q],k=S-Z[q+1],v=r*r+k*k;if(v<C){C=v;u=q>>>1}}return C<B*B?u:-1};
l.H.zu=function(Z,m,S,B){for(var q=0;q<Z.length;q+=2){var C=Z[q],u=Z[q+1],r=m[q],k=m[q+1];S[q]=C+(r-C)*B;
S[q+1]=u+(k-u)*B}};l.H.A=function(Z,m,S){for(var q=0;q<Z.length;q+=2){var B=Z[q],C=Z[q+1];S[q]=B*m.AQ+C*m.mw+m.s9;
S[q+1]=B*m.S+C*m.uw+m.ku}};l.H.su=function(Z,m,S){if(m==null)m=0;if(S==null)S=Z.length;var B=99999999999,C=-B,u=99999999999,r=-u;
for(var q=m;q<S;q+=2){var k=Z[q],v=Z[q+1];B=Math.min(B,k);u=Math.min(u,v);C=Math.max(C,k);r=Math.max(r,v)}return new bq(B,u,C-B,r-u)};
l.H.D$=function(Z,m){var S=Math.max(m.x,Math.min(m.x+m.e,Z.x)),B=Math.max(m.y,Math.min(m.y+m.n,Z.y)),C=Z.x-S,u=Z.y-B;
return Math.sqrt(C*C+u*u)};l.H.oq=function(Z){if(Z.Ov())return new bq(Math.floor(Z.x),Math.floor(Z.y),Math.ceil(Z.e),Math.ceil(Z.n));
var m=Math.floor(Z.x),S=Math.ceil(Z.x+Z.e),B=Math.floor(Z.y),C=Math.ceil(Z.y+Z.n);return new bq(m,B,S-m,C-B)};
l.H.pa=function(Z){return l.H.oq(l.H.su(Z))};l.H.ez=function(Z){var m=Z.x,S=Z.y,B=Z.x+Z.e,C=Z.y+Z.n;
return{C:["M","L","L","L","Z"],t:[m,S,B,S,B,C,m,C]}};l.H.concat=function(Z,m,S){if(S==null)S=new ht;
for(var q=0;q<m.t.length;q+=2){var B=m.t[q],C=m.t[q+1];Z.t.push(B*S.AQ+C*S.mw+S.s9);Z.t.push(B*S.S+C*S.uw+S.ku)}for(var q=0;
q<m.C.length;q++)Z.C.push(m.C[q])};l.H.Kg=function(Z){var m=Z.t,S=[],B=[],C=0,u=0,r=0,k=0,v=0,e=0,j=0,$=0,U=0;
for(var q=0;q<Z.C.length;q++){var H=Z.C[q];if(H=="M"){u=m[C];r=m[C+1];C+=2;B.push(H);S.push(u,r)}else if(H=="C"){k=m[C];
v=m[C+1];e=m[C+2];j=m[C+3];$=m[C+4];U=m[C+5];C+=6;B.push(H);S.push(k,v,e,j,$,U);u=$;r=U}else if(H=="Q"){k=m[C];
v=m[C+1];e=m[C+2];j=m[C+3];C+=4;var z=k-u,f=v-r,D=e-k,n=j-v;B.push("C");S.push(u+2/3*z,r+2/3*f,k+1/3*D,v+1/3*n,e,j);
u=e;r=j}else if(H=="L"){k=m[C];v=m[C+1];C+=2;var L=k-u,a=v-r;B.push("C");S.push(u,r,k,v,k,v);u=k;r=v}else B.push(H)}return{C:B,t:S}};
l.H.auQ=function(Z){var m=Z.t,S=[],B=[],C=0;for(var q=0;q<Z.C.length;q++){var u=Z.C[q];if(u=="Q"){var r=m[C-2],k=m[C-1],v=m[C],e=m[C+1],j=m[C+2],$=m[C+3];
C+=4;var U=v-r,H=e-k,z=j-v,f=$-e;B.push("C");S.push(r+2/3*U,k+2/3*H,v+1/3*z,e+1/3*f,j,$)}else{var D=0;
if(u=="M"||u=="L")D=2;else if(u=="C")D=6;for(var n=0;n<D;n++)S.push(m[C+n]);C+=D;B.push(u)}}return{C:B,t:S}};
l.H.QL=function(Z,m){var S=Z.t,B=[],C=[],u=0,r=0,k=0,v=0,e=0,j=0,$=0,U=0,H=0;for(var q=0;q<Z.C.length;
q++){var z=Z.C[q];if(z=="M"){r=S[u];k=S[u+1];u+=2;C.push(z);B.push(r,k)}else if(z=="C"){v=S[u];e=S[u+1];
j=S[u+2];$=S[u+3];U=S[u+4];H=S[u+5];u+=6;l.H.mK(r,k,v,e,j,$,U,H,m,C,B,0);r=U;k=H}else C.push(z)}return{C:C,t:B}};
l.H.mK=function(Z,m,S,B,C,u,r,k,v,e,j,$){var U=Math.sqrt((r-Z)*(r-Z)+(k-m)*(k-m)),H=Math.sqrt((r-C)*(r-C)+(k-u)*(k-u))+Math.sqrt((C-S)*(C-S)+(u-B)*(u-B))+Math.sqrt((S-Z)*(S-Z)+(B-m)*(B-m)),z=(U+H)/2;
if(z<=v){e.push("C");j.push(S,B,C,u,r,k)}else{var f=0,D=0,n=0,L=0,a=0,F=0,A=0,T=0,P=0,Y=0,Q=0,o=0,I=0;
D=(Z+S)/2;n=(m+B)/2;L=(S+C)/2;a=(B+u)/2;F=(C+r)/2;A=(u+k)/2;T=(D+L)/2;P=(n+a)/2;Y=(L+F)/2;Q=(a+A)/2;
o=(T+Y)/2;I=(P+Q)/2;l.H.mK(Z,m,D,n,T,P,o,I,v,e,j,$+1);l.H.mK(o,I,Y,Q,F,A,r,k,v,e,j,$+1)}};l.H.ML=function(Z,m,S,B,C){var u=Date.now(),r=l.H.anN(Z,m,S);
if(C){console.log("trace polygons",Date.now()-u);u=Date.now()}var k=[];for(var q=0;q<r.length;q++){var v=r[q],e=v[0],j=["M"],$=Z[e[1]*m+e[0]];
if(e.length>8)e=l.H.jI(e,B,v[1]);if(e.length<=4)continue;for(var U=2;U<e.length;U+=2)j.push("L");j.push("Z");
k.push({path:{t:e,C:j},color:$,parent:-1,rK:l.H.su(e)})}if(C){console.log("simplify polygons",Date.now()-u);
u=Date.now()}for(var q=1;q<k.length;q++){var H=k[q].rK;for(var U=q-1;U>=0;U--)if(k[U].rK.wZ(H)){k[q].parent=U;
break}}if(C){console.log("checking parents",Date.now()-u);u=Date.now()}return k};l.H.anN=function(Z,m,S){var B=m*S,C=new Uint16Array(m*S),r=0;
for(var q=0;q<B;q++)C[q]=Z[q];var u=new Uint8Array(m*S);u[1*m+1]=u[(S-1)*m+1]=u[1*m+m-1]=u[(S-1)*m+m-1]=1;
for(var k=1;k<S;k++)for(var v=1;v<m;v++){var q=k*m+v,e=C[q-m-1],j=C[q-m],$=C[q-1],U=C[q],H=e==U&&j==$&&e!=j,z=0;
if(U<$){r=U;U=$;$=r}if($<j){r=$;$=j;j=r}if(j<e){r=j;j=e;e=r}if(U<$){r=U;U=$;$=r}if($<j){r=$;$=j;j=r}if(U<$){r=U;
U=$;$=r}if(e!=j)z++;if(j!=$)z++;if($!=U)z++;if(U!=e)z++;if(z>=3||H)u[q]=1}var f=[];for(var k=1;k<S;k++)for(var v=1;
v<m;v++){var q=k*m+v;if(C[q]!=C[q-1]){var D=l.H.agu(C,m,S,v,k),n=[];for(var L=0;L<D.length;L+=2)if(u[D[L+1]*m+D[L]]==1)n.push(L>>>1);
f.push([D,n]);l.H.GJ(C,m,S,v,k)}}return f};l.H.GJ=function(Z,m,S,B,C){var u=[C*m+B],r=Z[C*m+B];Z[C*m+B]=65535;
while(u.length!=0){var q=u.pop();Z[q]=0;if(Z[q+m]==r){u.push(q+m);Z[q+m]=65535}if(Z[q-m]==r){u.push(q-m);
Z[q-m]=65535}if(Z[q-1]==r){u.push(q-1);Z[q-1]=65535}if(Z[q+1]==r){u.push(q+1);Z[q+1]=65535}}};l.H.agu=function(Z,m,S,B,C){var u=[0,-1,1,0,0,1,-1,0],j=1;
function r(U,H,j){var q=e*m+v,z=0;if(j==0)z=q-m;else if(j==1)z=q;else if(j==2)z=q-1;else if(j==3)z=q-m-1;
return Z[z]}var k=[],v=B,e=C,$=r(v,e,j);do{k.push(v,e);v+=u[j*2];e+=u[j*2+1];if(r(v,e,j)!=$)j=j+1&3;
else if(r(v,e,j+3&3)!=$)j=j;else if(r(v,e,j+2&3)!=$)j=j+3&3}while(v!=B||e!=C);return k};l.H.jI=function(Z,m,S){var B=Z.length-2;
if(S&&S.length!=0){var C=S[0]*2,u=S[S.length-1]*2,r=C==0?B:C-2,k=Z.slice(u);for(var q=0;q<C;q++)k.push(Z[q]);
if(C==u)k.push(.9*Z[C]+.1*Z[r],.9*Z[C+1]+.1*Z[r+1]);else k.push(Z[C],Z[C+1]);k=l.H.eM(k,m);k.pop();k.pop();
for(var q=0;q<S.length-1;q++){var v=Z.slice(S[q]*2,S[q+1]*2+2);v=l.H.eM(v,m);for(var e=0;e<v.length-2;
e++)k.push(v[e])}return k}var j=Z.slice(0);j.push(.9*Z[0]+.1*Z[B],.9*Z[1]+.1*Z[B+1]);j=l.H.eM(j,m);j.pop();
j.pop();return j};l.H.eM=function(Z,m){var S=Z.length-2,B=Z[0],C=Z[1],u=Z[S],r=Z[S+1],k=u-B,v=r-C,e=1/Math.sqrt(k*k+v*v),j=u*C-r*B,$=-1,U=-1,H=0;
for(var q=2;q<S;q+=2){var z=Z[q],f=Z[q+1],D=f*f*1e6+z*z,n=Math.abs(v*z-k*f+j)*e;if(n>U||n==U&&D>H){U=n;
$=q;H=D}}if(U<m)return[B,C,u,r];var L=l.H.eM(Z.slice(0,$+2),m),a=l.H.eM(Z.slice($),m);for(var q=2;q<a.length;
q++)L.push(a[q]);return L};l.H.aqW=function(){var Z=function(B,C,u,r,k,v){return(C-r)*(k-u)+(u-B)*(v-r)>=0},m=function(B,C,u,r,k,v,e,j){var $=e-u,U=j-r,H=k-u,z=v-r,f=B-u,D=C-r,n=$*$+U*U,L=$*H+U*z,a=$*f+U*D,F=H*H+z*z,A=H*f+z*D,T=1/(n*F-L*L),P=(F*a-L*A)*T,Y=(n*A-L*a)*T;
return P>=0&&Y>=0&&P+Y<1},S=function(B){var gY=B.length>>>1,q=0;if(gY<3)return[];var C=[],u=[];for(var q=0;
q<gY;q++)u.push(q);var r=gY;while(r>3){var k=u[(q+0)%r],v=u[(q+1)%r],e=u[(q+2)%r],j=B[2*k],$=B[2*k+1],U=B[2*v],H=B[2*v+1],z=B[2*e],f=B[2*e+1],D=!1;
if(Z(j,$,U,H,z,f)){D=!0;for(var n=0;n<r;n++){var L=u[n];if(L==k||L==v||L==e)continue;if(m(B[2*L],B[2*L+1],j,$,U,H,z,f)){D=!1;
break}}}if(D){C.push(k,v,e);u.splice((q+1)%r,1);r--;q=0}else if(q++>3*r)break}C.push(u[0],u[1],u[2]);
return C};return S}();l.H.abm=function(Z,m){var S={},B={C:[],t:[]};for(var q=0;q<m.length;q+=3){var C=m[q]*2,u=m[q+1]*2,r=m[q+2]*2;
l.H.gX(Z,C,u,B,S);l.H.gX(Z,C,r,B,S);l.H.gX(Z,u,r,B,S)}return B};l.H.gX=function(Z,m,S,B,C){if(m>S){var u=S;
S=m;m=u}if(C[m+","+S])return;C[m+","+S]=!0;B.C.push("M","L");B.t.push(Z[m],Z[m+1],Z[S],Z[S+1])};l.H.ek=function(Z,m){var S=[],B=Z.length;
for(var q=0;q<B;q+=2){var C=Z[q],u=Z[q+1],r=Z[(q+2)%B],k=Z[(q+3)%B];if(k<u){var v=u;u=k;k=v}if(u<m&&m<k){var e=(m-u)/(k-u);
S.push(C+e*(r-C))}}S.sort(function(j,$){return j-$});return S};l.H.xL=function(Z,m,S,B,C,u,r){var k=Z-S,v=m-B,e=C-S,j=u-B,$=1/Math.sqrt(k*k+v*v),U=1/Math.sqrt(e*e+j*j),H=k*$,z=v*$,f=e*U,D=j*U,n=z*r,L=-H*r,a=-D*r,F=f*r,A=l.H.D9(n,L,H,z,a,F,f,D),T=n+H*A,P=L+z*A,A=l.H.D9(0,0,H,z,T,P,-z,H),Y=H*A,Q=z*A;
return[Math.sqrt(Y*Y+Q*Q),H,z,f,D]};l.H.Jk=function(Z,m,S,B,C,u,r){var k=l.H.xL(Z,m,S,B,C,u,r),v=k[0],e=k[1],j=k[2],$=k[3],U=k[4],H=Math.atan2(e*U-j*$,e*$+j*U);
if(H<0){H=H*-1}var z=Math.PI-H,f=4/3*Math.tan(z/4),D=S+v*e,n=B+v*j,L=S+v*$,a=B+v*U,F=D+f*r*-e,A=n+f*r*-j,T=L+f*r*-$,P=a+f*r*-U;
return[0,0,D,n,F,A,T,P,L,a]};l.H.D9=function(Z,m,S,B,C,u,r,k){var v=r*(m-u)-k*(Z-C),e=k*S-r*B;if(e==0)return 0;
return v/e};l.H.Jk(0,50,0,0,30,30,10);l.mI=function(){};l.mI.Zi=function(Z,m,S,B,C){var u=S.e,r=S.n,k=u*r,v=new Int32Array(k),gY=0;
for(var q=0;q<k;q++)if(m[q]!=0){v[q]=gY;gY++}else if(Z[(q<<2)+3]<200){v[q]=-2}else v[q]=-1;if(gY==0)return;
var e=new l.jg(gY,gY),j=new Array(3*gY),$=new Array(3*gY);for(var q=0;q<$.length;q++)$[q]=j[q]=0;var U=1/255,H=[-u,-1,1,u],z=[],f=[];
for(var D=0;D<r;D++)for(var n=0;n<u;n++){var L=D*u+n,a=L<<2,q=v[L],F=q*3,A=0,T=0,P=0;if(q==-1||q==-2)continue;
for(var Y=0;Y<4;Y++){if(Y==2){T=P;z[P]=0;f[P]=q;P++}var Q=L+H[Y],o=Q<<2,I=v[Q];if(Y==0&&D==0||Y==1&&n==0||Y==2&&n==u-1||Y==3&&D==r-1||I==-2)continue;
A++;if(I==-1){j[F+0]+=Z[o+0];j[F+1]+=Z[o+1];j[F+2]+=Z[o+2]}else{z[P]=-1;f[P]=I;P++;if(m[L]==m[Q]){j[F+0]+=Z[a+0]-Z[o+0];
j[F+1]+=Z[a+1]-Z[o+1];j[F+2]+=Z[a+2]-Z[o+2]}}}z[T]=A;e.La(z,f,P)}for(var q=0;q<k;q++)if(v[q]!=-1){var c=q<<2,y=v[q],i=y*3;
$[i]=Z[c+0];$[i+1]=Z[c+1];$[i+2]=Z[c+2]}var d=Date.now();e.aeD($,j,B,C);console.log(Date.now()-d);for(var q=0;
q<k;q++){var y=v[q],V=y*3,c=q<<2;if(y==-1||Z[c+3]!=255)continue;Z[c+0]=~~(.5+Math.max(0,Math.min(255,$[V+0])));
Z[c+1]=~~(.5+Math.max(0,Math.min(255,$[V+1])));Z[c+2]=~~(.5+Math.max(0,Math.min(255,$[V+2])))}};l.rect={};
l.rect.lv=function(Z,m){var S=[Z],B=[];for(var q=0;q<m.length;q++){var C=m[q],u=!1;for(var r=q+1;r<m.length;
r++){var k=m[r];if(k[0]<=C[0]&&k[1]<=C[1]&&C[2]<=k[2]&&C[3]<=k[3]){u=!0;break}}if(!u)B.push(C)}m=B;for(var q=0;
q<m.length;q++){var C=m[q];for(var r=0;r<S.length;r++){var k=S[r],v=Math.max(C[0],k[0]),e=Math.min(C[2],k[2]),j=Math.max(C[1],k[1]),$=Math.min(C[3],k[3]);
if(v<e&&j<$){var U=[];if(k[1]<C[1]){var H=k.slice(0);H[3]=C[1];U.push(H)}if(k[0]<C[0]){var z=k.slice(0);
z[1]=j;z[2]=C[0];U.push(z)}if(C[2]<k[2]){var f=k.slice(0);f[1]=j;f[0]=C[2];U.push(f)}if(C[3]<k[3]){var D=[v,$,e,k[3]];
U.push(D)}if(U.length!=0){S[r]=U[0];for(var n=1;n<U.length;n++)S.push(U[n])}}}S.push(C);S=l.rect.afi(S)}S.sort(function(C,k){return C[1]!=k[1]?C[1]-k[1]:C[0]-k[0]});
for(var q=1;q<S.length;q++){var C=S[q-1],k=S[q];if(C[0]==k[0]&&C[1]==k[1]&&C[2]==k[2]&&C[3]==k[3]){S.splice(C[4]==null?q-1:q,1);
q--}}return S};l.rect.afi=function(Z){Z=Z.slice(0);for(var q=0;q<Z.length;q++){var m=Z[q],S=null;if(m[4]!=null)continue;
for(var B=0;B<Z.length;B++){var C=Z[B];if(q==B||C[4]!=null)continue;var u=m[0]==C[0],r=m[1]==C[1],k=m[2]==C[2],v=m[3]==C[3];
if(r&&v&&(m[2]==C[0]||m[0]==C[2])){S=[Math.min(m[0],C[0]),m[1],Math.max(m[2],C[2]),m[3]]}if(u&&k&&(m[3]==C[1]||m[1]==C[3])){S=[m[0],Math.min(m[1],C[1]),m[2],Math.max(m[3],C[3])]}if(S){Z[q]=S;
Z.splice(B,1);break}}if(S){q--}}return Z};l.rect.at=function(Z){var m=new bq;for(var q=0;q<Z.length;
q++)m=m.j3(Z[q]);return m};l.rect.aaw=function(Z,m){var S=l.rect.at,B=new UnionFind(Z.length),T=1e3,P=1e3;
for(var q=0;q<Z.length;q++)for(var C=q+1;C<Z.length;C++){if(!m)continue;var u=Z[q],r=Z[C],$=1e9,U=1e9;
if(u.df(r)){B.link(q,C);continue}var k=u.x+u.e,v=u.y+u.n,e=r.x+r.e,j=r.y+r.n;if((k<r.x||e<u.x)&&(v<r.y||j<u.y))continue;
if(!(v<r.y||j<u.y))$=Math.min(Math.abs(k-r.x),Math.abs(u.x-e));if(!(k<r.x||e<u.x))U=Math.min(Math.abs(v-r.y),Math.abs(u.y-j));
var H=Math.min($,U),z=Math.min(u.e,u.n,r.e,r.n);if(H<.3*z)B.link(q,C)}var f=[],D={};for(var q=0;q<Z.length;
q++){var n=B.find(q),L=Z[q];if(D[n]==null){D[n]=f.length;f.push([])}f[D[n]].push(L)}var a=[],F=[];for(var q=0;
q<f.length;q++){a.push(S(f[q]));var A=S(f[q]);A.$I=q;F.push(A)}F.sort(function(R,G){return Math.max(G.n,G.e)-Math.max(R.n,R.e)});
var Y=new NETXUS.RectanglePacker(T,P);while(!0){var Q=!1;Y.reset(T,P);for(var q=0;q<F.length;q++){var o=Y.findCoords(F[q].e,F[q].n);
if(o){F[q].x=o.x;F[q].y=o.y}else{T=Math.floor(T*1.1);P=Math.floor(P*1.1);Q=!0;break}}if(Q)continue;break}for(var q=0;
q<f.length;q++){var I=F[q],c=I.$I,y=a[c],i=f[c],d=I.x-y.x,V=I.y-y.y;for(var C=0;C<i.length;C++)i[C].offset(d,V)}};
l.Zv=function(){};l.Zv.Uo=Math.floor(16*window.devicePixelRatio);l.Zv.kh={};l.Zv.Qr=0;l.Zv._C=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
l.Zv.aub=["px","in","cm","mm","%"];l.Zv.Vj=function(Z,m,S,B){var C=[1,m,m/2.54,m/25.4,S/100][B];return Z*C};
l.Zv.a7N=function(Z,m,S,B){var C=[1,m,m/2.54,m/25.4,S/100][B];return Z/C};l.Zv.Fn=function(Z,m,S,B,C){var u=S.Zd.Dj,r=[1,m,m/2.54,m/25.4,B/100][u],k=[2,3,2,1,2][u];
Z=Z/r;var v=Math.round(Z),e=u==0&&Math.abs(Z-v)<1e-6?v+"":Z.toFixed(k);if(C)e+=" "+l.Zv.aub[u];return e};
l.Zv.aba=function(Z,m,S,B){var C=S.Zd.Dj,u=[1,m,m/2.54,m/25.4,B/100][C];Z=parseFloat(Z)*u;return Z};
l.Zv.a9O=function(Z,m){var S=Z+","+m;if(l.Zv.kh.clr==S)return;var B=Math.round(l.Zv.Uo*.5);l.Zv.Qr=B;
var C=document.createElement("canvas");C.width=C.height=B;var u=C.getContext("2d");u.font=B*1.5+"px monospace";
var r="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var q=0;q<r.length;q++){u.fillStyle="#"+l.L5(m);u.fillRect(0,0,B,B);
u.fillStyle="#"+l.L5(Z);u.fillText(r[q],0,B);l.Zv.kh[r[q]]=u.getImageData(0,0,B,B).data}l.Zv.kh.clr=S};
l.Zv.amg=function(Z,m,S){var B=0,C=0,u=4*l.Zv.Uo;for(var q=9;q>=0;q--){var r=Math.pow(10,q);if(5*r*Z<=u){B=5*r;
C=10;break}if(2*r*Z<=u){B=2*r;C=4;break}if(1*r*Z<=u){B=1*r;C=10;break}}if(B==0){B=1;C=10}var k=Math.ceil(B*Z),v=l.U(k*l.Zv.Uo*4);
l._z(v,4278190080|S);for(var q=0;q<l.Zv.Uo;q++)l.Zv.Gr(v,4*q*k,m);for(var q=0;q<k;q++)l.Zv.Gr(v,4*((l.Zv.Uo-1)*k+q),m);
if(B==2)C=2;if(B==5)C=5;if(B>1||B==1&&k>20)for(var q=1;q<C;q++)l.Zv.ajh(v,q*(k/C),k,(q&1)==1?.8:.7,m);
return{dk:v,step:B}};l.Zv.ajh=function(Z,m,S,B,C){var m=Math.round(m);for(var u=Math.round(l.Zv.Uo*B);
u<l.Zv.Uo-1;u++)l.Zv.Gr(Z,4*(u*S+m),C)};l.Zv.Gr=function(Z,m,S){Z[m+0]=S>>16&255;Z[m+1]=S>>8&255;Z[m+2]=S&255};
l.Zv.auo=function(Z,m,S,B,C,u,r){var k=Z.ma.e,v=Z.ma.n,e=l.Zv.Uo,j=m&255,$=m>>8&255,U=m>>16&255;m=Math.round(j*.6)<<16|Math.round($*.6)<<8|Math.round(U*.6);
l.Zv.a9O(Math.round(j*.8)<<16|Math.round($*.8)<<8|Math.round(U*.8),S);var H=Z.R,z=Z.r,f=Z.Zo;for(var D=0;
D<2;D++){var n=D==0?u:r;Z.R=n[0];Z.r=n[1];Z.Zo=0;var L=this.amg(Z.R,m,S),a=Z.tr(0,0),F=Z.tr(k,v),A=Math.floor(a.x/L.step)*L.step,T=Math.ceil(F.x/L.step)*L.step,P=Math.floor(a.y/L.step)*L.step,Y=Math.ceil(F.y/L.step)*L.step,Q=Z.o5(A,P),o=Z.o5(T,P),I=L.step*Z.R,c=Math.ceil(I);
if(D==1){var y=L.dk;L.dk=l.U(y.length*4);l.N.O5(y,L.dk,c,e)}var i=D==0?Z.q9.data:Z.DR.data,d=new bq(0,0,[k,e][D],[e,v][D]),V=new bq(0,0,[c,e][D],[e,c][D]),R=new bq([0,Math.round(e*.2)][D],[Math.round(e*.08),0][D],l.Zv.Qr,l.Zv.Qr),G=(D==0?T-A:Y-P)/L.step;
for(var q=0;q<G;q++){if(D==0)V.x=Math.round(Q.x+q*I);else V.y=Math.round(Q.y+q*I);l.pY(L.dk,V,i,d,V);
var M=(D==0?A+q*L.step:Math.abs(P+q*L.step)).toString(10);for(var O=0;O<M.length;O++){if(D==0)R.x=V.x+3+O*Math.round(l.Zv.Qr*.8);
else R.y=V.y+3+O*Math.round(l.Zv.Qr*1.15);var K=l.Zv.kh[M[O]];l.pY(K,R,i,d,R)}}}Z.R=H;Z.r=z;Z.Zo=f;var W=Math.floor(e*.6),t=new Uint32Array(Z.q9.data.buffer),X=new Uint32Array(Z.DR.data.buffer),h=j<128?4278190080:4294967295;
if(0<B&&B<k)for(var q=0;q<W;q++)t[q*k+B]=h;if(0<C&&C<v)for(var q=0;q<W;q++)X[C*e+q]=h};l.scale={};l.scale.O=document.createElement("canvas");
l.scale.az=l.scale.O.getContext("2d");l.scale.Jn=document.createElement("canvas");l.scale.Sn=l.scale.Jn.getContext("2d");
l.scale.DY=function(Z,m,S){var B=l.scale.O,C=l.scale.az;B.width=m;B.height=S;var u=new ImageData(new Uint8ClampedArray(Z.buffer),m,S);
C.putImageData(u,0,0);return C.createPattern(B,"repeat")};l.scale.FL=function(Z,m,S,B,C,u,r,k,v){var e=l.scale.aj$(Z,S,B,C,u,r,k,v).data;
if(m)l.Yx(e,m);return new Uint8Array(e.buffer)};l.scale.aj$=function(Z,m,S,B,C,u,r,k){var v=l.scale.O,e=l.scale.az;
v.width=m;v.height=S;e.rect(0,0,m,S);e.translate(u,r);e.scale(B,C);if(k!=null)e.rotate(-k);e.fillStyle=Z;
e.fill();return e.getImageData(0,0,m,S)};l.scale.A=function(Z,m,S,B,C){var u=S.clone();u.Yy();var r=C.e,k=C.n,v=l.H.ez(m).t;
l.H.A(v,u,v);var e=l.H.pa(v).o9(C),j=e.x,$=e.y,U=j+e.e,H=$+e.n,z=~~m.x,f=~~m.y,D=~~m.e,n=~~m.n;for(var L=$;
L<H;L++)for(var a=j;a<U;a++){var F=a+.5,A=L+.5,T=S.AQ*F+S.mw*A+S.s9-z,P=S.S*F+S.uw*A+S.ku-f;if(0<=T&&0<=P&&T<D&&P<n)B[L*r+a]=Z[~~P*D+~~T]}};
l.scale.vK=function(Z,m,S,B,C){var u=new Uint32Array(Z.buffer),r=new Uint32Array(B.buffer),k=S.clone();
k.Yy();var v=C.e,e=C.n,j=l.H.ez(m).t;l.H.A(j,k,j);var $=l.H.pa(j).o9(C),U=$.x,H=$.y,z=U+$.e,f=H+$.n,D=~~m.x,n=~~m.y,L=~~m.e,a=~~m.n;
for(var F=H;F<f;F++)for(var A=U;A<z;A++){var T=A+.5,P=F+.5,Y=S.AQ*T+S.mw*P+S.s9-D,Q=S.S*T+S.uw*P+S.ku-n;
if(0<=Y&&0<=Q&&Y<L&&Q<a)r[F*v+A]=u[~~Q*L+~~Y]}};l.scale.zN=function(Z,m,S,B,C,u,r){if(r<1)l.scale.aic(Z,m,S,B,C,u,Math.round(1/r));
else l.scale.a4v(Z,m,S,B,C,u,r)};l.scale.$U=function(Z,m,S,B,C,u,r,k){if(k)k=k.o9(new bq(0,0,m,S));Z=new Uint32Array(Z.buffer);
B=new Uint32Array(B.buffer);if(r<1)l.scale.abk(Z,m,S,B,C,u,Math.round(1/r),k);else l.scale.akK(Z,m,S,B,C,u,r)};
l.scale.a4v=function(Z,m,S,B,C,u,r){for(var k=0;k<S;k++)for(var v=0;v<m;v++){var e=Z[k*m+v],j=Math.min(r,C-v*r),$=Math.min(r,u-k*r);
for(var q=0;q<$;q++)for(var U=0;U<j;U++)B[(r*k+q)*C+r*v+U]=e}};l.scale.aic=function(Z,m,S,B,C,u,r){for(var k=0;
k<u;k++)for(var v=0;v<C;v++){var e=0,j=Math.min(r,m-v*r),$=Math.min(r,S-k*r);for(var q=0;q<$;q++)for(var U=0;
U<j;U++)e+=Z[(r*k+q)*m+(r*v+U)];B[k*C+v]=Math.round(e/(j*$))}};l.scale.akK=function(Z,m,S,B,C,u,r){for(var k=0;
k<S;k++)for(var v=0;v<m;v++){var e=Z[k*m+v],j=Math.min(r,C-v*r),$=Math.min(r,u-k*r);for(var q=0;q<$;
q++)for(var U=0;U<j;U++)B[(r*k+q)*C+r*v+U]=e}};l.scale.akv=function(Z,m,S){return(Z>>>S&255)+(m>>>S&255)>>>1};
l.scale.Xh=function(Z,m){var S=l.scale.akv;return S(Z,m,24)<<24|S(Z,m,16)<<16|S(Z,m,8)<<8|S(Z,m,0)};
l.scale.apR=function(Z,m,S,B,C,u){var r=new Uint32Array(Z.buffer),k=new Uint32Array(B.buffer);for(var v=0;
v<S;v++){for(var e=0;e<m;e++){var j=v*m+e,$=r[j],U=$,H=$,z=$;if(e<m-1)U=l.scale.Xh($,r[j+1]);if(v<S-1)H=l.scale.Xh($,r[j+m]);
if(e<m-1&&v<S-1)z=l.scale.Xh($,r[j+m+1]);var f=(v*C+e)*2;k[f]=$;k[f+1]=U;k[f+C]=H;k[f+C+1]=z}}if((C&1)==1)for(var v=0;
v<u;v++)k[v*C+C-1]=k[v*C+C-2];var D=C*(u-1);if((u&1)==1)for(var e=0;e<C;e++)k[D+e]=k[D-C+e]};l.scale.abk=function(Z,m,S,B,C,u,r,k){var v=0,e=C,j=0,$=u;
if(k){v=Math.floor(k.x/r);e=Math.ceil((k.x+k.e)/r);j=Math.floor(k.y/r);$=Math.ceil((k.y+k.n)/r)}for(var U=j;
U<$;U++)for(var H=v;H<e;H++){var z=0,f=0,D=0,n=0,L=Math.min(r,m-H*r),a=Math.min(r,S-U*r);for(var q=0;
q<a;q++)for(var F=0;F<L;F++){var A=Z[(r*U+q)*m+r*H+F],T=A>>>24;z+=T;f+=T*(A>>>16&255);D+=T*(A>>>8&255);
n+=T*(A&255)}if(z!=0){var P=1/z;B[U*C+H]=z/(L*a)<<24|f*P<<16|D*P<<8|n*P}else B[U*C+H]=0}};l.$={};l.$.a4R=function(Z,m,S){var B=128,q=0,C=S.e,u=S.n;
for(var r=0;r<u;r++)for(var k=0;k<C;k++){if(Z[q]>=B&&(k==0||Z[q-1]<B||(k==C-1||Z[q+1]<B)||(r==0||Z[q-C]<B)||(r==u-1||Z[q+C]<B)))m[q]=255;
q++}};l.$.a4c=function(Z,m,S,B){var C=new Uint32Array([4278190080,4294967295]),u=S.e,r=S.n,k=0,v=0,e=u,j=r;
if(B){k=B.x-S.x;v=B.y-S.y;e=k+B.e;j=v+B.n}var $=new Uint8Array(m.buffer),U=new Uint32Array(m.buffer);
for(var H=v;H<j;H++)for(var z=k;z<e;z++){var q=H*u+z;if((Z[q]&128)!=0&&(H==0||(Z[q-u]&128)==0||z==0||(Z[q-1]&128)==0||z==u-1||(Z[q+1]&128)==0||H==r-1||(Z[q+u]&128)==0)){U[q]=C[(z+H&4)>>>2]}}};
l.$.ajc=function(Z,m,S,B,C,u){var r=S.e,k=S.n,v=0,e=0,j=r,$=k;if(B){v=B.x-S.x;e=B.y-S.y;j=v+B.e;$=e+B.n}var U=new Uint8Array(m.buffer),H=new Uint32Array(m.buffer);
for(var z=e;z<$;z++)for(var f=v;f<j;f++){var q=z*r+f,D=Z[q];if(C==1)H[q]=255-D>>>1<<24|255;else H[q]=255<<24|(D<<16|D<<8|D)}};
l.aS={};l.aS.BV=function(Z,m,S){var B,C;if(S==0){B=Z.rect.clone();C=l.aS.apA}if(S==1){B=Z.rect.j3(m.rect);
C=l.aS.j3}if(S==2){B=m.rect.clone();C=l.aS.a8y}if(S==3){B=Z.rect.o9(m.rect);C=l.aS.o9}if(S==4){B=Z.rect.j3(m.rect);
C=l.aS.a51}if(B.Ov())return null;var u=l.U(B.Z());l.Ju(m.channel,m.rect,u,B);var r=l.U(B.Z());l.Ju(Z.channel,Z.rect,r,B);
C(r,u,u);var k=l.cg(u,B);if(k.Ov())return null;if(!k.Qu(B)){var v=l.U(k.Z());l.Ju(u,B,v,k);u=v;B=k}return{channel:u,rect:B}};
l.aS.apA=function(Z,m,S){for(var q=0;q<Z.length;q++)S[q]=Z[q]};l.aS.j3=function(Z,m,S){for(var q=0;q<Z.length;
q++)S[q]=Math.min(Z[q]+m[q],255)};l.aS.a8y=function(Z,m,S){for(var q=0;q<Z.length;q++)S[q]=Math.max(m[q]-Z[q],0)};
l.aS.o9=function(Z,m,S){var B=1/255;for(var q=0;q<Z.length;q++)S[q]=Z[q]*m[q]*B};l.aS.a51=function(Z,m,S){var B=1/255;
for(var q=0;q<Z.length;q++)S[q]=Math.min(Z[q]+m[q],255)-Z[q]*m[q]*B};l.jg=function(Z,m){this.B=[];this.m0=[0];
this.Oh=[];this.Rd=[];this.PB=[0];this.U9=[];this.Kh=[];this.rows=Z;this.cols=m};l.jg.prototype.clone=function(){var Z=this,m=Z.rows,S=Z.cols,B=new l.jg(m,S);
B.B=Z.B.slice(0);B.m0=Z.m0.slice(0);B.Oh=Z.Oh.slice(0);B.Rd=Z.Rd.slice(0);B.PB=Z.PB.slice(0);B.U9=Z.U9.slice(0);
B.Kh=Z.Kh.slice(0);return B};l.jg.prototype.La=function(Z,m,S){var B=this.m0.length-1;for(var q=0;q<S;
q++){var C=Z[q],u=m[q];this.B.push(C);this.Oh.push(u);if(u==B){this.Kh.push(C==0?0:1/C)}else{this.Rd.push(C);
this.U9.push(u)}}this.m0.push(this.B.length);this.PB.push(this.Rd.length)};l.jg.prototype.E8=function(Z,m){var S=this,B=S.rows,C=S.B,u=S.Oh;
if(m==null)m=new Array(B);for(var q=0;q<B;q++){var r=S.m0[q],k=S.m0[q+1],v=0;while((k-r&3)!=0){v+=C[r]*Z[u[r]];
r++}for(var e=r;e<k;e+=4)v+=C[e]*Z[u[e]]+C[e+1]*Z[u[e+1]]+C[e+2]*Z[u[e+2]]+C[e+3]*Z[u[e+3]];m[q]=v}return m};
l.jg.prototype.multiply=function(Z){return this.vW(Z.O5())};l.jg.prototype.vW=function(Z){var m=this,S=m.rows,B=m.cols,C=Z.rows,u=new l.jg(S,C),r=m.Oh,k=Z.Oh;
for(var q=0;q<S;q++){var v=[],e=[],j=m.m0[q],$=m.m0[q+1];for(var U=0;U<C;U++){var H=Z.m0[U],z=Z.m0[U+1],f=0,D=j,n=H;
while(D<$&&n<z){var L=Math.max(r[D],k[n]);while(D<$&&r[D]<L)D++;while(n<z&&k[n]<L)n++;if(D<$&&n<z&&r[D]==k[n])f+=m.B[D++]*Z.B[n++]}if(f!=0){v.push(f);
e.push(U)}}u.La(v,e,v.length)}return u};l.jg.prototype.O5=function(){var Z=this.rows,m=this.cols,S=[];
for(var q=0;q<m;q++)S.push([[],[]]);var B=this.B,C=this.m0,u=this.Oh;for(var q=0;q<Z;q++){var r=C[q],k=C[q+1];
for(var v=r;v<k;v++){var e=S[u[v]];e[0].push(B[v]);e[1].push(q)}}var j=new l.jg(m,Z);for(var q=0;q<m;
q++)j.La(S[q][0],S[q][1],S[q][1].length);return j};l.jg.prototype.fH=function(){var Z=this.rows,m=this.cols,S=new Array(Z),B=this.B,C=this.m0,u=this.Oh;
for(var q=0;q<Z;q++){var r=S[q]=new Array(m);for(var k=0;k<m;k++)r[k]=0;var v=C[q],e=C[q+1];for(var j=v;
j<e;j++)r[u[j]]=B[j]}return S};l.jg.prototype.mr=function(Z,m,S,B,C){function u(P,m,Y,Q){var o=P.length;
for(var q=0;q<o;q++)Q[q]=P[q]-m[q]*Y}function r(P,m,Y,Q){var o=P.length,I=0;while((o-I&3)!=0){Q[I]=P[I]+m[I]*Y;
I++}for(var q=I;q<o;q+=4){Q[q]=P[q]+m[q]*Y;Q[q+1]=P[q+1]+m[q+1]*Y;Q[q+2]=P[q+2]+m[q+2]*Y;Q[q+3]=P[q+3]+m[q+3]*Y}}function k(P,m,Y){var Q=P.length;
for(var q=0;q<Q;q++)Y[q]=P[q]*m[q]}function v(P,m){var Y=P.length,Q=0,o=0;while((Y-Q&3)!=0){o+=P[Q]*m[Q];
Q++}for(var q=Q;q<Y;q+=4)o+=P[q]*m[q]+P[q+1]*m[q+1]+P[q+2]*m[q+2]+P[q+3]*m[q+3];return o}var e=B!=null?2:1,j=Date.now(),$=0,U=this,H=Z.slice(0),z=Z.slice(0);
U.E8(Z,z);u(m,z,1,H);var f=this.Kh;if(e==0){f=H.slice(0);f.fill(1)}var D=H.slice(0);k(f,H,D);var n=D.slice(0),L=v(H,D);
while(!0){U.E8(n,z);var a=L/v(n,z);r(Z,n,a,Z);u(H,z,a,H);if(($&7)==0&&Math.sqrt(v(H,H))<S)break;if(e<=1)k(f,H,D);
else{var F=H.slice(0);B.ah2(F,H);C.amL(D,F)}var A=v(H,D),T=A/L;r(D,n,T,n);L=A;$++}};l.jg.prototype.a9H=function(Z,m,S,B){var C=Date.now(),u=1.96,k=0;
if(S==null)S=5e-6;if(B==null)B=1e9;var r=1-u,gY=this.rows,v=this.Rd,e=this.PB,j=this.U9,$=this.Kh;while(!0){var U=0;
for(var q=0;q<gY;q++){var H=m[q],z=e[q],f=e[q+1];if(f-z==4)H-=v[z]*Z[j[z]]+v[z+1]*Z[j[z+1]]+v[z+2]*Z[j[z+2]]+v[z+3]*Z[j[z+3]];
else for(var D=z;D<f;D++)H-=v[D]*Z[j[D]];var n=Z[q]*r+$[q]*H*u,L=n-Z[q];U+=L*L;Z[q]=n}if(U/gY<S||Date.now()>C+B)break}};
l.jg.prototype.aeD=function(Z,m,S,B){var C=Date.now(),u=1.96,k=0;if(S==null)S=5e-5;if(B==null)B=1e9;
var r=1-u,gY=this.rows,v=this.Rd,e=this.PB,j=this.U9,$=this.Kh;while(!0){var U=0;for(var q=0;q<gY;q++){var H=q*3,z=m[H],f=m[H+1],D=m[H+2],n=e[q],L=e[q+1];
for(var a=n;a<L;a++){var F=v[a],A=j[a]*3;z-=F*Z[A+0];f-=F*Z[A+1];D-=F*Z[A+2]}var T=$[q]*u,P=Z[H+0]*r+z*T,Y=Z[H+1]*r+f*T,Q=Z[H+2]*r+D*T,o=P-Z[H+0],I=Y-Z[H+1],c=Q-Z[H+2];
U+=.4*o*o+.5*I*I+.1*c*c;Z[H+0]=P;Z[H+1]=Y;Z[H+2]=Q}if(U/gY<S||Date.now()>C+B)break}};l.dL={};l.dL.f2=function(Z,m,S){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:Z},Vrtc:{t:"doub",v:m},Cnty:{t:"bool",v:S}}}};
l.dL.A=function(Z,m){for(var q=0;q<Z.length;q++){var S=Z[q].v,B=m.xf(new aS(S.Hrzn.v,S.Vrtc.v));S.Hrzn.v=Math.round(B.x);
S.Vrtc.v=Math.round(B.y)}};l.dL.Ct=function(Z,m,S){var gY=Z.length-1,B=l.TZ.MA(gY+1,gY+2);for(var q=1;
q<gY;q++){B[q][q-1]=1/(Z[q]-Z[q-1]);B[q][q]=2*(1/(Z[q]-Z[q-1])+1/(Z[q+1]-Z[q]));B[q][q+1]=1/(Z[q+1]-Z[q]);
B[q][gY+1]=3*((m[q]-m[q-1])/((Z[q]-Z[q-1])*(Z[q]-Z[q-1]))+(m[q+1]-m[q])/((Z[q+1]-Z[q])*(Z[q+1]-Z[q])))}B[0][0]=2/(Z[1]-Z[0]);
B[0][1]=1/(Z[1]-Z[0]);B[0][gY+1]=3*(m[1]-m[0])/((Z[1]-Z[0])*(Z[1]-Z[0]));B[gY][gY-1]=1/(Z[gY]-Z[gY-1]);
B[gY][gY]=2/(Z[gY]-Z[gY-1]);B[gY][gY+1]=3*(m[gY]-m[gY-1])/((Z[gY]-Z[gY-1])*(Z[gY]-Z[gY-1]));l.TZ.rt(B,S)};
l.dL.a7j=function(Z,m,S,B){if(Z<=m[0])return S[0];if(Z>=m[m.length-1])return S[m.length-1];var q=1;while(m[q]<Z)q++;
var C=m[q],u=m[q-1],r=S[q],k=S[q-1],v=(Z-u)/(C-u),e=B[q-1]*(C-u)-(r-k),j=-B[q]*(C-u)+(r-k),$=(1-v)*k+v*r+v*(1-v)*(e*(1-v)+j*v);
return $};l.dL.h8=function(Z,m,S,B){var C={DX:[Z[0]],Bf:[m[0]],Ld:[]};B[0]=C;for(var q=1;q<Z.length-1;
q++){C.DX.push(Z[q]);C.Bf.push(m[q]);if(S[q]==!1){l.dL.Ct(C.DX,C.Bf,C.Ld);C={DX:[Z[q]],Bf:[m[q]],Ld:[]}}B[q]=C}C.DX.push(Z[q]);
C.Bf.push(m[q]);l.dL.Ct(C.DX,C.Bf,C.Ld);B[q]=C};l.dL.aK=function(Z,m,S,B){if(Z<=m[0])return S[0];if(Z>=m[m.length-1])return S[m.length-1];
var q=1;while(m[q]<Z)q++;var C=B[q-1];return l.dL.a7j(Z,C.DX,C.Bf,C.Ld)};l.dL.QC=function(Z){var m={DX:[],Bf:[],YV:[]};
for(var q=0;q<Z.length;q++){m.DX[q]=Z[q].v.Hrzn.v;m.Bf[q]=Z[q].v.Vrtc.v;m.YV[q]=Z[q].v.Cnty?Z[q].v.Cnty.v:!0}return m};
l.dL.UG=function(Z,gY,m){var S=0,B=255;if(m){S=-1e9;B=1e9}var C=l.dL.QC(Z),u=[];l.dL.h8(C.DX,C.Bf,C.YV,u);
var r=[];for(var q=0;q<gY;q++)r[q]=1/255*Math.max(S,Math.min(B,l.dL.aK(q*(255/(gY-1)),C.DX,C.Bf,u)));
return r};l.dL.a5R=function(Z,gY,m){var S=Math.round(Z.length/20),B=gY-Z.length,C=m?(Z[S]-Z[0])/S:0,u=m?Z[0]-B*C:Z[Z.length-1],r=[];
for(var q=0;q<B;q++)r.push(u+q*C);return m?r.concat(Z):Z.concat(r)};l.dL.fM=function(Z,gY,m){var S=l.dL.QC(Z),B=[];
l.dL.h8(S.DX,S.Bf,S.YV,B);var C=new Uint8Array(gY),u=gY/256;for(var q=0;q<gY;q++)C[q]=Math.max(0,Math.min(gY-1,l.dL.aK(q*u,S.DX,S.Bf,B)));
if(m){C[0]=0;if(C[1]>100)C[1]=.4*C[1];if(C[2]>150)C[1]=.7*C[2]}return C};l.dL.KB=function(Z,m){var S=new Uint8Array(Z.length);
for(var q=0;q<Z.length;q++)S[q]=m[Z[q]];return S};l.dL.bW=function(Z,m,S){var B=document.createElement("canvas");
B.width=m;B.height=S;var C=B.getContext("2d"),u=l.dL.fM(Z,256);C.scale(m/255,S/255);C.fillStyle="#fff";
C.fillRect(0,0,255,255);C.fillStyle="#333";C.beginPath();C.moveTo(0,255);for(var q=0;q<u.length;q++)C.lineTo(q,255-u[q]);
C.lineTo(255,255);C.closePath();C.fill();return B.toDataURL()};l.style={};l.style.stroke=function(Z,m,S,B){var C=S.e,u=S.n,r=new Float64Array(C*u);
l.style.w_(Z,r,C,u);l.style.bU(m,S,r,S,B)};l.style.bU=function(Z,m,S,B,C){var u=m.o9(B),r=u.e,k=u.n;
C+=.5;var v=u.x-m.x,e=u.y-m.y,j=m.e,$=u.x-B.x,U=u.y-B.y,H=B.e;for(var z=0;z<k;z++){var f=(z+U)*H+$,D=(z+e)*j+v;
for(var n=0;n<r;n++){var L=Math.max(0,Math.min(1,C-S[f+n]));Z[D+n]=Math.round(L*255)}}};l.style.a1J=function(Z,m,S,B){for(var C=0;
C<S;C++)for(var u=0;u<m;u++){var r=C*m+u,k=0,v=0,e=Z[r];if(u==0||C==0){k=Z[r+1]-e;v=Z[r+m]-e}else if(u==S-1||C==m-1){k=e-Z[r-1];
v=e-Z[r-m]}else{k=Z[r+1]-Z[r-1];v=Z[r+m]-Z[r-m]}if(k!=0||v!=0){var j=1/Math.sqrt(k*k+v*v);k*=j;v*=j}B[r+r]=k;
B[r+r+1]=v}};l.style.w_=function(Z,m,S,B){var C=0,u=S*B;for(var q=0;q<u;q++)C|=Z[q];if(C==0){m.fill(1e9);
return}var r=l.style.ax(Z,S,B);for(var k=0;k<B;k++)for(var v=0;v<S;v++){var q=k*S+v,e=r[q*2],j=r[q*2+1],$=(k+j)*S+v+e;
if(e==0&&j==0){m[q]=0;continue}var U=Math.sqrt(e*e+j*j),H=Z[$]*(1/255),z=1/U,f=Math.abs(e)*z,D=Math.abs(j)*z;
if(D>f){var n=D;D=f;f=n}m[q]=U+l.style.akJ(f,D,H)}};l.style.akJ=function(Z,m,S){return(.5-S)*Z};l.style.ax=function(Z,m,S,B){var C=new Int16Array(m*S*2);
l.style.adx(Z,C,m,S,128);return C};l.style.adx=function(Z,m,S,B,C){var u=new Int32Array(S*B);l.style.apx(Z,u,S,B,C);
l.style.adn(u,m,S,B)};l.style.apx=function(Z,m,S,B,C){var u=new Int32Array(B);for(var r=0;r<S;r++){var k=S+B;
for(var v=B-1;v>=0;v--){if(Z[v*S+r]>C)k=0;else k++;u[v]=k}k=S+B;for(var v=0;v<B;v++){if(Z[v*S+r]>C)k=0;
else k++;m[v*S+r]=k<u[v]?-k:u[v]}}};l.style.adn=function(Z,m,S,B){var C=(S+B)*(S+B),u=new Float64Array(S),r=new Uint16Array(S);
for(var k=0;k<B;k++){var v=k*S,e=0;r[0]=0;u[0]=-C;u[1]=+C;for(var j=1;j<S;j++){var $=Z[j+v]*Z[j+v]+j*j,U=($-(Z[r[e]+v]*Z[r[e]+v]+r[e]*r[e]))/(2*j-2*r[e]);
while(U<=u[e]){e--;U=($-(Z[r[e]+v]*Z[r[e]+v]+r[e]*r[e]))/(2*j-2*r[e])}e++;r[e]=j;u[e]=U;u[e+1]=C}e=0;
for(var j=0;j<S;j++){while(u[e+1]<j)e++;var H=r[e]-j,z=Z[r[e]+v],q=k*S+j<<1;m[q]=H;m[q+1]=z}}};l.style.pl=function(Z,m,S){if(S)for(var q=0;
q<Z.length;q++){var B=Z[q];if(B>0)Z[q]=Math.max(0,Math.min(255,B+m*2*(l.style.ju(q)-128)))}else for(var q=0;
q<Z.length;q++){var B=Z[q];if(B>0)Z[q]=Math.max(0,Math.min(255,B+Math.min(B*3,m*2*(l.style.ju(q)-128))))}};
l.style.ju=function(Z){Z=Z^61^Z>>16;Z=Z+(Z<<3);Z=Z^Z>>4;Z=Z*668265261;Z=Z^Z>>15;return Z&255};l.ny={};
l.ny.s4=function(Z,m,S){var B=Z.canvas;if(B.width!=m||B.height!=S){B.width=m;B.height=S}};l.ny.Aa=function(Z,m,S,B,C,u){l.ny.s4(Z,m,S);
if(u==null)u=!1;var r=C.channel,k=C.rect,v=!C.isEnabled;if(m*S==0)return;var e=Z.createImageData(m,S),j=e.data,$=1/m,U=1/S;
for(var q=0;q<S;q++)for(var H=0;H<m;H++){var z=q*m+H,f=z*4,D=Math.round(B.x+H*$*B.e),n=Math.round(B.y+q*U*B.n),L=0;
if(D<k.x||D>=k.x+k.e||n<k.y||n>=k.y+k.n)L=C.color;else L=r[(n-k.y)*k.e+(D-k.x)];L=255*(255-C.h2)+L*C.h2>>>8;
if(u)L=170+Math.round(.4*(L-170));j[f]=L;j[f+1]=L;j[f+2]=L;j[f+3]=255}Z.putImageData(e,0,0);if(v)l.ny.ye(Z,m,S)};
l.ny.$n=[];l.ny.aoc=function(Z,m,S,B){var C,u,r;C=Math.ceil(Math.max(m,S)*.35);u=m-C;r=S-C;var k=l.ny.$n[C];
if(k==null){var v=l.Df(C,C);v.fillStyle="#eeeeee";v.fillRect(0,0,C,C);var e=Math.round(C*.27),j=v.lineWidth=Math.max(1,Math.round(C*.12)),$=j/2;
v.strokeRect(1+$,1+$,C-j-2,C-j-2);v.strokeRect(e+$,e+$,C-e-e-j,C-e-e-j);k=l.ny.$n[C]=v.getImageData(0,0,C,C)}Z.putImageData(k,u,r)};
l.ny.pA=[];l.ny.a3P=function(Z,m,S){var B,C,u;B=Math.ceil(Math.max(m,S)*.35);C=m-B;u=S-B;var r=l.ny.pA[B];
if(r==null){var k=l.Df(B,B);k.fillStyle="#eeeeee";k.fillRect(0,0,B,B);k.lineWidth=1;k.strokeRect(2.5,2.5,B-5,B-5);
var v=k.createImageData(3,3);l._z(v.data,4278190080);v.data[4*4]=v.data[4*4+1]=v.data[4*4+2]=238;k.putImageData(v,1,1);
k.putImageData(v,B-4,1);k.putImageData(v,1,B-4);k.putImageData(v,B-4,B-4);r=l.ny.pA[B]=k.getImageData(0,0,B,B)}Z.putImageData(r,C,u)};
l.ny.a7a=function(Z,m,S,B,C){l.ny.s4(Z,m,S);var u=m/B.e;if(m*S==0)return;Z.fillStyle="#999999";Z.setTransform(1,0,0,1,0,0);
Z.clearRect(0,0,m,S);var r=l.ny.Tu;if(r==null){r=l.ny.Tu=JSON.parse(JSON.stringify(fp.Rw.default));r.strokeEnabled.v=!0}r.strokeStyleLineWidth.v.val=1/u;
Z.fillStyle="#ffffff";Z.scale(u,u);l.q.re(C.u,Z,0,0);l.q.re(C.u,Z,0,0,r)};l.ny.zl=null;l.ny.Tc=function(Z,m,S,B,C,u,r,k){l.ny.s4(Z,m,S);
if(m*S==0)return;var v=Math.max(m,S),e=l.ny.zl;if(e==null||e.width<v||e.height<v){l.ny.zl=e=Z.createImageData(v,v)}v=e.width;
var j=e.data,$=B.e/m,U=B.n/S,H=u.x,z=u.x+u.e,f=u.y,D=u.y+u.n;for(var q=0;q<S;q++)for(var n=0;n<m;n++){var L=q*v+n,a=L*4,F=~~(B.x+n*$),A=~~(B.y+q*U),T=l.tM(q,n,2);
if(F<H||F>=z||A<f||A>=D){j[a]=T;j[a+1]=T;j[a+2]=T;j[a+3]=255}else{var P=(A-u.y)*u.e+(F-u.x)<<2,Y=C[P+3]*(1/255);
j[a]=C[P+0]*Y+T*(1-Y);j[a+1]=C[P+1]*Y+T*(1-Y);j[a+2]=C[P+2]*Y+T*(1-Y);j[a+3]=255}}if(k!=null)for(var q=0;
q<j.length;q+=4)j[q]=j[q+1]=j[q+2]=j[q+k];Z.putImageData(e,0,0);if(r)l.ny.ye(Z,m,S)};l.ny.a3V=function(Z,m,S,B){l.ny.s4(Z,m,S);
Z.fillStyle=l.ny.gN(B.Clr.v);Z.fillRect(0,0,m,S);l.ny.v2(Z,m,S)};l.ny._U=null;l.ny.a7u=function(Z,m,S,B){l.ny.s4(Z,m,S);
var C=Z.canvas.width,u=Z.canvas.height,r=l.ny._U;if(r==null||r.width!=C||r.height!=u){Z.fillStyle="#ffffff";
Z.fillRect(0,0,m,S);Z.fillStyle="#000000";Z.font=""+S*.7+"px serif";Z.fillText("T",(m-S*.43)/2,S*.75);
Z.fillText("T",(m-S*.43)/2,S*.75);l.ny._U=Z.getImageData(0,0,C,u)}else Z.putImageData(r,0,0)};l.ny.aag=function(Z,m,S){l.ny.s4(Z,m,S);
Z.clearRect(0,0,m,S);Z.font=S*.7+"px serif";Z.fillText(":(",(m-S*.43)/2,S*.7)};l.ny.a2o=function(Z,m,S,B){l.ny.s4(Z,m,S);
var C=e$.get(B),u=Z.canvas.width,r=l.ny.fW[u+C];if(r==null){var k=PIMG["adj/"+C],v=e2.DS(k),e=UPNG.decode(v.buffer),j=new Uint8Array(UPNG.toRGBA8(e)[0]),$=new bq(0,0,160,160),U=0,H=u-U*2,z=g.Q.zr([j,$],new ht(H/160,0,0,H/160,0,0)),f=new bq(0,0,u,u),D=l.U(f.Z()*4);
l.a.qn("norm",z.buffer,z.rect,D,f,z.rect,1);r=l.ny.fW[u+C]=new ImageData(new Uint8ClampedArray(D.buffer),u,u)}Z.putImageData(r,0,0)};
l.ny.fW={};l.ny.atJ=function(Z,m,S,B){l.ny.s4(Z,m,S);var C=Z.canvas.width,u=Z.canvas.height,r=Z.getImageData(0,0,C,u);
l.X.pp(B.Grad.v,new Uint8Array(r.data.buffer),new bq(0,0,C,u),[1/C,0,0,1/u],C/2,u/2,!1,0,16711680,65280);
Z.putImageData(r,0,0);l.ny.v2(Z,m,S)};l.ny.ab7=function(Z,m,S,B,C){l.ny.s4(Z,m,S);var u=Z,r=aK.Vr(B.Ptrn.v,C.add.Patt);
if(r==null)return;var k=r.Pg[1];l.ny.Tc(Z,m,S,k,r.Pg[0],k,!1);l.ny.v2(u,m,S)};l.ny.ye=function(Z,m,S){Z.strokeStyle="#bb0000";
Z.lineWidth=3;Z.beginPath();Z.moveTo(m*.15,S*.15);Z.lineTo(m*.85,S*.85);Z.moveTo(m*.85,S*.15);Z.lineTo(m*.15,S*.85);
Z.closePath();Z.stroke()};l.ny.v2=function(Z,m,S){Z.fillStyle="#eeeeee";Z.fillRect(0,S*.75,m,S*.25);
Z.beginPath();Z.moveTo(0,S*.75);Z.lineTo(m,S*.75);Z.moveTo(m*.1,S*.875);Z.lineTo(m*.9,S*.875);Z.moveTo(m*.65,S*.825);
Z.lineTo(m*.65,S*.95);Z.closePath();Z.stroke()};l.ny.gN=function(Z){var m=l.X.gN(Z),S=Math.round(m.I)<<16|Math.round(m.z)<<8|Math.round(m.S);
return"#"+l.L5(S)};l.q={};l.q.V2=function(Z,m,S){var B=[],C=-1;for(var q=0;q<Z.length;q++){var u=Z[q];
if((u.type==0||u.type==3)&&u.QZ!=-1)C++;if(u.type>5||u.type==0||u.type==3)continue;if(m!=null&&m.indexOf(C)==-1)continue;
if(S!=null&&S.indexOf(q)==-1)continue;B.push(u.H0.x);B.push(u.H0.y);B.push(u.M.x);B.push(u.M.y);B.push(u.XX.x);
B.push(u.XX.y)}return B};l.q.V3=function(Z,m,S,B){var C=0,u=-1;for(var q=0;q<m.length;q++){var r=m[q];
if((r.type==0||r.type==3)&&r.QZ!=-1)u++;if(r.type>5||r.type==0||r.type==3)continue;if(S!=null&&S.indexOf(u)==-1)continue;
if(B!=null&&B.indexOf(q)==-1)continue;r.H0.r8(Z[C],Z[C+1]);r.M.r8(Z[C+2],Z[C+3]);r.XX.r8(Z[C+4],Z[C+5]);
C+=6}};l.q.uA=function(Z,m,S,B){var C=l.q.V2(Z,S,B);l.H.A(C,m,C);l.q.V3(C,Z,S,B)};l.q.ag6=function(Z,m,S,B){var C=l.q.V2(Z,S,B);
l.N.A(m,C);l.q.V3(C,Z,S,B)};l.q.ajL=function(Z,m,S,B){if(S==null&&B==null){var C=l.q.arO(Z,40);for(var q=0;
q<C.length;q++)Z[q]=C[q]}var u=l.q.V2(Z,S,B);l.oI.A(m,u,l.H.su(u));l.q.V3(u,Z,S,B)};l.q.arO=function(Z,m){var S=[];
for(var q=0;q<Z.length;q++){var B=Z[q];if(B.type>5){S.push(JSON.parse(JSON.stringify(B)));continue}var C=l.q.ale(Z,q+1,B.length);
C=l.H.QL(C,m);var u=l.q.apl(C);q+=B.length;B=JSON.parse(JSON.stringify(B));B.length=u.length;S.push(B);
for(var r=0;r<u.length;r++)S.push(u[r])}return S};l.q.ale=function(Z,m,S){var B={C:["M"],t:[]},C=Z[m],u=Z[m+S-1];
B.t.push(C.M.x,C.M.y);for(var q=1;q<S;q++){var r=Z[m+q-1],k=Z[m+q];B.C.push("C");B.t.push(r.XX.x,r.XX.y,k.H0.x,k.H0.y,k.M.x,k.M.y)}B.C.push("C");
B.t.push(u.XX.x,u.XX.y,C.H0.x,C.H0.y,C.M.x,C.M.y);return B};l.q.apl=function(Z){var m=[],S=Z.C,B=Z.t,C=0,gY=B.length;
m.push({type:2,H0:new aS(B[gY-4],B[gY-3]),M:new aS(B[0],B[1]),XX:new aS(B[2],B[3])});for(var q=0;q<S.length-2;
q++){var u=q*6+4;m.push({type:2,H0:new aS(B[u],B[u+1]),M:new aS(B[u+2],B[u+3]),XX:new aS(B[u+4],B[u+5])})}return m};
l.q.a98=function(Z){for(var q=0;q<Z.length;q++){if(Z[q].type>5)continue;var m=Z[q].length;if(!(m==4||m==6||m==8)){q+=m;
continue}for(var S=0;S<m;S++){var B=Z[q+1+S],C=Z[q+1+(S+1)%m],u=Math.min(B.M.x,C.M.x),r=Math.min(B.M.y,C.M.y),k=0,v=0;
if(B.M.x<C.M.x){k=B.M.y-r;v=k-(C.M.x-u)}else{k=C.M.y-r;v=k-(B.M.x-u)}if(Math.abs(v)<.2*k)return k}}return-1};
l.q.Go=function(Z,m,S){function B(U,H){var z=Math.min(U.x,H.x),f=Math.min(U.y,H.y),D=Math.max(U.x+U.e,H.x+H.e),n=Math.max(U.y+U.n,H.y+H.n);
return new bq(z,f,D-z,n-f)}var C=null,u=-1,r=!l.q.nh(Z);for(var q=0;q<Z.length;q++){var k=Z[q];if(k.type>5)continue;
if((k.type==0||k.type==3)&&k.QZ!=-1)u++;if(m!=null&&m.indexOf(u)==-1)continue;if(q==Z.length-1)break;
var v=k.type==3,e=k.length,j=k.QZ,$=l.q.a3F(Z,q+1,e,v);if(C==null)C=$;else if(S)C=B(C,$);else if(r){if(m!=null||j==0||j==-1||j==2)C=B(C,$);
else if(j==1)C=C;else if(j==3){C=$;r=!1}}else{if(m!=null||j==0||j==-1||j==1)C=B(C,$);else if(j==2)C=C;
else if(j==3)C=C.o9($)}q+=e}if(C==null||C.e<0||C.n<0)C=new bq(0,0,0,0);return C};l.q.ait=new Float64Array(4);
l.q.a3F=function(Z,q,m,S){var B=l.q.ait;B[0]=1e30;B[1]=1e30;B[2]=-1e30;B[3]=-1e30;var C=Z[q+m-1];if(!S)l.q.CT(C.M.x,C.M.y,C.XX.x,C.XX.y,Z[q].H0.x,Z[q].H0.y,Z[q].M.x,Z[q].M.y,B);
for(var u=q;u<q+m-1;u++){var r=Z[u],k=Z[u+1];l.q.CT(r.M.x,r.M.y,r.XX.x,r.XX.y,k.H0.x,k.H0.y,k.M.x,k.M.y,B)}return new bq(B[0],B[1],B[2]-B[0],B[3]-B[1])};
l.q.CT=function(Z,m,S,B,C,u,r,k,v){if(Z==S&&m==B&&C==r&&u==k){v[0]=Math.min(v[0],Math.min(Z,r));v[1]=Math.min(v[1],Math.min(m,k));
v[2]=Math.max(v[2],Math.max(Z,r));v[3]=Math.max(v[3],Math.max(m,k));return}var e=Z,j=m,$=Z,U=m,H=40,z=1/(H-1);
for(var f=0;f<H;f++){var D=f*z,n=1-D,L=n*n*n,a=3*n*n*D,F=3*n*D*D,A=D*D*D,T=L*Z+a*S+F*C+A*r,P=L*m+a*B+F*u+A*k;
if(T<e)e=T;else if(T>$)$=T;if(P<j)j=P;else if(P>U)U=P}if(e<v[0])v[0]=e;if(j<v[1])v[1]=j;if($>v[2])v[2]=$;
if(U>v[3])v[3]=U};l.q.P1=function(Z,m){var S=Z.length-3,B=m%S,C=Math.floor(B);if(m<0||C>=S)return null;
var u=Z[3+C],r=Z[3+(C+1)%S],k=u.M,v=u.XX,e=r.H0,j=r.M,$=B-C,U=1-$,H=U*U*U*k.x+3*U*U*$*v.x+3*U*$*$*e.x+$*$*$*j.x,z=U*U*U*k.y+3*U*U*$*v.y+3*U*$*$*e.y+$*$*$*j.y;
return new aS(H,z)};l.q.y3=function(Z){var m=l.H.Zf(Z),S=m.Wk;m.Wk=Typr.U.pathToSVG({crds:S.t,cmds:S.C},2);
return m};l.q.eO=function(Z){l.q.P2();var m,S=l.q.l0(Z),B=[];for(var q=0;q<S.length;q++){var C=S[q][0],u=S[q][1];
if(Math.abs(C.area)<1e-5)B.push(C);else if(m==null)m=C;else{if(!C.closed)C.closed=!0;m=m[u](C);m.remove()}}if(m==null)m=new paper.CompoundPath(B);
else{if(m.segments)m=new paper.CompoundPath(m);for(var q=0;q<B.length;q++){m.addChild(B[q])}}var r=Z.slice(0,2);
r=r.concat(l.q.FA(m));if(r[2])r[2].QZ=1;for(var q=3;q<r.length;q++)if(r[q].QZ!=null)r[q].QZ=-1;return r};
l.q.P2=function(){if(l.q.a5B==null){var Z=document.createElement("canvas");paper.setup(Z);l.q.a5B=!0}};
l.q.akz=function(Z,m){l.q.P2();var S=[],B=l.q.l0(Z),C=new paper.Path.Rectangle(new paper.Rectangle(m.x,m.y,m.e,m.n));
C.remove();C.fillColor=new paper.Color(1,0,0);for(var q=0;q<B.length;q++){if(C.intersects(B[q][0])||C.contains(B[q][0].children[0].segments[0].point))S.push(q)}return S};
l.q.vS=function(Z,m,S,B){l.q.P2();var C=S?{curves:!0,tolerance:B}:null,u=new paper.Point(m.x,m.y),r=l.q.l0(Z);
for(var q=r.length-1;q>=0;q--){var k=r[q][0],v=k.hitTest(u,C);if(v!=null)return{lU:q,Np:S?v.location.index:null}}return{lU:-1}};
l.q.jQ=function(Z,m,S){var B=[[],[],[]];for(var q=0;q<Z.length;q++){var C=Z[q];if(C.type>5||C.type==0||C.type==3)continue;
var u=S==null?!0:S.indexOf(q)!=-1;if(m.hV(C.M))B[0].push(q);if(m.hV(C.H0)&&u)B[1].push(q);if(m.hV(C.XX)&&u)B[2].push(q)}return B};
l.q.adG=function(Z,m,S){var B=S.slice(0),C=[null,null],u=-1,k=null;for(var q=2;q<Z.length;q++){if((Z[q].type==0||Z[q].type==3)&&Z[q].QZ!=-1)u++;
C[q]=S[u]}S=C;var r=Z.slice(0,2);C=S.slice(0,2);for(var q=2;q<Z.length;q++){if(Z[q].type==0||Z[q].type==3){k=Z[q];
r.push(k);C.push(S[q])}else{if(m.indexOf(q)==-1){r.push(Z[q]);C.push(S[q])}else{k.length--;l.Ka.uQ(S,q)}}}for(var q=2;
q<r.length;q++){var v=r[q];if(v.type!=0&&v.type!=3)continue;if(v.length==0){if(r[q+1]&&r[q+1].QZ==-1){r[q+1].QZ=v.QZ}C.splice(q,1);
r.splice(q,1);q--}}for(var q=0;q<B.length;q++)if(C.indexOf(B[q])==-1){B.splice(q,1);q--}return r};l.q.adz=function(Z,m){var S=Z.slice(0,2),B=-1;
for(var q=2;q<Z.length;q++){if((Z[q].type==0||Z[q].type==3)&&Z[q].QZ!=-1)B++;if(m.indexOf(B)==-1)S.push(Z[q])}return S};
l.q.agU=function(Z,m){var S=Z.slice(0,2),B=-1;for(var q=2;q<Z.length;q++){if((Z[q].type==0||Z[q].type==3)&&Z[q].QZ!=-1)B++;
if(m.indexOf(B)!=-1)S.push(Z[q])}return S};l.q.akc=function(Z){var m=0;for(var q=0;q<Z.length;q++)if(Z[q].type==0||Z[q].type==3)m=q;
return Z[m]};l.q.Ei=function(Z){var m=-1;for(var q=0;q<Z.length;q++)if((Z[q].type==0||Z[q].type==3)&&Z[q].QZ!=-1)m++;
return m+1};l.q.jw=function(Z,m,S){var B=-1;for(var q=0;q<Z.length;q++)if((Z[q].type==0||Z[q].type==3)&&(S||Z[q].QZ!=-1)){B++;
if(B==m)return q}return-1};l.q.ds=function(Z,m,S){var B=-1;for(var q=0;q<Z.length;q++)if((Z[q].type==0||Z[q].type==3)&&(S||Z[q].QZ!=-1)){if(q>=m)return B;
B++}return B};l.q.SD=function(Z,m){var S=-1,B=0;for(var q=0;q<Z.length;q++){if((Z[q].type==0||Z[q].type==3)&&Z[q].QZ!=-1)S++;
if(S==m)B++}return B};l.q.a9s=function(Z){var m=180;for(var q=0;q<Z.length;q++){if(Z[q].type!=0&&Z[q].type!=3)continue;
var S=Z[q].length;if(S<3)continue;for(var B=0;B<S;B++){var C=Z[q+1+(B-1+S)%S],u=Z[q+1+B],r=Z[q+1+(B+1)%S],k=u.M,v=u.H0.Qu(k)?C.XX:u.H0,e=u.XX.Qu(k)?r.H0:u.XX;
if(k.Qu(v)||k.Qu(e))continue;var j=v.x-k.x,$=v.y-k.y,U=e.x-k.x,H=e.y-k.y,v=Math.atan2(v.y-k.y,v.x-k.x)*180/Math.PI,e=Math.atan2(e.y-k.y,e.x-k.x)*180/Math.PI,z=Math.abs(e-v)%360,f=z>180?360-z:z;
if(f<m)m=f}}return m*Math.PI/180};l.q.FA=function(Z){var m=Z.segments?[Z]:Z.children,S=[];for(var q=0;
q<m.length;q++){var B=m[q],C=B.segments,u=B.closed?0:3,r=S.length,k=null;if(C.length<=1)continue;S.push({type:u,length:C.length,QZ:0,Fw:2});
for(var v=0;v<C.length;v++){var e=C[v],j=new aS(e.handleIn.x,e.handleIn.y),$=new aS(e.handleOut.x,e.handleOut.y),U=new aS(e.point.x,e.point.y),H={type:u+1,H0:U.add(j),M:U,XX:U.add($)};
if(k==null)k=H;S.push(H);if(v+1==C.length&&aS.qa(k.M,H.M)<1e-5){S.pop();S[r].length--;k.H0=H.H0;if(u==3)for(var z=r;
z<S.length;z++)S[z].type-=3}}}return S};l.q.l0=function(Z){l.q.P2();var m=[],S,B=new paper.Color(1,0,0);
function C(H,k){H.remove();H.closed=!k;H.fillRule="evenodd"}for(var q=0;q<Z.length;q++){if(Z[q].type>5)continue;
var u=Z[q].length,r;if(q==Z.length-1)break;var k=Z[q].type==3;if(q==2){if(!l.q.Lq(Z))r="subtract";else r="unite"}else{if(Z[q].QZ==0)r="exclude";
if(Z[q].QZ==1)r="unite";if(Z[q].QZ==2)r="subtract";if(Z[q].QZ==3)r="intersect"}if(Z[q].QZ!=-1){S=new paper.CompoundPath;
m.push([S,r]);S.fillRule="evenodd";S.fillColor=B}var v=[];for(var e=0;e<u;e++){var j=Z[q+1+e],$=j.H0.Vf(j.M),U=j.XX.Vf(j.M);
v.push([[j.M.x,j.M.y],[$.x,$.y],[U.x,U.y]])}var H=new paper.Path(v);C(H,k);S.addChild(H);q+=u}return m};
l.q.wj=function(Z){for(var q=0;q<Z.length;q++){var m=Z[q];if(m.M==null)continue;if(!m.M.Qu(m.H0)||!m.M.Qu(m.XX))return!1}return!0};
l.q.a8J=function(Z){if(Z.length<=5)return 0;var m=0,S=Z.length-3-1;for(var q=0;q<S;q++){var B=Z[3+q],C=Z[3+q+1];
if(B.type==0||C.type==0)return 0;m+=(C.M.x-B.M.x)*(B.M.y+C.M.y)}m+=(Z[3].M.x-Z[3+S].M.x)*(Z[3+S].M.y+Z[3+1].M.y);
return-m*.5};l.q.nh=function(Z){var m=Z[2],S=!1;if(Z.length==2)S=Z[1].all==0;else if(Z[1].all==1){if(m.QZ==1||m.QZ==3)S=!0;
else S=!1}else{if(m.QZ==1||m.QZ==3||m.QZ==0)S=!0;else S=!1}return S};l.q.Lq=function(Z){var m=l.q.nh(Z);
for(var q=3;q<Z.length;q++)if(Z[q].QZ==3)m=!0;return m};l.q.an9=0;l.q.Ff=0;l.q.a8K=0;l.q.aob=function(Z,m,S,B){if(S.Ov())return;
var C=S.Z(),n=16384;l.q.an9+=C;if(C>l.q.Ff){l.q.Ff=C}var u=S.e,r=S.n;if(B==null&&l.q.wj(Z)){var k=!0;
for(var q=2;q<Z.length;)if(Z[q].length==2)q+=3;else{k=!1;break}if(k){return}if(l.q.oQ(Z)){m.fill(255);
var v=l.q.Go(Z);if(v.Z()!=C){var e=1-(v.x-S.x),j=1-(v.y-S.y),$=1-(S.x+S.e-(v.x+v.e)),U=1-(S.x+S.n-(v.x+v.n)),H=~~(e*255),z=~~($*255),f=~~(j*255),D=~~(U*255);
m.fill(f,0,u);m[0]=~~(e*j*255);m[u-1]=~~($*j*255);for(var q=u;q<C;q+=u){m[q]=H;m[q+u-1]=z}m.fill(D,(r-1)*u,r*u);
m[C-u]=~~(e*U*255);m[C-1]=~~($*U*255)}return}}var L=Math.ceil(u/n),a=Math.ceil(r/n),F=Math.ceil(u/L),A=Math.ceil(r/a),T=Date.now();
for(var P=0;P<a;P++)for(var Y=0;Y<L;Y++){var Q=Y*F,o=P*A,I=F,c=A,y=l.Df(I,c);if(!l.q.nh(Z))y.fillRect(0,0,I,c);
l.q.re(Z,y,-S.x-Q,-S.y-o,B);var i=new Uint8Array(y.getImageData(0,0,I,c).data.buffer);if(I==u&&c==r)l.NK(i,m,3);
else l.jD(i,new bq(Q,o,I,c),m,new bq(0,0,u,r))}};l.q.re=function(Z,m,S,B,C){if(C!=null){var u=!1,r=!1,k=0,v=!1;
for(var q=0;q<Z.length;q++){var e=Z[q].QZ;if(e!=null){k++;if(e==-1)u=!0;if(e>0)r=!0;if(Z[q].type==0)v=!0}}if(!u&&k<20&&(C==null||v))Z=l.q.eO(Z)}for(var q=0;
q<Z.length;q++){if(Z[q].type>5)continue;var j=Z[q].length;if(j==0)continue;if(q==Z.length-1)break;var $=Z[q].type==3,e=Z[q].QZ;
if(e!=-1&&C==null){var U=["xor","source-over","destination-out","source-in"][e];m.globalCompositeOperation=U}if(Z[q].QZ!=-1){m.beginPath();
if(C){var H=C.strokeStyleLineWidth.v.val,z=C.strokeStyleLineAlignment.v.strokeStyleLineAlignment,f=C.strokeStyleLineCapType.v.strokeStyleLineCapType,D=C.strokeStyleLineJoinType.v.strokeStyleLineJoinType,n=C.strokeStyleMiterLimit.v,L=[],a=C.strokeStyleLineDashSet.v;
for(var F=0;F<a.length;F++)L.push(a[F].v.val*H);m.setLineDash(L);m.lineCap=["butt","round","square"][fp.Rw.Fa.indexOf(f)];
m.lineJoin=["miter","round","bevel"][fp.Rw.join.indexOf(D)];m.lineWidth=fp.Rw.Rg.indexOf(z)==1?H:H*=2;
m.miterLimit=n}}l.q.ahO(m,Z,q+1,j,S,B,$);if($){}else m.closePath();if(Z[q+1+j]==null||Z[q+1+j].QZ!=-1){if(C)m.stroke();
else m.fill("evenodd")}q+=j}m.globalCompositeOperation="source-over"};l.q.ahO=function(Z,m,q,S,B,C,u){var r=m[q],k=null;
Z.moveTo(r.M.x+B,r.M.y+C);for(var v=q;v<q+S-1;v++){r=m[v];k=m[v+1];Z.bezierCurveTo(r.XX.x+B,r.XX.y+C,k.H0.x+B,k.H0.y+C,k.M.x+B,k.M.y+C)}if(!u){r=m[v];
k=m[q];Z.bezierCurveTo(r.XX.x+B,r.XX.y+C,k.H0.x+B,k.H0.y+C,k.M.x+B,k.M.y+C)}};l.q.aaL=function(Z,m){var S=[],B=m?4:1;
for(var q=0;q<Z.length;q+=2){var C=new aS(Z[q],Z[q+1]);S.push({type:B,H0:C.clone(),M:C.clone(),XX:C.clone()})}return S};
l.q.DZ=function(Z,m){l.q.P2();var S=new paper.Path;S.remove();var B=Z.length-1,C=Math.sqrt((Z[B-1]-Z[0])*(Z[B-1]-Z[0])+(Z[B]-Z[1])*(Z[B]-Z[1]))<3;
S.closed=C;for(var q=0;q<Z.length;q+=2)S.add(new paper.Point(Z[q],Z[q+1]));S.simplify(m);var u=[{type:6},{type:8,all:0}];
u=u.concat(l.q.FA(S));return u};l.q.Dy=function(Z,m,S){var B=Z[m].length,C=Z[m].type,u=0,r=Z.slice(m+1,m+1+B);
for(var q=0;q<B;q++){var k=S[(q-1+B)%B],v=S[(q+1+B)%B],e=S[q];if(e!=0){var j=r[(q-1+B)%B].M,$=r[(q+0+B)%B].M,U=r[(q+1+B)%B].M,H=aS.qa($,j),z=aS.qa($,U),f=l.H.xL(j.x,j.y,$.x,$.y,U.x,U.y,e)[0],D=Math.min(f,k==0?H:H/2,v==0?z:z/2);
e*=D/f;var n=l.H.Jk(j.x,j.y,$.x,$.y,U.x,U.y,e),L={type:C+1,H0:new aS(n[2],n[3]),M:new aS(n[2],n[3]),XX:new aS(n[4],n[5])},a={type:C+1,H0:new aS(n[6],n[7]),M:new aS(n[8],n[9]),XX:new aS(n[8],n[9])};
Z.splice(m+u+1,1,L,a);u++;Z[m].length++}u++}};l.q.wj=function(Z){for(var q=0;q<Z.length;q++){var m=Z[q],S=m.type;
if(S==1||S==2||S==4||S==5)if(!m.M.Qu(m.H0)||!m.M.Qu(m.XX))return!1}return!0};l.q.oQ=function(Z){if(Z.length!=7||!l.q.wj(Z))return!1;
for(var q=0;q<4;q++){var m=!0;for(var S=0;S<4;S++){var B=Z[3+(q+S&3)],C=Z[3+(q+S+1&3)];if(B.M.x!=C.M.x&&B.M.y!=C.M.y)m=!1}if(m)return!0}return!1};
l.q.eF={};l.q.eF.E0=function(Z,m,S){var B=[{type:6},{type:8,all:0}],C=null;B.push({type:S?3:0,QZ:1,length:0,Mm:0,oz:0,Fw:1});
if(m==0)C==null;else if(m instanceof Array)C=m;else{C=[];for(var q=0;q<Z.length;q+=2)C.push(m)}B=B.concat(l.q.aaL(Z,S));
B[2].length=B.length-3;if(C)l.q.Dy(B,2,C);return B};l.q.eF.ap8=function(Z,m,S,B,C){var u=[],r=[],k=.553,v=1,e=-1;
u.push({type:1,H0:new aS(0,k),M:new aS(0,0),XX:new aS(0,-k)});C+=2;for(var q=0;q<C;q++){var j={type:1};
if(q==0){j.M=new aS(1,-1);j.H0=new aS(1-k,-1);j.XX=new aS(1+k,-1)}else{var $=-(q+2)*Math.PI/2,U=1+((q&1)==1?q-1:q),H=Math.sin($),z=Math.cos($);
v+=U*(H-z);e+=U*(z+H);j.M=new aS(v,e);j.H0=new aS(v+U*z*k,e-U*H*k);if((q&1)==1)U+=2;j.XX=new aS(v-U*z*k,e+U*H*k)}var f={type:1,H0:new aS(-j.XX.x,-j.XX.y),M:new aS(-j.M.x,-j.M.y),XX:new aS(-j.H0.x,-j.H0.y)};
u.push(j);if(q<C-2)r.push(f)}r.reverse();u=u.concat(r);var D=[{type:6},{type:8,all:0}];D.push({type:0,QZ:1,length:u.length,Mm:0,oz:0,Fw:1});
D=D.concat(u);var n=new ht(S/C,0,0,S/C,0,0);n.rotate(B);n.translate(Z,m);l.q.uA(D,n);return D};l.q.eF.Rect=function(Z,m,S,B,C){var u=[Z,m,Z+S,m,Z+S,m+B,Z,m+B];
return l.q.eF.E0(u,C)};l.q.eF.AW=function(Z,m,S,B,C,u,r,k){var v=[],e=2*Math.PI/C;for(var q=0;q<C;q++)v.push(Math.cos(q*e-B),Math.sin(q*e-B));
if(r!=null){var j=l.H.su(v),$=j.e,U=j.n,H=r/($/2),z=k/(U/2);for(var q=0;q<v.length;q+=2){v[q]=(v[q]-(j.x+$/2))*H;
v[q+1]=(v[q+1]-(j.y+U/2))*z}S=1}var f=new ht(S,0,0,S,0,0);f.translate(Z,m);l.H.A(v,f,v);return l.q.eF.E0(v,u)};
l.q.eF.wO=function(Z,m,S,B,C,u,r){var k=[],v=Math.PI/C;for(var q=0;q<C*2;q++){var e=(q&1)==0?1:r;k.push(e*Math.cos(q*v),e*Math.sin(q*v))}var j=new ht(S,0,0,S,0,0);
j.rotate(B);j.translate(Z,m);l.H.A(k,j,k);return l.q.eF.E0(k,u)};l.q.eF.LV=function(Z,m,S,B,C){return l.q.eF.OW(0,Z,m,S,B,C)};
l.q.eF.a3y=function(Z,m,S,B,C,u){return l.q.eF.OW(1,Z,m,S,B,C,u)};l.q.eF.gS=function(Z,m,S,B,C,u){return l.q.eF.OW(2,Z,m,S,B,C,u)};
l.q.eF.OW=function(Z,m,S,B,C,u,r){var k=Math.sqrt((B-m)*(B-m)+(C-S)*(C-S)),v;u/=2;if(Z==0)v=[-u,0,u,0,u,k,-u,k];
if(Z==1){var e=u*2*r*1.3/1.5,j=u*r;v=[-u,0,u,0,u,k-e,j,k-e,0,k,-j,k-e,-u,k-e]}if(Z==2){var e=r[3],j=r[2]/2,$=e*(2/3)*r[4]/100,U=e-$,H=e;
v=[];if(r[0])v.push(-u,U,-j,H,0,0,j,H,u,U);else v.push(-u,0,u,0);if(r[1])v.push(u,k-U,j,k-H,0,k,-j,k-H,-u,k-U);
else v.push(u,k,-u,k)}var z=new ht(1,0,0,1,0,0);z.rotate(Math.atan2(-C+S,B-m)+Math.PI/2);z.translate(m,S);
l.H.A(v,z,v);return l.q.eF.E0(v,0)};l.q.eF.cP=function(Z,m,S,B){var C=[{type:6},{type:8,all:0}],$=.553;
C.push({type:0,QZ:1,length:4,Mm:0,oz:0,Fw:1});var u=Z,r=m,k=Z+S,v=m+B,Z=(u+k)/2,m=(r+v)/2,e=(u-k)/2,j=(r-v)/2;
C.push({type:1,H0:new aS(Z-$*e,m-j),M:new aS(Z,m-j),XX:new aS(Z+$*e,m-j)});C.push({type:1,H0:new aS(Z+e,m-$*j),M:new aS(Z+e,m),XX:new aS(Z+e,m+$*j)});
C.push({type:1,H0:new aS(Z+$*e,m+j),M:new aS(Z,m+j),XX:new aS(Z-$*e,m+j)});C.push({type:1,H0:new aS(Z-e,m+$*j),M:new aS(Z-e,m),XX:new aS(Z-e,m-$*j)});
return C};l.q.eF.asd=function(Z,m,S,B,C){var u=[{type:6},{type:8,all:0}];u.push({type:3,QZ:1,length:5,Mm:0,oz:0,Fw:1});
var r=(C-B)/4;for(var q=0;q<5;q++){var k=q*r,v=Math.cos(k),e=Math.sin(k),j=.553*(r/(Math.PI/2)),$=e*j,U=-v*j,H=new aS(v,e);
u.push({type:4,H0:q==0?H.clone():new aS(v+$,e+U),M:H,XX:q==4?H.clone():new aS(v-$,e-U)})}var z=new ht;
z.rotate(-B);z.scale(S,S);z.translate(Z,m);l.q.uA(u,z);return u};l.BF={};l.BF.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
l.BF.xB=function(Z){var m=Z.warpStyle.v.warpStyle;if(m=="warpNone")return!0;else if(m=="warpCustom"){var S=!1,B=Z.customEnvelopeWarp.v.meshPoints.v.arr,C=B[0].arr,u=B[1].arr;
for(var q=0;q<4;q++)for(var r=0;r<4;r++){if(Math.abs(C[q]-C[r*4+q])>1||Math.abs(u[q*4]-u[q*4+r])>1)S=!0}return!S}else return Z.warpValue.v==0&&Z.warpPerspective.v==0&&Z.warpPerspectiveOther.v==0};
l.BF.U=function(Z){var m={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(Z){m.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:Z.y}},Left:{t:"UntF",v:{type:"#Pxl",val:Z.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:Z.y+Z.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:Z.x+Z.e}}}};
m.uOrder={t:"long",v:4};m.vOrder={t:"long",v:4}}return m};l.BF.a3Y=function(Z,m,S,B){for(var q=0;q<Z.length;
q+=2){var C=Z[q],u=Z[q+1],r=(C-m.x)/m.e,k=(u-m.y)/m.n,v=(1-S)/2,e=1-v,j=v+r*(e-v);k=.5+(k-.5)*j*2;var $=(1-B)/2,U=1-$,H=$+k*(U-$);
r=.5+(r-.5)*H*2;C=m.x+r*m.e;u=m.y+k*m.n;Z[q]=C;Z[q+1]=u}};l.BF.ol=function(Z,m){var S=[],B=[];for(var q=0;
q<Z.length;q+=2){S.push(Z[q]);B.push(Z[q+1])}var C=[];C.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:S});
C.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:B});m.warpStyle.v.warpStyle="warpCustom";m.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:C}}}}};
l.BF.f8=function(Z,m){if(m==null){var S=Z.bounds.v,B=S.Left.v.val,C=S.Rght.v.val,u=S.Top.v.val,r=S.Btom.v.val;
m=new bq(B,u,C-B,r-u)}if(m.Ov())m.e=m.n=1;var k=[],v=Z.warpStyle.v.warpStyle;if(v=="warpCustom"){var e=Z.customEnvelopeWarp.v.meshPoints.v.arr,j=e[0].arr,$=e[1].arr;
for(var q=0;q<16;q++)k.push(j[q],$[q])}else k=l.BF.BF(m,v,Z.warpRotate.v.Ornt=="Hrzn",Z.warpValue.v/100,Z.warpPerspective.v/100,Z.warpPerspectiveOther.v/100);
return k};l.BF.BF=function(Z,m,S,B,C,u){var r=l.oI.U(Z.x,Z.y,Z.e,Z.n);if(m=="warpNone")return r;var k=JSON.parse(JSON.stringify(Z)),v=new ht;
if(!S){v.translate(-Z.x,-Z.y);v.rotate(-Math.PI/2);v.translate(Z.n,0);l.H.A(r,v,r);Z=new bq(0,0,Z.n,Z.e);
r=l.oI.pG(r,!1)}l.BF.aq6(r,Z,m,B,C,u);if(!S){r=l.oI.pG(r,!0);Z=k;v.Yy();l.H.A(r,v,r)}if(B==0)l.BF.a3Y(r,Z,C,u);
else{var v=new ht(1/Z.e,0,0,1/Z.n,-Z.x,-Z.y);v.translate(-.5,-.5);l.H.A(r,v,r);l.BF.a5Y(r,u,C);v.Yy();
l.H.A(r,v,r)}return r};l.BF.aq6=function(Z,m,S,B,C,u){for(var q=0;q<4;q++){for(var r=0;r<4;r++){var k=2*(4*q+r),v=Z[k]-m.x,e=Z[k+1]-m.y,j=v,$=e;
if(B!=0){var U=m.e/2,H=m.n/2;j-=U;$-=H;var z=j,f=j,D=-H,n=H,L=Math.abs(B),a=Math.tan((1-L)*Math.PI/2),F=Math.sqrt(a*a+1),A=Math.atan2(1,a),T=j/U*A,P=U*F,Y=U*F+m.n,Q=Math.cos(A),o=Math.sin(A),I=l.BF.asM(Q,o),c=l.BF.ajI(Q,o),y=-a*U+I*P;
if(S=="warpArc"){z=Math.sin(T)*Y;D=a*U-Math.cos(A)*Y+H;f=Math.sin(T)*P;n=a*U-Math.cos(A)*P+H;if(r==1||r==2){z=r==1?-c*Y:c*Y;
f=r==1?-c*P:c*P;D=a*U+H-I*Y;n=a*U+H-I*P}if(B<0){var i=z;z=f;f=i;i=D;D=-n;n=-i}}if(S=="warpArcLower"){if(r==1||r==2){f=r==1?-c*P:c*P;
n=B<0?H-y:H+y}}if(S=="warpArcUpper"||S=="warpArch"||S=="warpBulge"){if(r==1||r==2){z=r==1?-c*P:c*P;D=B<0?-H+y:-H-y}if(S=="warpArch"){f=z;
n=D+2*H}if(S=="warpBulge"){f=z;n=-D}}if(S=="warpFish"||S=="warpFlag"||S=="warpWave"){var d=r;if(S=="warpFlag")d=3-r;
if(d==1){D-=B*4*H;n+=B*4*H}if(d==2){D+=B*4*H;n-=B*4*H}if(S=="warpFlag"||S=="warpWave")D=n-2*H}if(S=="warpRise"){if(r<2)D=-H+B*H*4;
n=D+2*H}var V=($+H)/m.n;j=z+V*(f-z);$=D+V*(n-D);if(S=="warpWave"){if(q==0)$=-H;if(q==3)$=H;if(q==1||q==2)$=2*H*(q/3-.5)*(1/3)+$*(2/3)}if(S=="warpFisheye"){if((q==1||q==2)&&(r==1||r==2)){j=j+4*j*B;
$=$+4*$*B}}if(S=="warpInflate"){var R=2/3;if((q==1||q==2)&&(r==1||r==2)){j=j+.5*j*B;$=$+.5*$*B}else if(q==1||q==2)j=j+R*j*B;
else if(r==1||r==2)$=$+R*$*B}if(S=="warpSqueeze"){var R=2/3;if((q==1||q==2)&&(r==1||r==2)){if(B>0)j=j-R*j*B;
else $=$+R*$*B}else if(q==1||q==2)j=j-R*j*B;else if(r==1||r==2)$=$+R*$*B}if(S=="warpTwist"){if((q==1||q==2)&&(r==1||r==2)){var G=B*Math.PI/2,F=1+Math.abs(B)*2,M=j*Math.cos(G)-$*Math.sin(G),O=j*Math.sin(G)+$*Math.cos(G);
j=M*F;$=O*F}}if(S=="warpShellLower"||S=="warpShellUpper"){if(S=="warpShellUpper"){q=3-q;$=-$}if(q>2||q==2&&(r==0||r==3)){if(B>0){var K=P+q/3*2*H;
j=Math.sin(T)*K;$=-a*U-H+Math.cos(T)*K;if(r==1||r==2){j=r==1?-c*K:c*K;$=-a*U-H+I*K}}else{if((r==1||r==2)&&q==3){j=r==1?-c*P:c*P;
$=a*U-I*P+H}else if(q==2){$=H-H*(2/3)*Math.cos(T);j=j+H*(2/3)*Math.sin(T)}}}if(S=="warpShellUpper"){q=3-q;
$=-$}}j+=U;$+=H}v=j,e=$;Z[k]=v+m.x;Z[k+1]=e+m.y}}};l.BF.a5Y=function(Z,m,S){var B=[];for(var C=0;C<4;
C++)B.push(1-S+C/3*2*S);var u=[];for(var C=0;C<4;C++)u.push(1-m+C/3*2*m);var r=[0,0,0,0],k=[0,0,0,0];
for(var q=0;q<4;q++)for(var C=0;C<4;C++){var v=2*(4*q+C),e=Z[v],j=Z[v+1];r[C]+=e/4;k[C]+=j/4}for(var q=0;
q<4;q++)for(var C=0;C<4;C++){var $=B[C],v=2*(4*q+C),e=Z[v],j=Z[v+1],U=r[C],H=k[C];Z[v]=U+$*(e-U);Z[v+1]=H+$*(j-H)}var z=Z.slice(0);
for(var q=0;q<4;q++)for(var C=1;C<3;C++){var v=2*(4*q+C),e=Z[v],j=Z[v+1],f=v+(C==1?-2:2),D=Z[f],n=Z[f+1];
Z[v]=e-D;Z[v+1]=j-n}var L=Z[0],a=Z[1],F=Z[8],A=Z[9],T=Z[16],P=Z[17],Y=Z[24],Q=Z[25],o=Z[6],I=Z[7],c=Z[14],y=Z[15],i=Z[22],d=Z[23],V=Z[30],R=Z[31],G=o-L,M=I-a,O=c-F,K=y-A,W=i-T,t=d-P,X=V-Y,h=R-Q;
for(var q=0;q<4;q++){var b=2*q*4,E=0,f0=0,ay=q==1?.33:.66,p=1-ay;if(q==0){E=G;f0=M}if(q==1){E=p*G+ay*-X;
f0=p*M+ay*-h}if(q==2){E=p*G+ay*-X;f0=p*M+ay*-h}if(q==3){E=-X;f0=-h}Z[b]=Z[b]+E/2;Z[b+1]=Z[b+1]+f0/2;
Z[b+6]=Z[b+6]-E/2;Z[b+7]=Z[b+7]-f0/2}for(var q=0;q<4;q++)for(var C=1;C<3;C++){var v=2*(4*q+C),e=Z[v],j=Z[v+1],f=v+(C==1?-2:2),D=Z[f],n=Z[f+1],$=2*q/3;
Z[v]=D+$*e;Z[v+1]=n+$*j}for(var q=1;q<3;q++)for(var C=1;C<3;C++){var v=2*(4*q+C),e=Z[v],j=Z[v+1],eo=q==1?-8:-16,co=q==1?16:8,c5=Z[v+eo],he=Z[v+eo+1],hU=Z[v+co],aB=Z[v+co+1],$=q/3;
e=(1-$)*c5+$*hU;j=(1-$)*he+$*aB;Z[v]=e;Z[v+1]=j}l.H.zu(z,Z,Z,m)};l.BF.asM=function(Z,m){return(4-Z)*(1/3)};
l.BF.ajI=function(Z,m){return(1-Z)*(3-Z)/(3*m)};l.OC={};l.OC.aja=function(Z,m,S,B,C,u,r,k,v,e){for(var j=0;
j<k;j++)for(var $=0;$<r;$++){var U=3*(j*r+$),H=j+u,z=$+C,f=Z[H*m+z];B[U]=f;B[U+1]=f;B[U+2]=f}};l.OC.zN=function(Z,m,S,B,C,u,r,k,v,e){var j=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],$=1/v,U=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],H=new Uint32Array(6);
for(var z=0;z<k;z++){for(var f=0;f<r;f++){var D=3*(z*r+f),n=z+u,L=f+C;H[0]=0;H[1]=0;H[2]=0;H[3]=0;H[4]=0;
H[5]=0;for(var q=0;q<16;q+=2){var a=L+U[q],F=n+U[q+1],A=a-v*~~(a*$),T=F-v*~~(F*$),P=e[T*v+A];H[P]+=Z[F*m+a];
H[P+3]++}var a=L,F=n,A=a-v*~~(a*$),T=F-v*~~(F*$),P=e[T*v+A];H[P]=Z[n*m+L];H[P+3]=1;B[D]=H[0]*j[H[3]];
B[D+1]=H[1]*j[H[4]];B[D+2]=H[2]*j[H[5]]}}};l.OC.Pk=function(Z,m,S){for(var q=0;q<S;q+=2)Z[m+q]=Z[m+q+1];
m=m+S;for(var q=0;q<S;q+=2)Z[m+q+1]=Z[m+q]};l.OC.N8=function(Z,m,S,B){for(var q=0;q<B;q+=2){var C=m+q*S;
Z[C]=Z[C+S];Z[C+S+1]=Z[C+1]}};l.OC.dn=function(Z,m,S,B,C,u){var r=B[C],k=B[C+1],v=B[u],e=B[u+1],j=k+v>>>1;
Z[m]=Z[m+3]=Z[S]=Z[S+3]=r;Z[m+1]=j;Z[m+4]=k;Z[S+1]=v;Z[S+4]=j;Z[m+2]=Z[m+5]=Z[S+2]=Z[S+5]=e};l.OC.atU=function(Z,m,S,B,C,u){var r=u*3;
for(var q=0;q<u;q+=2){var k=m+q,v=C+q*3;l.OC.dn(B,v,v+r,Z,k,k+S)}};l.OC.amZ=function(Z,m,S,B,C,u,r){var k=u*3;
for(var q=0;q<r;q+=2){var v=m+q*S,e=C+q*u*3;l.OC.dn(B,e,e+k,Z,v,v+S)}};l.OC.cO=function(Z,q,m){var S=Z[q-m-m],B=Z[q-m],C=Z[q-2],u=Z[q-1],r=Z[q],k=Z[q+1],v=Z[q+2],e=Z[q+m],j=Z[q+m+m],$=Math.abs(B-e),U=Math.abs(u-k),H=Math.abs(r-S)*2+$,z=Math.abs(r-v)*2+U,f=Math.abs(r-C)*2+U,D=Math.abs(r-j)*2+$,n=Math.min(H,Math.min(z,Math.min(f,D)));
if(n==H)return B*3+e+r-S>>2;if(n==z)return k*3+u+r-v>>2;if(n==f)return u*3+k+r-C>>2;return e*3+B+r-j>>2};
l.OC.XT=function(Z,m,S,B,C){if(Z<m&&m<S||Z>m&&m>S)return~~(.5+B+(C-B)*(m-Z)/(S-Z));else return(B+C>>1)+(m+m-Z-S>>2)};
l.OC.MG=function(Z,m,q,S){var B=m[q-S-1],C=m[q-S+1],u=m[q],r=m[q+S-1],k=m[q+S+1],v=Z[q-S-1],e=Z[q-S+1],j=Z[q],$=Z[q+S-1],U=Z[q+S+1],H=Math.abs(e-$)+Math.abs(Z[q-S-S+2]-j)+Math.abs(j-Z[q+S+S-2])+Math.abs(C-u)+Math.abs(u-r),z=Math.abs(v-U)+Math.abs(Z[q-S-S-2]-j)+Math.abs(j-Z[q+S+S+2])+Math.abs(B-u)+Math.abs(u-k);
if(H<z)return l.OC.XT(C,u,r,e,$);else return l.OC.XT(B,u,k,v,U)};l.OC.IX=function(Z,m,S,B,C,u){Z[m+0]=S[C];
Z[m+1]=B[C];Z[m+2]=l.OC.MG(S,B,C,u)};l.OC.pt=function(Z,m,S,B,C,u){var r=B[C];Z[m+0]=l.OC.XT(B[C-1],r,B[C+1],S[C-1],S[C+1]);
Z[m+1]=r;Z[m+2]=l.OC.XT(B[C-u],r,B[C+u],S[C-u],S[C+u])};l.OC.ZK=function(Z,m,S,B,C,u){var r=B[C];Z[m+0]=l.OC.XT(B[C-u],r,B[C+u],S[C-u],S[C+u]);
Z[m+1]=r;Z[m+2]=l.OC.XT(B[C-1],r,B[C+1],S[C-1],S[C+1])};l.OC.Hb=function(Z,m,S,B,C,u){Z[m+0]=l.OC.MG(S,B,C,u);
Z[m+1]=B[C];Z[m+2]=S[C]};l.OC.alO=function(Z,m,S,B,C,u,r,k,v){var e=Date.now(),j=2,$=m-2,U=2;if((C&1)==1){j++;
$--}var H=S-2;if((u&1)==1){U++;H--}if(v==1||v==3){j++;$--}var z=Z.slice(0);l.OC.Pk(z,0,m);l.OC.N8(z,0,m,S);
l.OC.N8(z,m-2,m,S);l.OC.Pk(z,(S-2)*m,m);for(var f=U;f<H;f+=2)for(var D=j;D<$;D+=2){var q=f*m+D,n=l.OC.cO(z,q,m),L=l.OC.cO(z,q+m+1,m);
z[q]=Math.max(0,n);z[q+m+1]=Math.max(0,L)}var a=r,F=k;if(u+k==S){F-=2;l.OC.atU(Z,(S-2)*m+C,m,B,(k-2)*r*3,r)}if(C+r==m){a-=2;
l.OC.amZ(Z,u*m+C+r-2,m,B,(r-2)*3,r,k)}if(v==0)for(var f=0;f<F;f+=2)for(var D=0;D<a;D+=2){var A=(f+u)*m+D+C,T=(f*r+D)*3;
l.OC.IX(B,T,Z,z,A,m);l.OC.pt(B,T+3,Z,z,A+1,m);A+=m;T+=3*r;l.OC.ZK(B,T,Z,z,A,m);l.OC.Hb(B,T+3,Z,z,A+1,m)}else if(v==1)for(var f=0;
f<F;f+=2)for(var D=0;D<a;D+=2){var A=(f+u)*m+D+C,T=(f*r+D)*3;l.OC.pt(B,T,Z,z,A,m);l.OC.IX(B,T+3,Z,z,A+1,m);
A+=m;T+=3*r;l.OC.Hb(B,T,Z,z,A,m);l.OC.ZK(B,T+3,Z,z,A+1,m)}else if(v==2)for(var f=0;f<F;f+=2)for(var D=0;
D<a;D+=2){var A=(f+u)*m+D+C,T=(f*r+D)*3;l.OC.Hb(B,T,Z,z,A,m);l.OC.ZK(B,T+3,Z,z,A+1,m);A+=m;T+=3*r;l.OC.pt(B,T,Z,z,A,m);
l.OC.IX(B,T+3,Z,z,A+1,m)}else if(v==3)for(var f=0;f<F;f+=2)for(var D=0;D<a;D+=2){var A=(f+u)*m+D+C,T=(f*r+D)*3;
l.OC.ZK(B,T,Z,z,A,m);l.OC.Hb(B,T+3,Z,z,A+1,m);A+=m;T+=3*r;l.OC.IX(B,T,Z,z,A,m);l.OC.pt(B,T+3,Z,z,A+1,m)}};
l.raw={};l.raw.agp=function(Z){var m=Date.now(),S=Z.width,B=Z.height,C=0,u=0,r=S,k=B;if(Z.t50829){var v=Z.t50829;
C=v[1];u=v[0];r=v[3];k=v[2]}if(Z.t50719){var e=Z.t50719;C+=e[0]>>1<<1;u+=e[1]>>1<<1}if(Z.t50720){var j=Z.t50720;
r=C+j[0];k=u+j[1]}var $=r-C,U=k-u,H=l.raw.a6p(Z),z=Z.t33422,f=Z.t33421;if(f){var j=f[0],D=z.slice(0);
for(var n=0;n<j;n++)for(var L=0;L<j;L++){var a=(L+(C&1))%j,F=(n+(u&1))%j;D[n*j+L]=z[F*j+a]}z=D}if(Z.t277[0]==1)l.raw.a2P(H,S,B,Z,z);
l.raw.vi(2,Z,H,S,B);var A=new Float32Array($*U*3);if(Z.t277[0]==1){if(f==null){l.OC.aja(H,S,B,A,C,u,$,U)}else if(f.length!=2||f[0]!=2||f[1]!=2){console.log("Unknown CFA pattern size",f);
l.OC.zN(H,S,B,A,C,u,$,U,f[0],z)}else{var T=Z.t33422.join(","),P=0;if(T=="0,1,1,2")P=0;else if(T=="1,0,2,1")P=1;
else if(T=="2,1,1,0")P=2;else if(T=="1,2,0,1")P=3;else throw"Unknown CFA pattern "+T;if(($&1)!=0||(U&1)!=0)throw"e";
l.OC.alO(H,S,B,A,C,u,$,U,P)}}else{for(var n=0;n<U;n++)for(var L=0;L<$;L++){var Y=((n+u)*S+L+C)*3,Q=(n*$+L)*3;
A[Q+0]=H[Y+0];A[Q+1]=H[Y+1];A[Q+2]=H[Y+2]}}var o=A,I=A.length,c=l.raw.nn(Z),y=1/c;for(var q=0;q<I;q+=3){A[q]=o[q]*y;
A[q+1]=o[q+1]*y;A[q+2]=o[q+2]*y}l.raw.vi(3,Z,A,$,U);var i=Z.Mu,d=$,V=U;if(i==1||i==9){}else{var R=l.raw.RB(i,$,U),Q=0;
d=R[0];V=R[1];var G=A.slice(0);for(var n=0;n<V;n++)for(var L=0;L<d;L++){var M=R[2]*L+R[3]*n+R[4],O=R[5]*L+R[6]*n+R[7],Y=(O*$+M)*3;
A[Q]=G[Y];A[Q+1]=G[Y+1];A[Q+2]=G[Y+2];Q+=3}}return{MW:A,Yq:d,gn:V}};l.raw.RB=function(Z,m,S){var B=m,C=S;
if(!1){}else if(Z==2)return[m,S,-1,0,m-1,0,1,0];else if(Z==3)return[m,S,-1,0,m-1,0,-1,S-1];else if(Z==4)return[m,S,1,0,0,0,-1,S-1];
else if(Z==5)return[S,m,0,1,0,1,0,0];else if(Z==6)return[S,m,0,1,0,-1,0,S-1];else if(Z==7)return[S,m,0,-1,m-1,-1,0,S-1];
else if(Z==8)return[S,m,0,-1,m-1,1,0,0];else throw"unknown orientation "+Z};l.raw.a2P=function(Z,m,S,B,C){var u=Date.now(),y=0,V=0;
if(l.raw.nn(B)>4e4){for(var q=0;q<Z.length;q++)Z[q]>>=1;var r=["t50714","t50715","t50712","t50717"];
for(var q=0;q<r.length;q++){var k=B[r[q]];if(k)for(var v=0;v<k.length;v++)k[v]>>>=1}console.log("remapping to lower bit depth")}var e=~~Math.sqrt(C.length),j=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],$=[];
for(var U=0;U<e;U++)for(var H=0;H<e;H++){var q=U*e+H,z=C[q],f=4,D=4,n=8,L=0,a=0;for(var v=0;v<18;v+=2){var F=(e+H+j[v])%e,A=(e+U+j[v+1])%e,T=C[A*e+F];
if(T==z){}else if(f==4){f=T;L=v}else if(D==4&&T!=f){D=T;a=v;break}}if(D<f){var P=D;D=f;f=P;P=a;a=L;L=P}if(f<z){var P=f;
f=z;z=P;P=L;L=n;n=P}if(D<f){var P=D;D=f;f=P;P=a;a=L;L=P}$[q*3]=j[n+1]*m+j[n];$[q*3+1]=j[L+1]*m+j[L];
$[q*3+2]=j[a+1]*m+j[a]}var Y=~~(.996*l.raw.nn(B)),Q=~~(.992*l.raw.nn(B)),o=B.t50728,I=[],c=[0,0,0];for(var U=1;
U<S-1;U++)for(var H=1;H<m-1;H++){var q=U*m+H,i=U%e*e+H%e,z=Z[q+$[i*3+0]],f=Z[q+$[i*3+1]],D=Z[q+$[i*3+2]],d=Math.max(z,f,D);
if(d>Y)I.push(q);else if(d>Q){c[0]+=z;c[1]+=f;c[2]+=D;y++}}if(I.length==0)return;if(y/(m*S)<1e-5){console.log("not enough semi-saturated pixels",y);
c=o}if(c[1]<c[V])V=1;if(c[2]<c[V])V=2;var R=[c[0]/c[V],c[1]/c[V],c[2]/c[V]],G=Z.slice(0);for(var M=0;
M<I.length;M++){var q=I[M],U=~~(q/m),H=q-U*m,i=U%e*e+H%e,O=Math.min(65535,~~(Z[q+$[i*3+V]]*R[C[i]]));
if(O>G[q])G[q]=O}Z.set(G)};l.raw.vw=function(Z,m,S,B){var C=Z.MW,u=Math.round(C.length/3),r=C.slice(0);
l.raw.rq(C,r,S,B);var k=Math.pow(2,B[2]),v=new Uint8Array(4e3);for(var q=0;q<4e3;q++){var e=q*(1/1e3);
e=l.CQ(e);e*=k;e=l.mg(e);e=Math.max(0,Math.min(1,e));e=l.raw.Hg.aki(e,B[3]/100);v[q]=~~(.5+255*e)}for(var q=0;
q<u;q++){var j=q<<2,$=j-q;m[j]=v[~~(r[$]*1e3)];m[j+1]=v[~~(r[$+1]*1e3)];m[j+2]=v[~~(r[$+2]*1e3)]}};l.raw.rq=function(Z,m,S,B){var C=Math.round(Z.length/3),u=jL.an1(B[0],B[1]),r=l.raw.apd(S,u),k=l.fd.multiply(l.fd.Cx,r),v=Math.pow(2,S.t50730?S.t50730[0]:0);
k=l.fd.multiply(k,l.fd.Gv(v,v,v));var e=l.raw.rq.atn;if(e==null){e=l.raw.rq.atn=new Float64Array(8e3);
for(var q=0;q<8e3;q++)e[q]=l.mg(q*(1/1e3))}for(var q=0;q<C;q++){var j=q<<2,$=j-q,U=Z[$],H=Z[$+1],z=Z[$+2],f=k[0]*U+k[1]*H+k[2]*z,D=k[4]*U+k[5]*H+k[6]*z,n=k[8]*U+k[9]*H+k[10]*z;
if(f<0)f=0;if(D<0)D=0;if(n<0)n=0;m[$]=e[~~(f*1e3)];m[$+1]=e[~~(D*1e3)];m[$+2]=e[~~(n*1e3)]}};l.raw.Hg={aki:function(Z,m){var S=.5-.5*Math.cos(Z*3.2),B=0;
if(m>0){var C=Z*.2;B=C*Z+(1-C)*S}else{var u=Math.pow(Z,.33);B=(1-u)*u+u*(Z+(Z-S)*.63)}var r=Math.abs(m);
return r*B+(1-r)*Z},am5:function(Z,m){var S=0;if(m>0){var B=Z*1.47,C=Math.pow(Z,2.4);S=Math.min(1,C*Z+(1-C)*B)}else{var B=Z*.68,C=Math.pow(Z,3);
S=C*Z*.5+(1-C)*B}var u=Math.abs(m);return u*S+(1-u)*Z},a2j:function(Z,m){var S=0;if(m>0){var B=Math.pow(Z,.3),C=Z;
S=(1-Z)*B+Z*C}else{var B=Math.pow(Z,2.5),u=Z,C=Z;S=Math.min(1,(1-u)*B+u*C)}var r=Math.abs(m);return r*S+(1-r)*Z}};
l.raw.a6p=function(Z){var m=Z.width,S=Z.height,B=m*S*Z.t277,C=new Uint16Array(B),u=null,r=0;l.raw.afV(Z,C);
l.raw.vi(1,Z,C,m,S);if(Z.t50712){u=Z.t50712;r=u.length-1;if(u[r]>65535)throw"too big values"}var k=l.raw.ug(Z),v=l.raw.Pj(Z);
if(u==null)for(var q=0;q<B;q++)C[q]=Math.max(0,C[q]-k);else for(var q=0;q<B;q++){var e=C[q];if(e>r)e=r;
e=u[e];C[q]=Math.max(0,e-k)}return C};l.raw.ug=function(Z){var m=Z.t50714,S=m?m[0]:0,B=Z.t50715,C=Z.t50716;
if(B)S+=B[0][0]/B[0][1];if(C)S+=C[0][0]/C[0][1];return Math.round(S)};l.raw.Pj=function(Z){var m=null,S=0;
if(Z.t50712){m=Z.t50712;S=m.length-1}var B=Z.t50717?Z.t50717[0]:(1<<Z.t258[0])-1;if(m)B=Math.min(B,m[S]);
return B};l.raw.nn=function(Z){var m=l.raw.ug(Z),S=l.raw.Pj(Z);return S-m};l.raw.afV=function(Z,m){var S=m.length,B=Z.data,C=Z.t258[0];
if(C!=16&&C!=14&&C!=12&&C!=10&&C!=8)throw"Unsupported Bits Per Sample:"+C;C=Math.round(B.length*8/S);
if(C==16&&Z.isLE){l.Yx(B,m);return}for(var q=0;q<S;q+=2){var u=0,r=0,k=0;if(C==16){u=q<<1;r=B[u]<<8|B[u+1];
k=B[u+2]<<8|B[u+3]}else if(C==14){var v=q*14,e=v>>>3,j=B[e]<<24|B[e+1]<<16|B[e+2]<<8|B[e+3];if((v&7)==0){r=j>>>18;
k=j>>>4&16383}else{r=j>>>14&16383;k=j&16383}}else if(C==12){u=q+(q>>>1);r=B[u]<<4|B[u+1]>>4;k=(B[u+1]&15)<<8|B[u+2]}else if(C==10){var v=q*10,e=v>>>3;
if((v&7)==0){r=(B[e]<<2|B[e+1]>>6)&1023;k=(B[e+1]<<4|B[e+2]>>4)&1023}else{r=(B[e]<<6|B[e+1]>>2)&1023;
k=(B[e+1]<<8|B[e+2]>>0)&1023}}else if(C==8){u=q;r=B[u];k=B[u+1]}m[q]=r;m[q+1]=k}};l.raw.vi=function(Z,m,S,B,C){var u=m["t"+[51008,51009,51022][Z-1]],j=0;
if(u==null)return;var r=B*C,k=x.l,v=x.NX,e=new Uint8Array(u),eV=x.l(e,j);j+=4;for(var $=0;$<eV;$++){var U=k(e,j);
j+=4;var H=k(e,j);j+=4;var z=k(e,j);j+=4;var f=k(e,j);j+=4;if(!1){}else if(U==1&&Z==3){var D=j,n=k(e,D);
D+=4;var L=v(e,D);D+=8;var a=v(e,D);D+=8;var F=v(e,D);D+=8;var A=v(e,D);D+=8;var T=v(e,D);D+=8;var P=v(e,D);
D+=8;D+=(n-1)*8*6;var Y=v(e,D);D+=8;var Q=v(e,D);D+=8;var o=Y*B,I=Q*C,c=Math.max(o,B-o),y=Math.max(I,C-I),i=Math.sqrt(c*c+y*y),d=1/i,V=S.slice(0);
for(var R=0;R<C;R++)for(var G=0;G<B;G++){var M=(G+.5-o)*d,O=(R+.5-I)*d,K=M*M+O*O,W=L+a*K+F*(K*K)+A*(K*K)*K,t=T*(2*M*O)+P*(K+2*M*M),X=P*(2*M*O)+T*(K+2*O*O),h=~~(o+i*(W*M+t)),b=~~(I+i*(W*O+X)),E=(b*B+h)*3,f0=(R*B+G)*3;
S[f0]=V[E];S[f0+1]=V[E+1];S[f0+2]=V[E+2]}}else if(U==3&&Z==3){var D=j,ay=v(e,D);D+=8;var p=v(e,D);D+=8;
var eo=v(e,D);D+=8;var co=v(e,D);D+=8;var c5=v(e,D);D+=8;var Y=v(e,D);D+=8;var Q=v(e,D);D+=8;var o=Y*B,I=Q*C,c=Math.max(o,B-o),y=Math.max(I,C-I),i=Math.sqrt(c*c+y*y),d=1/i;
for(var R=0;R<C;R++)for(var G=0;G<B;G++){var M=(G+.5-o)*d,O=(R+.5-I)*d,K=M*M+O*O,he=1+(ay+(p+(eo+(co+c5*K)*K)*K)*K)*K,f0=(R*B+G)*3;
S[f0]=he*S[f0];S[f0+1]=he*S[f0+1];S[f0+2]=he*S[f0+2]}}else if(U==4&&Z==1){var D=j,hU=k(e,D);D+=4;var aB=k(e,D);
D+=4;for(var q=0;q<r;q++)if(S[q]==hU)S[q]=S[q-2]+S[q+2]>>1}else if(U==5&&Z==1){var D=j,ep=k(e,D);D+=4;
var aO=k(e,D);D+=4;var f$=k(e,D);D+=4;for(var q=0;q<aO;q++){var fo=k(e,D);D+=4;var bb=k(e,D);D+=4;var q=fo*B+bb;
S[q]=S[q-2]+S[q+2]>>1}}else if(U==7&&Z==1){var D=j,jl=x.kN(e,D);D+=16;var e0=k(e,D);D+=4;var gI=k(e,D);
D+=4;var d4=k(e,D),ab=k(e,D+4);D+=8;var c3=k(e,D);D+=4;var gr=new Uint16Array(c3);for(var q=0;q<c3;q++)gr[q]=x.zO(e,D+2*q);
var a2=jl.e,aL=jl.n;for(var R=0;R<aL;R+=d4)for(var G=0;G<a2;G+=ab){var q=(jl.y+R)*B+(jl.x+G);S[q]=gr[S[q]]}}else if(U==8&&Z==2){var D=j,jl=x.kN(e,D);
D+=16;var e0=k(e,D);D+=4;var gI=k(e,D);D+=4;var d4=k(e,D),ab=k(e,D+4);D+=8;var el=k(e,D);D+=4;var iJ=[];
for(var q=0;q<=el;q++)iJ[q]=x.NX(e,D+q*8);var aC=jl.x,cr=jl.x+jl.e,bN=jl.y,hf=jl.y+jl.n,cV=m.t50717[0],ez=1/cV;
for(var jG=0;jG<gI;jG++)for(var R=bN;R<hf;R+=d4){var f0=3*R*B+e0+jG;for(var G=aC;G<cr;G+=ab){var q=f0+3*G,jw=S[q]*ez,dw=iJ[el];
for(var cb=el;cb>0;cb--)dw=dw*jw+iJ[cb-1];S[q]=Math.max(0,Math.min(65535,~~(dw*cV)))}}}else if(U==9&&Z==2){var D=j,jl=x.kN(e,D),eC=!0;
D+=16;var e0=k(e,D);D+=4;var gI=k(e,D);D+=4;var d4=k(e,D),ab=k(e,D+4);D+=8;var cz=k(e,D),jq=k(e,D+4);
D+=8;var dU=v(e,D),ge=v(e,D+8);D+=16;var al=v(e,D),a_=v(e,D+8);D+=16;var hc=k(e,D);D+=4;if(hc!=1)throw"more than one map plane";
var g7=cz*jq,b4=new Float32Array(g7);for(var cb=0;cb<g7;cb++)b4[cb]=x._O(e,D+cb*4);for(var cb=0;cb<g7;
cb++)if(b4[cb]!=1)eC=!1;if(!eC){var a2=jl.e,aL=jl.n,cN=.9999*(jq-1)/a2,i7=.9999*(cz-1)/aL;for(var R=0;
R<aL;R+=d4)for(var G=0;G<a2;G+=ab){var q=(jl.y+R)*B+(jl.x+G),gC=G*cN,h7=R*i7,iB=Math.floor(gC),hH=Math.floor(h7),bA=gC-iB,cq=h7-hH,f0=hH*jq+iB,fd=b4[f0]*(1-bA)+b4[f0+1]*bA,iW=b4[f0+jq]*(1-bA)+b4[f0+1+jq]*bA,ca=fd*(1-cq)+iW*cq;
S[q]=Math.max(0,Math.min(65535,~~(S[q]*ca+.5)))}}}else console.log("Unknown opcode "+U+" in OpcodeList"+Z+". Length: "+f);
j+=f}};l.raw.apd=function(Z,m){var S=jL.TB(m),B=l.raw.eZ(Z,m),C=l.fd.Yy(B),u=jL.ad4(S,jL.TB(jL.at4)),r=l.fd.multiply(u,C);
return r};l.raw.ab2=function(Z){var m=(Z.t50728?Z.t50728:[1,1,1]).slice(0),B=1;m.push(0);var S={x:.34567,y:.3585};
do{var C=l.fd.Yy(l.raw.eZ(Z,S)),u=l.fd.b1(C,m),r=jL.ag7(u);B=Math.abs(S.x-r.x)+Math.abs(S.y-r.y);S=r}while(B>1e-7);
return S};l.raw.eZ=function(Z,m){var S=jL.gK(m),B=l.raw.a2D,C=Z.t50778?Z.t50778[0]:0,u=Z.t50779?Z.t50779[0]:0,r=B(Z.t50721,Z.t50722,C,u,S.jh),k=B(Z.t50723,Z.t50724,C,u,S.jh);
r=r||[1,0,0,0,1,0,0,0,1];k=k||[1,0,0,0,1,0,0,0,1];var v=Z.t50727?[Z.t50727[0],0,0,0,Z.t50727[1],0,0,0,Z.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return l.fd.multiply(l.fd.Rn(v),l.fd.multiply(l.fd.Rn(k),l.fd.Rn(r)))};l.raw.a2D=function(Z,m,S,B,C){if(!Z&&!m){return null}else if(Z&&!m){return Z}else if(C<S){return Z}else if(C>B){return m}else{var u=(1/C-1/B)/(1/S-1/B),r=1-u,k=[];
for(var q=0;q<9;q++)k[q]=Z[q]*u+m[q]*r;return k}};var jL={};jL.at4={x:.34567,y:.3585};jL.Ki=[{I:0,U$:.18006,jA:.26352,aU:-.24341},{I:10,U$:.18066,jA:.26589,aU:-.25479},{I:20,U$:.18133,jA:.26846,aU:-.26876},{I:30,U$:.18208,jA:.27119,aU:-.28539},{I:40,U$:.18293,jA:.27407,aU:-.3047},{I:50,U$:.18388,jA:.27709,aU:-.32675},{I:60,U$:.18494,jA:.28021,aU:-.35156},{I:70,U$:.18611,jA:.28342,aU:-.37915},{I:80,U$:.1874,jA:.28668,aU:-.40955},{I:90,U$:.1888,jA:.28997,aU:-.44278},{I:100,U$:.19032,jA:.29326,aU:-.47888},{I:125,U$:.19462,jA:.30141,aU:-.58204},{I:150,U$:.19962,jA:.30921,aU:-.70471},{I:175,U$:.20525,jA:.31647,aU:-.84901},{I:200,U$:.21142,jA:.32312,aU:-1.0182},{I:225,U$:.21807,jA:.32909,aU:-1.2168},{I:250,U$:.22511,jA:.33439,aU:-1.4512},{I:275,U$:.23247,jA:.33904,aU:-1.7298},{I:300,U$:.2401,jA:.34308,aU:-2.0637},{I:325,U$:.24792,jA:.34655,aU:-2.4681},{I:350,U$:.25591,jA:.34951,aU:-2.9641},{I:375,U$:.264,jA:.352,aU:-3.5814},{I:400,U$:.27218,jA:.35407,aU:-4.3633},{I:425,U$:.28039,jA:.35577,aU:-5.3762},{I:450,U$:.28863,jA:.35714,aU:-6.7262},{I:475,U$:.29685,jA:.35823,aU:-8.5955},{I:500,U$:.30505,jA:.35907,aU:-11.324},{I:525,U$:.3132,jA:.35968,aU:-15.628},{I:550,U$:.32129,jA:.36011,aU:-23.325},{I:575,U$:.32931,jA:.36038,aU:-40.77},{I:600,U$:.33724,jA:.36051,aU:-116.45}];
jL.gK=function(Z){var m=jL.Ki,S=2*Z.x/(1.5-Z.x+6*Z.y),B=3*Z.y/(1.5-Z.x+6*Z.y),C=0,u=0,r=0;for(;r<31;
r++){C=B-m[r].jA-m[r].aU*(S-m[r].U$);if(r>0&&C<0){break}u=C}while(r>=m.length)r--;C/=Math.sqrt(1+m[r].aU*m[r].aU);
u/=Math.sqrt(1+m[r-1].aU*m[r-1].aU);var k=u/(u-C),v=1e6/((m[r].I-m[r-1].I)*k+m[r-1].I),e=S-((m[r].U$-m[r-1].U$)*k+m[r-1].U$),j=B-((m[r].jA-m[r-1].jA)*k+m[r-1].jA),$=Math.sqrt(1+m[r].aU*m[r].aU),U=1/$,H=m[r].aU/$,z=Math.sqrt(1+m[r-1].aU*m[r-1].aU),f=1/z,D=m[r-1].aU/z,n=(U-f)*k+f,L=(H-D)*k+D,a=Math.sqrt(n*n+L*L);
n/=a;L/=a;var F=(e*n+j*L)*-3e3;return{jh:v,wY:F}};jL.an1=function(Z,m){var S=jL.Ki,B=1e6/Z,C=1;for(;
C<31;C++){if(B<S[C].I){break}}var u=(S[C].I-B)/(S[C].I-S[C-1].I),r=(S[C-1].U$-S[C].U$)*u+S[C].U$,k=(S[C-1].jA-S[C].jA)*u+S[C].jA,v=Math.sqrt(1+S[C].aU*S[C].aU),e=1/v,j=S[C].aU/v,$=Math.sqrt(1+S[C-1].aU*S[C-1].aU),U=1/$,H=S[C-1].aU/$,z=(U-e)*u+e,f=(H-j)*u+j,D=Math.sqrt(z*z+f*f);
z/=D;f/=D;r+=z*m/-3e3;k+=f*m/-3e3;return{x:1.5*r/(r-4*k+2),y:k/(r-4*k+2)}};jL.ag7=function(Z){var m=Z[0]+Z[1]+Z[2];
return{x:Z[0]/m,y:Z[1]/m}};jL.TB=function(Z){return{x:Z.x/Z.y,y:1,gG:(1-Z.x-Z.y)/Z.y}};jL.ad4=function(Z,m){var S=l.fd.Rn([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),B=[Z.x,Z.y,Z.gG,0],C=[m.x,m.y,m.gG,0];
B=l.fd.b1(S,B);C=l.fd.b1(S,C);var u=C[0]/B[0],r=C[1]/B[1],k=C[2]/B[2],v=l.fd.Rn([u,0,0,0,r,0,0,0,k]),e=l.fd.Yy(S);
return l.fd.multiply(l.fd.multiply(e,v),S)};l.raw.uu={};l.raw.bb=function(Z){Z*=8;var m=[8,10,12,14,16];
for(var S in CAMS){var B=CAMS[S];if(B.length==4)continue;var C=B[4],u=B[5];for(var q=0;q<m.length;q++)if(C*u*m[q]==Z)return[S,m[q]]}var r=[[4e3,3e3]];
for(var q=0;q<r.length;q++){var B=r[q],C=B[0],u=B[1];for(var q=0;q<m.length;q++)if(C*u*m[q]==Z)return[B,m[q]]}return null};
l.raw.a5E=function(Z){var Z=new Uint8Array(Z);for(var q=0;q<Z.length;q+=2){var m=Z[q];Z[q]=Z[q+1];Z[q+1]=m}var S=l.raw.bb(Z.length),B=CAMS[S[0]];
if(B==null)B=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,S[0][0],S[0][1]];var C=B[4],u=B[5],r=Math.max(B[2],116),k={data:Z,Mu:1,width:C,height:u,t256:[C],t257:[u],t258:[S[1]],t277:[1],t33421:[2,2],t33422:l.raw.gm[B[1]],t50706:[1,2,0,0],t50714:[r,r,r,r],t50717:[B[3]],t50721:B[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var q=0;q<9;q++)k.t50721[q]/=1e4;return k};l.raw.j5=function(Z){if(Z==null||Z.length==0||typeof Z[0]=="number")return Z;
var m=[];for(var q=0;q<Z.length;q++)m[q]=Z[q][1]==0?0:Z[q][0]/Z[q][1];return m};l.raw.gm=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
l.raw.normalize=function(Z,m){if(Z.t50706!=null||Z.t271[0].startsWith("Hasselblad")){var S=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var q=0;q<S.length;q++)if(Z["t"+S[q]]!=null)Z["t"+S[q]]=l.raw.j5(Z["t"+S[q]]);if(Z.t271&&Z.t271[0].startsWith("Hasselblad")){Z.t50706=[1,2,0,0];
Z.t33422=l.raw.gm[1];Z.t50723=[1,0,0,0,1,0,0,0,1];Z.t50778=[17];if(!Z.isLE)for(var q=0;q<Z.data.length;
q+=2){var B=Z.data[q];Z.data[q]=Z.data[q+1];Z.data[q+1]=B}}return}var C=Z.t258[0],u=Z.exifIFD,m=new Uint8Array(m);
Z.t50706=[1,2,0,0];var r=Z.t272[0].trim();if(r.indexOf(" ")==-1)r=Z.t271[0].trim()+" "+r;if(Z.t50708==null)Z.t50708=[r];
var k=r.toLowerCase(),v=CAMS,e=v[k];if(e==null)for(var j in v)if(k.startsWith(j))e=v[j];if(e==null)alert("Unknown camera:"+r);
else{var $=e[2];Z.t50714=[$,$,$,$];Z.t50717=[e[3]];Z.t50721=e[0].slice(0);for(var q=0;q<9;q++)Z.t50721[q]=Z.t50721[q]*(1/1e4)}Z.t50723=[1,0,0,0,1,0,0,0,1];
if(Z.t50728==null)Z.t50728=[.35,1,.6];Z.t50778=[17];if(Z.t271[0].startsWith("SONY")){var U=UTIF["_bin"+(Z.isLE?"LE":"BE")],H=Z.t28688,F;
if(JSON.stringify(H)!="[8000,10400,12900,14100]")console.log(H);if(H){var z=[0,0,0,0,0,4095],f=new Uint16Array(16385);
for(var q=0;q<4;q++){var D=H[q]>>>2;z[q+1]=D;if(D>4095)throw"e"}for(var q=0;q<16385;q++)f[q]=q;for(var q=0;
q<5;q++)for(var n=z[q]+1;n<=z[q+1];n++)f[n]=f[n-1]+(1<<q);var L=m.length*8<Z.width*Z.height*C;if(L)Z.t50712=f}else console.log("no curve");
var a=Z.dngPrvt;if(a){var A=a.t29184[0],T=a.t29185[0],P=(Z.isLE?x.zs:x.l)(a.t29217,0),Y=new Uint32Array(m.slice(A,A+(T&4294967292)).buffer),Q=new Uint32Array(T>>>2);
l.raw.ahq(Y,Q,T>>>2,P);var o=new Uint8Array(A+T);o.set(new Uint8Array(Q.buffer),A);var I=[];UTIF._readIFD(U,o,A,I,0,!1);
var c=I.pop(),y=c.t29458;Z.t50728=[y[1]/y[0],1,y[1]/y[3]];Z.t50730=[.5];var i=c.t29891;Z.t50829=[i[1],i[0],i[3],i[2]]}else if(u.makerNote&&u.makerNote.t8208){var F=u.makerNote,d=F.t8208,V=d.length,R=0,G=new Uint8Array(256);
for(var q=249;q<256;q++)G[q]=q;for(var q=0;q<249;q++)G[q*q*q%249]=q;for(var q=0;q<V;q++)d[q]=G[d[q]];
if(V==6604)R=612;else throw"e";var y=[];for(var q=0;q<3;q++)y.push(x.jX(d,R+q*2));console.log(y);Z.t50728=[y[1]/y[0],1,y[1]/y[2]]}else console.log("no white balance");
if(Z.width*Z.height*1.5==Z.t279[0]){$=$>>>2;Z.t50714=[$,$,$,$];Z.t50717=[e[3]>>>2]}}else if(Z.t271[0].startsWith("Canon")){var m=Z.data,M=m.slice(0),O=Z.t50752,K=[],t=0;
if(O==null||O[0]==0&&O[1]==0)K.push(Z.width);else{for(var q=0;q<O[0];q++)K.push(O[1]);K.push(O[2])}var W=Z.width*2;
for(var X=0;X<K.length;X++){var h=K[X],b=2*t,E=2*h;for(var f0=0;f0<Z.height;f0+=2){var ay=f0*W+b,p=Z.height*b+(f0>>1)*E*2;
for(var q=0;q<E;q++){m[ay+q]=M[p+q];m[ay+q+W]=M[p+q+E]}}t+=h}var F=u.makerNote;if(F.t16385){var eo=F.t224,he=0;
if(eo){Z.t50719=[eo[5],eo[6]];Z.t50720=[eo[7]+1-eo[5],eo[8]+1-eo[6]]}var co=F.t16385,c5=co.length;if(c5==582)he=1;
else if(c5==653)he=2;else if(c5==796)he=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(c5)!=-1)he=4;
else if(c5==5120){he=5;co=new Int16Array(co.slice(0).buffer)}else if(c5==1273||c5==1275)he=6;else if([1312,1313,1316,1506].indexOf(c5)!=-1)he=7;
else if([1560,1592,1353,1602].indexOf(c5)!=-1)he=8;else throw"e"+c5;var hU=co[0],aB=[null,[25,166],[34,286],[63,196],[63],[71,hU==-4?333:264],[63,251],[63,hU==10?504:728],[63,326]],R=aB[he][0],ep=aB[he][1];
if(he==4){if(co[0]==2)ep=231;else if(co[0]==3)ep=231;else if(co[0]==4)ep=231;else if(co[0]==5)ep=231;
else if(co[0]==6)ep=231;else if(co[0]==7)ep=231;else if(co[0]==9)ep=231;else throw"e"}Z.t50728=[co[R+1]/co[R],1,co[R+1]/co[R+3]];
var $=ep==null?1024:co[ep];if(he!=4)Z.t50714=[$,$,$,$]}else{Z.t50728=[.4,1,.6]}}else if(Z.t271[0].startsWith("NIKON")){var F=u.makerNote,aO=Z.isLE?x.jX:x.Cg,gI=0,d4=0,aL,cV=0;
if(F.t61){var f$=F.t61,fo=[];for(var q=0;q<4;q++)fo[q]=f$[q]/Math.pow(2,14-C);Z.t50714=fo}if(F.t3585){var bb=F.t3585,q=0,A=22;
while(A<bb.length&&q!=-4){var jl=x.zs(bb,A);A+=4;A+=14;q=x.zs(bb,A)-4;A+=4;if(jl==1990472198){if(bb[A]!=0)throw"Flip"}if(jl==1990472199){var e0=x.jX(bb,A);
if(e0==0)Z.Mu=1;else if(e0==270)Z.Mu=8;else throw"e "+e0}A+=q}}if(F.t183){var ab=F.t183,c3=[];for(var q=0;
q<6;q++)c3.push(aO(ab,16+q*2));gI=c3[0];d4=c3[1]}if(F.t3614){var gr=F.t3614;gI=x.zs(gr,8);d4=x.zs(gr,12)}if(gI!=0&&Math.max(gI,d4)<Math.max(Z.width,Z.height)){if(gI<d4){var B=gI;
gI=d4;d4=B}var t=Z.width-gI>>>1,f0=Z.height-d4>>>1;Z.t50829=[f0,t,f0+d4,t+gI]}var a2=F.t69;if(a2)Z.t50829=[a2[1],a2[0],a2[1]+a2[3],a2[0]+a2[2]];
if(F.t12){var el=l.raw.j5(F.t12);aL=[1/el[0],1,1/el[1]]}else if(F.t151){var iJ=l.raw.a0u(F,151),aC=iJ[0],cd=iJ[1],cr=iJ[2];
if(aC=="0100"&&cd>=80)throw"e";else if(aC=="0102"){var bN=[];for(var q=0;q<4;q++)bN.push(aO(cr,6+q*2));
aL=[bN[1]/bN[0],1,bN[1]/bN[3]]}else if(aC=="0103"&&cd>=26){var bN=[];for(var q=0;q<4;q++)bN.push(aO(cr,16+q*2));
aL=[bN[1]/bN[0],1,bN[3]/bN[2]]}else if(aC=="0204"&&cd>=564||aC=="0205"&&cd>=284){var A=aC=="0204"?6:14,bN=[];
for(var q=0;q<4;q++)bN.push(aO(cr,A+q*2));aL=[bN[1]/bN[0],1,bN[1]/bN[3]]}else throw"e"}else console.log("no white balance info");
if(r=="NIKON D1")aL=[1,1,1];if(aL)Z.t50728=aL;var hf=F.t150?F.t150:F.t140;if(hf){var ez=hf[cV++],jG=hf[cV++],cb;
if(ez==73||jG==88)cV+=2110;cV+=8;var jw=1<<C&32767,dw=aO(hf,cV);cV+=2;var f=[];if(dw>1)cb=Math.floor(jw/(dw-1));
if(ez==68&&jG==32&&cb>0){for(q=0;q<dw;q++){f[q*cb]=aO(hf,cV);cV+=2}for(q=0;q<jw;q++)f[q]=Math.floor((f[q-q%cb]*(cb-q%cb)+f[q-q%cb+cb]*(q%cb))/cb)}else if(ez!=70&&dw<=16385){jw=dw;
for(var q=0;q<dw;q++)f[q]=aO(hf,cV+2*q);cV+=2*dw}if(f.length!=0)Z.t50712=new Uint16Array(f);else if(Z.t272[0]=="NIKON D750")Z.t50717[0]*=4}}else if(r.startsWith("FujiFilm")){}else alert("Unknown camera "+r)};
l.raw.ahq=function(Z,m,S,B){if(0==S)return;var C=new Uint32Array(128),u=new Uint8Array(C.buffer),r=127,k=0,v=0;
for(var r=0;r<4;r++)C[r]=B=(B*15625>>>0)*3125+1>>>0;C[3]=C[3]<<1|(C[0]^C[2])>>>31;for(var r=4;r<127;
r++)C[r]=(C[r-4]^C[r-2])<<1|(C[r-3]^C[r-1])>>>31;for(var r=0;r<127;r++)C[r]=x.l(u,r*4);for(;S>0;S--){C[r&127]=C[r+1&127]^C[r+1+64&127];
var e=C[r&127],j=Z[k];j^=e;m[v]=j;k++;v++;r++}};l.raw.aph=function(Z,m){var S=x.aD(m,0,4),B=l.raw.arg;
for(var q=0;q<B.length;q++)if(B[q][0]==Z&&S.startsWith(B[q][1])&&(B[q][2]==0||B[q][2]==m.length))return B[q];
throw"e"};l.raw.a7k=function(Z){if(Z.t29==null)return[];var m=l.raw.afc,S=l.raw.ag5,B=Z.t29[0],C=0,r=0;
for(var q=0;q<B.length;q++){var u=B.charCodeAt(q);C=C*10+(48<=u&&u<=57?u-48:u%10)}var cd=Z.t167[0];for(var q=0;
q<4;q++)r^=cd>>>(q<<3)&255;var k=m[C&255],v=S[r&255];return[k,v,96]};l.raw.a0u=function(Z,m){var S=Z["t"+m],cd=S.length,B=l.raw.aph(m,S),C=x.aD(S,0,4),u,r=B[4];
if(r==null)u=S.slice(4);else{u=new Uint8Array(cd-r);var k=l.raw.a7k(Z),v=k[0],e=k[1],j=k[2];for(var q=0;
q<u.length;q++){e=e+v*j++&255;u[q]=S[r++]^e}}return[C,cd,u]};l.raw.arg=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
l.raw.afc=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
l.raw.ag5=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
l.T6={};l.T6.T6=function(Z,m,S,B,C){if(B==null)B=3;if(C==null)C=!0;var u=Z.e,r=Z.n,k=1/u,v=u*r,e=Date.now(),j=!1,$=l.T6.YZ(S,u,r,255,128),U=l.T6.YZ(S,u,r,0,128),ay=0;
if(j)console.log("extract contours",Date.now()-e);e=Date.now();var H=function(dw,cb){var cz=dw<<2,jq=cb<<2;
return m[cz]+m[cz+1]+m[cz+2]-(m[jq]+m[jq+1]+m[jq+2])};$.sort(H);U.sort(H);var z=l.U(v),f=l.U(v),D=[],n=new Uint32Array(u*r);
n.fill(4294967295);for(var q=0;q<v;q++)if(S[q]==0)f[q]=255;else if(S[q]==255)z[q]=255;else{n[q]=D.length;
D.push(q)}var L=$.length,a=U.length,F=D.length;function A(dw,cb,cz,jq){var dU=dw.length,ge=new Array(dU*2);
for(var q=0;q<dU;q++){var R=dw[q],G=~~(R*jq),M=R-G*cz,ez=R<<2;ge[q*2]=M<<16|G;ge[q*2+1]=cb[ez]<<16|cb[ez+1]<<8|cb[ez+2]}return ge}var T=A($,m,u,k),P=A(U,m,u,k),Y=A(D,m,u,k);
if(j)console.log("Itemize",Date.now()-e,"Unknown:",F,L,a);e=Date.now();var Q=l.style.ax(z,u,r,!0),o=l.style.ax(f,u,r,!0),I=new Array(F),c=new Array(F),y=new Array(F),i=new Array(F),d=new Array(F);
if(j)console.log("Dist transform",Date.now()-e);e=Date.now();var V=l.T6.yn;for(var q=0;q<F;q++){var R=D[q],G=~~(R*k),M=R-G*u,O=Q[R<<1],K=Q[(R<<1)+1],W=Math.sqrt(O*O+K*K),t=o[R<<1],X=o[(R<<1)+1],h=Math.sqrt(t*t+X*X);
I[q]=1/W;c[q]=1/h;var b=Math.floor(l.a.ju(R*17)*L),E=Math.floor(l.a.ju(R*19)*a);y[q]=b;i[q]=E;d[q]=V(Y[q*2],Y[q*2+1],T[b*2],T[b*2+1],P[E*2],P[E*2+1],I[q],c[q],1e9)}var f0=[-u-1,-u,-u+1,-1,1,u-1,u,u+1];
while(Math.floor(Math.max(L,a)*Math.pow(.5,ay))>1)ay++;for(var p=0;p<B;p++){var eo=0;for(var q=0;q<F;
q++){var R=D[q],G=~~(R*k),M=R-G*u,co=I[q],c5=c[q],he=Y[q*2],hU=Y[q*2+1],aB=d[q],b=y[q],E=i[q],jl=1;if(G!=0&&M!=0&&M!=u-1&&G!=r-1)for(var ep=0;
ep<8;ep++){var aO=n[R+f0[ep]];if(aO==4294967295)continue;var f$=y[aO],fo=i[aO];if(f$==b&&fo==E)continue;
var bb=V(he,hU,T[f$*2],T[f$*2+1],P[fo*2],P[fo*2+1],co,c5,aB);if(bb<aB){aB=bb;b=f$;E=fo}}for(var e0=0;
e0<ay;e0++){var gI=~~(L*jl),d4=~~(a*jl);jl*=.5;var ab=l.a.ju(R+p*17+e0*31),c3=l.a.ju(R+p*29+e0*63),gr=Math.max(0,b-gI),a2=Math.min(b+gI,L-1),iJ=Math.max(0,E-d4),aC=Math.min(E+d4,a-1),f$=gr+~~(ab*(a2-gr)),fo=iJ+~~(c3*(aC-iJ)),bb=V(he,hU,T[f$*2],T[f$*2+1],P[fo*2],P[fo*2+1],co,c5,aB);
if(bb<aB){aB=bb;b=f$;E=fo}}d[q]=aB;y[q]=b;i[q]=E;eo+=aB}}if(j)console.log(eo);if(j)console.log("iterations",Date.now()-e);
e=Date.now();var cr=S.slice(0);for(var q=0;q<F;q++){var bN=l.T6.alpha(Y[q*2+1],T[y[q]*2+1],P[i[q]*2+1]);
cr[D[q]]=~~(.5+255*bN)}cr=l.WE.akB(cr,m,new bq(0,0,u,r),16,.01*.01);if(j)console.log("guided filter",Date.now()-e);
e=Date.now();if(C)for(var q=0;q<v;q++)if(S[q]==255||S[q]==0)cr[q]=S[q];var hf=m.slice(0);for(var q=0;
q<F;q++){var cV=D[q],b=$[y[q]],aB=d[q],ez=cV<<2,jG=cr[cV],jw=(jG>=250?cV:b)<<2;hf[ez]=m[jw];hf[ez+1]=m[jw+1];
hf[ez+2]=m[jw+2]}l.cN(cr,hf,3);if(j)console.log(Date.now()-e);e=Date.now();return hf};l.T6.yn=function(Z,m,S,B,C,u,r,k,v){var e=Z>>>16,j=Z&65535,$=e-(S>>>16),U=j-(S&65535),H=e-(C>>>16),z=j-(C&65535),f=Math.sqrt($*$+U*U)*r,D=Math.sqrt(H*H+z*z)*k;
if(f+D>=v)return 1e9;var n=l.T6.aaz(m,B,u);return n+f+D};l.T6.aaz=function(Z,m,S){var B=Z>>>16,C=Z>>>8&255,u=Z&255,r=m>>>16,k=m>>>8&255,v=m&255,e=S>>>16,j=S>>>8&255,$=S&255,U=l.T6.alpha(Z,m,S),H=B-(U*r+(1-U)*e),z=C-(U*k+(1-U)*j),f=u-(U*v+(1-U)*$);
return Math.sqrt(H*H+z*z+f*f)};l.T6.alpha=function(Z,m,S){var B=Z>>>16,C=Z>>>8&255,u=Z&255,r=m>>>16,k=m>>>8&255,v=m&255,e=S>>>16,j=S>>>8&255,$=S&255,U=r-e,H=k-j,z=v-$,f=B-e,D=C-j,n=u-$,L=U*U+H*H+z*z,a=L==0?.5:(f*U+D*H+n*z)/L;
return Math.max(0,Math.min(1,a))};l.T6.adk=function(Z){};l.T6.YZ=function(Z,m,S,B,C){var u=[],r=m-1,k=S-1;
for(var v=1;v<k;v++)for(var e=1;e<r;e++){var q=v*m+e;if(Z[q]==B&&(Z[q-m-1]==C||Z[q-m]==C||Z[q-m+1]==C||(Z[q-1]==C||Z[q+1]==C)||(Z[q+m-1]==C||Z[q+m]==C||Z[q+m+1]==C)))u.push(q)}return u};
l.WE={};l.WE.a3j=function(Z,m,S,B,C){var u=S.e,r=S.n,k=u*r,v=l.WE.Io,e=l.U(k*4),j;l._z(e,4294967295);
var $=S,U=Z,H=m,z=B;l.cN(Z,e,0);j=l.UC(e,S);j=l.UC(j.MW,j.rect);$=j.rect;z=B>>>2;console.log($,z);U=l.U($.Z());
l.NK(j.MW,U,0);l.cN(m,e,0);j=l.UC(e,S);j=l.UC(j.MW,j.rect);H=l.U($.Z());l.NK(j.MW,H,0);var f=l.WE.ash(U,H,$,z,C),D=f[0],n=f[1],L=new bq(0,0,$.e*2,$.n*2);
D=v(D,$,L,!0);D=v(D,L,S,!0);n=v(n,$,L,!0);n=v(n,L,S,!0);var a=l.U(k);for(var q=0;q<k;q++)a[q]=Math.max(0,Math.min(255,Math.floor(.5+(D[q]*m[q]+255*n[q]))));
return a};l.WE.Io=function(Z,m,S,B){var C=S.e,u=S.n,r=m.e,k=m.n,v=l.WE.Of,e=new Float32Array(C*u);for(var j=0;
j<k;j++){var $=(j+j)*C;for(var U=0;U<r;U++){if(!0||U==0||j==0||U==r-1||j==k-1)e[$]=e[$+1]=e[$+C]=e[$+C+1]=Z[j*r+U];
else{e[$]=v(U+.25,j+.25,Z,r,k);e[$+1]=v(U+.75,j+.25,Z,r,k);e[$+C]=v(U+.25,j+.75,Z,r,k);e[$+C+1]=v(U+.75,j+.75,Z,r,k)}$+=2}}return e};
l.WE.Of=function(Z,m,S,B,C){Z-=.499999;m-=.499999;var u=Math.floor(Z),r=Math.floor(m),k=r*B+u,v=Z-u,e=m-r,j=(1-e)*(1-v),$=(1-e)*v,U=e*(1-v),H=e*v;
if(S[k]==null||S[k+B+1]==null){console.log(Z,m,B,C);throw"e"}return j*S[k+0]+$*S[k+1]+U*S[k+B+0]+H*S[k+B+1]};
l.WE.ash=function(Z,m,S,B,C){var u=S.e,r=S.n,k=u*r,v=l.WE.HJ,e=l.WE.U,j=l.EE.Dg,$=l.WE.hs,m=v(m),Z=v(Z),U=e(k);
j(m,U,S,B);var H=e(k);j(Z,H,S,B);var z=e(k);$(m,m,z);j(z,z,S,B);var f=e(k);$(m,Z,f);j(f,f,S,B);var D=e(k),n=e(k);
for(var q=0;q<k;q++){var L=U[q],a=H[q],F=z[q]-L*L,A=f[q]-L*a,T=A/(F+C),P=a-T*L;D[q]=T;n[q]=P}var Y=e(k);
j(D,Y,S,B);var Q=e(k);j(n,Q,S,B);return[Y,Q]};l.WE.akB=function(Z,m,S,B,C){var u=S.e,r=S.n,k=u*r,v=l.WE.Io,e=Date.now(),j=!1,$=S,U=Z,H=m,z=B;
$=new bq(0,0,u>>>2,r>>>2);z=B>>>2;U=l.WE.ap5(Z,u,r);H=l.WE.a3$(m,u,r);if(j)console.log(Date.now()-e);
e=Date.now();var f=l.WE.acg(U,H,$,z,C),D=f[0],n=f[1],L=f[2],a=f[3];if(j)console.log(Date.now()-e);e=Date.now();
var F=l.U(k);for(var A=0;A<r;A++)for(var T=0;T<u;T++){var q=A*u+T,P=(A>>>2)*(u>>>2)+(T>>>2),Y=q<<2,Q=D[P]*m[Y]+n[P]*m[Y+1]+L[P]*m[Y+2]+a[P]*255;
F[q]=Math.max(0,Math.min(255,~~(.5+Q)))}if(j)console.log(Date.now()-e);e=Date.now();return F};l.WE.ap5=function(Z,m,S){var B=m>>>2,C=S>>>2,u=l.U(m*S);
for(var r=0;r<C;r++)for(var k=0;k<B;k++)u[r*B+k]=Z[r*m+k<<2];return u};l.WE.a3$=function(Z,m,S){var B=m>>>2,C=S>>>2,u=l.U(m*S*4);
for(var r=0;r<C;r++)for(var k=0;k<B;k++){var v=r*B+k<<2,e=r*m+k<<4;u[v]=Z[e];u[v+1]=Z[e+1];u[v+2]=Z[e+2];
u[v+3]=Z[e+3]}return u};l.WE.acg=function(Z,m,S,B,C){var u=S.e,r=S.n,k=u*r,v=l.WE.HJ,e=l.WE.U,j=l.EE.Dg,$=l.WE.hs,Z=v(Z),U=new l._8(u*r);
l.Fz(m,U);var m=[v(U.I),v(U.z),v(U.S)],H=l.WE.alB(Z,m,S,B,C),z=e(k);j(Z,z,S,B);var f=e(k);$(m[0],Z,f);
j(f,f,S,B);var D=e(k);$(m[1],Z,D);j(D,D,S,B);var n=e(k);$(m[2],Z,n);j(n,n,S,B);var L=e(k),a=e(k),F=e(k),A=e(k);
for(var q=0;q<k;q++){var T=z[q],P=H.AC[q],Y=H.pf[q],Q=H.gJ[q],o=f[q]-P*T,I=D[q]-Y*T,c=n[q]-Q*T;L[q]=H.asX[q]*o+H.v$[q]*I+H.bR[q]*c;
a[q]=H.v$[q]*o+H.adu[q]*I+H.Mb[q]*c;F[q]=H.bR[q]*o+H.Mb[q]*I+H.a79[q]*c;A[q]=T-L[q]*P-a[q]*Y-F[q]*Q}j(L,L,S,B);
j(a,a,S,B);j(F,F,S,B);j(A,A,S,B);return[L,a,F,A]};l.WE.alB=function(Z,m,S,B,C){var u=S.e,r=S.n,k=u*r,v=l.WE.U,e=l.EE.Dg,j=l.WE.hs,$={};
$.AC=v(k);e(m[0],$.AC,S,B);$.pf=v(k);e(m[1],$.pf,S,B);$.gJ=v(k);e(m[2],$.gJ,S,B);var U=v(k);j(m[0],m[0],U);
e(U,U,S,B);var H=v(k);j(m[0],m[1],H);e(H,H,S,B);var z=v(k);j(m[0],m[2],z);e(z,z,S,B);var f=v(k);j(m[1],m[1],f);
e(f,f,S,B);var D=v(k);j(m[1],m[2],D);e(D,D,S,B);var n=v(k);j(m[2],m[2],n);e(n,n,S,B);$.asX=U;$.v$=H;
$.bR=z;$.adu=f;$.Mb=D;$.a79=n;for(var q=0;q<k;q++){var L=$.AC[q],a=$.pf[q],F=$.gJ[q],A=U[q]-L*L+C,T=H[q]-L*a,P=z[q]-L*F,Y=f[q]-a*a+C,Q=D[q]-a*F,o=n[q]-F*F+C,I=Y*o-Q*Q,c=Q*P-T*o,y=T*Q-Y*P,i=A*o-P*P,d=P*T-A*Q,V=A*Y-T*T,R=I*A+c*T+y*P,G=1/R;
$.asX[q]=I*G;$.v$[q]=c*G;$.bR[q]=y*G;$.adu[q]=i*G;$.Mb[q]=d*G;$.a79[q]=V*G}return $};l.WE.U=function(Z){return new Float32Array(Z)};
l.WE.HJ=function(Z){var m=Z.length,S=new Float32Array(m);for(var q=0;q<m;q++)S[q]=Z[q]*(1/255);return S};
l.WE.hs=function(Z,m,S){for(var q=0;q<Z.length;q++)S[q]=Z[q]*m[q]};l.CB={};l.CB.bV=function(Z,m,S,B){var C=Z[m]-S[B],u=Z[m+1]-S[B+1],r=Z[m+2]-S[B+2];
return Math.sqrt(C*C+u*u+r*r)*(1/441.7)};l.CB.getSelection=function(Z,m,S){var B=m*S,C=l.U(B),u=!1,r=Math.round(S*.7),k=1,v=new Uint32Array(12),e=l.U(12);
for(var j=0;j<r;j++)for(var $=0;$<m;$++){if($<k||j<k||$>m-k-1||j>S-k-1){var q=j*m+$,U=q<<2,H=0;if(j<k)H=4;
else if($>m-k-1)H=8;v[H]+=Z[U];v[H+1]+=Z[U+1];v[H+2]+=Z[U+2];v[H+3]++;C[q]=255}}for(var q=0;q<12;q+=4)for(var z=0;
z<3;z++)e[q+z]=v[q+z]/v[q+3];var f=new Float32Array(B);for(var q=0;q<B;q++){var U=q*4,D=l.CB.bV(Z,U,e,0),n=l.CB.bV(Z,U,e,4),L=l.CB.bV(Z,U,e,8),a=Math.max(D,Math.max(n,L));
f[q]=D+n+L-a}l.CB.co(f);var F=Date.now(),A=new Float32Array(B),T=[],P=l.U(B);for(var q=0;q<3;q++){l.NK(Z,P,q);
var Y=new Uint16Array(B);T.push(Y);l.CB.aeC(P,C,m,S,Y)}if(u)console.log("MBD",Date.now()-F);F=Date.now();
for(var q=0;q<B;q++)A[q]=T[0][q]+T[1][q]+T[2][q];l.CB.co(A);for(var q=0;q<B;q++)A[q]+=.4*f[q];var Q=m>>>1,r=S>>>1,o=1/Math.sqrt(Q*Q+r*r);
for(var j=0;j<S;j++)for(var $=0;$<m;$++){var I=$-Q,c=j-r,y=1-Math.sqrt(I*I+c*c)*o;A[j*m+$]*=y}if(u)console.log("Centeredness",Date.now()-F);
F=Date.now();for(var q=0;q<B;q++)C[q]=A[q]*255;var i=Math.round(m/120),d=Math.round(i*.8);if(u)console.log(i,d);
l.Y_.Bm(C,P,m,S,i,l.Y_.Nt,[]);C.set(P);if(u)console.log("erosion",Date.now()-F);F=Date.now();for(var q=0;
q<B;q++)A[q]=C[q];l.CB.co(A);var V=l.U(256);for(var q=0;q<256;q++)V[q]=256/(1+Math.exp(-20*(q/255-.5)));
for(var q=0;q<B;q++){var R=~~(A[q]*255+.5);C[q]=V[R]}if(u)console.log("Simoid",Date.now()-F);F=Date.now();
return C};l.CB.co=function(Z){var m=Z.length,S=0;for(var q=0;q<m;q++)S=Math.max(S,Z[q]);var B=1/S;for(var q=0;
q<m;q++)Z[q]=Z[q]*B};l.CB.aeC=function(Z,m,S,B,C){var u=S*B,r=Z.slice(0),k=Z.slice(0);for(var q=0;q<u;
q++)C[q]=m[q]==255?0:65535;l.CB.t1(Z,k,r,C,S,B);l.CB.Ex(Z,k,r,C,S,B);l.CB.t1(Z,k,r,C,S,B);l.CB.Ex(Z,k,r,C,S,B);
return C};l.CB.t1=function(Z,m,S,B,C,u){for(var r=1;r<C;r++)l.CB.l2(r,-1,Z,m,S,B);for(var k=1;k<u;k++){l.CB.l2(k*C,-C,Z,m,S,B);
for(var r=1;r<C;r++){var q=k*C+r;l.CB.l2(q,-1,Z,m,S,B);l.CB.l2(q,-C,Z,m,S,B)}}};l.CB.Ex=function(Z,m,S,B,C,u){for(var r=C-2;
r>=0;r--)l.CB.l2(C*u-C+r,1,Z,m,S,B);for(var k=u-2;k>=0;k--){l.CB.l2(k*C+C-1,C,Z,m,S,B);for(var r=C-2;
r>=0;r--){var q=k*C+r;l.CB.l2(q,1,Z,m,S,B);l.CB.l2(q,C,Z,m,S,B)}}};l.CB.l2=function(q,Z,m,S,B,C){var u=q+Z,r=m[q],k=S[u],v=B[u];
if(k<r)k=r;else if(r<v)v=r;var e=k-v;if(C[u]!=65535&&e<C[q]){C[q]=e;S[q]=k;B[q]=v}};l.OJ={};l.OJ.filter=function(Z,m,S,B){var C=m.e,u=m.n,r=C*u,k=B[0],v=B[1],e=B[2],j=B[3],$=B[4],U=B[5],H=B[6],z=Date.now(),f=new Float32Array(C*u*4);
l.OJ.a8g(Z,C,u,f);var D=Math.ceil(k*Math.sqrt(-2*Math.log(.1))),n=new ArrayBuffer(r*4),L=new Float32Array(n),a=new Float32Array(r),F=new Float32Array(r);
for(var q=0;q<r;q++){var A=q*4;L[q]=f[A];a[q]=f[A+1];F[q]=f[A+2]}l.EE.b0(L,L,m,D*1/2.4,2);l.EE.b0(a,a,m,D*1/2.4,2);
l.EE.b0(F,F,m,D*1/2.4,2);for(var q=0;q<r;q++){var A=q*4;f[A]=L[q];f[A+1]=a[q];f[A+2]=F[q]}var T=new Uint8Array(n);
for(var q=0;q<r;q++){var A=q*4,P=q*4,L=f[A],a=f[A+1],F=f[A+2],Y=Math.sqrt((L-F)*(L-F)+4*a*a),Q=(L+F+Y)*.5,o=(L+F-Y)*.5,I=o-F,c=a,y=I*I+c*c;
if(y!=0){var i=Math.sqrt(y),d=1/i;I*=d;c*=d}T[P]=128+127*I;T[P+1]=128+127*c}var V=1.3*v+2,R=j*(2/10),G=Z.slice();
if(N.V8){var M=new Float32Array([1/C,1/u]),O=N.u4(0,C,u);O.set(G);var K=N.u4(1,C,u);K.set(T);N.dF(O,m);
if($){O.EZ(m);N.filter.oj({type:N.filter.aew,hh:M,at7:1/e,a3O:R},O.RK)}O.EZ(m);N.filter.oj({type:N.filter.XR,gs:K.Wa,hh:M,aqw:V,a07:2},O.RK);
if($){O.EZ(m);N.filter.oj({type:N.filter.anZ,hh:M,a16:new Float32Array(H),afC:U},O.RK)}O.get(S)}else{if($)l.OJ.pl(1/e,R,G,C,u);
l.OJ.XR(G,S,T,C,u,V);if($)l.OJ.aur(C,u,S,H,U)}var W=r*4;for(var q=3;q<W;q+=4)S[q]=Z[q]};l.OJ.XR=function(Z,m,S,B,C,u){var r=Math.ceil(2*u),k=-1/(2*u*u),v=[],e=1;
for(var q=0;q<r+20;q++)v[q]=Math.exp(q*q*k);var j=[0,0,0,0];for(var $=0;$<C;$++){for(var U=0;U<B;U++){var H=$*B+U,z=H*4,f=1,D=Z[z],n=Z[z+1],L=Z[z+2],a=Z[z+3],F=(S[z]-128)*(1/127),A=(S[z+1]-128)*(1/127),T=F,P=A,Y=U==0?.51:.49,Q=$==0?.51:.49;
for(var q=0;q<2;q++){var o=U+Y,I=$+Q,c=0;while(c<r){if(o<.5||B-.5<o||I<.5||C-.5<I)break;var y=~~o,i=~~I,d=i*B+y,V=d*4,R=(S[V]-128)*(1/127),G=(S[V+1]-128)*(1/127);
if(R*T+G*P<0){R=-R;G=-G}T=R;P=G;o+=e*R;I+=e*G;if(o<.5||B-.5<o||I<.5||C-.5<I)break;var M=~~o,O=~~I,K=O*B+M<<2;
c+=e;var W=v[~~c];l.N.tF(o,I,Z,B,C,j);D+=j[0]*W;n+=j[1]*W;L+=j[2]*W;a+=j[3]*W;f+=W}T=-F;P=-A}var t=1/f;
m[z]=~~(.5+D*t);m[z+1]=~~(.5+n*t);m[z+2]=~~(.5+L*t);m[z+3]=~~(.5+a*t)}}};l.OJ.aur=function(Z,m,S,B,C){for(var u=0;
u<m;u++)for(var r=0;r<Z;r++){var k=u*Z+r<<2,v=1+l.OJ.aep(r,u,S,Z,m,B)*C;S[k]=Math.max(0,Math.min(255,S[k]*v));
S[k+1]=Math.max(0,Math.min(255,S[k+1]*v));S[k+2]=Math.max(0,Math.min(255,S[k+2]*v))}};l.OJ.aep=function(Z,m,S,B,C,u){var r=S[(m*B+Math.max(0,Z-1))*4+3],k=S[(m*B+Math.min(B-1,Z+1))*4+3],v=S[(Math.max(0,m-1)*B+Z)*4+3],e=S[(Math.min(C-1,m+1)*B+Z)*4+3],j=.7,$=(k-r)*(1/255),U=.7,H=(e-v)*(1/255),z=-$*U,f=-j*H,D=j*U,n=Math.sqrt(z*z+f*f+D*D),L=1/n,a=z*L,F=f*L,A=D*L,T=u[0]*a+u[1]*F+u[2]*A;
return T};l.OJ.pl=function(Z,m,S,B,C){function u(k,e,j){return Math.max(e,Math.min(j,k))}for(var r=0;
r<C;r++)for(var k=0;k<B;k++){var v=l.OJ.ac6(k+.5,r+.5,Z,m);S[(r*B+k)*4+3]=Math.max(0,Math.min(255,v*255))}};
l.OJ.ac6=function(Z,m,S,B){function C(P,Y,Q){return(1-Q)*P+Q*Y}var u=(Z+613)*S,r=(m+117)*S,k=~~u,v=~~r,e=u-k,j=r-v,$=Math.sin(11),U=Math.cos(k)*$,H=Math.cos(k+1)*$,z=Math.cos(v)*$,f=Math.cos(v+1)*$,gY=l.OJ.hash(U,z),D=l.OJ.hash(H,z),n=l.OJ.hash(U,f),L=l.OJ.hash(H,f),a=C(gY,D,e),F=C(n,L,e),A=C(a,F,j);
A=A<.5?0:1;var T=A+B*l.OJ.hash(Math.cos(u)*$,Math.cos(r)*$);return T*(1/3)};l.OJ.hash=function(Z,m){var S=Math.sin(Z*11.697096+m*73.32456)*12157.47691;
return S-Math.floor(S)};l.OJ.a8g=function(Z,m,S,B){var C=[-1,0,1,-2,0,2,-1,0,1],u=[-1,-2,-1,0,0,0,1,2,1],r=m-1,k=S-1,v=m*4;
for(var e=1;e<k;e++)for(var j=1;j<r;j++){var q=e*m+j,$=q*4,U=l.OJ.rb(Z,$,v,C),H=l.OJ.rb(Z,$,v,u),z=l.OJ.rb(Z,$+1,v,C),f=l.OJ.rb(Z,$+1,v,u),D=l.OJ.rb(Z,$+2,v,C),n=l.OJ.rb(Z,$+2,v,u);
B[$]=U*U+z*z+D*D;B[$+1]=U*H+z*f+D*n;B[$+2]=H*H+f*f+n*n}l.OJ.a6Y(B,m,S)};l.OJ.rb=function(Z,m,S,B){return Z[m-S-4]*B[0]+Z[m-S]*B[1]+Z[m-S+4]*B[2]+Z[m-4]*B[3]+Z[m]*B[4]+Z[m+4]*B[5]+Z[m+S-4]*B[6]+Z[m+S]*B[7]+Z[m+S+4]*B[8]};
l.OJ.a6Y=function(Z,m,S){function B(v,q,e){var j=q*4,$=e*4;v[$]=v[j];v[$+1]=v[j+1];v[$+2]=v[j+2]}var C=m-1,u=S-1;
B(Z,m+1,0);B(Z,2*m-2,m-1);for(var r=1;r<C;r++)B(Z,m+r,r);for(var k=1;k<u;k++){B(Z,k*m+1,k*m);B(Z,k*m+m-2,k*m+m-1)}for(var r=1;
r<C;r++)B(Z,(S-2)*m+r,(S-1)*m+r);B(Z,(k-2)*m+1,(k-1)*m);B(Z,(k-1)*m-2,k*m-1)};l.js={};l.js.CY=function(Z,m,S,B){var C=Z[m*2],u=Z[m*2+1],r=Z[S*2],k=Z[S*2+1],v=Z[B*2],e=Z[B*2+1];
return C*k+r*e+v*u-v*k-r*u-C*e};l.js.Ak=function(Z,m){var S=[],B=[],C=[],u={};for(var q=0;q<m.length;
q+=3){var r=~~(q*(1/3)),k=m[q+0],v=m[q+1],e=m[q+2],j=l.js.CY(Z,k,v,e);if(j>0){var $=v;v=e;e=$}var U=u[e+"-"+v],H=u[v+"-"+k],z=u[k+"-"+e],f=[e,U,r,null],D=[v,H,r,f],n=[k,z,r,D];
f[3]=n;if(U)U[1]=f;if(H)H[1]=D;if(z)z[1]=n;u[e+"-"+k]=n;u[k+"-"+v]=D;u[v+"-"+e]=f;S[k]=D;C[q]=D;S[v]=f;
C[q+1]=f;S[e]=n;C[q+2]=n;B[r]=D}return{wq:S,y1:B,_n:C}};l.js.a1O=function(Z){var m=[],S=Z.y1;for(var q=0;
q<S.length;q++){var B=S[q];m.push(B[0]);B=B[3];m.push(B[0]);B=B[3];m.push(B[0])}return m};l.js.aai=function(Z,m,S,B){var C=Z[m*2],u=Z[m*2+1],r=Z[S*2],k=Z[S*2+1],v=Z[B*2],e=Z[B*2+1],j=r-C,$=k-u,U=v-C,H=e-u,z=j*(C+r)+$*(u+k),f=U*(C+v)+H*(u+e),D=2*(j*(e-k)-$*(v-r));
if(Math.abs(D)<1e-5){var n=Math.min(C,r,v),L=Math.min(u,k,e),a=(Math.max(C,r,v)-n)*.5,F=(Math.max(u,k,e)-L)*.5;
return[n+a,L+F,a*a+F*F,1]}var A=(H*z-$*f)/D,T=(j*f-U*z)/D,a=A-C,F=T-u;return[A,T,a*a+F*F,0]};l.js.a4A=function(Z,m,S){var B=S[1],C=S[3],u=C[3],r=B[3],k=r[3],v=S[2],e=B[2],j=S[0],$=B[0],U=C[0],H=r[0],z=l.js.aai(Z,$,H,U),f=Z[j*2]-z[0],D=Z[j*2+1]-z[1],n=f*f+D*D>z[2]&&z[3]==0&&l.js.CY(Z,H,j,U)<0&&l.js.CY(Z,U,$,H)<0;
if(n){S[0]=U;B[0]=H;S[3]=u;u[3]=r;r[3]=S;B[3]=k;k[3]=C;C[3]=B;C[2]=e;r[2]=v;m.y1[e]=k;m.y1[v]=u;m.wq[$]=r;
m.wq[j]=C}return n};l.js.arD=function(Z,m,S){var B=Z[m*2]-Z[S*2],C=Z[m*2+1]-Z[S*2+1];return Math.sqrt(B*B+C*C)};
l.js.a5v=function(Z,m,S){var B=S[1],C=S[3],u=C[3],r,k,v=S[2],e,j=S[0],$=u[0],U=C[0],H;if(B){r=B[3];k=r[3];
e=B[2];H=r[0]}var z=Z.length>>>1;Z[2*z]=(Z[2*$]+Z[2*j])*.5;Z[2*z+1]=(Z[2*$+1]+Z[2*j+1])*.5;if(!0){var f=v,D=S,n=m.y1.length,L=[z,null,f,D],a=[U,L,n,u];
L[1]=a;var F=[z,null,n,a];C[3]=L;u[3]=F;u[2]=n;m.y1[f]=C;m.y1[n]=F;m.wq[j]=C;m.wq[U]=u;m._n.push(L,a,F)}if(B){var A=e,T=B,P=n+1;
F[1]=T,T[1]=F;var Y=[z,null,A,T],Q=[H,Y,P,k];Y[1]=Q;var o=[z,D,P,Q];D[1]=o;r[3]=Y;k[3]=o;k[2]=P;m.y1[A]=r;
m.y1[P]=k;m.wq[$]=r;m.wq[H]=k;m._n.push(Y,Q,o)}m.wq[z]=D};l.js.jJ=function(Z,m){var S=0;while(!0){var B=S;
for(var q=0;q<m._n.length;q++){var C=m._n[q];if(C[1]==null)continue;var u=l.js.a4A(Z,m,C);if(u){S++;
break}}if(B==S)break}return S!=0};l.js.arI=function(Z,m,S,B){var C=0;for(var q=0;q<B;q++){var u=null,r=0;
for(var k=0;k<m._n.length;k++){var v=m._n[k],e=l.js.arD(Z,v[0],v[3][3][0])*(v[1]?1:2);if(e>r){u=v;r=e}}if(r>S){l.js.a5v(Z,m,u);
C++}}return C!=0};l.js.ae_=function(Z,m){var S=[],U=0;for(var q=0;q<Z.length;q++)S.push(0);for(var q=0;
q<m._n.length;q++){var B=m._n[q],C=B[0],u=B[3][3][0],r=Z[C*2],k=Z[C*2+1],v=Z[u*2],e=Z[u*2+1],j=r-v,$=k-e;
S[C*2]+=-j;S[C*2+1]+=-$;S[u*2]+=j;S[u*2+1]+=$}for(var q=0;q<Z.length;q+=2){var H=q>>>1,z=m.wq[H],B=z,D=!0;
do{if(B[1]==null){D=!1;break}B=B[1][3]}while(B!=z);if(D){var n=.02;Z[q]+=n*S[q];Z[q+1]+=n*S[q+1];U+=n*(S[q]*S[q]+S[q+1]*S[q+1])}}return U};
l.js.atT=function(Z,m,S){var B=l.H.su(Z),C=l.js.Ak(Z,m);l.js.jJ(Z,C);for(var u=0;u<300;u++){var r=!1,k=!1;
r=l.js.arI(Z,C,S,5);if(r)k=l.js.jJ(Z,C);var v=l.js.ae_(Z,C);if(!r&&!k&&v<1e-4){break}}return l.js.a1O(C)};
l.Ay={};l.Ay.NS=function(Z){var m=Z.ad,S=Z.lt,B=Z.E2,C=Z.$B,u=Z.pm,r=Z.ta,k=Z.hG,v=l.TZ.E8,L,a,F=0;function e(gY){var eo=new Array(gY);
for(var q=0;q<gY;q++)eo[q]=0;return eo}var j=S.length>>>1,$=e(m.Ui*2),U=e(m.Ui),H=e(m.Ui),z=Date.now();
for(var q=0;q<Z.bn.length;q++){var f=m.ad8+q,D=m.OU*(r[q*2]+k[q*2]),n=m.OU*(r[q*2+1]+k[q*2+1]);$[f*2]=D;
$[f*2+1]=n;U[f]=D;H[f]=n}m.afp.mr(C,m.acE.E8($),.01,L,a);for(var q=0;q<m.apz._n.length;q++){var A=m.apz._n[q],T=A[3][3][0],P=A[0],Y=A[3][0],Q=A[1]?A[1][3][0]:Y;
if(A[1]&&T>P)continue;var o=S[T*2],I=S[T*2+1],c=S[P*2],y=S[P*2+1],i=C[T*2],d=C[T*2+1],V=C[P*2],R=C[P*2+1],G=C[Y*2],M=C[Y*2+1],O=C[Q*2],K=C[Q*2+1],W=[i,d,V,R,G,M];
if(A[1])W.push(O,K);var t=v(m.a0v[F],W),X=t[0],h=t[1],b=1/Math.sqrt(X*X+h*h);X*=b;h*=b;var E=c-o,f0=y-I;
U[F]=X*E+h*f0;H[F]=-h*E+X*f0;F++}var ay=new Array(j),p=new Array(j);for(var q=0;q<j;q++){ay[q]=u[q*2];
p[q]=u[q*2+1]}m.afh.mr(ay,m.ar7.E8(U),.5);m.afh.mr(p,m.ar7.E8(H),.5);for(var q=0;q<j;q++){u[q*2]=ay[q];
u[q*2+1]=p[q]}};l.Ay.Ul=function(Z){var m=Z.lt,S=Z.E2,B=Z.bn,C=l.TZ.multiply,u=Date.now(),r=l.js.Ak(m,S),k=m.length>>>1,v=0,z=0,b=1e3;
for(var q=0;q<r._n.length;q++)v+=r._n[q][1]?.5:1;var e=v+B.length,j=[],$=new l.jg(e*2,k*2),U=new l.jg(e,k),H=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],f=[],D=[];
for(var q=0;q<r._n.length;q++){var n=r._n[q],L=n[3][3][0],a=n[0],A=n[3][0],T=n[1]?n[1][3][0]:A;if(n[1]&&L>a)continue;
var P=m[L*2],Y=m[L*2+1],Q=m[a*2],o=m[a*2+1],I=m[A*2],c=m[A*2+1],y=m[T*2],i=m[T*2+1],d=[[P,Y,1,0],[Y,-P,0,1],[Q,o,1,0],[o,-Q,0,1],[I,c,1,0],[c,-I,0,1]];
if(n[1])d.push([y,i,1,0],[i,-y,0,1]);var V=l.TZ.O5(d),R=C(linear.invert(C(V,d)),V);R.pop();R.pop();j.push(R);
var G=Q-P,M=o-Y,O=H[n[1]?1:0];O=l.TZ.Vf(O,C([[G,M],[M,-G]],R));var K=[L*2,L*2+1,a*2,a*2+1,A*2,A*2+1,T*2,T*2+1],W=n[1]?8:6,t=[];
for(var X=0;X<W;X++)t.push([K[X],O[0][X],O[1][X]]);t.sort(function(co,c5){return co[0]-c5[0]});for(var h=0;
h<2;h++){for(var X=0;X<W;X++){f[X]=t[X][0];D[X]=t[X][1+h]}$.La(D,f,W)}if(L<a)U.La([-1,1],[L,a],2);else U.La([1,-1],[a,L],2);
z++}for(var q=0;q<B.length;q++){var E=B[q];$.La([b],[E*2],1);$.La([b],[E*2+1],1);U.La([b],[E],1)}var f0=$.O5(),ay=f0.vW(f0),p=U.O5(),eo=p.vW(p);
return{ad8:v,Ui:e,acE:f0,afp:ay,ar7:p,afh:eo,apz:r,a0v:j,OU:b}};l.Ay.a3X=function(Z,m,S,B,C){var u=new bq(0,0,m,S),r=l.U(u.Z());
l.NK(Z,r,3);l.round(r,70);var k=l.cg(r,u),v=[.1,.065,.035][B]*Math.max(k.e,k.n),e=C+1,j=m+e*2,$=S+e*2,U=new bq(-e,-e,j,$),H=l.U(U.Z());
l.Ju(r,u,H,U);var z=H.slice(0);for(var f=0;f<C;f++){for(var n=1;n<$-1;n++){for(var L=1;L<j-1;L++){var q=n*j+L;
z[q]=H[q-j]|H[q-1]|H[q]|H[q+1]|H[q+j]}}var a=z;z=H;H=a}var F=fE.Au(H,j,$,Math.round(k.Z()*5e-4)),A=fE.Nu(F),T=new ht(1,0,0,1,-e,-e);
for(var q=0;q<A.length;q++){var P=A[q];l.H.A(P.path.t,T,P.path.t);P.lt=l.Ay.a1B(P.path);P.E2=l.H.aqW(P.lt);
P.E2=l.js.atT(P.lt,P.E2,v)}return A};l.Ay.a1B=function(Z){var m=[],S=Z.t,B=Z.C.length-1,C=0,u=0;for(var r=0;
r<B;r++){var q=r*6,k=S[q+6]-S[q+0],v=S[q+7]-S[q+1],e=Math.ceil(Math.sqrt(k*k+v*v));for(var j=0;j<e;j++){var $=j/e,U=1-$,H=U*U*U*S[q+0]+3*U*U*$*S[q+2]+3*U*$*$*S[q+4]+$*$*$*S[q+6],z=U*U*U*S[q+1]+3*U*U*$*S[q+3]+3*U*$*$*S[q+5]+$*$*$*S[q+7];
m.push(H,z);C=H;u=z}}m=l.H.jI(m,1);var f=[],D=m.length;for(var q=0;q<D;q+=2){var z=m.pop(),H=m.pop();
f.push(H,z)}return f};l.Ay.ag$=function(Z,m,S,B){function C(Y,Q,o,I,c){var y=c[Y*2]-c[Q*2],i=c[Y*2+1]-c[Q*2+1],d=Math.sqrt(y*y+i*i);
if(o[Y].indexOf(Q)==-1){o[Y].push(Q);I[Y].push(d)}if(o[Q].indexOf(Y)==-1){o[Q].push(Y);I[Q].push(d)}}var u=Z.length>>>1,r=new Array(u);
if(S.length==0){r.fill(0);return r}var k=new Array(u),v=new Array(u);for(var q=0;q<u;q++){k[q]=[];v[q]=[]}for(var q=0;
q<m.length;q+=3){C(m[q],m[q+1],k,v,Z);C(m[q],m[q+2],k,v,Z);C(m[q+1],m[q+2],k,v,Z)}var e=new Float64Array(u*2),j=new Uint32Array(u*2);
e.fill(1e9);var $=new Uint8Array(u);for(var U=0;U<S.length;U++){$.fill(0);var H=["---",[0,S[U]]];while(H.length!=1){var z=l._J.ajj(H),f=z[0],D=z[1];
if($[D]==1)continue;var n=D<<1;if(f<e[n]){e[n+1]=e[n];j[n+1]=j[n];e[n]=f;j[n]=U}else if(f<e[n+1]){e[n+1]=f;
j[n+1]=U}$[D]=1;var L=k[D],a=v[D];for(var q=0;q<L.length;q++){var F=L[q];if($[F]!=1){l._J.a6x(H,[f+a[q],F])}}}}for(var q=0;
q<u;q++){var n=q<<1,A=e[n],T=e[n+1],P=1/(A+T);r[q]=(1-A*P)*B[j[n]]+(1-T*P)*B[j[n+1]]}return r};l.Ay.atH=function(Z){var m={C:[],t:[]},S=[Z];
while(S.length!=0){var B=S.pop(),C=B.rK;if(B.alP instanceof Array||B.ao_ instanceof Array){m.C.push("M","L","L","L","Z");
m.t.push(C[0],C[1],C[2],C[1],C[2],C[3],C[0],C[3])}else S.push(B.alP,B.ao_)}return m};l.Ay.fs=function(Z,m,S,B,C,u,r,k,v,e){var j=Math.round(e.length/3),$=new Array(j);
for(var q=0;q<j;q++)$[q]=q;$.sort(function(H,z){return v[e[H*3]]-v[e[z*3]]});for(var q=0;q<j;q++){var U=$[q]*3;
l.Ay.arw(e[U]*2,e[U+1]*2,e[U+2]*2,r,k,Z,m,S,B,C,u)}};l.Ay.arw=function(Z,m,S,B,C,u,r,k,v,e,j){var $=l.Ay.eW,U=[Z,m,S,1.2,1.2,1.2,0],H=[0,0,0,0],z=C[Z],f=C[Z+1],D=C[m],n=C[m+1],L=C[S],a=C[S+1],F=Math.max(0,Math.min(r-1,B[Z])),A=Math.max(0,Math.min(r-1,B[m])),T=Math.max(0,Math.min(r-1,B[S])),P=Math.max(0,Math.min(k-1,B[Z+1])),Y=Math.max(0,Math.min(k-1,B[m+1])),Q=Math.max(0,Math.min(k-1,B[S+1])),o=D-z,I=n-f,c=L-z,y=a-f,i=1/(o*y-c*I+1e-9),d=Math.max(0,Math.floor(Math.min(z,D,L))),V=Math.min(e,Math.ceil(Math.max(z,D,L))),R=Math.max(0,Math.floor(Math.min(f,n,a))),G=Math.min(j,Math.ceil(Math.max(f,n,a)));
for(var M=R;M<G;M++)for(var O=d;O<V;O++){var K=O+.5-z,W=M+.5-f,t=(K*y-c*W)*i,X=(o*W-K*I)*i;if(t>=0&&X>=0&&t+X<=1){var h=1-t-X,b=F*h+A*t+T*X,E=P*h+Y*t+Q*X;
l.N.tF(b,E,u,r,k,H);l.Ay.amW(H,v,M*e+O<<2)}}};l.Ay.amW=function(Z,m,S){var B=m[S],C=m[S+1],u=m[S+2],r=m[S+3],k=1-Z[3]*(1/255);
m[S]=~~(.5+Z[0]+B*k);m[S+1]=~~(.5+Z[1]+C*k);m[S+2]=~~(.5+Z[2]+u*k);m[S+3]=~~(.5+Z[3]+r*k)};l.Ay.eW=function(){var Z=function(S,B,C,u){var r=u[0],k=u[1],v=u[2],e=S[r+0],j=S[r+1],$=S[k+0],U=S[k+1],H=S[v+0],z=S[v+1],f=$-e,D=U-j,n=H-e,L=z-j,a=B-e,F=C-j,A=f*L-n*D,T=1/(A+1e-9),P=(a*L-n*F)*T,Y=(f*F-a*D)*T;
if(P>=0&&Y>=0&&P+Y<=1){u[3]=1-P-Y;u[4]=P;u[5]=Y;return 1}return 0},m=function(S,B,C,u){var r=[0,0,0,0,0,0];
for(var q=0;q<B.length;q+=3){r[0]=B[q]*2;r[1]=B[q+1]*2;r[2]=B[q+2]*2;if(Z(S,C,u,r)==1)return!0}return!1};
return{a2i:Z,al$:m}}();l.Yu={};l.Yu.aq9=function(Z,m,S){var B=l.U(m*S*4),C=!1;l.N.zN(Z,m,S,B,[S,m,0,1,0,1,0,0]);
return[l.Yu.VB(Z,m,S,C),l.Yu.VB(B,S,m,C)]};l.Yu.A=function(Z,m){var S=!1,B=Z[0],C=Z[1],u=B[1],r=B[2],k=B[3],v=m.e,e=m.n;
if(r==v&&k==e)u=u.slice(0);else if(k!=e){var j=l.U(r*e*4);l.Yu.eR(C,e,j,S);u=l.U(r*e*4);l.N.zN(j,e,r,u,[r,e,0,1,0,1,0,0]);
if(r!=v){B=l.Yu.VB(u,r,e,S);u=l.U(v*e*4);l.Yu.eR(B,v,u,S)}}else if(r!=v){u=l.U(v*k*4);l.Yu.eR(B,v,u,S)}return u};
l.Yu.VB=function(Z,m,S,B){var C=Date.now(),u=new Uint16Array(m*S),r=1;l.Yu.adj(Z,m,S,u);var k=Math.ceil(m/r),v=new Uint32Array(r),e=new Uint32Array(r),k=Math.floor(m/r);
for(var j=0;j<r;j++)e[j]=j<r-1?k:m-(r-1)*k;for(var $=0;$<S;$++){var q=$*m;for(var j=0;j<r;j++){var k=e[j];
for(var U=0;U<k;U++)v[j]+=u[q+U];q+=k}}if(B){console.log(Date.now()-C,"cost");C=Date.now()}var H=new Uint32Array(m),z=new Uint32Array(m),f=new Uint32Array(m*S);
for(var U=0;U<m;U++){f[(S-1)*m+U]=u[(S-1)*m+U]}for(var $=S-2;$>=0;$--){var D=$*m;for(var j=0;j<r;j++){var k=e[j];
f[D]=u[D]+Math.min(f[D+m],f[D+m+1]);for(var U=1;U<k-1;U++){var q=D+U;f[q]=u[q]+Math.min(f[q+m-1],Math.min(f[q+m],f[q+m+1]))}D+=k-1;
f[D]=u[D]+Math.min(f[D+m-1],f[D+m]);D++}}if(B){console.log(Date.now()-C,"Building M");C=Date.now()}function n(I,c){return I<c?I:c}function L(q,I){var c=z[q],y=f[I],i=~~(c*y*1e-4);
return i}var a=new Uint8Array(m*S),F=new Uint32Array(m);for(var q=0;q<m;q++){H[q]=q;z[q]=u[q]}for(var $=1;
$<S;$++){var A=0,D=$*m;for(var j=0;j<r;j++){var k=e[j],q=D;F[A]=L(A,q);var T=F[A]+L(A+1,q+1),P=L(A,q+1)+L(A+1,q);
F[A+1]=n(T,P);for(var U=2;U<k;U++){var q=D+U,Y=F[A+U-1]+L(A+U-1,q-1),Q=F[A+U-2]+L(A+U-1,q-2)+L(A+U-2,q-1);
F[A+U]=n(Y,Q)}var U=k-1;while(U>=2){var q=D+U,Y=F[A+U-1]+L(A+U-1,q-1),Q=F[A+U-2]+L(A+U-1,q-2)+L(A+U-2,q-1);
if(F[A+U]==Y){a[q-m]=1;U-=1}else{a[q-m]=0;a[q-m-1]=2;U-=2}}var q=D;if(U==0){a[q-m]=1}else{if(F[A+1]==T){a[q+1-m]=1;
a[q-m]=1}else{a[q+1-m]=0;a[q-m]=2}}D+=k;A+=k}l.Yu.asr($,m,a,u,H,z,!0,C)}if(B){console.log(Date.now()-C,"Matching");
C=Date.now()}var o=u;return[UZIP.adler(Z,0,Z.length),Z,m,S,r,e,v,H,z,a,o]};l.Yu.eR=function(Z,m,S,B){var C=Z.slice(0),u=C.shift(),r=C.shift(),k=C.shift(),v=C.shift(),e=C.shift(),j=C.shift(),$=C.shift(),U=C.shift(),H=C.shift().slice(0),z=C.shift(),f=C.shift(),D=Date.now(),n=Math.abs(k-m),L=Math.floor(n/e),a=new Uint32Array(e),A=0,T=1e9,Y=0,Q=0,o=0;
for(var F=0;F<e;F++)a[F]=F<e-1?L:n-(e-1)*L;f.fill(0);for(var P=0;P<k;P++){A=Math.max(A,H[P]);T=Math.min(T,H[P])}for(var F=0;
F<e;F++){var I=j[F],L=a[F];for(var c=0;c<L;c++){var y=0,i=1e9;for(var P=0;P<I;P++)if(H[Q+P]<i){i=H[Q+P];
y=Q+P}if(m<k)H[y]=1e9;else H[y]*=1.2;if(o<k/3)Y+=i;var d=U[y],V=f[d],R=V<65280?65280:V+1;if(R<65280)throw"e";
for(var G=0;G<v;G++){var q=G*k+d;f[q]=R;d+=z[q]-1}o++}Q+=I}if(B){console.log(Date.now()-D,"Removing best seams");
D=Date.now()}function M(q,K){var W=q<<2,t=K<<2;S[W]=r[t];S[W+1]=r[t+1];S[W+2]=r[t+2];S[W+3]=r[t+3]}for(var G=0;
G<v;G++){var O=0,q=G*k;for(var P=0;P<m;P++,O++){if(m<k){while(f[q+O]==65280)O++;M(G*m+P,G*k+O)}else{M(G*m+P,G*k+O);
while(f[q+O]>=65280){f[q+O]--;P++;M(G*m+P,G*k+O)}}}}if(B){console.log(Date.now()-D,"Shifting image pixels");
D=Date.now()}};l.Yu.asr=function(Z,m,S,B,C,u){var r=0,q=Z*m;while(r<m){if(S[q-m]==1){u[r]=u[r]+B[q];
r++;q++}else{var k=C[r];C[r]=C[r+1];C[r+1]=k;var v=u[r];u[r]=u[r+1]+B[q];u[r+1]=v+B[q+1];r+=2;q+=2}}};
l.Yu.adj=function(Z,m,S,B){function C(Z,q,v){var $=q<<2,U=v<<2,H=Z[$]-Z[U],z=Z[$+1]-Z[U+1],f=Z[$+2]-Z[U+2];
return Math.abs(H)+Math.abs(z)+Math.abs(f)}for(var u=1;u<m;u++){var r=C(Z,u,u-1);B[u-1]+=r;B[u]+=r}for(var k=1;
k<S;k++){var v=k*m,r=C(Z,v,v-m);B[v]+=r;B[v-m]+=r;for(var u=1;u<m;u++){var q=k*m+u,e=C(Z,q,q-1),j=C(Z,q,q-m);
B[q-m]+=j;B[q-1]+=e;B[q]+=j+e}}for(var k=0;k<S;k++){B[k*m]*=2;B[k*m+m-1]*=2}for(var q=0;q<B.length;q++)if(B[q]==0)B[q]=1};
l.Lb=function(){var Z=0,m=0,B=15,u=256;function S(j,$,U,H,z,f){var D=(z-1)*$,n=f*$;return j[n+H]-j[n+U-1]-j[D+H]+j[D+U-1]}var C=Math.round(B/8),r=[];
function k(j,$){for(var U=0;U<$.length;U++){var H=$[U],z=0,f=0,D=j[H.e9],n=D.Ku,L=D.OU,a=D.Vi;for(var F=-B;
F<=B;F++)for(var A=-B;A<=B;A++){var T=A+H.atO,P=F+H.a0P;if(A*A+F*F>B*B||T<0||P<0||T>=L||P>=L)continue;
var Y=n[P*L+T];z+=A*Y;f+=F*Y}H.i7=Math.atan2(f,z)}}function v(j,$,U,H,z){var f=~~(j+.5),D=~~($+.5);return S(U,H,f-C,f+C,D-C,D+C)}function e(j,$,U,H,z){Z=H;
m=z;if(r.length==0){var f=new l.a.hb(16200817),a=8,F=0;function D(eo){var o=eo[0]-eo[2],I=eo[1]-eo[3];
return o*o+I*I}function n(){var eo=0,co=0;while(eo===0)eo=f.get();while(co===0)co=f.get();return Math.sqrt(-2*Math.log(eo))*Math.cos(2*Math.PI*co)}var L=n,A=[];
while(F!=u){var T=Math.max(-B,Math.min(B,L()*a)),P=Math.max(-B,Math.min(B,L()*a)),Y=Math.max(-B,Math.min(B,L()*a)),Q=Math.max(-B,Math.min(B,L()*a)),o=T-Y,I=P-Q,c=Math.sqrt(o*o+I*I);
if(c<3||c>12)continue;r.push(T,P,Y,Q);F++}}var y=20;for(var i=0;i<$.length;i++){var d=$[i],V=j[d.e9],R=V.Ap,U=V.Ku,H=V.OU,z=V.Vi,G=d.atO,M=d.a0P,O=d.i7,K=Math.cos(O),W=Math.sin(O),t=new Uint8Array(u>>>3);
d.Oz=t;for(var q=0;q<u;q++){var X=q*4,T=r[X+0],P=r[X+1],Y=r[X+2],Q=r[X+3],h=K*T-W*P,b=W*T+K*P,E=K*Y-W*Q,f0=W*Y+K*Q,ay=v(G+h,M+b,R,H,z),p=v(G+E,M+f0,R,H,z);
t[q>>>3]|=(ay<p?0:1)<<(q&7)}}}return{aaH:k,arY:e}}();l.a5F=function(){function Z(m,S){var B=[[9]],C=Date.now(),u=[];
for(var r=0;r<m.length;r++){var k=m[r],v=k.Ap,e=k.OU,j=k.Vi,H=9,a=1,d=24;if(v==null)continue;var $=new Float32Array(e*j),U=new Uint8Array(e*j),z=H>>>1,f=z>>>1,D=Math.round(H/3);
if(D!=H/3)throw"e";var n=1/(H*H),L=1.2*(H/9);for(var F=z+1;F<j-z;F+=a)for(var A=z+1;A<e-z;A+=a){var T=l.$e(v,e,A-f,A+f,F-z,F+z)-3*l.$e(v,e,A-f,A+f,F-z+D,F+z-D),P=l.$e(v,e,A-z,A+z,F-f,F+f)-3*l.$e(v,e,A-z+D,A+z-D,F-f,F+f),Y=A-z+1,Q=A+z-1,o=F-z+1,I=F+z-1,c=l.$e(v,e,Y,A-1,o,F-1)+l.$e(v,e,A+1,Q,F+1,I)-l.$e(v,e,A+1,Q,o,F-1)-l.$e(v,e,Y,A-1,F+1,I),y=(P*T-.9*c*(.9*c))*(n*n);
$[F*e+A]=Math.abs(y);U[F*e+A]=y<0?0:1}var i=e*a;for(var F=d;F<j-d;F+=a)for(var A=d;A<e-d;A+=a){var q=F*e+A,V=$[q];
if(V<16)continue;if($[q-a]>=V||$[q+a]>=V)continue;if($[q-i-a]>=V||$[q-i]>=V||$[q-i+a]>=V)continue;if($[q+i-a]>=V||$[q+i]>=V||$[q+i+a]>=V)continue;
u.push({x:~~(A*k.si+.5),y:~~(F*k.si+.5),atO:A,a0P:F,e9:r,k:V,apn:U[q],Ve:L})}}if(S!=null){u.sort(function(X,h){return h.k-X.k});
u=u.slice(0,S)}return u;var R=[];for(var q=0;q<u.length;q++){var G=!0,M=u[q];for(var O=0;O<u.length;
O++){var K=u[O];if(O!=q&&K.k>M.k&&(K.e9==M.e9+1||K.e9==M.e9-1)){var W=M.x-K.x,t=M.y-K.y;if(W*W+t*t<5){G=!1;
break}}}if(G)R.push(M)}console.log(u.length,R.length);return R}return{a5p:Z}}();l.WV={};l.WV.al8=function(Z){var m=Z.length,S=l.WV.Rm(Z,!1),C=0,u=1;
throw"e";var B=[];for(var q=0;q<m;q++)B[q]=l.WV.O_(S[q]);var r=Z[0][1],k=l.WV.match(S[C],S[u],B[u]);
console.log(k.length);var v=Math.max(Math.min(k.length,40),k.length*.54);v=Math.min(v,200);var e=k.slice(0,v),j=l.Jx.a6B(S[C],S[u],e,r.e,r.n),$=l.Jx.anO(j,[0,0,0],1),U=r.e/2,H=r.n/2,z=1/Math.max(U,H);
for(var q=0;q<1;q++){var f=e[q],D=S[C][f[0]],n=S[u][f[1]],L=l.Jx.a1A($,z*(D.x-U),z*(D.y-H),z*(n.x-U),z*(n.y-H))}var a=l.Jx.a1T(j,r),F=[];
for(var q=0;q<2;q++){var A=a[q],T=[A[0][0],A[0][1],A[0][2],A[1][0],A[1][1],A[1][2],A[2][0],A[2][1]],P=g.Q.tR(Z[q],null,T);
F.push([P.buffer,P.rect])}return[l.WV.ao9(F[0],F[1],S[C],S[u],e,j,a,r)]};l.WV.Gu=function(Z,m){var S=Z.length,B=!1,C=Date.now(),u=l.WV.Rm(Z,!1,1e4);
if(B)console.log("Descriptors ready",Date.now()-C);C=Date.now();for(var q=0;q<S;q++){var r=Z[q][1];for(var k=0;
k<u[q].length;k++){u[q][k].x+=r.x;u[q][k].y+=r.y}}if(B)console.log("shifted",Date.now()-C);C=Date.now();
var v=[];for(var q=0;q<S;q++)v[q]=l.WV.O_(u[q]);if(B)console.log("trees built",Date.now()-C);C=Date.now();
var e=[];for(var q=0;q<S-1;q++)for(var k=q+1;k<S;k++){var j=l.WV.match(u[q],u[k],v[k]);if(B)console.log("Matches found",q,k,j.length);
j=j.slice(0,j.length>>>1);if(j.length<10)return null;var $=l.WV.aa2(u[q],u[k],j,2);e.push([q,k,j,$])}e.sort(function(o,I){return I[2].length-o[2].length});
if(B)console.log("Matches found",Date.now()-C);C=Date.now();var U=[],H=new UnionFind(S);for(var q=0;
q<e.length;q++){var z=e[q],D=H.find(z[0]),n=H.find(z[1]);if(D!=n){U.push(z);H.link(D,n)}}var L=[];for(var q=0;
q<S;q++)L[q]=[1,0,0,0,1,0,0,0];var a=[0],F=new Uint8Array(S);F[a[0]]=1;while(a.length!=0){var n=a.pop(),$=L[n],A=[];
for(var q=0;q<U.length;q++){var z=U[q],T=z[0],P=z[1];if(T==n&&F[P]==0){L[P]=l.N.n_($,z[3]);a.push(P);
F[P]=1}if(P==n&&F[T]==0){L[T]=l.N.n_($,l.N.Yy(z[3]));a.push(T);F[T]=1}}}if(m==null){var Y=[];for(var q=0;
q<S;q++)Y.push([L[q][2],q]);Y.sort(function(o,I){return o[0]-I[0]});m=Y[Y.length>>>1][1]}var Q=l.N.Yy(L[m]);
for(var q=0;q<S;q++)L[q]=l.N.n_(L[q],Q);if(B)console.log("Transforms reordered",Date.now()-C);C=Date.now();
return L};l.WV.Rm=function(Z,m,S){var B=[],C=!1;for(var q=0;q<Z.length;q++){var u=Z[q][0],r=Z[q][1],k=r.e,v=r.n,e=l.U(r.Z());
l.Iy(u,e);var j=Date.now(),$=l.WV.aiX(e,r,!0);if(C)console.log("Pyramid built ---------------",Date.now()-j);
j=Date.now();var U=l.a5F.a5p($,S);if(C)console.log("SURF Generation",Date.now()-j);j=Date.now();if(!m){l.Lb.aaH($,U);
if(C)console.log("ORB Orientations",Date.now()-j);j=Date.now();l.Lb.arY($,U,e,k,v);if(C)console.log("ORB Descriptors",Date.now()-j);
j=Date.now()}B.push(U)}return B};l.WV.aiX=function(Z,m,S){var B=[],C=[Z,m];l.mE(C);if(S){var u=l.FV(Z,m),r=u.rect,k=[u.MW,r];
l.mE(k)}for(var q=0;q<C.length;q++){var v=C[2*q],e=C[2*q+1],j=e.e,$=e.n,U=Math.min(j,$);if(U<30)break;
if(U<1600)B.push({Ku:v,OU:j,Vi:$,si:1<<q,Ap:l.Cq(v,j,$)});if(!S)continue;var v=k[2*q],e=k[2*q+1],j=e.e,$=e.n,U=Math.min(j,$);
if(U<30)break;if(U<1600)B.push({Ku:v,OU:j,Vi:$,si:(1<<q)*3/2,Ap:l.Cq(v,j,$)})}return B};l.WV.aa2=function(Z,m,S,B){var C=Date.now(),u,r=0,k=0,v=S.length,e=new Float64Array(2);
for(var j=0;j<3e3;j++){var $=~~(Math.random()*v),U=~~(Math.random()*v),H=~~(Math.random()*v),z=~~(Math.random()*v),i=0,d=0;
if($==U||$==H||$==z||U==H||U==z||H==z)continue;var f=S[$],D=S[U],n=S[H],L=S[z],a=Z[f[0]],F=m[f[1]],A=Z[D[0]],T=m[D[1]],P=Z[n[0]],Y=m[n[1]],Q=Z[L[0]],o=m[L[1]],I=[a.x,a.y,A.x,A.y,P.x,P.y,Q.x,Q.y],c=[F.x,F.y,T.x,T.y,Y.x,Y.y,o.x,o.y],y=l.N._7(I,c);
if(y[0]==0&&y[1]==0&&y[3]==0&&y[4]==0)continue;var V=v-r+2;for(var q=0;q<v&&q-i<V;q++){var R=Z[S[q][0]],G=m[S[q][1]];
l.N.gW(G.x,G.y,y,e);var M=e[0]-R.x,O=e[1]-R.y,K=M*M+O*O;if(K<B){i++;d+=K}}if(i>r||i==r&&d<k){u=y;r=i;
k=d}}return u};var eV=new Uint8Array(256);for(var q=0;q<256;q++){var cd=0,gY=q;while(gY!=0){gY=gY&gY-1;
cd++}eV[q]=cd}l.WV.ajB=function(Z,m,S){var B=0,C=Z.length;for(var q=0;q<C&&B<S;q++)B+=eV[Z[q]^m[q]];
return B};l.WV.a9G=function(Z,m,S,top,B){if(B[S]==1)return;var C=l.WV.ajB(Z.Oz,m.Oz,top[0]);if(C<top[0]){if(C<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=C;top[3]=S}else{top[0]=C;top[1]=S}}B[S]=1};l.WV.O_=function(Z){var m=[],S=[],B=[[],[]],C=4;
for(var q=0;q<Z.length;q++)(Z[q].apn==0?m:S).push(q);for(var u=0;u<2;u++){var r=new Array(C),k=[],v=u==0?m:S,e=v.length/256,j=[];
for(var $=0;$<32;$++){var U=new Array(256),f=0;for(var H=0;H<256;H++)U[H]=[];for(var H=0;H<v.length;
H++){var z=v[H];U[Z[z].Oz[$]].push(z)}for(var H=0;H<256;H++)f+=Math.abs(U[H].length-e);j.push([f,$,U])}j.sort(function(D,n){return D[0]-n[0]});
var k=[],r=[];B[u]=[k,r];for(var q=0;q<C;q++){k.push(j[q][1]);r.push(j[q][2])}}return B};l.WV.match=function(Z,m,S){var B=[],C=new Uint16Array(m.length);
C.fill(65535);var u=new Uint8Array(m.length),top=new Uint32Array(4),r=[];for(var k=0;k<Z.length;k++){var v=Z[k],e=v.Oz;
top.fill(1e6);u.fill(0);var j=S[v.apn];for(var $=0;$<j[1].length;$++){var U=j[1][$][e[j[0][$]]];for(var H=0;
H<U.length;H++){var z=U[H];l.WV.a9G(v,m[z],z,top,u)}}if(top[2]<50&&top[2]<top[0]*.5){var f=C[top[3]];
if(f==65535){C[top[3]]=B.length;B.push([k,top[3],top[2]])}else if(top[2]<B[f][2]){B[f]=[k,top[3],top[2]]}}}B.sort(function(D,n){return D[2]-n[2]});
return B};l.WV.a3d=function(Z){var m=new bq;for(var q=0;q<Z.length;q++)m=m.j3(Z[q][1]);var S=l.U(m.Z()*4);
for(var q=0;q<Z.length;q++)l.a.qn("norm",Z[q][0],Z[q][1],S,m,m,1);return[S,m]};l.WV.ao9=function(Z,m,S,B,C,u,r,k){var v=Z[1].clone(),e=v.clone();
v.x=v.y=0;var j=m[1].clone(),$=j.clone();j.x=j.y=0;j.x=v.e;var U=v.j3(j),H=$.y-e.y,z=l.U(U.Z()*4);l.pY(Z[0],v,z,U);
l.pY(m[0],new bq(j.x,j.y+H,j.e,j.n),z,U);var f=document.createElement("canvas");f.width=U.e;f.height=U.n;
var D=f.getContext("2d");D.lineWidth=.5;D.putImageData(new ImageData(new Uint8ClampedArray(z.buffer),U.e,U.n),0,0);
if(u){var n=u[0],L=l.TZ.O5(n),a=v.e,F=k.e;for(var q=0;q<C.length;q++){var A=C[q],Z=S[A[0]],m=B[A[1]];
D.strokeStyle="#"+"ff0000";D.beginPath();var T=l.Jx.a1f(L,r[0],m,0,F),P=l.Jx.a1f(n,r[1],Z,0,F);D.moveTo(-e.x+T[0],-e.y+T[1]);
D.lineTo(-e.x+T[2],-e.y+T[3]);D.moveTo(a-$.x+P[0],-$.y+H+P[1]);D.lineTo(a-$.x+P[2],-$.y+H+P[3]);D.stroke()}}if(C){var Y=C.length;
for(var q=0;q<Y;q++){var A=C[q],Z=S[A[0]],m=B[A[1]];D.strokeStyle="#"+"ffff00"}}var Q=new Uint8Array(D.getImageData(0,0,U.e,U.n).data.buffer);
if(!1){for(var o=0;o<2;o++){var I=o==0?S:B,c=o*v.e;for(var q=0;q<I.length;q++){var y=I[q],i=~~y.x,d=~~y.y,V=(d*U.e+i+c)*4;
Q[V+1]=Q[V+2]=y.apv*60;Q[V+0]=0;Q[V+3]=255}}}return[Q,U]};l.stack={};l.stack.stack=function(Z,m,S){var B=Z.length,C=m.length;
if(B==1){m.set(Z[0]);return}if(S=="avrg"||S=="stdv"||S=="summ"||S=="vari"){var u=1/B;for(var q=0;q<C;
q++){var r=0;for(var k=0;k<B;k++)r+=Z[k][q];var v=~~(r*u+.5);if(S=="avrg"||(q&3)==3)m[q]=v;else if(S=="summ")m[q]=255*Math.pow(Math.min(255,r)*(1/255),1/2.4);
else{var e=0;for(var k=0;k<B;k++){var j=Z[k][q]-v;e+=j*j}var $=Math.sqrt(e*u)*(1/255);if(S=="stdv")m[q]=255*Math.pow($,1/2.4);
else m[q]=255*Math.pow($*$,1/2.4)}}}else if(S=="maxx"){for(var q=0;q<C;q++){var U=0;for(var k=0;k<B;
k++)U=Math.max(U,Z[k][q]);m[q]=U}}else if(S=="minn"){for(var q=0;q<C;q++){var U=255;for(var k=0;k<B;
k++)U=Math.min(U,Z[k][q]);m[q]=U}}else if(S=="medn"||S=="rang"){var H=function(n,L){return n-L},z=new Array(B),f=0,D=0;
if(B%1==0){D=B>>>1;f=D-1}else{f=D=B>>>1}for(var q=0;q<C;q++){for(var k=0;k<B;k++)z[k]=Z[k][q];z.sort(H);
if(S=="medn")m[q]=z[f]+z[D]>>>1;else m[q]=(q&3)==3?z[B-1]:z[B-1]-z[0]}}else console.log(S)};l.Yh={};
l.Yh.ab1=function(Z,m,S,B){var C=Date.now(),u=new Uint32Array(m*S),r=new Uint8Array(m*S);while(!0){r.fill(0);
u.fill(0);var k=[],v=0;for(var e=0;e<S;e++){for(var j=0;j<m;j++){var q=e*m+j;if(r[q]==0){var $=k.length,U=l.Yh.GJ(Z,m,S,j,e,r,u,$);
k.push([$,j,e,U[0],U[1],Z[q]]);if(U[0]<B)v++}}}if(v==0)break;var H=k.length,z=new UnionFind(H),f=[];
for(var q=0;q<H;q++)f.push([]);for(var q=0;q<H;q++){var U=k[q],D=U[4],n=0,L=0;if(U[3]>=B)continue;var $=U[0];
for(var a=0;a<D.length;a+=2){var F=u[D[a+1]*m+D[a]],A=k[F];if(A[3]>L){L=A[3];n=F}}if(z.find($)!=z.find(n)){z.link($,n);
f[$].push(n);f[n].push($)}}var T=new Uint32Array(H);T.fill(4294967295);var P=new Uint32Array(H);for(var q=0;
q<H;q++){if(T[q]!=4294967295||f[q].length==0)continue;var Y=[q],Q=[q],o=q,I=k[q][3];while(Q.length!=0){var c=Q.pop(),y=f[c];
for(var a=0;a<y.length;a++){var i=y[a];if(Y.indexOf(i)==-1){Y.push(i);Q.push(i);var d=k[i];if(d[3]>I){I=d[3];
o=i}}}}for(var a=0;a<Y.length;a++){T[Y[a]]=o;var V=k[o];P[Y[a]]=Z[V[2]*m+V[1]]}}for(var e=0;e<S;e++)for(var j=0;
j<m;j++){var q=e*m+j,R=T[u[q]];if(R!=4294967295)Z[q]=P[R]}}};l.Yh.GJ=function(Z,m,S,B,C,u,r,k){var v=[B,C],e=Z[C*m+B],j=0,$=[];
u[C*m+B]=1;while(v.length!=0){var U=v.pop(),H=v.pop(),q=U*m+H;r[q]=k;j++;if(U!=S-1)if(Z[q+m]==e){if(u[q+m]==0){v.push(H,U+1);
u[q+m]=1}}else $.push(H,U+1);if(U!=0)if(Z[q-m]==e){if(u[q-m]==0){v.push(H,U-1);u[q-m]=1}}else $.push(H,U-1);
if(H!=m-1)if(Z[q+1]==e){if(u[q+1]==0){v.push(H+1,U);u[q+1]=1}}else $.push(H+1,U);if(H!=0)if(Z[q-1]==e){if(u[q-1]==0){v.push(H-1,U);
u[q-1]=1}}else $.push(H-1,U)}return[j,$]};l.Yh.ajF=function(Z,m,S,B,C){var u=l.Yh.bs(Z.buffer,m,S).dH,r=Date.now(),k=[];
for(var q=0;q<u.length;q++){var v=u[q],e=1;for(var j=0;j<e;j++)k.push(v.mw)}var $=new Uint32Array(k),U=UPNG.quantize.getKDtree(new Uint8Array($.buffer),B),H=[m,1,-m,-1,m+1,-m+1,-m-1,m-1,m+m,2,-m-m,-2,m+m-1,m+m+1,m+2,-m+2,-m-m+1,-m-m-1,-m-2,m-2,m+m+2,-m-m+2-m-m-2,m+m-2],z=new Uint8Array(m*S),f=Z;
for(var D=0;D<S;D++)for(var n=0;n<m;n++){var q=D*m+n<<2,L=f[q]*(1/255),a=f[q+1]*(1/255),F=f[q+2]*(1/255),A=f[q+3]*(1/255),T=l.Yh.yr(U,L,a,F,A,C);
if(T==null){var P=[],Y=0;while(Y<20){var Q=D*m+n+H[Y]<<2,o=f[Q]*(1/255),I=f[Q+1]*(1/255),c=f[Q+2]*(1/255),y=f[Q+3]*(1/255),i=l.Yh.yr(U,o,I,c,y,.005);
if(i!=null){if(P.indexOf(i)==-1){P.push(i);i.UO=1}else i.UO++}Y++}P.sort(function(A,F){return F.UO-A.UO});
while(P.length!=0&&P[P.length-1].UO<3)P.pop();if(P.length==0)T=l.Yh.yr(U,L,a,F,A,100);else if(P.length==1)T=P[0];
else if(P.length==2){var d=P[0],V=P[1],R=d.est.q,G=V.est.q,M=G[0]-R[0],O=G[1]-R[1],K=G[2]-R[2],W=G[3]-R[3],t=L-R[0],X=a-R[1],h=F-R[2],b=A-R[3],E=M*M+O*O+K*K+W*W,f0=t*t+X*X+h*h+b*b,ay=(t*M+X*O+h*K+b*W)/E,p=f0-ay*ay*E;
if(p<.5)T=ay<.5?d:V;else{T=l.Yh.yr(U,L,a,F,A,100)}}else{var d=P[0],V=P[1],eo=P[2],R=d.est.q,G=V.est.q,co=eo.est.q,c5=R[0]-co[0],he=R[1]-co[1],hU=R[2]-co[2],aB=R[3]-co[3],ep=G[0]-co[0],aO=G[1]-co[1],f$=G[2]-co[2],fo=G[3]-co[3],bb=co[0]-L,jl=co[1]-a,e0=co[2]-F,gI=co[3]-A,d4=c5*c5+he*he+hU*hU+aB*aB,ab=c5*ep+he*aO+hU*f$+aB*fo,c3=bb*c5+jl*he+e0*hU+gI*aB,gr=c5*ep+he*aO+hU*f$+aB*fo,a2=ep*ep+aO*aO+f$*f$+fo*fo,aL=bb*ep+jl*aO+e0*f$+gI*fo,el=1/(ab*gr-d4*a2),ay=(a2*c3-aL*ab)*el,iJ=(aL*d4-c3*gr)*el,aC=1-ay-iJ,cr=Math.max(ay,iJ,aC);
if(cr==ay)T=d;else if(cr==iJ)T=V;else T=eo}}z[q>>2]=T.ind}return{E2:z,dH:U[1]}};l.Yh.bs=function(Z,m,S){var B=[],C={},u=m-1,r=S-1,k=0,v=new Uint32Array(Z),e=[-m-1,-m,-m+1,-1,1,m-1,m,m+1,m+m,2,-m-m,-2,m+m-1,m+m+1,m+2,-m+2,-m-m+1,-m-m-1,-m-2,m-2,m+m+2,-m-m+2-m-m-2,m+m-2];
for(var j=1;j<r;j++)for(var $=1;$<u;$++){var U=j*m+$,H=v[U],z=!0;for(var q=0;q<8;q++)z=z&&v[U+e[q]]==H;
if(z){k++;var f=C[H];if(f==null){C[H]=B.length;B.push({mw:H,xX:1})}else B[f].xX++}}return{dH:B,agf:k}};
l.Yh.yr=function(Z,m,S,B,C,u){var r=UPNG.quantize.getNearest(Z[0],m,S,B,C);return l.Yh.a9c(r,m,S,B,C)<u?r:null};
l.Yh.a9c=function(Z,m,S,B,C){var u=Z.est.q,r=m-u[0],k=S-u[1],v=B-u[2],e=C-u[3];return r*r+k*k+v*v+e*e};
l.Yh.ZR=function(){function Z(n,L,a,F,A,T){var P=[],Y=T,Q=T,o=T>>>2;for(var I=0;I<A;I++)for(var c=0;
c<F;c++){var y=~~((c+.5)*Y),i=~~((I+.5)*Q),d=1e9,V=Math.max(0,y-o),R=Math.min(L,y+o+1),G=Math.max(0,i-o),M=Math.min(a,i+o+1);
for(var O=G;O<M;O++)for(var K=V;K<R;K++){var W=m(n,L,K,O);if(W<d){y=K;i=O;d=W}}var t=(i*L+y)*4;P.push(y,i)}return P}function m(n,L,a,F){var A=(F*L+a)*4,T=L*4,P=S(n,A-4,A)+S(n,A,A+4),Y=S(n,A-T,A)+S(n,A,A+T);
return P+Y}function S(n,L,a){var F=n[L]-n[a],A=n[L+1]-n[a+1],T=n[L+2]-n[a+2];return F*F+A*A+T*T}var B=0,C=0;
function u(n,L,a,F){C++;if(F<B)B=F;n[F].push(L,a)}function r(n){C--;while(n[B].length==0)B++}function k(n,L,a,F,A){B=0;
C=0;var T=L*a,P=Math.round(Math.min(L,a)/(F?F:50)),V=0,R=16;if(P==0)P=1;var Y=(A?A:30)/P,Q=Math.floor(L/P),o=Math.floor(a/P),I=new Uint16Array(T);
for(var q=0;q<T;q++)I[q]=65535;var c=Z(n,L,a,Q,o,P),y=c.length>>>1;if(y>65535)throw y;var i=[];for(var q=0;
q<1e3+a;q++)i.push([]);var d=[0,1,0,-1,-1,0,1,0],G=Math.min(o,5),M=new Uint32Array(y*6);for(var O=0;
O<o;O+=G){var K=Math.min(O+G+1,o);for(var W=O;W<K;W++)for(var t=0;t<Q;t++){var q=W*Q+t,X=q*2,h=c[X+1]<<16|c[X];
u(i,h,q,c[X+1]>>>R)}var b=Math.min(a,K*P);if(O+G>=o)b=a;while(C!=0){r(i);var E=i[B].pop(),f0=i[B].pop(),ay=f0>>>16,p=f0&65535,q=ay*L+p;
if(I[q]==65535){var eo=E*6,co=q<<2;I[q]=E;M[eo]+=n[co];M[eo+1]+=n[co+1];M[eo+2]+=n[co+2];M[eo+3]+=p;
M[eo+4]+=ay;M[eo+5]++;var c5=ay>>>R;if(ay!=b-1&&I[q+L]==65535)u(i,ay+1<<16|p,E,v(n,L,Y,p,ay+1,M,eo)+c5);
if(ay!=0&&I[q-L]==65535)u(i,ay-1<<16|p,E,v(n,L,Y,p,ay-1,M,eo)+c5);if(p!=0&&I[q-1]==65535)u(i,ay<<16|p-1,E,v(n,L,Y,p-1,ay,M,eo)+c5);
if(p!=L-1&&I[q+1]==65535)u(i,ay<<16|p+1,E,v(n,L,Y,p+1,ay,M,eo)+c5)}}if(b!=ay){var he=(O+G)*Q;M.fill(0,he*6,(he+Q)*6);
for(var ay=(O+G-2)*P;ay<b;ay++)for(var p=0;p<L;p++){var q=ay*L+p;if(I[q]>=he){I[q]=65535}}}}return{E2:I,D3:y,pE:M}}l.Yh.DZ=function(n,L,a,F,A){var T=n.D3,P=L*a,Y=n.pE,Q=n.E2,o=H(F,Q,T,P),I=new UnionFind(T),R=0;
for(var c=1;c<a;c++)for(var y=1;y<L;y++){var q=c*L+y,i=Q[q],d=0;if((d=Q[q-1])!=i&&o[d]==o[i]&&e(Y,0,i*6,d*6)<A)I.link(i,d);
if((d=Q[q-L])!=i&&o[d]==o[i]&&e(Y,0,i*6,d*6)<A)I.link(i,d)}var V=new Uint16Array(T);V.fill(65535);var G=new Uint16Array(T);
for(var q=0;q<T;q++){var M=I.find(q);if(V[M]==65535)V[M]=R++;G[q]=V[M]}var O=new Uint16Array(P);for(var q=0;
q<P;q++)O[q]=G[Q[q]];return{E2:O,D3:R}};l.Yh.aj7=function(n,L,a,F){var A=l.U(a),T=L.length,P=0;for(var q=0;
q<T&&P!=3;q++){var Y=F[q];if(Y==0||Y==255){var Q=L[q],o=2-(Y>>>7);A[Q]=P=A[Q]|o}}return P!=3};function v(n,L,a,F,A,T,P){var Y=(A*L+F)*4,Q=T[P+5],o=1/Q,I=n[Y]*Q-T[P],c=n[Y+1]*Q-T[P+1],y=n[Y+2]*Q-T[P+2],i=F*Q-T[P+3],d=A*Q-T[P+4],V=Math.sqrt(I*I+c*c+y*y),R=Math.sqrt(i*i+d*d);
return~~((V+a*R)*o+.5)}function e(n,L,a,F){var A=1/n[a+5],T=1/n[F+5],P=n[a]*A-n[F]*T,Y=n[a+1]*A-n[F+1]*T,Q=n[a+2]*A-n[F+2]*T,o=n[a+3]*A-n[F+3]*T,I=n[a+4]*A-n[F+4]*T,c=Math.sqrt(P*P+Y*Y+Q*Q),y=Math.sqrt(o*o+I*I);
return~~(c+L*y+.5)}function j(n,L,a){var F=l.CV(n,new bq(0,0,L,a)),A=F.rect.e,T=F.rect.n,P=k(F.MW,A,T),Y=P.E2,Q=Date.now(),o=new Uint16Array(L*a);
o.fill(65535);for(var I=0;I<T;I++){for(var c=0;c<A;c++){var y=I*A+c,q=(I<<1)*L+(c<<1),i=Y[y];if(Y[y-A]!=i||Y[y-1]!=i||Y[y+1]!=i||Y[y+A]!=i)i=65535;
o[q]=i;o[q+1]=i;o[q+L]=i;o[q+L+1]=i}}P.E2=o;return P}function $(n,L){var q=0,a=n.length;while(q!=a&&n[q]!=L)q+=2;
return q==a?-1:q}function U(n,q){if(q==n.length-2){n.pop();n.pop()}else{n[q+1]=n.pop();n[q]=n.pop()}}l.Yh.a55=function(n,L,a,F,A){var T=new Uint32Array(A*4400),m=[];
for(var q=0;q<A;q++)m.push([]);for(var P=0;P<a;P++)for(var Y=0;Y<L;Y++){var q=P*L+Y,Q=q<<2,o=F[q],I=0,c=n[Q]>>>4,y=n[Q+1]>>>4,i=n[Q+2]>>>4;
T[o*4400+(c<<8|y<<4|i)]++;T[o*4400+4096]++;T[o*4400+4100+(c<<4|y)]++;T[o*4400+4360+c]++;if(Y!=0&&(I=F[q-1])!=o&&$(m[o],I)==-1){m[o].push(I,0);
m[I].push(o,0)}if(P!=0&&(I=F[q-L])!=o&&$(m[o],I)==-1){m[o].push(I,0);m[I].push(o,0)}}for(var q=0;q<A;
q++){var i=m[q];for(var d=0;d<i.length;d+=2)i[d+1]=D(T,q,i[d])}return[T,m]};function H(n,L,a,F){var A=l.U(a);
for(var q=0;q<F;q++){var T=n[q];if(T==0||T==255)A[L[q]]=2-(T>>>7)}return A}l.Yh.a3N=function(n,L,a,F,A,T,P){var Y=L*a,Q=P[0],m=P[1],o=new UnionFind(F),I=H(A,n,F,Y),c=-1,y=!0,i=0;
for(var q=0;q<F;q++)if(I[q]==1){if(c==-1)c=q;else o.link(q,c)}if(c==-1){for(var q=0;q<Y;q++)T[q]=A[q]==255?255:0;
return}while(y){while(y){y=!1;for(var q=0;q<F;q++){if(I[q]==0){var d=z(m[q]);if(I[d]==1){I[q]=I[d];y=!0;
o.link(q,d)}}}}y=!0;i=0;while(y){y=!1;for(var q=0;q<F;q++){if(I[q]==0){var d=z(m[q]);if(I[d]==0){var V=q*4400,R=d*4400;
for(var G=0;G<4400;G+=2){Q[V+G]+=Q[R+G];Q[V+G+1]+=Q[R+G+1]}f(m,Q,q,d);i++;I[d]=3;y=!0;o.link(q,d)}}}}y=i!=0}var M=o.find(c);
for(var q=0;q<F;q++)I[q]=o.find(q)==M?255:0;for(var q=0;q<Y;q++){T[q]=I[n[q]]}for(var q=0;q<Y;q++){var d=A[q];
if(d==0||d==255)T[q]=d}};function z(n){var L=0,a=0,F=n.length;for(var A=0;A<F;A+=2){var T=n[A+1];if(T>a){a=T;
L=A}}return n[L]}function f(m,n,L,a){var F=m[L],A=m[a];U(F,$(F,a));U(A,$(A,L));for(var q=0;q<A.length;
q+=2){var T=A[q],P=m[T];U(P,$(P,a));if($(P,L)==-1){P.push(L,0);F.push(T,0)}}for(var q=0;q<F.length;q+=2){var T=F[q],P=m[T],Y=D(n,L,T);
F[q+1]=Y;P[$(P,L)+1]=Y}}function D(n,L,a){var F=0,A=4096,T=L*4400,P=a*4400;for(var Y=0;Y<16;Y++){if(n[T+4360+Y]==0||n[P+4360+Y]==0)continue;
for(var Q=0;Q<16;Q++){var o=Y<<4|Q;if(n[T+4100+o]==0||n[P+4100+o]==0)continue;var I=T+(o<<4),c=P+(o<<4);
for(var q=0;q<16;q++)F+=Math.sqrt(n[I+q]*n[c+q])}}var y=F/Math.sqrt(n[T+A]*n[P+A]);return~~(999.99999*y)}return k}();
l.NQ={};l.NQ.asL=function(){var Z=11,m=7,S=Z>>>1,gY=m>>>1,B=2,C=2e3/B,u=[],k=null,v="";function r(j,$,U){var H=(j[$+0]-j[U+0])*(1/255),z=(j[$+1]-j[U+1])*(1/255),f=(j[$+2]-j[U+2])*(1/255),D=(j[$+3]-j[U+3])*(1/255),n=H*H*.125+z*z*.25+f*f*.5+D*D;
return u[~~(n*C)]}function e(j,$,U,H,z,f){var D=Date.now(),n=l.U($*U);l.Iy(j,n);var L=UZIP.adler(n,0,$*U);
if(L!=v){var a=l.Cq(n,$,U);k=l.U($*U*4);v=L;var F=[1,1/9,1/25,1/49,1/81];for(var A=0;A<U;A++)for(var T=0;
T<$;T++)for(var q=0;q<4;q++){var P=Math.max(1,T-q),Y=Math.min($-1,T+q),Q=Math.max(1,A-q),o=Math.min(U-1,A+q),I=l.$e(a,$,P,Y,Q,o);
if(isNaN(I))throw T+","+A+","+q+","+I;k[(A*$+T)*4+q]=I*F[q]}}if(N.V8){var c=N.u4(0,$,U);c.set(j);var y=N.u4(1,$,U);
y.set(k);var i=N.u4(2,$,U);N.dF(i);N.filter.oj({type:N.filter.aol,hh:new Float32Array([1/$,1/U]),ak1:y.Wa,afw:z,aui:f},c.Wa);
i.get(H)}else{for(var q=0;q<2e3;q++)u[q]=Math.exp(-(q/2e3)*B*(100+(1-z)*(1-z)*1e4));var d=gY+2;for(var A=d;
A<U-d;A++)for(var T=d;T<$-d;T++){var V=0,R=0,G=0,M=0;for(var O=0;O<Z;O++)for(var K=0;K<Z;K++){var W=T+K-S,t=A+O-S;
if(W==T&&t==A||W<d||t<d||W>=$-d||t>=U-d)continue;var X=r(k,(A*$+T)*4,(t*$+W)*4),h=t*$+W<<2;V+=X*j[h+0];
R+=X*j[h+1];G+=X*j[h+2];M+=X}if(M==0){continue}var b=1/M,E=(A*$+T)*4;H[E+0]=~~((1-f)*b*V+f*H[E+0]);H[E+1]=~~((1-f)*b*R+f*H[E+1]);
H[E+2]=~~((1-f)*b*G+f*H[E+2])}}}return e}();var fE=function(){function Z(){this.Z=0;this.g6=0;this.ei={};
this._j=[];this.Vo=1e5;this.op=1e5;this.b3=-1;this.VN=-1;this.color=0}function m(gY){this.m$=gY;this.wm=new Array(gY);
this.mw=new Array(gY*6);this.ao0=0;this.yy=new Array(gY*2);this.alpha=new Array(gY);this.CA=new Array(gY);
this.TH=new Array(gY)}function S(C,u,r,k){function v(D,n,C,u){return C[u*n+D]}function e(q){var P=C.length;
while(q<P&&C[q]==0)q++;return q<P?q:-1}function j(D,n,P){for(var q=2;q<5;q++){var Y=0;for(var Q=-q+1;
Q<=q-1;Q++){Y+=v(D+Q,n+q-1,C,u)==P?1:-1;Y+=v(D+q-1,n+Q-1,C,u)==P?1:-1;Y+=v(D+Q-1,n-q,C,u)==P?1:-1;Y+=v(D-q,n+Q,C,u)==P?1:-1}if(Y>0)return 1;
else if(Y<0)return 0}return 0}function $(P,z){var f=new Z,D=P,n=z,Y=0,Q=1,o;f.color=C[z*u+P];f.sign=v(P,z,C,u)==f.color?"+":"-";
while(1){f._j.push(D,n);if(D>f.b3)f.b3=D;if(D<f.Vo)f.Vo=D;if(n>f.VN)f.VN=n;if(n<f.op)f.op=n;f.g6++;D+=Y;
n+=Q;f.Z-=D*Q;if(D==P&&n==z)break;var I=v(D+(Y+Q-1>>1),n+(Q-Y-1>>1),C,u)==f.color,c=v(D+(Y-Q-1>>1),n+(Q+Y-1>>1),C,u)==f.color;
if(c&&!I){if(k.XJ=="right"||k.XJ=="black"&&f.sign=="+"||k.XJ=="white"&&f.sign=="-"||k.XJ=="majority"&&j(D,n,f.color)||k.XJ=="minority"&&!j(D,n,f.color)){o=Y;
Y=-Q;Q=o}else{o=Y;Y=Q;Q=-o}}else if(c){o=Y;Y=-Q;Q=o}else if(!I){o=Y;Y=Q;Q=-o}}return f}var U=0,H=[];
while(!0){var U=e(U);if(U==-1)break;var z=Math.floor(U/u),f=$(U-z*u,z);for(var q=0;q<f._j.length-2;q+=2){var D=f._j[q],n=f._j[q+1],L=n*u+D;
if(D==f._j[q+2]&&n+1==f._j[q+3]&&C[L]!=0)fE.fill(L,C,u,0)}if(f.Z>k.ad5)H.push(f)}for(var q=0;q<H.length;
q++)H[q].parent=-1;var a=Date.now();for(var q=1;q<H.length;q++){var F=H[q];for(var A=q-1;A>=0;A--){var T=H[A];
if(F.Vo<T.Vo||F.b3>T.b3||F.op<T.op||F.VN>T.VN)continue;if(!fE.aj6(T._j,F._j[0]+.5,F._j[1]+.5))continue;
F.parent=A;break}}return H}function B(C,u){function r(Y,Q,o,I,c){this.x=Y;this.y=Q;this.Qj=o;this.z9=I;
this.xc=c}function k(Y,gY){return(gY+Y)%gY}function v(Y,Q,o,I){return Y*I-o*Q}function e(Y,Q,o,I){return Y*o+Q*I}function j(Y,Q,o){if(Y<=o)return Y<=Q&&Q<o;
else return Y<=Q||Q<o}function $(Y,Q,o){var I=0;I+=Q*Y[0]*Q;I+=Q*Y[1]*o;I+=Q*Y[2];I+=o*Y[3]*Q;I+=o*Y[4]*o;
I+=o*Y[5];I+=Y[6]*Q;I+=Y[7]*o;I+=Y[8];return I}function U(Y,Q,o){return Q+Y*(o-Q)}function H(Y,Q,o,I){var c=Math.sign(o-Y),y=-Math.sign(I-Q);
return c*(o-Y)-y*(I-Q)}function z(Y,Q){return Math.sqrt(Y*Y+Q*Q)}function f(Y,Q,o,I,c){var y=1-Y;return y*y*y*Q+3*(y*y*Y)*o+3*(Y*Y*y)*I+Y*Y*Y*c}function D(Y,Q,o,I,c,y,i,d){var V=v(Y,Q,i,d),R=v(o,I,i,d),G=v(c,y,i,d),M=V-2*R+G,O=-2*V+2*R,K=V,W=O*O-4*M*K;
if(M==0||W<0)return-1;var t=Math.sqrt(W),X=(-O+t)/(2*M),h=(-O-t)/(2*M);if(X>=0&&X<=1)return X;else if(h>=0&&h<=1)return h;
else return-1}function n(P){var q,Y,Q;P.iR=P._j[0];P.amX=P._j[1];P.au=[];var o=P.au;o.push(new r(0,0,0,0,0));
for(q=0;q<P.g6;q++){Y=P._j[q<<1]-P.iR;Q=P._j[(q<<1)+1]-P.amX;o.push(new r(o[q].x+Y,o[q].y+Q,o[q].Qj+Y*Q,o[q].z9+Y*Y,o[q].xc+Q*Q))}}function L(P){var gY=P.g6,Y=P._j,Q,o=new Array(gY),I=new Array(gY),c=new Array(4),y,i,d,V,R,G,M,O,K,W,t,q,X,h,b,E,f0,ay,p=0;
P.$m=new Array(gY);for(q=gY-1;q>=0;q--){if(Y[q<<1]!=Y[p<<1]&&Y[(q<<1)+1]!=Y[(p<<1)+1])p=q+1;I[q]=p}for(q=gY-1;
q>=0;q--){var eo=k(q+1,gY)<<1;c[0]=c[1]=c[2]=c[3]=0;Q=(3+3*(Y[eo]-Y[q<<1])+(Y[eo+1]-Y[(q<<1)+1]))/2;
c[Q]++;y=0;i=0;d=0;V=0;p=I[q];h=q;while(1){t=0;Q=(3+3*Math.sign(Y[p*2]-Y[h*2])+Math.sign(Y[p*2+1]-Y[h*2+1]))/2;
c[Q]++;if(c[0]&&c[1]&&c[2]&&c[3]){o[q]=h;t=1;break}K=Y[p*2]-Y[q*2];W=Y[p*2+1]-Y[q*2+1];if(v(y,i,K,W)<0||v(d,V,K,W)>0){break}if(Math.abs(K)<=1&&Math.abs(W)<=1){}else{R=K+(W>=0&&(W>0||K<0)?1:-1);
G=W+(K<=0&&(K<0||W<0)?1:-1);if(v(y,i,R,G)>=0){y=R;i=G}R=K+(W<=0&&(W<0||K<0)?1:-1);G=W+(K>=0&&(K>0||W<0)?1:-1);
if(v(d,V,R,G)<=0){d=R;V=G}}h=p;p=I[h];if(!j(p,q,h)){break}}if(t==0){M=Math.sign(Y[p*2]-Y[h*2]);O=Math.sign(Y[p*2+1]-Y[h*2+1]);
K=Y[h*2]-Y[q*2];W=Y[h*2+1]-Y[q*2+1];b=v(y,i,K,W);E=v(y,i,M,O);f0=v(d,V,K,W);ay=v(d,V,M,O);X=1e7;if(E<0){X=Math.floor(b/-E)}if(ay>0){X=Math.min(X,Math.floor(-f0/ay))}o[q]=k(h+X,gY)}}X=o[gY-1];
P.$m[gY-1]=X;for(q=gY-2;q>=0;q--){if(j(q+1,o[q],X)){X=o[q]}P.$m[q]=X}for(q=gY-1;j(k(q+1,gY),X,P.$m[q]);
q--){P.$m[q]=X}}function a(P){function Y(P,q,Q){var gY=P.g6,K=P._j,W=P.au,t,X,h,b,E,I,f0,ay,O,p,eo,co,c5,he,hU=0;
if(Q>=gY){Q-=gY;hU=1}if(hU==0){t=W[Q+1].x-W[q].x;X=W[Q+1].y-W[q].y;b=W[Q+1].z9-W[q].z9;h=W[Q+1].Qj-W[q].Qj;
E=W[Q+1].xc-W[q].xc;I=Q+1-q}else{t=W[Q+1].x-W[q].x+W[gY].x;X=W[Q+1].y-W[q].y+W[gY].y;b=W[Q+1].z9-W[q].z9+W[gY].z9;
h=W[Q+1].Qj-W[q].Qj+W[gY].Qj;E=W[Q+1].xc-W[q].xc+W[gY].xc;I=Q+1-q+gY}eo=(K[q<<1]+K[Q<<1])/2-K[0];co=(K[(q<<1)+1]+K[(Q<<1)+1])/2-K[1];
he=K[Q<<1]-K[q<<1];c5=-(K[(Q<<1)+1]-K[(q<<1)+1]);f0=(b-2*t*eo)/I+eo*eo;ay=(h-t*co-X*eo)/I+eo*co;O=(E-2*X*co)/I+co*co;
p=c5*c5*f0+2*c5*he*ay+he*he*O;return Math.sqrt(p)}var q,Q,o,I,gY=P.g6,c=new Array(gY+1),y=new Array(gY+1),i=new Array(gY),d=new Array(gY+1),V=new Array(gY+1),R=new Array(gY+1),G,M,O;
for(q=0;q<gY;q++){O=k(P.$m[k(q-1,gY)]-1,gY);if(O==q){O=k(q+1,gY)}if(O<q){i[q]=gY}else{i[q]=O}}Q=1;for(q=0;
q<gY;q++){while(Q<=i[q]){d[Q]=q;Q++}}q=0;for(Q=0;q<gY;Q++){V[Q]=q;q=i[q]}V[Q]=gY;o=Q;q=gY;for(Q=o;Q>0;
Q--){R[Q]=q;q=d[q]}R[0]=0;c[0]=0;for(Q=1;Q<=o;Q++){for(q=R[Q];q<=V[Q];q++){M=-1;for(I=V[Q-1];I>=d[q];
I--){G=Y(P,I,q)+c[I];if(M<0||G<M){y[q]=I;M=G}}c[q]=M}}P.atX=o;P.apC=new Array(o);for(q=gY,Q=o-1;q>0;
Q--){q=y[q];P.apC[Q]=q}}function F(P){function Y(P,q,G,i,d,aB){var gY=P.g6,ep=P.au,aO=0,O;while(G>=gY){G-=gY;
aO+=1}while(q>=gY){q-=gY;aO-=1}while(G<0){G+=gY;aO-=1}while(q<0){q+=gY;aO+=1}var f$=ep[G+1].x-ep[q].x+aO*ep[gY].x,fo=ep[G+1].y-ep[q].y+aO*ep[gY].y,bb=ep[G+1].z9-ep[q].z9+aO*ep[gY].z9,jl=ep[G+1].Qj-ep[q].Qj+aO*ep[gY].Qj,e0=ep[G+1].xc-ep[q].xc+aO*ep[gY].xc,M=G+1-q+aO*gY;
i[aB]=f$/M;i[aB+1]=fo/M;var gI=(bb-f$*f$/M)/M,d4=(jl-f$*fo/M)/M,ab=(e0-fo*fo/M)/M,c3=(gI+ab+Math.sqrt((gI-ab)*(gI-ab)+4*d4*d4))/2;
gI-=c3;ab-=c3;if(Math.abs(gI)>=Math.abs(ab)){O=Math.sqrt(gI*gI+d4*d4);if(O!=0){d[aB]=-d4/O;d[aB+1]=gI/O}}else{O=Math.sqrt(ab*ab+d4*d4);
if(O!=0){d[aB]=-ab/O;d[aB+1]=d4/O}}if(O==0){d[aB]=d[aB+1]=0}}var Q=P.atX,o=P.apC,gY=P.g6,I=P._j,c=P.iR,y=P.amX,i=new Array(Q*2),d=new Array(Q*2),V=new Array(Q),R=new Array(3),q,G,M,O,X,h,b,E,f0,ay,p;
P.ei=new m(Q);for(q=0;q<Q;q++){G=o[k(q+1,Q)];G=k(G-o[q],gY)+o[q];i[q<<1]=0;i[(q<<1)+1]=0;d[q<<1]=0;d[(q<<1)+1]=0;
Y(P,o[q],G,i,d,q<<1)}for(q=0;q<Q;q++){V[q]=[0,0,0,0,0,0,0,0,0];var K=d[q<<1]*d[q<<1]+d[(q<<1)+1]*d[(q<<1)+1],W=1/K;
if(K!=0){R[0]=d[(q<<1)+1];R[1]=-d[q<<1];R[2]=-R[1]*i[(q<<1)+1]-R[0]*i[q<<1];for(O=0;O<3;O++){V[q][O*3+0]=R[O]*R[0]*W;
V[q][O*3+1]=R[O]*R[1]*W;V[q][O*3+2]=R[O]*R[2]*W}}}var t=[0,0,0,0,0,0,0,0,0];for(q=0;q<Q;q++){t[0]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=0;
var eo=I[o[q]<<1]-c,co=I[(o[q]<<1)+1]-y,c5=0,he=0;G=k(q-1,Q);for(O=0;O<9;O+=3){t[O+0]=V[G][O+0]+V[q][O+0];
t[O+1]=V[G][O+1]+V[q][O+1];t[O+2]=V[G][O+2]+V[q][O+2]}while(1){var hU=t[0]*t[4]-t[1]*t[3];if(hU!=0){c5=(-t[2]*t[4]+t[5]*t[0])/hU;
he=(t[2]*t[3]-t[5]*t[0])/hU;break}if(t[0]>t[4]){R[0]=-t[1];R[1]=t[0]}else if(t[4]){R[0]=-t[4];R[1]=t[3]}else{R[0]=1;
R[1]=0}var K=R[0]*R[0]+R[1]*R[1],W=1/K;R[2]=-R[1]*co-R[0]*eo;for(O=0;O<3;O++){t[O*3+0]+=R[O]*R[0]*W;
t[O*3+1]+=R[O]*R[1]*W;t[O*3+2]+=R[O]*R[2]*W}}X=Math.abs(c5-eo);h=Math.abs(he-co);if(X<=.5&&h<=.5){P.ei.yy[q<<1]=c5+c;
P.ei.yy[(q<<1)+1]=he+y;continue}b=$(t,eo,co);f0=eo;ay=co;if(t[0]!=0){for(p=0;p<2;p++){he=co-.5+p;c5=-(t[1]*he+t[2])/t[0];
X=Math.abs(c5-eo);E=$(t,c5,he);if(X<=.5&&E<b){b=E;f0=c5;ay=he}}}if(t[4]!=0){for(p=0;p<2;p++){c5=eo-.5+p;
he=-(t[3]*c5+t[5])/t[4];h=Math.abs(he-co);E=$(t,c5,he);if(h<=.5&&E<b){b=E;f0=c5;ay=he}}}for(O=0;O<2;
O++){for(M=0;M<2;M++){c5=eo-.5+O;he=co-.5+M;E=$(t,c5,he);if(E<b){b=E;f0=c5;ay=he}}}P.ei.yy[q<<1]=f0+c;
P.ei.yy[(q<<1)+1]=ay+y}}function A(P){var Y=P.ei.m$,Q=P.ei,q,o,I,c,y,i,d,V,R;for(q=0;q<Y;q++){o=k(q+1,Y);
I=k(q+2,Y);var G=Q.yy[q<<1],M=Q.yy[(q<<1)+1],O=Q.yy[I<<1],K=Q.yy[(I<<1)+1],W=Q.yy[o<<1],t=Q.yy[(o<<1)+1],X=U(.5,O,W),h=U(.5,K,t);
y=H(G,M,O,K);if(y!=0){c=v(W-G,t-M,O-G,K-M)/y;c=Math.abs(c);i=c>1?1-1/c:0;i=i*(1/.75)}else{i=4/3}Q.CA[o]=i;
var b=3*o<<1;if(i>=u.akb){Q.wm[o]=0;Q.mw[b+0]=Q.mw[b+1]=0;Q.mw[b+2]=W;Q.mw[b+3]=t;Q.mw[b+4]=X;Q.mw[b+5]=h}else{if(i<.55){i=.55}else if(i>1){i=1}var E=.5+.5*i;
Q.wm[o]=1;Q.mw[b]=U(E,G,W);Q.mw[b+1]=U(E,M,t);Q.mw[b+2]=U(E,O,W);Q.mw[b+3]=U(E,K,t);Q.mw[b+4]=X;Q.mw[b+5]=h}Q.alpha[o]=i;
Q.TH[o]=.5}Q.aj3=1}function T(P){function Y(){this.wz=0;this.X4=0;this.SM=0;this.TM=0;this.zL=0;this.aU=0;
this.Ve=0;this.alpha=0}function Q(P,q,G,a2,aL,f0,ay){var I=P.ei.m$,el=P.ei.mw,iJ=P.ei.yy;if(q==G)return 1;
var aC=q,W=k(q+1,I),cr=k(aC+1,I),jl=iJ[q<<1],e0=iJ[(q<<1)+1],bN=iJ[W<<1],hf=iJ[(W<<1)+1],cV=f0[cr];if(cV==0)return 1;
var ez=z(jl-bN,e0-hf);for(aC=cr;aC!=G;aC=cr){var cr=k(aC+1,I),jG=k(aC+2,I),jw=iJ[cr<<1],dw=iJ[(cr<<1)+1],cb=iJ[jG<<1],cz=iJ[(jG<<1)+1];
if(f0[cr]!=cV)return 1;if(Math.sign(v(bN-jl,hf-e0,cb-jw,cz-dw))!=cV)return 1;if(e(bN-jl,hf-e0,cb-jw,cz-dw)<ez*z(jw-cb,dw-cz)*-.999847695156)return 1}var jq=k(q,I)*3+2<<1,dU=k(q+1,I)<<1,ge=k(G,I)<<1,al=k(G,I)*3+2<<1,aB=el[jq],ep=el[jq+1],a_=iJ[dU],hc=iJ[dU+1],g7=iJ[ge],b4=iJ[ge+1],eC=el[al],cN=el[al+1],p=iJ[0],eo=iJ[1];
jq=G*3+2<<1;var i7=el[jq],gC=el[jq+1],t=ay[G]-ay[q];t-=v(i7-p,gC-eo,i7-p,gC-eo)/2;if(q>=G){t+=ay[I]}var h7=a_-aB,iB=hc-ep,hH=g7-aB,bA=b4-ep,cq=eC-aB,fd=cN-ep,iW=v(h7,iB,hH,bA),ca=v(h7,iB,cq,fd),f9=v(hH,bA,cq,fd),bt=iW+f9-ca;
if(ca==iW)return 1;var E=f9/(f9-bt),b=ca/(ca-iW),dO=ca*E/2;if(dO==0)return 1;var ea=t/dO,X=2-Math.sqrt(4-ea/.3);
a2.X4=U(E*X,aB,a_);a2.SM=U(E*X,ep,hc);a2.TM=U(b*X,eC,g7);a2.zL=U(b*X,cN,b4);a2.alpha=X;a2.aU=E;a2.Ve=b;
a_=a2.X4;hc=a2.SM;g7=a2.TM;b4=a2.zL;a2.wz=0;for(aC=k(q+1,I);aC!=G;aC=cr){cr=k(aC+1,I);var c0=iJ[aC<<1],i_=iJ[(aC<<1)+1],jw=iJ[cr<<1],dw=iJ[(cr<<1)+1];
E=D(a_-aB,hc-ep,g7-a_,b4-hc,eC-g7,cN-b4,jw-c0,dw-i_);if(E<-.5)return 1;var aV=f(E,aB,a_,g7,eC),aQ=f(E,ep,hc,b4,cN),ez=z(jw-c0,dw-i_);
if(ez==0)return 1;var bJ=v(jw-c0,dw-i_,aV-c0,aQ-i_)/ez;if(Math.abs(bJ)>aL)return 1;if(e(jw-c0,dw-i_,aV-c0,aQ-i_)<0||e(c0-jw,i_-dw,aV-jw,aQ-dw)<0){return 1}a2.wz+=bJ*bJ}for(aC=q;
aC!=G;aC=cr){cr=k(aC+1,I);var jq=aC*3+2<<1,dU=cr*3+2<<1,e9=el[jq],cC=el[jq+1],ef=el[dU],b5=el[dU+1];
E=D(a_-aB,hc-ep,g7-a_,b4-hc,eC-g7,cN-b4,ef-e9,b5-cC);if(E<-.5)return 1;var aV=f(E,aB,a_,g7,eC),aQ=f(E,ep,hc,b4,cN),ez=z(ef-e9,b5-cC);
if(ez==0)return 1;var bJ=v(ef-e9,b5-cC,aV-e9,aQ-cC)/ez,jx=v(ef-e9,b5-cC,iJ[cr<<1]-e9,iJ[(cr<<1)+1]-cC)/ez;
jx*=.75*P.ei.alpha[cr];if(jx<0){bJ=-bJ;jx=-jx}if(bJ<jx-aL)return 1;if(bJ<jx){a2.wz+=(bJ-jx)*(bJ-jx)}}return 0}var o=P.ei,I=o.m$,c=o.yy,y=new Array(I+1),i=new Array(I+1),d=new Array(I+1),V=new Array(I+1),R,q,G,M,O=new Y,K,W,t,X,h,b,E,f0=new Array(I),ay=new Array(I+1);
for(q=0;q<I;q++){if(o.wm[q]=="CURVE"){var p=c[k(q-1,I)<<1],eo=c[(k(q-1,I)<<1)+1],co=c[q<<1],c5=c[(q<<1)+1],he=c[k(q+1,I)<<1],hU=c[(k(q+1,I)<<1)+1];
f0[q]=Math.sign(v(co-p,c5-eo,he-co,hU-c5))}else{f0[q]=0}}t=0;ay[0]=0;var aB=o.yy[0],ep=o.yy[1];for(q=0;
q<I;q++){W=k(q+1,I);if(o.wm[W]=="CURVE"){X=o.alpha[W];var aO=q*3+2<<1,f$=W*3+2<<1,fo=o.mw[aO],bb=o.mw[aO+1],jl=c[W<<1],e0=c[(W<<1)+1],gI=o.mw[f$],d4=o.mw[f$+1];
t+=.3*X*(4-X)*v(jl-fo,e0-bb,gI-fo,d4-bb)/2;t+=v(fo-aB,bb-ep,gI-aB,d4-ep)/2}ay[q+1]=t}y[0]=-1;i[0]=0;
d[0]=0;for(G=1;G<=I;G++){y[G]=G-1;i[G]=i[G-1];d[G]=d[G-1]+1;for(q=G-2;q>=0;q--){M=Q(P,q,k(G,I),O,u.a6F,f0,ay);
if(M){break}if(d[G]>d[q]+1||d[G]==d[q]+1&&i[G]>i[q]+O.wz){y[G]=q;i[G]=i[q]+O.wz;d[G]=d[q]+1;V[G]=O;O=new Y}}}R=d[I];
h=new m(R);b=new Array(R);E=new Array(R);G=I;for(q=R-1;q>=0;q--){var ab=k(G,I),c3=q*3+0<<1,gr=ab*3+0<<1;
if(y[G]==G-1){h.wm[q]=o.wm[ab];h.mw[c3]=o.mw[gr];h.mw[c3+1]=o.mw[gr+1];h.mw[c3+2]=o.mw[gr+2];h.mw[c3+3]=o.mw[gr+3];
h.mw[c3+4]=o.mw[gr+4];h.mw[c3+5]=o.mw[gr+5];h.yy[q<<1]=o.yy[ab<<1];h.yy[(q<<1)+1]=o.yy[(ab<<1)+1];h.alpha[q]=o.alpha[ab];
h.CA[q]=o.CA[ab];h.TH[q]=o.TH[ab];b[q]=E[q]=1}else{h.wm[q]="CURVE";h.mw[c3]=V[G].X4;h.mw[c3+1]=V[G].SM;
h.mw[c3+2]=V[G].TM;h.mw[c3+3]=V[G].zL;h.mw[c3+4]=o.mw[gr+4];h.mw[c3+5]=o.mw[gr+5];h.yy[q<<1]=U(V[G].Ve,o.mw[gr+4],c[ab<<1]);
h.yy[(q<<1)+1]=U(V[G].Ve,o.mw[gr+5],c[(ab<<1)+1]);h.alpha[q]=V[G].alpha;h.CA[q]=V[G].alpha;b[q]=V[G].Ve;
E[q]=V[G].aU}G=y[G]}for(q=0;q<R;q++){W=k(q+1,R);h.TH[q]=b[q]/(b[q]+E[W])}h.aj3=1;P.ei=h}for(var q=0;
q<C.length;q++){var P=C[q];n(P);L(P);a(P);F(P);A(P);if(u.a0Z)T(P)}}return{a7d:S,a1Y:B}}();fE.Au=function(Z,m,S,B){var C={XJ:"minority",ad5:B,a0Z:!0,akb:1,a6F:.2},u=fE.a7d(Z,m,S,C);
fE.a1Y(u,C);return u};fE.Nu=function(Z){var m=[];for(var q=0;q<Z.length;q++){var S=Z[q],B=S.ei,C=["M"],u=[B.mw[(B.m$-1)*6+4],B.mw[(B.m$-1)*6+5]];
for(var r=0;r<B.m$;r++){var k=r*6;if(B.wm[r]==1){C.push("C");for(var v=0;v<6;v++)u.push(B.mw[k+v])}else if(B.wm[r]==0){C.push("L");
for(var v=2;v<4;v++)u.push(B.mw[k+v])}}C.push("Z");m.push({parent:S.parent,color:S.color,path:{t:u,C:C}})}return m};
fE.a9_=function(Z,m,S,B,C){function u(z){function f(q){var H="C "+(z.mw[q*3+0<<1]*m).toFixed(1)+" "+(z.mw[(q*3+0<<1)+1]*m).toFixed(1)+",";
H+=(z.mw[q*3+1<<1]*m).toFixed(1)+" "+(z.mw[(q*3+1<<1)+1]*m).toFixed(1)+",";H+=(z.mw[q*3+2<<1]*m).toFixed(1)+" "+(z.mw[(q*3+2<<1)+1]*m).toFixed(1)+" ";
return H}function D(q){var L="L "+(z.mw[q*3+1<<1]*m).toFixed(1)+" "+(z.mw[(q*3+1<<1)+1]*m).toFixed(1)+" ";
L+=(z.mw[q*3+2<<1]*m).toFixed(1)+" "+(z.mw[(q*3+2<<1)+1]*m).toFixed(1)+" ";return L}var gY=z.m$,q,n="M"+(z.mw[(gY-1)*3+2<<1]*m).toFixed(1)+" "+(z.mw[((gY-1)*3+2<<1)+1]*m).toFixed(1)+" ";
for(q=0;q<gY;q++){if(z.wm[q]==1){n+=f(q)}else if(z.wm[q]==0){n+=D(q)}}return n}var S=S*m,B=B*m,r=Z.length,k=[];
for(var q=0;q<256;q++)k.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var v="<svg id=\"svg\" version=\"1.1\" width=\""+S+"\" height=\""+B+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var q=0;q<r;q++){var e=C[Z[q].color-1].a27.RT;if((e>>>24&255)==0)continue;v+="<path d=\"";var j=Z[q].ei;
v+=u(j);var $=e>>0&255,U=e>>8&255,H=e>>16&255,e="rgb("+$+","+U+","+H+")";v+="\" fill=\""+e+"\" fill-rule=\"evenodd\"/>"}v+="</svg>";
return v};fE.aj6=function(Z,m,S){var gY=Z.length>>1,B,C=Z[2*gY-3]-S,u=Z[2*gY-2]-m,r=Z[2*gY-1]-S,k=r>C,v=0;
for(var q=0;q<gY;q++){B=u;C=r;u=Z[2*q]-m;r=Z[2*q+1]-S;if(C==r)continue;k=r>C}for(var q=0;q<gY;q++){B=u;
C=r;u=Z[2*q]-m;r=Z[2*q+1]-S;if(C<0&&r<0)continue;if(C>0&&r>0)continue;if(B<0&&u<0)continue;if(C==r&&Math.min(B,u)<=0)return!0;
if(C==r)continue;var e=B+(u-B)*-C/(r-C);if(e==0)return!0;if(e>0)v++;if(C==0&&k&&r>C)v--;if(C==0&&!k&&r<C)v--;
k=r>C}return(v&1)==1};fE.fill=function(Z,m,S,B){var C=m[Z],u=[Z],r=0;while(r<u.length){var k=u[r];r++;
m[k]=B;if(m[k-S]==C){u.push(k-S);m[k-S]=254}if(m[k-1]==C){u.push(k-1);m[k-1]=254}if(m[k+1]==C){u.push(k+1);
m[k+1]=254}if(m[k+S]==C){u.push(k+S);m[k+S]=254}}};function ga(){}ga.FK=function(Z){var m=new Uint8Array(Z),S=0,B={VV:[],Km:[],list:[]},C=x.zO(m,S);
S+=2;if(C<=2){return ga.a50(m)}var u=x.zO(m,S);S+=2;var r=x.aD(m,S,8);S+=8;var k=x.l(m,S);S+=4;if(k>0)B.VV=ga.AR(m,S,k,u,C);
S+=k;var v=x.aD(m,S,8);S+=8;var e=x.l(m,S);S+=4;if(e>0)B.Km=bk._f(m,S,e);S+=e;var j=x.aD(m,S,8);S+=8;
var $=x.l(m,S);S+=4;if($>0){var U={};g4.cV(m,U,S+4);B.list=U.Brsh.v}S+=$;var H=B.list;for(var q=0;q<H.length;
q++){bL.uu.check(H[q].v)}return B};ga.BA=function(Z,m){Z.v.Nm.v=m};ga.a50=function(Z){var m={VV:[],Km:[],list:[]},S=0,B=x.zO(Z,S);
S+=2;var C=x.zO(Z,S);S+=2;for(var q=0;q<C;q++){var u=x.zO(Z,S);S+=2;var r=x.l(Z,S);S+=4;var k=S;if(u==2){var v={};
m.VV.push(v);var e=x.l(Z,k);k+=4;var j=x.zO(Z,k);k+=2;if(B==2){var $=x.Mp(Z,k);k+=4+$.length*2+2}v.id=fl.Qm()+"-d71c-11e5-b1ae-a548a96e5f9f";
k++;k+=8;v.pe=x.kN(Z,k);k+=16;var U=x.zO(Z,k);k+=2;var H=Z[k];k++;var z=fw.eL(!1,U,Z,v.pe.e,v.pe.n,k,H);
ga.es(v,z);var f=bL.UU(v.id),D=f.Brsh.v;D.Dmtr.v.val=v.pe.e;D.Spcn.v.val=j;m.list.push({t:"Objc",v:f})}S+=r}return m};
ga.rM=function(Z){var m=new ew,S=0,B=0;x.vF(m,S,6);S+=2;x.vF(m,S,2);S+=2;x.zT(m,S,"8BIMsamp");S+=8;S+=4;
B=S;S=ga.c1(m,S,Z.VV);x.An(m,B-4,S-B);x.zT(m,S,"8BIMpatt");S+=8;S+=4;B=S;S=bk.uh(m,S,Z.Km);x.An(m,B-4,S-B);
var C={classID:"null",Brsh:{t:"VlLs",v:Z.list}};x.zT(m,S,"8BIMdesc");S+=8;S+=4;B=S;x.An(m,S,16);S+=4;
S+=g4.wW(m,C,S);x.An(m,B-4,S-B);return m.data.slice(0,S).buffer};ga.AR=function(Z,m,S,B,C){var u=x.l,r=x.kN,k=m+S,v=[];
while(m<k){var e={};v.push(e);var j=u(Z,m);m+=4;var $=m,U=x.fv(Z,m);m+=U.length;e.id=U.q3;if(B==1){m+=9;
e.pe=r(Z,m);m+=16}else{m+=7;var H=u(Z,m);m+=4;e.pe=r(Z,m);m+=16;var z=u(Z,m);m+=4;m+=z*4;var f=u(Z,m);
m+=4;var D=u(Z,m);m+=4;var n=r(Z,m);m+=16}var L=x.zO(Z,m);m+=2;var a=Z[m];m+=1;var F=fw.eL(!1,L,Z,e.pe.e,e.pe.n,m,a);
ga.es(e,F);if(j%4!=0)j+=4-j%4;m=$+j}return v};ga.es=function(Z,m){var S=Z.pe.clone(),B=l.U(S.Z()*4);
l.cN(m,B,3);S.x=S.y=0;Z.Pg=[B,S]};ga.c1=function(Z,m,S){var B=x.An,C=x.Vc;for(var q=0;q<S.length;q++){var u=S[q],r=m+4,v=56,j=1;
m+=4;x.Ge(Z,m,u.id);m+=u.id.length+2;Z.Ad(m,1);Z.data[m]=1;m+=3;B(Z,m,3);m+=4;var k=m;m+=4;C(Z,m,u.pe);
m+=16;B(Z,m,v);m+=4;m+=v*4;B(Z,m-4,1);var e=m;m+=4;B(Z,m,8);m+=4;C(Z,m,u.pe);m+=16;x.vF(Z,m,8);m+=2;
Z.Ad(m,1);Z.data[m]=j;m++;var $=l.U(u.pe.Z());l.NK(u.Pg[0],$,3);Z.Ad(m,u.pe.Z()*2);m=fw.Am(!1,$,Z.data,u.pe.e,u.pe.n,m,j);
Z.Ad(m,8);m+=8;var U=m-r;B(Z,r-4,U);B(Z,k,U-49);B(Z,e,U-305);if(U%4!=0)m+=4-U%4}return m};function f8(){}f8.FK=function(Z){var m=new Uint8Array(Z),S=[],B=0,C=x.zO(m,B);
B+=2;if(C!=4){throw"Unknown version of curves: "+C}var u=x.zO(m,B);B+=2;for(var q=0;q<u;q++){var r=f8.ym(m,B);
B+=2+2*r.length;S.push(r)}if(B==m.length)return S;var k=x.aD(m,B,4);B+=4;var v=x.zO(m,B);B+=2;var e=x.zO(m,B);
B+=2;if(e!=0)throw"extra curves for channels";return S};f8.NI=function(Z,m,S){var B=m,C=[],u=Z[m];m+=3;
var r=x.l(Z,m);m+=4;for(var q=0;q<4;q++){var k=r>>>q&1;if(k){if(u==0){var v=f8.ym(Z,m);m+=2+2*v.length}else{var v=f8.amC(Z,m);
m+=256}C.push(v)}else C.push(u==0?[0,0,255,255]:f8.a0b())}var e=bS.ej("curv");for(var q=0;q<4;q++){if(u==0){var j=C[q],$=[];
for(var U=0;U<j.length;U+=2)$.push(l.dL.f2(j[U],j[U+1],!0));f8.$H(e,q,$)}else f8.$H(e,q,C[q])}return e};
f8.a0b=function(){var Z=[];for(var q=0;q<256;q++)Z.push(q);return Z};f8.$H=function(Z,m,S){var B=dW.dd("CrvA",m);
if(S.length<256)B.Crv={t:"VlLs",v:S};else{B.Mpng={t:"VlLs",v:[]};for(var q=0;q<256;q++)B.Mpng.v[q]={t:"long",v:S[q]}}B={t:"Objc",v:B};
var C=Z.Adjs.v,u=dW.mU(C,m);if(u==-1)C.push(B);else C[u]=B};f8.tP=function(Z,m){var S=Z.Adjs.v,B=dW.mU(S,m);
if(B==-1){if(S.length==0||S[0].v.Crv)return[l.dL.f2(0,0,!0),l.dL.f2(255,255,!0)];if(S[0].v.autoMachineLearning||S[0].v.AuCo)return[l.dL.f2(0,0,!0),l.dL.f2(128,160,!0),l.dL.f2(255,255,!0)];
var C=[];for(var q=0;q<256;q++)C.push(q);return C}var u=S[B].v;if(u.Crv)return u.Crv.v;if(u.Mpng){var C=[];
for(var q=0;q<256;q++)C.push(u.Mpng.v[q].v);return C}return[l.dL.f2(0,0,!0),l.dL.f2(255,255,!0)]};f8.ym=function(Z,m){var S=[],B=x.zO(Z,m);
m+=2;for(var C=0;C<B;C++){var u=x.zO(Z,m);m+=2;var r=x.zO(Z,m);m+=2;S.push(r,u)}return S};f8.a5W=function(Z,m,S){var B=S.length/2;
x.vF(Z,m,B);m+=2;for(var C=0;C<B;C++){x.vF(Z,m,S[C*2+1]);m+=2;x.vF(Z,m,S[C*2+0]);m+=2}};f8.amC=function(Z,m){var S=[];
for(var q=0;q<256;q++)S.push(Z[m+q]);return S};f8.ar0=function(Z,m,S){Z.Ad(m,256);for(var q=0;q<256;
q++)Z.data[m+q]=S[q]};f8.r$=function(Z,m,S){var B=[];for(var q=0;q<4;q++){var C=f8.tP(S,q);if(C.length==256)B.push(C);
else{var u=[];for(var r=0;r<C.length;r++)u.push(C[r].v.Hrzn.v,C[r].v.Vrtc.v);B.push(u)}}var k=m,v=B[0].length==256?1:0;
Z.Ad(m,3);Z.data[m]=v;Z.data[m+1]=0;Z.data[m+2]=1;m+=3;x.An(Z,m,15);m+=4;for(var q=0;q<4;q++){var e=B[q];
if(v==0){f8.a5W(Z,m,e);m+=2+2*e.length}else{f8.ar0(Z,m,e);m+=256}}return m-k};function iL(){}iL.NI=function(Z,m,S){var B={},C=x.zO(Z,m);
m+=2;B.TW=Z[m]==1;m++;m++;B.l3=[x.Cg(Z,m),x.Cg(Z,m+2),x.Cg(Z,m+4)];m+=6;B.VW=[x.Cg(Z,m),x.Cg(Z,m+2),x.Cg(Z,m+4)];
m+=6;B.PZ=[];for(var q=0;q<6;q++){var u={};u.XO=[x.Cg(Z,m),x.Cg(Z,m+2),x.Cg(Z,m+4),x.Cg(Z,m+6)];m+=8;
u.ZX=[x.Cg(Z,m),x.Cg(Z,m+2),x.Cg(Z,m+4)];m+=6;B.PZ.push(u)}var r=bS.ej("hue2"),k=B;if(r.Clrz==null)r.Clrz={t:"bool",v:!1};
r.Clrz.v=k.TW;for(var q=0;q<7;q++){var v=q==0?k.TW?k.l3:k.VW:k.PZ[q-1];iL.$H(r,q,v)}return r};iL.ags=function(Z){return{classID:"Hst2",H:{t:"long",v:Z[0]},Strt:{t:"long",v:Z[1]},Lght:{t:"long",v:Z[2]}}};
iL.mU=function(Z,m){for(var q=0;q<Z.length;q++){var S=Z[q].v.LclR;if(m==0&&S==null||S!=null&&S.v==m)return q}return-1};
iL.$H=function(Z,m,S){var B=m==0?S:S.ZX,C=iL.ags(B);if(m!=0){var u=S.XO;C.LclR={t:"long",v:m},C.BgnR={t:"long",v:u[0]};
C.BgnS={t:"long",v:u[1]};C.EndS={t:"long",v:u[2]};C.EndR={t:"long",v:u[3]}}C={t:"Objc",v:C};var r=Z.Adjs.v,k=iL.mU(r,m);
if(k==-1)r.push(C);else r[k]=C};iL.tP=function(Z,m){var S=Z.Adjs.v,B=iL.mU(S,m);if(B==-1){if(m==0)return[0,0,0];
else return[{XO:[315,345,15,45],ZX:[0,0,0]},{XO:[15,45,75,105],ZX:[0,0,0]},{XO:[75,105,135,165],ZX:[0,0,0]},{XO:[135,165,195,225],ZX:[0,0,0]},{XO:[195,225,255,285],ZX:[0,0,0]},{XO:[255,285,315,345],ZX:[0,0,0]}][m-1]}var C=S[B].v,u=[C.H.v,C.Strt.v,C.Lght.v];
if(m==0)return u;return{ZX:u,XO:[C.BgnR.v,C.BgnS.v,C.EndS.v,C.EndR.v]}};iL.r$=function(Z,m,S){var B={TW:S.Clrz?S.Clrz.v:!1,PZ:[]};
B.l3=B.VW=iL.tP(S,0);for(var q=1;q<7;q++)B.PZ.push(iL.tP(S,q));var C=2+2+12+6*14,u=Z.data;Z.Ad(m,C);
x.p6(u,m,2);m+=2;u[m]=B.TW?1:0;m++;m++;x.UZ(u,m+0,B.l3[0]);x.UZ(u,m+2,B.l3[1]);x.UZ(u,m+4,B.l3[2]);m+=6;
x.UZ(u,m+0,B.VW[0]);x.UZ(u,m+2,B.VW[1]);x.UZ(u,m+4,B.VW[2]);m+=6;for(var q=0;q<6;q++){var r=B.PZ[q].XO,k=B.PZ[q].ZX;
x.UZ(u,m+0,r[0]);x.UZ(u,m+2,r[1]);x.UZ(u,m+4,r[2]);x.UZ(u,m+6,r[3]);m+=8;x.UZ(u,m+0,k[0]);x.UZ(u,m+2,k[1]);
x.UZ(u,m+4,k[2]);m+=6}return C};function dW(){}dW.FK=function(Z){var m=new Uint8Array(Z),S=2,B=[];for(var q=0;
q<29;q++){var C=[];B.push(C);for(var u=0;u<5;u++)C.push(x.zO(m,S+q*10+u*2))}S+=29*10;if(S<m.length){var r=x.aD(m,S,4);
S+=4;var k=x.zO(m,S);S+=2;var v=x.zO(m,S);S+=2;var e=v-29;for(var q=0;q<e;q++){var C=[];B.push(C);for(var u=0;
u<5;u++)C.push(x.zO(m,S+q*10+u*2))}}var j=bS.ej("levl");for(var q=0;q<4;q++)dW.$H(j,q,B[q]);return j};
dW.dd=function(Z,q){var m=["Cmps","Rd","Grn","Bl"],S={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:m[q]}}]};
return{classID:Z,Chnl:S}};dW.mU=function(Z,m){var S={Cmps:0,Rd:1,Grn:2,Bl:3};for(var q=0;q<Z.length;
q++){var B=Z[q].v,C=S[B.Chnl.v[0].v.enum];if(C==m)return q}return-1};dW.$H=function(Z,m,S){var B=dW.dd("LvlA",m);
B.Inpt={t:"VlLs",v:[{t:"long",v:S[0]},{t:"long",v:S[1]}]};B.Otpt={t:"VlLs",v:[{t:"long",v:S[2]},{t:"long",v:S[3]}]};
B.Gmm={t:"doub",v:S[4]/100};B={t:"Objc",v:B};var C=Z.Adjs.v,u=dW.mU(C,m);if(u==-1)C.push(B);else C[u]=B};
dW.tP=function(Z,m){var S=[0,255,0,255,100],B=Z.Adjs.v,C=dW.mU(B,m);if(C==-1)return S;var u=B[C].v;if(u.Inpt){S[0]=u.Inpt.v[0].v;
S[1]=u.Inpt.v[1].v}if(u.Otpt){S[2]=u.Otpt.v[0].v;S[3]=u.Otpt.v[1].v}if(u.Gmm){S[4]=Math.round(u.Gmm.v*100)}return S};
dW.rM=function(Z,m){var S=[],B=0;for(var q=0;q<4;q++)S.push(dW.tP(m,q));while(S.length<29)S.push([0,255,0,255,100]);
Z.Ad(0,2+10*29);x.p6(Z.data,B,2);B+=2;for(var q=0;q<29;q++){var C=S[q];for(var u=0;u<5;u++)x.p6(Z.data,B+q*10+u*2,C[u])}B+=29*10;
if(S.length==29)return B;Z.Ad(B,8+10*(S.length-29));x.XI(Z.data,B,"Lvls");B+=4;x.p6(Z.data,B,3);B+=2;
x.p6(Z.data,B,S.length);B+=2;var r=S.length-29;for(var q=0;q<r;q++){var C=S[29+q];for(var u=0;u<5;u++)x.p6(Z.data,B+q*10+u*2,C[u])}B+=10*r;
return B};function eh(){}eh.FK=function(Z){var m=new Uint8Array(Z),S=2,B={LZ:[],aw:[]},C=x.aD(m,S,4);
S+=4;var u=x.zO(m,S);S+=2;var r=x.l(m,S);S+=4;B.LZ=bk._f(m,S,r);S+=r;var k=x.l(m,S);S+=4;for(var q=0;
q<k;q++){var v=x.l(m,S);S+=4;var e=S,j={Ym:{},lS:{}};B.aw.push(j);S+=4;S+=g4.cV(m,j.Ym,S);S+=4;S+=g4.cV(m,j.lS,S);
S=e+v;var $=j.lS.blendOptions,U=j.lS.Lefx;if($&&Object.keys($.v).length>1){}if(U){if(U.v.masterFXSwitch==null)U.v.masterFXSwitch={t:"bool",v:!0};
hR.Rh(U.v)}}return B};eh.BA=function(Z,m){Z.Ym.Nm.v=m};eh.rM=function(Z){var m=new ew,S=0;x.vF(m,S,2);
S+=2;x.zT(m,S,"8BSL");S+=4;x.vF(m,S,3);S+=2;var B=S;S+=4;S=bk.uh(m,S,Z.LZ);x.An(m,B,S-B-4);var C=Z.aw.length;
x.An(m,S,C);S+=4;for(var q=0;q<C;q++){S+=4;var u=S,r=Z.aw[q];x.An(m,S,16);S+=4;S+=g4.wW(m,r.Ym,S);var k=r.lS.Lefx;
if(k){r.lS.Lefx=JSON.parse(JSON.stringify(k));hR.XH(r.lS.Lefx.v)}x.An(m,S,16);S+=4;S+=g4.wW(m,r.lS,S);
if(k)r.lS.Lefx=k;x.An(m,u-4,S-u)}return m.data.slice(0,S).buffer};function jp(){}jp.NI=function(Z,m,S){var B=x.zO(Z,m);
m+=2;var C={};C.TY=x.zO(Z,m)==1;m+=2;C.Mf=[];for(var q=0;q<10;q++){var u=[];C.Mf.push(u);for(var r=0;
r<4;r++)u.push(x.Cg(Z,m+r*2));m+=8}var k=bS.ej("selc");k.Mthd.v.CrcM=C.TY?"Absl":"Rltv";for(var q=1;
q<10;q++)jp.$H(k,q-1,C.Mf[q]);return k};jp.Pp="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
jp.dd=function(Z,q){var m=["Cmps","Rd","Grn","Bl"],S={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:m[q]}}]};
return{classID:Z,Chnl:S}};jp.mU=function(Z,m){var S=jp.Pp;for(var q=0;q<Z.length;q++){var B=Z[q].v,C=S.indexOf(B.Clrs.v.Clrs);
if(C==m)return q}return-1};jp.$H=function(Z,m,S){var B=["Cyn","Mgnt","Ylw","Blck"],C={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:jp.Pp[m]}}};
for(var u=0;u<4;u++)C[B[u]]={t:"UntF",v:{type:"#Prc",val:S[u]}};C={t:"Objc",v:C};var r=Z.ClrC.v,k=jp.mU(r,m);
if(k==-1)r.push(C);else r[k]=C};jp.tP=function(Z,m){var S=[0,0,0,0],B=Z.ClrC.v,C=jp.mU(B,m);if(C==-1)return S;
var u=["Cyn","Mgnt","Ylw","Blck"];for(var q=0;q<4;q++)if(B[C].v[u[q]])S[q]=B[C].v[u[q]].v.val;return S};
jp.r$=function(Z,m,S){var B={TY:S.Mthd.v.CrcM=="Absl",Mf:[[0,0,0,0]]};for(var q=0;q<9;q++)B.Mf.push(jp.tP(S,q));
Z.Ad(m,84);x.p6(Z.data,m,1);m+=2;x.p6(Z.data,m,B.TY?1:0);m+=2;for(var q=0;q<10;q++){var C=B.Mf[q];for(var u=0;
u<4;u++)x.UZ(Z.data,m+u*2,C[u]);m+=8}return 84};function go(){}go.ej=function(){return{rK:new bq(0,0,50,50),Ym:"",Nv:"play",u:l.q.eF.E0([.1,.1,.9,.5,.1,.9],0)}};
go.FK=function(Z){Z=new Uint8Array(Z);var m=0,S=[],B=Date.now(),C=x.aD(Z,0,4);m+=4;var u=x.l(Z,m);m+=4;
var r=x.l(Z,m);m+=4;for(var q=0;q<r;q++){var k=x.Mp(Z,m);m+=k.length*2+4+2;if((k.length&1)==0)m+=2;m=go.j2(Z,m,k,S)}return S};
go.j2=function(Z,m,S,B){var C=x.l(Z,m);m+=4;var u=x.l(Z,m);m+=4;var r=m,k=x.fv(Z,r).q3;r+=k.length+1;
var v=x.kN(Z,r);r+=16;var e=go.J8(Z,r,u-(r-m)),j=l.q.V2(e),$=l.H.su(j),U=1/$.e,H=1/$.n;l.q.uA(e,new ht(U,0,0,H,-$.x*U,-$.y*H));
B.push({Nv:S,Ym:k,u:e,rK:v});m+=u;return m};go.BA=function(Z,m){Z.Nv=m};go.rM=function(Z){var m=new ew,S=0;
x.zT(m,S,"cush");S+=4;x.An(m,S,2);S+=4;x.An(m,S,Z.length);S+=4;for(var q=0;q<Z.length;q++){var B=Z[q],C=B.Nv+"\0";
x.hi(m,S,C);S+=4+C.length*2;if((C.length&1)==1)S+=2;x.An(m,S,1);S+=4;S+=4;var u=S;x.Ge(m,S,B.Ym);S+=B.Ym.length+1;
x.Vc(m,S,B.rK);S+=16;m.Ad(S,B.u.length*26);go.IN(m.data,S,B.u,1,1);S+=B.u.length*26;var r=S-u;if((r&3)!=0)r+=4-(r&3);
x.An(m,u-4,r);S=u+r}return m.data.slice(0,S).buffer};go.aqX=function(Z){var m=[];for(var q=0;q<Z.length;
q++){var S=Z[q],B=S.type,C={type:B};m.push(C);if(B==6){}else if(B==8)C.all=S.all;else if(B==0||B==3){C.length=S.length;
C.frule=S.QZ;C.third=S.Fw;C.prmA=S.Mm;C.prmB=S.oz}else{C.c=[S.H0.x,S.H0.y,S.M.x,S.M.y,S.XX.x,S.XX.y]}}return m};
go.anP=function(Z){var m=[];for(var q=0;q<Z.length;q++){var S=Z[q],B=S.type,C={type:B};m.push(C);if(B==6){}else if(B==8)C.all=S.all;
else if(B==0||B==3){C.length=S.length;C.QZ=S.frule;C.Fw=S.third;C.Mm=S.prmA;C.oz=S.prmB}else{var u=S.c;
C.H0=new aS(u[0],u[1]);C.M=new aS(u[2],u[3]);C.XX=new aS(u[4],u[5])}}return m};go.J8=function(Z,m,S,B,C){if(B==null)B=1;
if(C==null)C=1;function u(f,D,n){var L=x.a9K(f,D)*n,a=Math.round(L);return Math.abs(L-a)<1e-6?a:L}var r=x.Cg,k=[],v=Math.floor(S/26);
for(var q=0;q<v;q++){var e=m+q*26,j={},$=0;k.push(j);j.type=r(Z,e);e+=2;if(j.type==6){$=24}if(j.type==8){j.all=r(Z,e);
e+=2;$=22}if(j.type==0||j.type==3){j.length=r(Z,e);e+=2;j.QZ=r(Z,e);e+=2;j.Fw=r(Z,e);e+=2;j.Mm=x.l(Z,e);
e+=4;j.oz=x.l(Z,e);e+=4;$=10}if(j.type==1||j.type==2||j.type==4||j.type==5){var U,H;H=u(Z,e,C);e+=4;
U=u(Z,e,B);e+=4;j.H0=new aS(U,H);H=u(Z,e,C);e+=4;U=u(Z,e,B);e+=4;j.M=new aS(U,H);H=u(Z,e,C);e+=4;U=u(Z,e,B);
e+=4;j.XX=new aS(U,H);$=0}for(var z=0;z<$;z++)if(Z[e+z]!=0){console.log("Unexpected non-zero byte!",j,z,Z[e+z])}}return k};
go.IN=function(Z,m,S,B,C){var u=x.UZ,r=x.wn,k=S.length;for(var q=0;q<k;q++){var v=m+q*26,e=S[q];u(Z,v,e.type);
v+=2;if(e.type==6){}if(e.type==8)u(Z,v,e.all);if(e.type==0||e.type==3){u(Z,v,e.length);v+=2;u(Z,v,e.QZ);
v+=2;u(Z,v,e.Fw);v+=2}if(e.type==1||e.type==2||e.type==4||e.type==5){r(Z,v,e.H0.y/C);v+=4;r(Z,v,e.H0.x/B);
v+=4;r(Z,v,e.M.y/C);v+=4;r(Z,v,e.M.x/B);v+=4;r(Z,v,e.XX.y/C);v+=4;r(Z,v,e.XX.x/B);v+=4}}};function bT(){}bT.FK=function(Z){var m=new Uint8Array(Z),S=[],B=0;
B=bT.FZ(m,B,S);if(B+3<m.length){S=[];B=bT.FZ(m,B,S)}return S};bT.FZ=function(Z,m,S){var B=x.zO,C=x.Cg,u=B(Z,m);
m+=2;var r=B(Z,m);m+=2;for(var q=0;q<r;q++){var k=bT.ON(Z,m);m+=10;if(u==2){k.G6=x.Mp(Z,m);m+=4+k.G6.length*2+2}S.push(k)}return m};
bT.ON=function(Z,m){var S=x.zO,B=x.Cg,C=S(Z,m),H=null;m+=2;var u=S(Z,m);m+=2;var r=S(Z,m);m+=2;var k=S(Z,m);
m+=2;var v=S(Z,m);m+=2;var e=1/65535,j=255/65535,$=100/65535,U=255/1e4;if(C==0)H={I:u*j,z:r*j,S:k*j};
else if(C==1){H=l.TX(u*e,r*e,k*e);H.I*=255;H.z*=255;H.S*=255}else if(C==2)H=l.X.gN({classID:"CMYC",Cyn:{t:"doub",v:100-u*$},Mgnt:{t:"doub",v:100-r*$},Ylw:{t:"doub",v:100-k*$},Blck:{t:"doub",v:100-v*$}});
else if(C==7){var z=l.y7(u/100,B(Z,m-6)/100,B(Z,m-4)/100);H=z}else if(C==8){H={I:255-u*U,z:255-r*U,S:255-k*U}}else throw"e "+C+", ";
return H};bT.rM=function(Z){var m=new ew,S=0,B=x.vF;B(m,S,2);S+=2;B(m,S,Z.length);S+=2;for(var q=0;q<Z.length;
q++){var C=Z[q];m.Ad(S,10);bT.Y6(m.data,S,C);S+=10;var u=(C.G6?C.G6:"")+"\0";x.hi(m,S,u);S+=4+u.length*2}return m.data.slice(0,S).buffer};
bT.BA=function(Z,m){Z.G6=m};bT.Y6=function(Z,m,S){var B=65535/255,C=x.p6;C(Z,m,0);C(Z,m+2,Math.round(S.I*B));
C(Z,m+4,Math.round(S.z*B));C(Z,m+6,Math.round(S.S*B));C(Z,m+8,0)};function jU(){}jU.FK=function(Z){var m=new Uint8Array(Z),S=4,B={};
B.fm=x.Mp(m,S);S+=4+B.fm.length*2+2;B.exp=m[S++]==1;B.ma=[];var C=x.l(m,S);S+=4;for(var q=0;q<C;q++){var u={};
B.ma.push(u);u.lU=x.zO(m,S);S+=2;u.shift=m[S++]==1;u.aov=m[S++]==1;u.color=x.zO(m,S);S+=2;u.fm=x.Mp(m,S);
S+=4+u.fm.length*2+2;u.exp=m[S++]==1;u.ma=[];var r=x.l(m,S);S+=4;for(var k=0;k<r;k++){var v={};u.ma.push(v);
v.exp=m[S++]==1;v.K=m[S++]==1;v.alx=m[S++]==1;v.a48=m[S++];var e=x.aD(m,S,4);S+=4;if(e=="TEXT"){v.CE=jU.Y9(m,S);
S+=4+v.CE.length}else if(e=="long"){v.CE=x.aD(m,S,4);S+=4}else throw"e";v.I8=jU.Y9(m,S);S+=4+v.I8.length;
var j=x.C0(m,S);S+=4;if(j==-1){v.Oz={};var $=g4.cV(m,v.Oz,S);S+=$}}}console.log(B);var U=new Uint8Array(jU.rM(B));
for(var q=0;q<U.length;q++)if(U[q]!=m[q]){console.log(m.length,U.length);var H=4*(q>>>2)-16;console.log(x.a0(m,H,64));
console.log(x.a0(U,H,64));console.log(m.slice(H,H+64));console.log(U.slice(H,H+64));throw q}return[B]};
jU.Y9=function(Z,m){var S=x.l(Z,m);return x.aD(Z,m+4,S)};jU.JC=function(Z,m,S){x.An(Z,m,S.length);x.zT(Z,m+4,S)};
jU.rM=function(Z){var m=new ew,S=0;x.An(m,S,16);S+=4;x.hi(m,S,Z.fm+"\0");S+=4+Z.fm.length*2+2;m.Ad(S,1);
m.data[S++]=Z.exp?1:0;var B=Z.ma.length;x.An(m,S,B);S+=4;for(var q=0;q<B;q++){var C=Z.ma[q];x.vF(m,S,C.lU);
S+=2;m.Ad(S,2);m.data[S++]=C.shift?1:0;m.data[S++]=C.aov?1:0;x.vF(m,S,C.color);S+=2;x.hi(m,S,C.fm+"\0");
S+=4+C.fm.length*2+2;m.Ad(S,1);m.data[S++]=C.exp?1:0;var u=C.ma.length;x.An(m,S,u);S+=4;for(var r=0;
r<u;r++){var k=C.ma[r];m.Ad(S,4);m.data[S++]=k.exp?1:0;m.data[S++]=k.K?1:0;m.data[S++]=k.alx?1:0;m.data[S++]=k.a48;
var v="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(k.CE)!=-1;x.zT(m,S,v?"long":"TEXT");S+=4;
if(!v){jU.JC(m,S,k.CE);S+=4+k.CE.length}else{x.zT(m,S,k.CE);S+=4}jU.JC(m,S,k.I8);S+=4+k.I8.length;x.X7(m,S,k.Oz?-1:0);
S+=4;if(k.Oz){var e=g4.wW(m,k.Oz,S);S+=e}}}return m.data.slice(0,S).buffer};function cI(){}cI.FK=function(Z){var m=new Uint8Array(Z),S=0,B=x.l(m,S),v;
S+=4;var C=x.aD(m,S,8);S+=8;var u=x.zs(m,S);S+=4;var r=x.zs(m,S);S+=4;var k=x.zs(m,S);S+=4;if(B==2){v=new Float32Array(Z,32,Z.byteLength-32>>>2)}else if(B==3||B==4){v=new Float32Array(r*k*2);
var e=0,j=0,$=!0;S=B==3?32:16+8+40;while(S<m.length){var U=x.zs(m,S);S+=4;if($)j+=U;else{for(var q=0;
q<U;q++){v[e+j+q<<1]=x.O8(m,S);v[(e+j+q<<1)+1]=x.O8(m,S+4);S+=8}j+=U}$=!$;if(U!=0&&j==r){e+=r;j=0;$=!0;
if(e==r*k)break}}}else throw"unknown Mesh version: "+B;return{OU:r,Vi:k,map:v}};cI.Oq=function(Z){var m=Z.OU,S=Z.Vi,B=Z.map,C=new Uint8Array(32+S*m*8+S*8),u=0,r=0;
x.PV(C,u,3);u+=4;x.XI(C,u,"yfqLhseM");u+=8;x.S9(C,u,2);u+=4;x.S9(C,u,m);u+=4;x.S9(C,u,S);u+=4;x.S9(C,u,0);
u+=4;x.S9(C,u,1);u+=4;for(var k=0;k<S;k++){x.S9(C,u,0);u+=4;x.S9(C,u,m);u+=4;for(var v=0;v<m;v++){x.Gq(C,u,B[r]);
x.Gq(C,u+4,B[r+1]);r+=2;u+=8}}return C.buffer};function bI(){}bI.FK=function(Z){var m=new Uint8Array(Z),S=0,B=x.aD(m,S,4);
S+=4;var C=x.zO(m,S);S+=2;var u=x.l(m,S);S+=4;var r=[];for(var q=0;q<u;q++){var k=x.l(m,S);S+=4;var v={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
r.push(v);var e=x.Mp(m,S);v.Nm.v=e;S+=4+e.length*2+2;var j=x.zO(m,S);S+=2;var $=x.zO(m,S);S+=2;for(var U=0;
U<$;U++){var H=l.dL.f2(0,0,!0);H.v.Vrtc.v=x.zO(m,S);S+=2;H.v.Hrzn.v=x.zO(m,S);S+=2;v.Crv.v.push(H)}if(k==1){}else if(k==2){for(var U=0;
U<$;U++){v.Crv.v[U].v.Cnty.v=m[S]==1;S+=1}}else throw"error";var z=x.l(m,S);S+=4;var f=x.l(m,S);S+=4}return r};
bI.BA=function(Z,m){Z.Nm.v=m};bI.rM=function(Z){var m=new ew,S=0;x.zT(m,S,"8BFS");S+=4;x.vF(m,S,1);S+=2;
x.An(m,S,Z.length);S+=4;for(var q=0;q<Z.length;q++){x.An(m,S,2);S+=4;var B=Z[q];x.hi(m,S,B.Nm.v+"\0");
S+=4+B.Nm.v.length*2+2;x.vF(m,S,2);S+=2;var C=B.Crv.v.length;x.vF(m,S,C);S+=2;for(var u=0;u<C;u++){var r=B.Crv.v[u];
x.vF(m,S,r.v.Vrtc.v);S+=2;x.vF(m,S,r.v.Hrzn.v);S+=2}m.Ad(S,C);for(var u=0;u<C;u++){m.data[S]=B.Crv.v[u].v.Cnty.v;
S++}x.An(m,S,0);S+=4;x.An(m,S,0);S+=4}return m.data.slice(0,S).buffer};function bk(){}bk.FK=function(Z){var m=new Uint8Array(Z),S=4,B=x.zO(m,S);
S+=2;var C=x.l(m,S);S+=4;var u=[];for(var q=0;q<C;q++){var r={};u.push(r);S=bk.sI(m,S,r)}return u};bk.BA=function(Z,m){Z.name=m};
bk.rM=function(Z){var m=new ew,S=0;x.zT(m,S,"8BPT");S+=4;x.vF(m,S,1);S+=2;x.An(m,S,Z.length);S+=4;for(var q=0;
q<Z.length;q++){S=bk.wR(m,S,Z[q])}return m.data.slice(0,S).buffer};bk._f=function(Z,m,S){var B=m+S,C=[];
while(m<B){var u={},r=x.l(Z,m);m+=4;var k=m;m=bk.sI(Z,m,u);if(!u.Pg[1].Ov())C.push(u);if(r%4!=0)r+=4-r%4;
m=k+r}return C};bk.uh=function(Z,m,S){for(var q=0;q<S.length;q++){var B=S[q];m+=4;var C=m;m=bk.wR(Z,m,B);
var u=m-C;x.An(Z,C-4,u);if(u%4!=0)C+=4-u%4;m=C+u}return m};bk.sI=function(Z,m,S){var B=x.l(Z,m);m+=4;
if(B!=1)alert("Unknown version of pattern");var C=x.l(Z,m);m+=4;if(C!=1&&C!=2&&C!=3)console.log("Unsupported mode of pattern: "+C);
var u=x.zO(Z,m);m+=2;var r=x.zO(Z,m);m+=2;var k=new bq(0,0,r,u);S.name=x.Mp(Z,m);m+=4+2*S.name.length+2;
var v=Z[m];m++;S.id=x.aD(Z,m,v);m+=S.id.length;var e=-1;if(C==2){e=m;m+=3*256+4}var j=new l._8(r*u);
m=bk.abR(Z,m,j);if(C==2){for(var q=0;q<j.I.length;q++){var $=3*j.I[q];j.I[q]=Z[e+$+0];j.z[q]=Z[e+$+1];
j.S[q]=Z[e+$+2]}}var U=l.U(k.Z()*4);l.t5(j,U);S.Pg=[U,k];return m};bk.wR=function(Z,m,S){var B=S.Pg[0],C=S.Pg[1];
x.An(Z,m,1);m+=4;x.An(Z,m,3);m+=4;x.vF(Z,m,C.n);m+=2;x.vF(Z,m,C.e);m+=2;x.hi(Z,m,S.name+"\0");m+=4+2*S.name.length+2;
x.RO(Z,m,S.id.length);m++;x.zT(Z,m,S.id);m+=S.id.length;var u=new l._8(C.Z());l.Fz(B,u);m=bk.a32(Z,m,u,C);
return m};bk.abR=function(Z,m,S){var B=m,C={pe:null,U1:[],asx:null,RX:null},u=x.l(Z,m);m+=4;var r=x.l(Z,m);
m+=4;C.pe=x.kN(Z,m);m+=16;var k=x.l(Z,m);m+=4;for(var q=0;q<k+2;q++){var v=x.l(Z,m);m+=4;if(v==0)continue;
var e=x.l(Z,m);m+=4;if(e==0)continue;var j=x.l(Z,m);m+=4;var $=x.kN(Z,m);m+=16;var U=x.zO(Z,m);m+=2;
var H=Z[m];m++;var z=fw.eL(!1,j,Z,$.e,$.n,m,H);if(q<k)C.U1.push(z);if(q==k)C.asx=z;if(q==k+1)C.RX=z;
m+=e-23}if(!C.pe.Ov()){if(C.U1[0])S.I=C.U1[0];if(C.U1[1])S.z=C.U1[1];else S.z=C.U1[0].slice(0);if(C.U1[2])S.S=C.U1[2];
else S.S=C.U1[0].slice(0);if(C.RX)S.AQ=C.RX;else S.AQ.fill(255)}return m};bk.a32=function(Z,m,S,B){var C=m,u={pe:B,U1:[S.I,S.z,S.S],asx:null,RX:S.AQ};
x.An(Z,m,3);m+=4;x.An(Z,m,0);m+=4;x.Vc(Z,m,B);m+=16;x.An(Z,m,24);m+=4;for(var q=0;q<24+2;q++){var r=m,k=q<3||q==25?1:0;
x.An(Z,m,k);m+=4;if(k==0)continue;x.An(Z,m,0);m+=4;x.An(Z,m,8);m+=4;x.Vc(Z,m,B);m+=16;x.vF(Z,m,8);m+=2;
x.RO(Z,m,1,1);m++;var v=q<3?u.U1[q]:u.RX;Z.Ad(m,B.Z()+2);m=fw.Am(!1,v,Z.data,B.e,B.n,m,1);x.An(Z,r+4,m-r-8)}x.An(Z,C+4,m-C-8);
return m};function cL(){}cL.FK=function(Z){var m=new Uint8Array(Z),S=0,B=x.aD(m,S,4);S+=4;var C=x.zO(m,S);
S+=2;var u=[];if(C<=3){var r=x.zO(m,S);S+=2;for(var q=0;q<r;q++){var k=m[S++],v=x.aD(m,S,k);S+=k;var e=cL.vN(m,S,v),j=e[0];
S=e[1];u.push(j)}}else{var e={},$=g4.cV(m,e,S+4),U=e.GrdL.v;for(var q=0;q<U.length;q++)u[q]=U[q].v.Grad.v}return u};
cL.BA=function(Z,m){Z.Nm.v=m};cL.rM=function(Z){var m=new ew,S=0;x.zT(m,S,"8BGR");S+=4;x.vF(m,S,5);S+=2;
x.An(m,S,16);S+=4;var B={classID:"null",GrdL:{t:"VlLs",v:[]}},C=B.GrdL.v;for(var q=0;q<Z.length;q++)C[q]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:Z[q]}}};
S+=g4.wW(m,B,S);return m.data.slice(0,S).buffer};cL.vN=function(Z,m,S){var B={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:S},Trns:{t:"VlLs",v:[]}},C=x.zO(Z,m);
m+=2;if(C==0)throw"e";for(var q=0;q<C;q++){var u=x.l(Z,m),r=x.l(Z,m+4),k=bT.ON(Z,m+8),v={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:k.I},Grn:{t:"doub",v:k.z},Bl:{t:"doub",v:k.S}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:u},Mdpn:{t:"long",v:r}}};
B.Clrs.v.push(v);m+=20}var e=x.zO(Z,m);m+=2;for(var q=0;q<e;q++){var u=x.l(Z,m),r=x.l(Z,m+4),j=x.zO(Z,m+8),v={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*j/255)}},Lctn:{t:"long",v:u},Mdpn:{t:"long",v:r}}};
B.Trns.v.push(v);m+=10}var $=x.zO(Z,m);m+=2;if($!=2)throw $;B.Intr.v=x.zO(Z,m);m+=2;var U=x.zO(Z,m);
m+=2;if(U!=32)throw"e";return[B,m]};cL.a6a=function(Z,m,S){var B=S.Clrs.v.length;x.vF(Z,m,B);m+=2;for(var q=0;
q<B;q++){var C=S.Clrs.v[q];x.An(Z,m,C.v.Lctn.v);x.An(Z,m+4,C.v.Mdpn.v);x.vF(Z,m+8,0);var u=l.X.M1(l.X.gN(C.v.Clr.v)),r=[u.Rd.v,u.Grn.v,u.Bl.v,0];
for(var k=0;k<4;k++)x.vF(Z,m+10+k*2,Math.round(65535*(r[k]/255)));m+=20}var v=S.Trns.v.length;x.vF(Z,m,v);
m+=2;for(var q=0;q<v;q++){var C=S.Trns.v[q];x.An(Z,m,C.v.Lctn.v);x.An(Z,m+4,C.v.Mdpn.v);x.vF(Z,m+8,Math.round(255*C.v.Opct.v.val/100));
m+=10}x.vF(Z,m,2);m+=2;x.vF(Z,m,S.Intr.v);m+=2;x.vF(Z,m,32);m+=2;return m};function aj(){}aj.FK=function(Z){var m=new Uint8Array(Z),S=[],B=[],C=[],u=[],r=[],k=0,v=x.aD(m,k,4);
k+=4;var e=x.l(m,k);k+=4;var j=x.l(m,k);k+=4;while(k<m.length){var $=x.aD(m,k,4);k+=4;var U=x.aD(m,k,4);
k+=4;var H=x.l(m,k);k+=4;if(U=="tppa"){B=bk._f(m,k,H);k+=H}else if(U=="tpbd"){C=ga.AR(m,k,H,1,1);k+=H}else if(U=="tptp"){var z=x.l(m,k);
k+=4;for(var q=0;q<z;q++){var f=x.Mp(m,k);k+=6+f.length*2;k+=4;var D={};k+=g4.cV(m,D,k);S.push([f,D])}while((k&3)!=0)k++}else if(U=="tpsh"){var n=k,L=m.slice(k,k+H);
while(k<n+H){var a=x.l(m,k);k+=4;k=go.j2(m,k,"Shape",u)}k=n+H}else if(U=="tpst"){var n=k;k+=4;while(k<n+H){var F=x.l(m,k);
k+=4;var A=k,T=x.l(m,k);k+=4;var D={Ym:{},lS:{}};r.push(D);k+=4;k+=g4.cV(m,D.Ym,k);k+=4;k+=g4.cV(m,D.lS,k);
k=A+F;var P=D.lS.Lefx;if(P){if(P.v.masterFXSwitch==null)P.v.masterFXSwitch={t:"bool",v:!0};hR.Rh(P.v)}}k=n+H}else{console.log(m.slice(k-8,k+64));
console.log(x.aD(m,k-8,64));throw U}}return{VV:C,Km:B,list:S,a1b:u,aw:r}};aj.BA=function(Z,m){Z[0]=m};
aj.rM=function(Z){var m=new ew,S=0;x.zT(m,S,"8BTP");S+=4;x.An(m,S,3);S+=4;x.An(m,S,1);S+=4;var B=[Z.Km,Z.VV,Z.list];
for(var q=0;q<3;q++){if(B[q].length==0)continue;x.zT(m,S,"8BIM");S+=4;var C=["tppa","tpbd","tptp"][q];
x.zT(m,S,C);S+=4;var u=S;S+=4;if(C=="tppa"){S=bk.uh(m,S,Z.Km)}else if(C=="tpbd"){S=ga.c1(m,S,Z.VV)}else if(C=="tptp"){x.An(m,S,Z.list.length);
S+=4;for(var r=0;r<Z.list.length;r++){var k=Z.list[r];x.hi(m,S,k[0]+"\0");S+=6+k[0].length*2;x.An(m,S,16);
S+=4;S+=g4.wW(m,k[1],S)}}x.An(m,u,S-u-4);while((S&3)!=0)S++;m.Ad(S,0)}return m.data.slice(0,S).buffer};
function i$(){}i$.FK=function(Z,m){var S=new Uint8Array(Z),B;if(x.l(S,0)==S.length)B="icc";else if(S[0]=="<".charCodeAt(0))B="look";
else if(x.Ok(S,"LUT_3D_SIZE")!=-1)B="cube";else B="3DL";if(B!="icc"){var C=i$.auk(S,B),u=i$.ad9(C[0],C[1]);
S=u}var r=[];for(var q=0;q<S.length;q++)r.push(S[q]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:m?m:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:r}}]};
i$.rM=function(Z){var m=Z[0],S=new Uint8Array(m.profile.v);return S.buffer};i$.BA=function(Z,m){Z.Nm.v=m};
i$.ad9=function(Z,m){var S=new ew,B=128;S.Ad(0,128);var C=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var q=0;q<C.length;q++)S.data[q]=C[q];var u=["desc","A2B0"],r=u.length,k=128+4+r*12;x.An(S,B,r);
B+=4;for(var v=0;v<r;v++){var e=u[v];x.zT(S,B,e);B+=4;x.An(S,B,k);B+=4;var j=k;if(e=="desc"){x.zT(S,j,"mluc");
j+=4;j+=4;x.An(S,j,1);j+=4;x.An(S,j,12);j+=4;x.zT(S,j,"enUS");j+=4;var $="ICC by Photopea\0",U=$.length*2+2;
x.An(S,j,U);j+=4;x.An(S,j,28);j+=4;S.Ad(j,U);for(var q=0;q<$.length;q++)S.data[j+q*2+1]=$.charCodeAt(q);
j+=U}if(e=="A2B0"){x.zT(S,j,"mAB ");j+=4;j+=4;S.Ad(j,4);S.data[j]=3;S.data[j+1]=3;j+=4;S.Ad(j,4*5);j+=4*3;
x.An(S,j,j+8-k);j+=4;j+=4;S.Ad(j,20);S.data[j]=Z;S.data[j+1]=Z;S.data[j+2]=Z;j+=16;S.data[j]=2;j+=4;
var H=Z*Z*Z*3;S.Ad(j,H*2);for(var q=0;q<H;q++)x.p6(S.data,j+q*2,Math.max(0,Math.min(65535,Math.round(m[q]*65535))));
j+=H*2}var z=j-k;while((z&3)!=0)z++;x.An(S,B,z);B+=4;k+=z}x.An(S,0,k);return S.data.slice(0,k)};i$.auk=function(Z,m){m="LUTFormat"+m.toUpperCase();
var S=[],B=0,C=x.QN(Z,0,Z.length),u="";for(var q=0;q<Z.length&&u=="";q++){if(Z[q]==10)u="\n";else if(Z[q]==13){u="\r";
if(Z[q+1]==10)u+="\n"}}if(m=="LUTFormatCUBE"){var r=C.split(u);for(var q=0;q<r.length;q++){if(r[q]==""||r[q][0]=="#")continue;
var k=r[q].split(" "),v=k[0];if(v=="LUT_3D_SIZE"){B=parseInt(k[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(v)!=-1)continue;
S.push(parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2]))}S=i$.hQ(B,S)}else if(m=="LUTFormat3DL"){var r=C.split(u),e=1/4095;
for(var q=0;q<r.length;q++){var j=r[q];if(j==""||j=="3DMESH"||j.startsWith("Mesh")||j[0]=="#")continue;
var k=j.split(" "),v=k[0];if(B==0){B=k.length;continue}S.push(parseFloat(k[0])*e,parseFloat(k[1])*e,parseFloat(k[2])*e)}}else if(m=="LUTFormatLOOK"){var $=new DOMParser,U=$.parseFromString(C,"text/xml"),H=U.getElementsByTagName("LUT")[0],z=H.children[0].textContent;
B=parseInt(JSON.parse(z));var f=H.children[1].textContent;f=f.replace(/"/g,"").replace(/\s/g,"");var D=3*B*B*B,n=D*4,L=new Uint8Array(n);for(var q=0;q<n;q++){var a=f.charCodeAt(q*2),F=f.charCodeAt(q*2+1),A=a<58?a-48:a-55,T=F<58?F-48:F-55;L[q]=(A<<4)+T}for(var q=0;q<D;q++)S.push(x.O8(L,q<<2));S=i$.hQ(B,S)}else throw m;return[B,S]};i$.aml=function(Z,m,S){var B=["#Created by www.Photopea.com","TITLE \""+S+"\"","","#LUT size","LUT_3D_SIZE "+m,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],C=6;
for(var q=0;q<Z.length;q+=3){B.push(Z[q].toFixed(C)+" "+Z[q+1].toFixed(C)+" "+Z[q+2].toFixed(C))}B.push("");
return x.P8(B.join("\n")).buffer};i$.hQ=function(Z,m){var S=[],B=Z*Z*Z;for(var q=0;q<B;q++)S.push(0,0,0);
for(var C=0;C<Z;C++)for(var u=0;u<Z;u++)for(var r=0;r<Z;r++){var q=3*(r+u*Z+C*Z*Z),k=3*(C+u*Z+r*Z*Z);
S[k]=m[q];S[k+1]=m[q+1];S[k+2]=m[q+2]}return S};function g4(){}g4.cV=function(Z,m,S,B,C){var u=S,r;if(C==null)C=0;
var k=x.l(Z,S);if(k==0){r="";S+=4}else{r=x.Mp(Z,S);S+=4+2*r.length+2}if(r!="")m.__name=r;m.classID=g4.IT(Z,S);
if(B)console.log("\t".repeat(C),"- reading descriptor",m.classID,S);S+=g4.Hh(Z,S);var v=x.C0(Z,S);S+=4;
for(var q=0;q<v;q++){var e=g4.IT(Z,S);S+=g4.Hh(Z,S);var j=g4.ua(Z,S,B,C);m[e]=j;S+=j.size;delete j.size}return S-u};
g4.wW=function(Z,m,S,B){var C=S,u=m.__name;if(u==null)u="";u+="\0";x.hi(Z,S,u);S+=4+2*u.length;g4._Y(Z,S,m.classID);
S+=g4.Hh(Z.data,S);x.X7(Z,S,Object.keys(m).length-1-(m.__name==null?0:1));S+=4;for(var r in m){if(r=="classID")continue;
if(r=="__name")continue;g4._Y(Z,S,r);S+=g4.Hh(Z.data,S);S+=g4.Uw(Z,S,m[r])}return S-C};g4.ua=function(Z,m,S,B){var C=m,u=x.aD(Z,m,4);
m+=4;var r={size:0,t:u,v:null};if(S)console.log("\t".repeat(B),"reading key",u,C);switch(u){case"obj ":case"VlLs":r.v=[];
var k=x.l(Z,m);m+=4;for(var q=0;q<k;q++){var v=g4.ua(Z,m,S,B+1);m+=v.size;delete v.size;r.v.push(v)}break;
case"UntF":r.v={type:x.aD(Z,m,4),val:x.NX(Z,m+4)};m+=12;break;case"doub":r.v=x.NX(Z,m);m+=8;break;case"bool":r.v=Z[m]==1;
m+=1;break;case"long":r.v=x.C0(Z,m);m+=4;break;case"comp":r.v=x.C0(Z,m+4);m+=8;break;case"Objc":r.v={};
var e=g4.cV(Z,r.v,m,S,B+1);m+=e;break;case"TEXT":var j=x.l(Z,m);if(j==0){r.v="";m+=4}else{r.v=x.Mp(Z,m);
m+=4+r.v.length*2+2}break;case"enum":var $=g4.IT(Z,m);m+=g4.Hh(Z,m);var U=g4.IT(Z,m);m+=g4.Hh(Z,m);r.v={};
r.v[$]=U;break;case"tdta":var H=x.C0(Z,m);m+=4;r.v=[];for(var q=0;q<H;q++)r.v.push(Z[m+q]);m+=H;break;
case"ObAr":var z=x.l(Z,m);m+=4;var f=x.Mp(Z,m);m+=4+2*f.length+2;if(f!="")throw f;var D=g4.IT(Z,m);m+=4+Math.max(4,D.length);
r.v={classID:D,arr:[]};var n=x.l(Z,m);m+=4;for(var q=0;q<n;q++){var D=g4.IT(Z,m);m+=4+Math.max(4,D.length);
var $=x.aD(Z,m,4);m+=4;var L=x.aD(Z,m,4);m+=4;var a={id:D,type:$,uID:L,arr:[]};r.v.arr.push(a);var F=x.l(Z,m,4);
m+=4;for(var A=0;A<F;A++){var T=x.NX(Z,m);m+=8;a.arr.push(T)}}break;case"Pth ":var P=m,H=x.l(Z,m);m+=4;
var Y=x.aD(Z,m,4);m+=4;var Q=x.zs(Z,m);m+=4;var o=x.ast(Z,m);m+=4+o.length*2;r.v={sig:Y,pth:o};break;
case"Clss":case"type":case"rele":var o=x.Mp(Z,m);m+=4+o.length*2+2;var I=g4.IT(Z,m);m+=4+Math.max(4,I.length);
r.v={classID:I};if(o!="")r.v.__name=o;if(u=="rele"){r.v.val=x.C0(Z,m);m+=4}break;case"prop":case"Enmr":case"indx":case"name":var c=g4.Hs[u],o=x.Mp(Z,m);
m+=4+o.length*2+2;if(o.length!=0){console.log(u,o);throw"e"}r.v={};for(var q=0;q<c.length;q++){var I=g4.IT(Z,m);
m+=4+Math.max(4,I.length);r.v[c[q]]=I}if(u=="name"){var o=x.Mp(Z,m);m+=4+o.length*2+2;r.v.val=o}if(u=="indx"){r.v.val=x.l(Z,m);
m+=4}break;case"alis":var H=x.l(Z,m);m+=4;r.v=x.aD(Z,m,H);m+=H;break;default:{console.log("unknown oskey: "+u+", "+C);
throw"e";return r}}if(S){console.log("\t".repeat(B),r.v);console.log("\t".repeat(B),"======",m)}r.size=m-C;
return r};g4.Hs={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
g4.Uw=function(Z,m,S){var B=m,C=S.t;S=S.v;x.zT(Z,m,C);m+=4;switch(C){case"obj ":case"VlLs":x.X7(Z,m,S.length);
m+=4;for(var u=0;u<S.length;u++){var r=g4.Uw(Z,m,S[u]);m+=r}break;case"UntF":x.zT(Z,m,S.type);x.qE(Z,m+4,S.val);
m+=12;break;case"doub":x.qE(Z,m,S);m+=8;break;case"bool":x.RO(Z,m,S?1:0,1);m+=1;break;case"long":x.X7(Z,m,S);
m+=4;break;case"comp":x.X7(Z,m+4,S);m+=8;break;case"Objc":var r=g4.wW(Z,S,m);m+=r;break;case"TEXT":x.hi(Z,m,S+"\0");
m+=4+S.length*2+2;break;case"enum":var k=Object.keys(S)[0],v=S[k];g4._Y(Z,m,k);m+=g4.Hh(Z.data,m);g4._Y(Z,m,v);
m+=g4.Hh(Z.data,m);break;case"tdta":x.An(Z,m,S.length);m+=4;x.dR(Z,m,S);m+=S.length;break;case"ObAr":x.An(Z,m,S.arr[0].arr.length);
m+=4;x.hi(Z,m,"\0");m+=6;g4._Y(Z,m,S.classID);m+=4+Math.max(4,S.classID.length);x.An(Z,m,S.arr.length);
m+=4;for(var q=0;q<S.arr.length;q++){var e=S.arr[q];g4._Y(Z,m,e.id);m+=4+Math.max(4,e.id.length);x.zT(Z,m,e.type);
m+=4;x.zT(Z,m,e.uID);m+=4;x.An(Z,m,e.arr.length);m+=4;for(var u=0;u<e.arr.length;u++){x.qE(Z,m,e.arr[u]);
m+=8}}break;case"Pth ":var j=S.pth.length*2+4+8;x.An(Z,m,j);m+=4;x.zT(Z,m,S.sig);m+=4;x.$_(Z,m,j);m+=4;
x.a5o(Z,m,S.pth);m+=S.pth.length*2+4;break;case"Clss":case"type":case"rele":var $=S.__name;if($==null)$="";
x.hi(Z,m,$+"\0");m+=4+$.length*2+2;var U=S.classID;g4._Y(Z,m,U);m+=4+Math.max(4,U.length);if(C=="rele"){x.X7(Z,m,S.val);
m+=4}break;case"prop":case"Enmr":case"indx":case"name":var H=g4.Hs[C];x.An(Z,m,1);m+=6;for(var q=0;q<H.length;
q++){var U=S[H[q]];g4._Y(Z,m,U);m+=4+Math.max(4,U.length)}if(C=="name"){x.hi(Z,m,S.val+"\0");m+=4+S.val.length*2+2}if(C=="indx"){x.An(Z,m,S.val);
m+=4}break;case"alis":var j=S.length;x.An(Z,m,j);m+=4;x.zT(Z,m,S);m+=j;break;default:console.log("unknown oskey: "+C);
m=B;break}return m-B};g4.IT=function(Z,m){var S=x.C0(Z,m);if(S>1e3)throw"e";if(S==0)S=4;return x.aD(Z,m+4,S).trim()};
g4.Hh=function(Z,m){var S=x.C0(Z,m);return S==0?8:4+S};g4._Y=function(Z,m,S){var B="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow trim then else".split(" "),C=4<S.length||B.indexOf(S)!=-1;
x.X7(Z,m,C?S.length:0);x.zT(Z,m+4,S);if(S.length<4&&!C){var u="";for(var q=S.length;q<4;q++)u+=" ";x.zT(Z,m+4+S.length,u)}};
g4.a62=function(Z){var m={};for(var S in Z){if(S=="classID")m[S]=Z[S];else if(S=="__name")m[S]=Z[S];
else m[S]=g4.VY(Z[S])}return m};g4.VY=function(Z){if(Z.aU=="Objc")return g4.a62(Z.v);else if(Z.aU=="VlLs"){var m=[];
for(var q=0;q<Z.v.length;q++)m.push(g4.VY(Z.v[q]));return m}else if(Z.aU=="UntF")return Z.v.val;else return Z.v};
function hR(){}hR.SF=function(Z,m,S,B,C,u){while(m<S){var r=x.aD(Z,m,4);m+=4;if(r!="8BIM"&&r!="8B64"){console.log("layer information signature error! "+r,"PSB = "+C);
alert("Error in PSD file: wrong signature.");return S}var k=x.aD(Z,m,4);m+=4;var v=x.l(Z,m);m+=4;var e=C&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(k)!=-1;
if(e){v=v<<32|x.C0(Z,m);m+=4}var j=["lrFX","PlLd"];if(j.indexOf(k)!=-1){if(v%4!=0)v+=4-v%4;m+=v;continue}switch(k){case"iOpa":B[k]=Z[m];
break;case"brst":B[k]=[1,1,1];for(var q=0;q<v;q+=4)B[k][x.l(Z,m+q)]=0;break;case"knko":B[k]=Z[m];break;
case"infx":B[k]=Z[m];break;case"clbl":B[k]=Z[m];break;case"lmgm":B[k]=Z[m];break;case"vmgm":B[k]=Z[m];
break;case"fcmy":B[k]=Z[m];break;case"lyid":B[k]=x.l(Z,m);break;case"lsct":B[k]={type:x.l(Z,m)};if(v>=12)B[k].E4=x.aD(Z,m+8,4);
break;case"lsdk":B.lsct={type:x.l(Z,m)};break;case"lyvr":B[k]=x.l(Z,m);break;case"lnsr":var $={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
B[k]=x.aD(Z,m,4);break;case"lspf":B[k]=x.l(Z,m);break;case"lclr":B[k]=x.zO(Z,m);break;case"luni":B[k]=x.nK(Z,m);
break;case"fxrp":B[k]=new aS(x.NX(Z,m),x.NX(Z,m+8));break;case"artb":case"artd":B[k]={};g4.cV(Z,B[k],m+4);
break;case"SoCo":B[k]={};g4.cV(Z,B[k],m+4);break;case"GdFl":B[k]={};g4.cV(Z,B[k],m+4);hR.fw(B[k],k);
break;case"PtFl":B[k]={};g4.cV(Z,B[k],m+4);hR.fw(B[k],k);break;case"CgEd":var U=B.brit=bS.ej("brit"),H={};
g4.cV(Z,H,m+4);U.Brgh.v=H.Brgh?H.Brgh.v:0;U.Cntr.v=H.Cntr?H.Cntr.v:0;U.useLegacy.v=H.useLegacy?H.useLegacy.v:0;
break;case"brit":if(B.brit==null){var U=B.brit=bS.ej("brit"),H={};U.Brgh.v=x.Cg(Z,m);U.Cntr.v=x.Cg(Z,m+2);
U.useLegacy.v=!1}break;case"levl":var z=Z.buffer.slice(m,m+v);B[k]=dW.FK(z);break;case"curv":B[k]=f8.NI(Z,m,v);
break;case"expA":var f=x.zO(Z,m),D=B[k]=bS.ej("expA");D.Exps.v=x._O(Z,m+2);D.Ofst.v=x._O(Z,m+6);D.gammaCorrection.v=x._O(Z,m+10);
break;case"vibA":B[k]={};g4.cV(Z,B[k],m+4);break;case"hue2":B[k]=iL.NI(Z,m,v);break;case"blnc":var D=B[k]=bS.ej(k);
D.PrsL.v=Z[m+18]==1;var n=["ShdL","MdtL","HghL"];for(var q=0;q<3;q++)for(var L=0;L<3;L++)D[n[q]].v[L].v=x.Cg(Z,m+q*6+L*2);
break;case"blwh":var a={};g4.cV(Z,a,m+4);var D=bS.ej(k),F="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var q=0;q<F.length;q++){D[F[q]]=a[F[q]];delete a[F[q]]}B[k]=D;break;case"phfl":var D=B[k]=bS.ej(k),A=D.Clr.v,f=x.zO(Z,m);
if(f==3){var T=[x.l(Z,m+2),x.l(Z,m+6),x.l(Z,m+10)],P=32768,Y=l.ai(T[0]/P,T[1]/P,T[2]/P);A.Lmnc.v=Y.Ma;
A.A.v=Y.AQ;A.B.v=Y.S}if(f==2){var Q=x.zO(Z,m+2);if(Q!=7)throw"e";A.Lmnc.v=x.Cg(Z,m+4)/100;A.A.v=x.Cg(Z,m+6)/100;
A.B.v=x.Cg(Z,m+8)/100}var o=m+2+(f==3?12:10);D.Dnst.v=x.l(Z,o);o+=4;D.PrsL.v=Z[o]==1;break;case"mixr":var I={l1:x.zO(Z,m+2)==1,k:[]};
for(var q=0;q<20;q++)I.k.push(x.Cg(Z,m+4+q*2));B[k]=e$.Yw(I);break;case"clrL":case"rplc":B[k]={};g4.cV(Z,B[k],m+6);
break;case"nvrt":B[k]={};break;case"post":B[k]=bS.ej("post");B[k].Lvls.v=x.zO(Z,m);break;case"thrs":B[k]=bS.ej("thrs");
B[k].Lvl.v=x.zO(Z,m);break;case"grdm":var c=m,y=Z[m+2]==1,i=Z[m+3]==1;c+=4;var d=x.nK(Z,c);c+=4+d.length*2;
var V=cL.vN(Z,c,d),R=V[0];c=V[1];var G=x.zO(Z,c);c+=2;var M=x.l(Z,c);c+=4;var O=x.zO(Z,c)==1;c+=2;var K=x.zO(Z,c)==1;
c+=2;var W=x.l(Z,c);c+=4;var t=x.zO(Z,c);c+=2;var X=[],h=[];for(var q=0;q<4;q++){X.push({t:"long",v:~~(x.zO(Z,c+q*2)*100/32768)});
h.push({t:"long",v:~~(x.zO(Z,c+q*2+8)*100/32768)})}c+=16;var b=x.zO(Z,c);c+=2;if(G==1)R={classID:"Grdn",Nm:{t:"TEXT",v:d},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:O},VctC:{t:"bool",v:K},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:M},Smth:{t:"long",v:W},Mnm:{t:"VlLs",v:X},Mxm:{t:"VlLs",v:h}};
var E=bS.ej("grdm");E.Rvrs.v=y;E.Grad.v=R;B[k]=E;break;case"selc":B[k]=jp.NI(Z,m,v);break;case"vmsk":case"vsms":var f0=B.vmsk=new w.r6,ay=x.C0(Z,m+4),p=(ay>>0&1)==1;
f0.ie=(ay>>1&1)==0;f0.isEnabled=(ay>>2&1)==0;f0.u=go.J8(Z,m+8,v-8,u.e,u.n);break;case"shmd":B[k]={};
var eo=x.l(Z,m),o=m+4;for(var q=0;q<eo;q++){var r=x.aD(Z,o,4);o+=4;var co=x.aD(Z,o,4);o+=4;var c5=Z[o];
o++;if(Math.max(Z[o],Z[o+1])!=0)throw"e";o+=3;var he=x.l(Z,o);o+=4;if(co=="cust"||co=="cmls"||co=="extn"||co=="mlst"){var hU=x.l(Z,o);
if(hU!=16)o+=4;if(x.l(Z,o)==16){var a={};g4.cV(Z,a,o+4,!1);B[k][co]=a;if(co=="cmls")g.QH.ab4(B[k][co])}}else{console.log("unknown shmd key: "+co+", size: "+he)}o+=he}break;
case"shpa":var f=x.l(Z,m),aB=x.l(Z,m+4);if(aB!=0)console.log("some patterns present!");break;case"TySh":var ep=B[k]={},f=x.zO(Z,m);
ep.A=x.hK(Z,m+2);var aO=x.zO(Z,m+2+48);ep.bw={};var f$=g4.cV(Z,ep.bw,m+56),fo=e6.auP();for(var bb in fo)if(ep.bw[bb]==null)ep.bw[bb]=fo[bb];
ep.qO={};var jl=g4.cV(Z,ep.qO,m+56+f$+6);ep.sq=x.ab8(Z,m+56+f$+6+jl);ep.e7=gG.FK(ep.bw.EngineData.v);
e6.aaj(ep.e7.EngineDict.StyleRun.RunArray);if(ep.e7.ResourceDict==null)ep.e7.ResourceDict=JSON.parse(JSON.stringify(ep.e7.DocumentResources));
delete ep.bw.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var e0=x.l(Z,m),gI=x.l(Z,m+4);B.lmfx={};
var f$=g4.cV(Z,B.lmfx,m+8);hR.Rh(B.lmfx);break;case"FMsk":B[k]=x.JU(Z,m,v);break;case"Txt2":B[k]={};
B[k].raw=x.JU(Z,m,v);B[k].bo=ju.FK(B[k].raw);break;case"Patt":B[k]=bk._f(Z,m,v);break;case"SoLd":var d4=x.aD(Z,m,4),ab=x.l(Z,m+4),c3=x.l(Z,m+8);
B[k]={};var gr=g4.cV(Z,B[k],m+12);if(B[k].nonAffineTransform==null)B[k].nonAffineTransform=JSON.parse(JSON.stringify(B[k].Trnf));
if(B[k].Impr==null)B[k].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var ab=x.l(Z,m);
B[k]={};var gr=g4.cV(Z,B[k],m+4);break;case"vscg":var co=x.aD(Z,m,4),ab=x.l(Z,m+4);B[co]={};var gr=g4.cV(Z,B[co],m+8);
hR.fw(B[co],co);break;case"vogk":var a2=x.l(Z,m),ab=x.l(Z,m+4);B[k]={};var gr=g4.cV(Z,B[k],m+8);B[k]=B[k].keyDescriptorList.v;
for(var q=0;q<B[k].length;q++){var aL=B[k][q].v;if(!l.Ka.x7(aL))continue;if(aL.keyOriginBoxCorners==null){var el=l.Ka.Ft(aL);
aL.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var iJ=[el[0],el[1],el[2],el[1],el[2],el[3],el[0],el[3]];
if(aL.keyOriginType.v==4)iJ=l.Ka.LR(l.Ka._0(aL),aL.keyOriginLineWeight.v);l.Ka.bt(aL,"keyOriginBoxCorners",iJ)}}break;
case"lnk2":case"lnkD__":case"lnk3__":B[k]=[];var c=m;while(c<m+v){var aC=new w.fy;B[k].push(aC);var cr=x.EA(Z,c);
c+=8;var bN=c;aC.type=x.aD(Z,c,4);c+=4;if(aC.type!="liFD"){alert("Unknown Linked Layer type: "+aC.type);
break;throw aC.type}aC.so=x.l(Z,c);c+=4;var hf=x.fv(Z,c);c+=1+hf.q3.length;aC.Us=hf.q3;aC.qw=x.Mp(Z,c);
c+=4+aC.qw.length*2+2;aC.lE=x.aD(Z,c,4);c+=4;aC.fX=x.aD(Z,c,4);c+=4;var cV=x.EA(Z,c);c+=8;aC.open=Z[c];
c+=1;if(aC.open!=0){var ez={},f$=g4.cV(Z,ez,c+4);if(f$%4!=0)f$+=4-f$%4;console.log(ez);c+=f$+4}aC.open=0;
aC.raw=x.JU(Z,c,cV);c=bN+cr;if(cr%4!=0)c+=4-cr%4}break;case"FEid":var c=m;B[k]=[];var jG=c+v,f=x.l(Z,c);
c+=4;while(c<jG){c+=4;var cr=x.l(Z,c);c+=4;var V={};B[k].push(V);V.id=x.fv(Z,c).q3;c+=V.id.length+1;
var f=x.l(Z,c);c+=4;c+=4;var jw=x.l(Z,c);c+=4;V.rect=x.kN(Z,c);c+=16;var dw=x.l(Z,c);c+=4;var cb=x.l(Z,c);
c+=4;var cz=new l._8(0);for(var q=0;q<cb+2;q++){var jq=x.l(Z,c);c+=4;if(jq!=0){c+=4;var dU=x.l(Z,c),ge=null;
c+=4;if(q<3||q==25)ge=fw.nd(!0,dw,Z,V.rect.e,V.rect.n,c,dU);if(q==0)cz.I=ge;if(q==1)cz.z=ge;if(q==2)cz.S=ge;
if(q==25)cz.AQ=ge;c+=dU}}V.buffer=l.U(V.rect.Z()*4);l.t5(cz,V.buffer);l.LG(V);var al=Z[c];c++;if(al!=0){V.v=new w.Ga;
V.v.rect=x.kN(Z,c);c+=16;c+=4;var a_=x.l(Z,c);c+=4;V.v.channel=fw.nd(!0,dw,Z,V.v.rect.e,V.v.rect.n,c,a_);
V.v.color=255;V.v.t6();c+=a_}if(cr%4!=0)c+=4-cr%4}break;case"Lr16":dq.Ot(u,Z,m);break;case"Anno":B[k]=[];
var hc=m,g7=m+4,aB=x.l(Z,g7);g7+=4;for(var q=0;q<aB;q++){var cr=x.l(Z,g7);g7+=4;var b4=x.aD(Z,g7,4);
g7+=4;if(b4!="txtA")throw b4;var eC=Z[g7++],cN=Z[g7++],i7=x.zO(Z,g7);g7+=2;var gC=x.kN(Z,g7);g7+=16;
var h7=x.kN(Z,g7);g7+=16;var A=bT.ON(Z,g7);g7+=10;var iB=x.fv(Z,g7);g7+=iB.length;var hH=x.fv(Z,g7);
g7+=hH.length;var bA=x.fv(Z,g7);g7+=bA.length;var cq=x.l(Z,g7);g7+=4;var fd=x.aD(Z,g7,4);g7+=4;var iW=x.l(Z,g7);
g7+=4;var ca=x.zw(Z,g7+2,iW-2>>1);g7+=iW;B[k].push([gC.x,gC.y,A,iB.q3,ca])}break;default:break}var f9="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(f9.indexOf(k)==-1)if(v%4!=0)console.log("size not multiple of 4!!!",k);if(k!="luni"&&k!="TySh"&&k!="tySh"&&k!="lfx2")if(v%4!=0)v+=4-v%4;
m+=v}var bt=[];for(var q=0;q<bt.length;q++)delete B[bt[q]];return m};hR.Cm=function(Z,m,S,B,C){for(var u in S)if(S[u]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+u+"\" tag was present with a null value.");delete S[u]}for(var u in S){var r=B&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(u)!=-1,v=0;
x.zT(Z,m,r?"8B64":"8BIM");m+=4;var k=m;x.zT(Z,m,u);m+=4;x.X7(Z,m,0);m+=r?8:4;switch(u){case"iOpa":x.RO(Z,m,S[u],1);
v=4;break;case"brst":v=0;for(var q=0;q<3;q++)if(S[u][q]==0){x.An(Z,m+v,q);v+=4}break;case"knko":x.RO(Z,m,S[u],1);
v=4;break;case"infx":x.RO(Z,m,S[u],1);v=4;break;case"clbl":x.RO(Z,m,S[u],1);v=4;break;case"lmgm":x.RO(Z,m,S[u],1);
v=4;break;case"vmgm":x.RO(Z,m,S[u],1);v=4;break;case"fcmy":x.RO(Z,m,S[u],1);v=4;break;case"lyid":x.An(Z,m,S[u]);
v=4;break;case"lsct":x.An(Z,m,S[u].type);v=4;if(S[u].E4){x.zT(Z,m+4,"8BIM");x.zT(Z,m+8,S[u].E4);v=12}break;
case"lyvr":x.An(Z,m,S[u]);v=4;break;case"lnsr":x.zT(Z,m,S[u]);v=4;break;case"lspf":x.An(Z,m,S[u]);v=4;
break;case"lclr":x.vF(Z,m,S[u]);v=8;break;case"luni":x.hi(Z,m,S[u]);v=4+2*S[u].length;break;case"fxrp":x.qE(Z,m,S[u].x);
x.qE(Z,m+8,S[u].y);v=16;break;case"artb":case"artd":x.An(Z,m,16);v=g4.wW(Z,S[u],m+4)+4;break;case"SoCo":x.An(Z,m,16);
v=g4.wW(Z,S[u],m+4)+4;break;case"GdFl":x.An(Z,m,16);v=g4.wW(Z,S[u],m+4)+4;break;case"PtFl":x.An(Z,m,16);
v=g4.wW(Z,S[u],m+4)+4;break;case"CgEd":var e={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},j=e,$=S[u];
j.Brgh.v=$.Brgh.v;j.Cntr.v=$.Cntr.v;j.useLegacy.v=$.useLegacy.v;x.An(Z,m,16);v=g4.wW(Z,e,m+4)+4;break;
case"brit":Z.Ad(m,8);v=8;break;case"levl":var U=new ew;v=dW.rM(U,S[u]);x.dR(Z,m,U.data);break;case"curv":v=f8.r$(Z,m,S[u]);
break;case"expA":v=14;Z.Ad(m,14);x.p6(Z.data,m,1);x.QF(Z.data,m+2,S[u].Exps?S[u].Exps.v:0);x.QF(Z.data,m+6,S[u].Ofst?S[u].Ofst.v:0);
x.QF(Z.data,m+10,S[u].gammaCorrection?S[u].gammaCorrection.v:1);break;case"vibA":x.An(Z,m,16);v=g4.wW(Z,S[u],m+4)+4;
break;case"hue2":v=iL.r$(Z,m,S[u]);break;case"blnc":v=19;Z.Ad(m,v);var H=["ShdL","MdtL","HghL"];for(var q=0;
q<3;q++){var z=S[u][H[q]].v;for(var f=0;f<3;f++)z.push(x.UZ(Z.data,m+q*6+f*2,z[f].v))}Z.data[m+18]=S[u].PrsL.v?1:0;
break;case"blwh":var e={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},D="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var q=0;q<D.length;q++){e[D[q]]=S[u][D[q]]}x.An(Z,m,16);v=g4.wW(Z,e,m+4)+4;break;case"phfl":x.vF(Z,m,2);
var n=S[u].Clr.v;x.vF(Z,m+2,7);x.vF(Z,m+4,Math.round(n.Lmnc.v*100));x.vF(Z,m+6,Math.round(n.A.v*100));
x.vF(Z,m+8,Math.round(n.B.v*100));x.vF(Z,m+10,0);var L=m+2+10;Z.Ad(L,5);x.PV(Z.data,L,S[u].Dnst.v);L+=4;
Z.data[L]=S[u].PrsL.v?1:0;L++;v=L-m;break;case"mixr":v=44;Z.Ad(m,v);var a=e$.hM(S[u]);x.p6(Z.data,m,1);
x.p6(Z.data,m+2,a.l1?1:0);for(var q=0;q<20;q++)x.UZ(Z.data,m+4+q*2,a.k[q]);break;case"clrL":case"rplc":x.vF(Z,m,1);
x.An(Z,m+2,16);v=g4.wW(Z,S[u],m+6)+6;break;case"nvrt":v=0;break;case"post":x.vF(Z,m,S[u].Lvls.v);v=2;
break;case"thrs":x.vF(Z,m,S[u].Lvl.v);v=2;break;case"grdm":var F=S[u].Rvrs?S[u].Rvrs.v:!1,A=!1,T=867527939,P=!1,Y=!1,Q=2048,o=[0,0,0,0],I=[32768,32768,32768,32768],c=S[u].Grad.v,y,i,d=c.Clrs==null?1:0;
if(d==0){y=c;i=JSON.parse(fp.p5.aim).v}else{y=bS.ej("grdm").Grad.v;i=c}Z.Ad(m,4);x.p6(Z.data,m,1);Z.data[m+2]=F?1:0;
Z.data[m+3]=A?1:0;var V=m+4;x.hi(Z,V,c.Nm.v);V+=4+c.Nm.v.length*2;V=cL.a6a(Z,V,y);x.vF(Z,V,d);V+=2;x.An(Z,V,i.RndS.v);
V+=4;x.vF(Z,V,i.ShTr.v?1:0);V+=2;x.vF(Z,V,i.VctC.v?1:0);V+=2;x.An(Z,V,i.Smth.v);V+=4;x.vF(Z,V,3);V+=2;
for(var q=0;q<4;q++)x.vF(Z,V+q*2,o[q]);V+=8;for(var q=0;q<4;q++)x.vF(Z,V+q*2,I[q]);V+=8;V+=2;v=V-m;break;
case"selc":v=jp.r$(Z,m,S[u]);break;case"FMsk":x.dR(Z,m,S[u]);v=S[u].length;break;case"Txt2":var R=new ew,G=ju.Oq(S[u].bo,R),M=l.U(G,!0);
for(var q=0;q<G;q++)M[q]=R.data[q];x.dR(Z,m,M);v=M.length;break;case"vmsk":var O=S[u],K=0;x.An(Z,m,3);
if(!O.ie)K+=1<<1;if(!O.isEnabled)K+=1<<2;x.An(Z,m+4,K);v=8;var W=O.u.length;Z.Ad(m+8,W*26);go.IN(Z.data,m+8,O.u,C.e,C.n);
v+=W*26;break;case"shmd":x.An(Z,m,Object.keys(S[u]).length);var L=m+4;for(var t in S[u]){x.zT(Z,L,"8BIM");
L+=4;x.zT(Z,L,t);L+=4;x.An(Z,L,0);L+=4;x.An(Z,L,0);L+=4;x.An(Z,L,16);L+=4;var X=g4.wW(Z,S[u][t],L);if(X%4!=0)X+=4-X%4;
x.An(Z,L-8,X+4);L+=X}v=L-m;break;case"TySh":var L=m;x.Sq(Z,L,1);L+=2;var h=S[u],R=new ew;h.e7.DocumentResources=JSON.parse(JSON.stringify(h.e7.ResourceDict));
var G=gG.Oq(h.e7,R),M=l.U(G,!0);for(var q=0;q<G;q++)M[q]=R.data[q];h.bw.EngineData={t:"tdta",v:M};var b=h.e7.EngineDict.Editor.Text;
h.bw.Txt.v=b.substring(0,b.length-1);x.anj(Z,L,h.A);L+=48;x.Sq(Z,L,50);L+=2;x.An(Z,L,16);L+=4;L+=g4.wW(Z,h.bw,L);
x.Sq(Z,L,1);L+=2;x.An(Z,L,16);L+=4;L+=g4.wW(Z,h.qO,L);x.abZ(Z,L,h.sq);L+=16;v=L-m;break;case"lmfx":x.An(Z,m,0);
x.An(Z,m+4,16);var e=JSON.parse(JSON.stringify(S[u])),E=!1;hR.XH(e);for(var q=0;q<fp.lg.length;q++)if(e[fp.lg[q]]!=null)E=!0;
x.zT(Z,k,E?"lmfx":"lfx2");v=g4.wW(Z,e,m+8)+8;break;case"Patt":var L=bk.uh(Z,m,S[u]);v=L-m;break;case"SoLd":x.zT(Z,m,"soLD");
x.An(Z,m+4,4);x.An(Z,m+8,16);v=g4.wW(Z,S[u],m+12)+12;break;case"vstk":case"pths":x.An(Z,m,16);v=g4.wW(Z,S[u],m+4)+4;
break;case"vscg__":x.zT(Z,m,S[u].key);x.An(Z,m+4,16);v=g4.wW(Z,S[u].k,m+8)+8;break;case"vogk":x.An(Z,m,1);
x.An(Z,m+4,16);l.Ka.ahJ(S[u]);for(var q=0;q<S[u].length;q++){var f0=S[u][q].v.keyOriginResolution;if(f0)f0.v=C.wd}var ay={classID:"null",keyDescriptorList:{t:"VlLs",v:S[u]}};
v=g4.wW(Z,ay,m+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var V=m;for(var q=0;q<S[u].length;q++){var p=S[u][q],eo=V;
x.mx(Z,V,0);V+=8;x.zT(Z,V,p.type);V+=4;x.An(Z,V,p.so);V+=4;Z.Ad(V,1);Z.data[V]=p.Us.length;V++;x.zT(Z,V,p.Us);
V+=p.Us.length;x.hi(Z,V,p.qw+"\0");V+=4+p.qw.length*2+2;x.zT(Z,V,p.lE);V+=4;x.zT(Z,V,p.fX);V+=4;x.mx(Z,V,p.raw.length);
V+=8;Z.Ad(V,1);Z.data[V]=p.open;V++;x.dR(Z,V,p.raw);V+=p.raw.length;x.An(Z,V,1);V+=4;V+=11;var co=V-eo-8;
x.mx(Z,eo,co);if(co%4!=0){Z.Ad(V,4-co%4);V+=4-co%4}}v=V-m;break;case"FEid":var V=m;x.An(Z,V,3);V+=4;
for(var c5=0;c5<S[u].length;c5++){var he=S[u][c5];V+=4;var hU=V;V+=4;x.Ge(Z,V,he.id);V+=he.id.length+1;
x.An(Z,V,1);V+=4;var aB=l.U(he.rect.Z()),ep=he.rect,aO=l.U(ep.Z());V+=4;var f$=V;V+=4;x.Vc(Z,V,ep);V+=16;
x.An(Z,V,8);V+=4;x.An(Z,V,24);V+=4;for(var q=0;q<24+2;q++){var fo=-1;if(q==0)fo=0;if(q==1)fo=1;if(q==2)fo=2;
if(q==25)fo=3;x.An(Z,V,fo!=-1?1:0);V+=4;if(fo!=-1){l.NK(he.buffer,aB,fo);l.Ju(aB,he.rect,aO,ep);V+=4;
var bb=V;V+=4;Z.Ad(V,ep.Z()+2);V=fw.fi(!0,aO,Z.data,ep.e,ep.n,V,3);x.An(Z,bb,V-(bb+4))}}x.An(Z,f$,V-(f$+4));
Z.Ad(V,1);Z.data[V]=he.v?1:0;V++;if(he.v!=null){var jl=ep,e0=l.U(jl.Z());e0.fill(he.v.color);l.Ju(he.v.channel,he.v.rect,e0,jl);
x.Vc(Z,V,jl);V+=16;V+=4;var gI=V;V+=4;Z.Ad(V,jl.Z()+2);V=fw.fi(!0,e0,Z.data,jl.e,jl.n,V,3);x.An(Z,gI,V-(gI+4))}var co=V-(hU+4);
x.An(Z,hU,co);if(co%4!=0)V+=4-co%4}v=V-m;break;case"Anno":var d4=m,ab=S[u].length;x.vF(Z,d4,2);x.vF(Z,d4+2,1);
d4+=4;x.An(Z,d4,ab);d4+=4;for(var q=0;q<ab;q++){var c3=S[u][q],gr=c3[0],a2=c3[1],aL=d4;d4+=4;x.zT(Z,d4,"txtA");
d4+=4;Z.Ad(d4,2);Z.data[d4]=1;Z.data[d4+1]=28;d4+=2;x.vF(Z,d4,1);d4+=2;x.Vc(Z,d4,new bq(gr,a2,17,21));
d4+=16;x.Vc(Z,d4,new bq(gr+8,a2+10,241,141));d4+=16;Z.Ad(d4,10);bT.Y6(Z.data,d4,c3[2]);d4+=10;d4+=x.Ge(Z,d4,c3[3]);
d4+=x.Ge(Z,d4,"");d4+=x.Ge(Z,d4,"D:20211012120233+01'00'");var el=c3[4].length*2;x.An(Z,d4,12+2+el);
d4+=4;x.zT(Z,d4,"txtC");d4+=4;x.An(Z,d4,2+el);d4+=4;Z.Ad(d4,2);Z.data[d4]=254;Z.data[d4+1]=255;d4+=2;
x.a2d(Z,d4,c3[4]);d4+=el;x.An(Z,aL,d4-aL)}v=d4-m;break;default:console.log("unknown layer tag: "+u+", size: "+v);
m-=12;continue}var iJ=["Txt2","artd","extd","pths"];if(iJ.indexOf(u)==-1)if(v%4!=0)v+=4-v%4;if(r)x.mx(Z,m-8,v);
else x.An(Z,m-4,v);if(u!="luni"&&u!="TySh")if(v%4!=0)v+=4-v%4;m+=v}return m};hR.Rh=function(Z){for(var q=0;
q<fp.order.length;q++){var m=fp.order[q],S=fp.lg[q];if(Z[S]==null)Z[S]={t:"VlLs",v:[]};if(Z[m]!=null){Z[S].v.push(Z[m]);
delete Z[m]}var B=[];for(var C=0;C<Z[S].v.length;C++){var u=Z[S].v[C];if(u.v.present==null||u.v.present.v==!0)B.push(u)}Z[S].v=B}};
hR.XH=function(Z){for(var q=0;q<fp.order.length;q++){var m=fp.order[q],S=fp.lg[q],B=Z[S].v.length;if(B==0){delete Z[S];
continue}if(B==1){Z[m]=Z[S].v[0];delete Z[S];continue}}};hR.fw=function(Z,m){if(m=="GdFl"){if(Z.Angl==null)Z.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(Z.Algn==null)Z.Algn={v:!0,t:"bool"};if(Z.Scl==null)Z.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(Z.Ofst==null)Z.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(Z.Rvrs==null)Z.Rvrs={v:!1,t:"bool"};if(Z.Dthr==null)Z.Dthr={v:!1,t:"bool"}}if(m=="PtFl"){if(Z.Algn==null)Z.Algn={v:!0,t:"bool"};
if(Z.Angl==null)Z.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(Z.Scl==null)Z.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(Z.phase==null)Z.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};hR.clone=function(Z,m){var S={};
if(Z=="TySh"){S.A=m.A.clone();S.bw=JSON.parse(JSON.stringify(m.bw));S.qO=JSON.parse(JSON.stringify(m.qO));
S.sq=m.sq.clone();S.e7=JSON.parse(JSON.stringify(m.e7));if(m.add)S.add={vmsk:m.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(m.add.vogk))};
return S}else if(Z=="fxrp")return m.clone();else if(Z=="vmsk")return m.clone();else return JSON.parse(JSON.stringify(m))};
function jg(Z,m){}jg.FK=function(Z,m,S,B){B=jg.aih(Z,m,S,B);return B};jg.Oq=function(Z,m,S,B,C){B=jg.a8l(Z,m,S,B,C);
return B};jg.aih=function(Z,m,S,B){var C=B;Z.rect=x.kN(S,B);B+=16;var u=x.zO(S,B);B+=2;Z.Ji=[];var r=m.eD;
for(var q=0;q<u;q++){Z.Ji[q]={id:x.Cg(S,B),length:(r?x.EA:x.l)(S,B+2)};B+=r?10:6}var k=x.aD(S,B,4);B+=4;
if(k!="8BIM"){console.log("Invalid Blend mode signature: "+k);alert("Error in Photoshop file: wrong signature.");
throw"e"}Z.E4=x.aD(S,B,4);B+=4;Z.opacity=S[B];B+=1;Z.GT=S[B]==1;B+=1;Z.Kl=S[B];B+=1;if(S[B]!=0)console.log("error in filler!");
B+=1;var v=x.l(S,B);B+=4;var e=B;B=jg.alT(Z,S,B);B=jg.av5(Z,S,B);var j=x.fv(S,B);Z.name=j.q3;B+=j.length;
if(j.length%4!=0)B+=4-j.length%4;B=hR.SF(S,B,e+v,Z.add,r,m);if(Z.add.lsct){if(Z.add.lsct.E4)Z.E4=Z.add.lsct.E4;
Z.add.lsct=Z.add.lsct.type}return B};jg.a8l=function(Z,m,S,B,C){var u=B;x.Vc(S,B,Z.rect);B+=16;var r=Z.x8();
x.vF(S,B,r.length);B+=2;var k=m.eD;C.push(B);for(var q=0;q<r.length;q++){x.Sq(S,B,r[q]);if(k)x.mx(S,B+2,0);
else x.An(S,B+2,0);B+=k?10:6}x.zT(S,B,"8BIM");B+=4;x.zT(S,B,Z.E4);B+=4;x.RO(S,B,Z.opacity,1);B+=1;x.RO(S,B,Z.GT?1:0,1);
B+=1;x.RO(S,B,Z.Kl,1);B+=1;x.RO(S,B,0,1);B+=1;var v=B;x.An(S,B,0);B+=4;var e=B;B=jg.ard(Z,S,B);B=jg.agv(Z,S,B);
var j=x.Ge(S,B,Z.name.slice(0,255));B+=j;if(j%4!=0)B+=4-j%4;if(Z.add.lsct){Z.add.lsct={type:Z.add.lsct};
if(Z.E4=="pass"){Z.add.lsct.E4="pass";Z.E4="norm"}}if(Z.E4=="pass")Z.add.lsct={type:Z.add.lsct,E4:"pass"};
if(Z.add.brit)Z.add.CgEd=Z.add.brit;B=hR.Cm(S,B,Z.add,k,m);delete Z.add.CgEd;if(Z.add.lsct){if(Z.add.lsct.E4)Z.E4=Z.add.lsct.E4;
Z.add.lsct=Z.add.lsct.type}var $=B-e;x.An(S,v,$);return B};jg.alT=function(Z,m,S){var B=x.l(m,S);S+=4;
if(B==0)return S;var C=S;Z.v=new w.Ga;Z.v.rect=x.kN(m,S);S+=16;Z.v.color=m[S];S+=1;var u=jg.Iq(Z.v,m,S);
S+=1;if(u){var r=!1,k=255,v=0,e=255,j=0;for(var q=0;q<Z.Ji.length;q++)if(Z.Ji[q].id==-3)r=!0;if(r){Z.Hi=jg.G1(m,S);
S+=18}var $=S,U=m[S];S++;if(U>>0&1){k=m[S];S++}if(U>>1&1){v=x.NX(m,S);S+=8}if(U>>2&1){e=m[S];S++}if(U>>3&1){j=x.NX(m,S);
S+=8}if((S-$&1)==1)S++;Z.RA=[k,v,e,j]}else{if(B==20)S+=2;else{Z.Hi=jg.G1(m,S);S+=18}}return C+B};jg.ard=function(Z,m,S){x.An(m,S,0);
S+=4;if(Z.v==null)return S;var B=Z.sd(),C=Z.add.vmsk,u=S,r=!0;x.An(m,S,0);x.Vc(m,S,Z.v.rect);S+=16;x.RO(m,S,Z.v.color);
S+=1;jg.Bs(Z.v,m,S,r);S+=1;if(r){if(Z.Hi){jg.a22(m,S,Z.Hi);S+=18}x.RO(m,S,15);S+=1;x.RO(m,S,B?B.h2:255);
S+=1;x.qE(m,S,B?B.hC:0);S+=8;x.RO(m,S,C?C.h2:255);S+=1;x.qE(m,S,C?C.hC:0);S+=8;S++}x.An(m,u-4,S-u);return S};
jg.G1=function(Z,m){var S=new w.Ga;jg.Iq(S,Z,m);m+=1;S.color=Z[m];m+=1;S.rect=x.kN(Z,m);m+=16;return S};
jg.a22=function(Z,m,S){jg.Bs(S,Z,m,!1);m+=1;x.RO(Z,m,S.color);m+=1;x.Vc(Z,m,S.rect);m+=16};jg.Iq=function(Z,m,S){var B=m[S];
Z.ie=(B>>0&1)==0;Z.isEnabled=(B>>1&1)==0;Z.FH=(B>>3&1)==1;return B>>4&1};jg.Bs=function(Z,m,S,B){var C=0;
if(!Z.ie)C+=1<<0;if(!Z.isEnabled)C+=1<<1;if(Z.FH)C+=1<<3;if(B)C+=1<<4;x.RO(m,S,C)};jg.av5=function(Z,m,S){var B=x.l(m,S);
S+=4;for(var q=0;q<B;q++)Z.Eo[q]=m[S+q];return S+B};jg.agv=function(Z,m,S){x.An(m,S,Z.Eo.length);S+=4;
m.Ad(S,40);for(var q=0;q<40;q++){m.data[S+q]=Z.Eo[q]}return S+40};function fw(){}fw.FK=function(Z,m,S,B){B=fw.a9n(m,m.eD,m.kX,m.qx,Z,S,B);
return B};fw.rM=function(Z,m,S,B,C,u){B=fw.arL(Z,m,S,B,C,u);return B};fw.a9n=function(Z,m,S,B,C,u,r){var k=C.Ji,v={},e=r;
for(var q=0;q<k.length;q++){var j=k[q],$=j.id,U=j.length,H;if($==-3)H=C.Hi.rect;else if($==-2)H=C.v.rect;
else H=C.rect;var z=fw.nd(m,S,u,H.e,H.n,r,U);r+=U;if($==-3)C.Hi.channel=z;else if($==-2)C.v.channel=z;
else v["c"+$]=z}var f=new l._8(0);f.AQ=null;if(B==3){f.I=v.c0;f.z=v.c1;f.S=v.c2;f.AQ=v["c-1"]}else if(B==1){f.I=v.c0;
f.z=v.c0;f.S=v.c0;f.AQ=v["c-1"]}else if(B==4){var D=Z.SY.r1039,n=v.c0,L=v.c1,a=v.c2,F=v.c3;if(D){var A=D.oX,T=17;
if(A==null){var P=ICC.R(D.buffer);console.log(P);A=D.oX=ICC.U.sampleLUT(P,T)}var Y={I:n,z:L,S:a,AQ:F},Q=l.U(n.length*4);
l.t5(Y,Q);l.Yy(Q);ICC.U.applyLUT4(A,T,Q,Q);l.Fz(Q,Y)}else{for(var q=0;q<n.length;q++){var o=1-n[q]*(1/255),I=1-L[q]*(1/255),c=1-a[q]*(1/255),y=1-F[q]*(1/255),i=UDOC.C.cmykToRgb([o,I,c,y]);
n[q]=i[0]*255;L[q]=i[1]*255;a[q]=i[2]*255}}f.I=n;f.z=L;f.S=a;f.AQ=v["c-1"]}if(f.I==null)f.I=l.U(0);if(f.AQ==null&&f.I!=null){f.AQ=f.I.slice(0);
f.AQ.fill(255)}if(f.z==null)f.z=f.I.slice(0);if(f.S==null)f.S=f.I.slice(0);C.buffer=l.U(Math.max(0,C.rect.Z()*4));
l.t5(f,C.buffer);return r};fw.arL=function(Z,m,S,B,C,u){var r=m.x8(),k=new l._8(m.rect.Z());l.Fz(m.buffer,k);
for(var q=0;q<r.length;q++){var v=r[q],e,j;if(v==-3)e=m.Hi.rect;else if(v==-2)e=m.v.rect;else e=m.rect;
if(v==-3)j=m.Hi.channel;if(v==-2)j=m.v.channel;if(v==-1)j=k.AQ;if(v==0)j=k.I;if(v==1)j=k.z;if(v==2)j=k.S;
S.Ad(B,e.Z()*3+4);var $=B;B=fw.fi(Z,j,S.data,e.e,e.n,B,u[1]?3:1);var U=B-$;if(Z)x.Ye(S.data,C+q*10+2,U);
else x.PV(S.data,C+q*6+2,U)}return B};fw.nd=function(Z,m,S,B,C,u,r){var k=x.zO(S,u);u+=2;return fw.eL(Z,m,S,B,C,u,k,r-2)};
fw.fi=function(Z,m,S,B,C,u,r){x.UZ(S,u,r);u+=2;u=fw.Am(Z,m,S,B,C,u,r);return u};fw.eL=function(Z,m,S,B,C,u,r,k){var v,e=B*C*(m>>>3),j=e&3,$=e+(j==0?0:4-j);
if(k<=0){return l.U($)}if(r>3){console.log("unknown compression: "+r,B,C,B*C,k);r=0}if(r==0){if(u+$<=S.length)v=S.slice(u,u+$);
else{v=l.U(e);for(var q=0;q<e;q++)v[q]=S[u+q]}u+=e}else if(r==1){v=l.U(e);var U=Z?4:2,H=fw.qe(S,v,B,C,u,u+U*C,U);
u+=U*C+H}else if(r==2||r==3){var z=new Uint8Array(S.buffer,u+2,k-6),f=pako.inflateRaw(z);if(r==3){if(m==8)for(var D=0;
D<C;D++){var n=D*B+1,L=n+B-1,a=f[n-1];for(var F=n;F<L;F++){a+=f[F];f[F]=a&255}}else for(var D=0;D<C;
D++){var n=D*B+1,L=n+B-1,a=f[2*n-2]<<8|f[2*n-1];for(var F=n;F<L;F++){var A=F<<1;a+=f[A]<<8|f[A+1];f[A]=a>>>8;
f[A+1]=a&255}}}if(f.length==$)v=f;else{v=l.U($);for(var q=0;q<f.length;q++)v[q]=f[q]}}if(m==16){var T=l.U(B*C);
for(var q=0;q<e;q+=2)T[q>>>1]=v[q];v=T}return v};fw.Am=function(Z,m,S,B,C,u,r){var k=B*C;if(r==0)for(var q=0;
q<k;q++)S[u++]=m[q];else if(r==1){var v=Z?4:2,e=fw.PE(m,S,B,C,u,u+v*C,v);u+=v*C+e}else if(r==2||r==3){if(r==3){var j=new Uint8Array(m.length);
for(var $=0;$<C;$++){var U=$*B+1,H=U+B-1,z=m[U-1];j[U-1]=z;for(var f=U;f<H;f++){j[f]=m[f]+(256-z)&255;
z=m[f]}}m=j}S[u]=120;S[u+1]=156;u+=2;var D=pako.deflateRaw(m,{a8O:4});x.HV(S,u,D);u+=D.length+4}else console.log("Unknown compression: "+r);
return u};fw.qe=function(Z,m,S,B,C,u,r){if(!(Z instanceof Uint8Array)||!(m instanceof Uint8Array))throw"e";
var k=u,v=B|0;if(r==2)for(var q=0;q<v;q++){var e=x.zO(Z,C+(q<<1));fw.d2(Z,u,e,m,q*S,S);u+=e}else for(var q=0;
q<v;q++){var e=x.l(Z,C+(q<<2));fw.d2(Z,u,e,m,q*S,S);u+=e}return u-k};fw.PE=function(Z,m,S,B,C,u,r){var k=u;
if(r==2)for(var q=0;q<B;q++){var v=fw.EJ(Z,q*S,S,m,u);x.p6(m,C+q*2,v);u+=v}else for(var q=0;q<B;q++){var v=fw.EJ(Z,q*S,S,m,u);
x.PV(m,C+q*4,v);u+=v}return u-k};fw.EJ=function(Z,m,gY,S,B){var C,u,r,k,v,cd,e;k=m+gY;for(r=m,u=B;gY>0;
r=C,gY-=cd){e=gY<128?gY:128;if(r<=k-3&&Z[r+1]==Z[r+0]&&Z[r+2]==Z[r+0]){for(C=r+3;C<r+e&&Z[C]==Z[r+0];
)++C;cd=C-r;S[u++]=1+256-cd;S[u++]=Z[r+0]}else{for(C=r;C<r+e;)if(C<=k-3&&Z[C+1]==Z[C+0]&&Z[C+2]==Z[C+0])break;
else++C;cd=C-r;S[u++]=cd-1;for(var q=0;q<cd;q++)S[u+q]=Z[r+q];u+=cd}}return u-B};fw.d2=function(Z,m,S,B,C,u){for(var r=0;
r<S;){var gY=Z[m++];if(gY>=128){var k=Z[m++],v=C+(257-gY);B.fill(k,C,v);C=v;r+=2}else{for(var q=0;q<=gY;
q++)B[C+q]=Z[m+q];m+=gY+1;C+=gY+1;r+=1+1+gY}}};function dq(){}dq.Vx=function(Z,m,S){return;var B="",C=m;
while(C!=0){var u=C%1e3+"";while(u.length<3)u="0"+u;B=(B==""?u:u+" ")+B;C=Math.floor(C/1e3)}while(B.startsWith("0")&&B!="0")B=B.slice(1);
while(B.length<11)B=" "+B;console.log("===",B,"\t".repeat(Z),": "+S)};dq.FK=function(Z,m){m.eD=!1;m.kX=8;
var S=new Uint8Array(Z),B=0,C=0,X,c5=!1,he=!0,hU=!1,aB=0,cq=0;C=dq.Ws(m,S,B);dq.Vx(0,C-B,"PSD Header");
B=C;C=dq.arZ(m,S,B);dq.Vx(0,C-B,"Color Mode Data");B=C;C=dq.a3D(m,S,B);dq.Vx(0,C-B,"Image Resources");
B=C;C=dq.a30(m,S,B);dq.Vx(0,C-B,"Layer And Mask Info");B=C;C=dq.atZ(m,S,B);dq.Vx(0,C-B,"Merged Image");
B=C;if(m.g.length==0){var u=m.AB();u.Se("Background");m.g.push(u);u.buffer=m.buffer.slice(0);u.rect=new bq(0,0,m.e,m.n)}if(m.SY.r1005){m.wd=x.ahT(m.SY.r1005,0)}if(m.SY.r1026){var S=m.SY.r1026;
for(var q=0;q<S.length;q+=2){var C=m.g[q>>>1];if(C)C.KI=x.zO(S,q)}}if(m.SY.r1072){var S=m.SY.r1072;for(var q=0;
q<S.length;q++){var C=m.g[q];if(C)C.N9=S[q]==1}}if(m.SY.r1032){var S=m.SY.r1032,r=x.l(S,12);for(var q=0;
q<r;q++){var k=S[16+q*5+4],v=x.C0(S,16+q*5)/32;m.Ua.push([k,v])}}delete m.SY.r1036;m.Ur(m.SY.r1039);
if(m.SY.r1050){var e=x.l,j=m.SY.r1050,$=x.l(j,0);if($==6){var U=4,H=x.kN(j,U);U+=16;var z=x.nK(j,U);
U+=4+z.length*2;var f=e(j,U);U+=4;var D=m.Wv;for(var q=0;q<f;q++){var n=g.UX.yq(),a;D.push(n);n=n.v;
n.sliceID.v=e(j,U);U+=4;n.groupID.v=e(j,U);U+=4;var L=e(j,U);U+=4;if(L==1){a=e(j,U);U+=4}var z=x.nK(j,U);
U+=4+z.length*2;var F=e(j,U);U+=4;var A=[e(j,U),e(j,U+4),e(j,U+8),e(j,U+12)];U+=16;g.UX.um(D,D.length-1,A);
var T=n.url.v=x.nK(j,U);U+=4+T.length*2;var P=n.null.v=x.nK(j,U);U+=4+P.length*2;var Y=n.Msge.v=x.nK(j,U);
U+=4+Y.length*2;var Q=n.altTag.v=x.nK(j,U);U+=4+Q.length*2;n.cellTextIsHTML.v=j[U]==1;U++;var o=n.cellText.v=x.nK(j,U);
U+=4+o.length*2;var I=e(j,U);U+=4;var c=e(j,U);U+=4;var y=j.slice(U,U+4);U+=4;if(L!=2)D.pop()}}else if($==8){var i={};
g4.cV(j,i,8,!1);var j=m.Wv=i.slices.v;for(var q=0;q<j.length;q++){if(j[q].v.origin.v.ESliceOrigin!="userGenerated"){j.splice(q,1);
q--}}}}if(m.SY.r1058){var d=m.SY.r1058,V=UTIF.decode(d.buffer,{parseMN:!1,debug:!1});i2.EW(V[0],m.d_);
delete m.SY.r1058}if(m.SY.r1060){var R=x.QN(m.SY.r1060);i2.a9x(R,m.d_);delete m.SY.r1060}if(m.SY.r1065){var S=m.SY.r1065;
m.Z3={};g4.cV(S,m.Z3,4,!1)}if(m.SY.r1069){var S=m.SY.r1069,G=[];for(var q=2;q<S.length;q+=4){var a=x.l(S,q);
for(var M=0;M<m.g.length;M++){var C=m.g[M];if(C.add.lyid==a&&C.add.lsct!=3)G.push(M)}}m._=G}if(m.SY.r1025){var O=m.SY.r1025;
delete m.SY.r1025;var K=go.J8(O,0,O.length,m.e,m.n),W=new w.r6;W.u=K;m.px[0]=fl.YE("Working Path",{vmsk:W})}var t=m.add.pths;
delete m.add.pths;var h=m.SY.r3000;if(h){X={};g4.cV(h,X,4,!1);delete m.SY.r3000}for(var b=0;b<=997;b++){var E="r"+(2e3+b),O=m.SY[E];
if(O==null)break;var K=go.J8(O,0,O.length,m.e,m.n),f0=t?t.pathList.v[b].v.pathUnicodeName.v:"Path "+b,ay=X?X.keyRootDescriptorList.v[b].v.keyDescriptorList.v:w.VZ(K),W=new w.r6;
W.u=K;m.px[b+1]=fl.YE(f0,{vmsk:W,vogk:ay});delete m.SY[E]}delete m.eD;var p=new bq(0,0,m.e,m.n),eo=m.add.Txt2,co=eo;
if(co){co=co.bo;if(co._DocumentResources==null)co=hE.arp(co)}for(var q=0;q<m.g.length;q++){var C=m.g[q],ep=C.add.lsct,aO=C.add.vmsk,f$=C.sd();
if(ep==jf.vX){aB++;C.add.lspf=0}else if(ep==jf.AH||ep==jf.aa)aB--;if(C.name==""){C.name="Layer "+(q+1);
hU=!0}if(hU&&C.O1()&&C.E4=="norm")C.E4="pass";if(C.vI()&&C.ws(m).v){var fo=C.ws(m);fo.v.isEnabled=C.add.SoLd.filterFX.v.filterMaskEnable.v}if(aO&&C.Ie()){var bb=fp.Rw.default;
if(C.add.vstk==null)C.add.vstk=JSON.parse(JSON.stringify(bb));else{var jl="strokeStyleLineDashSet";if(C.add.vstk[jl]==null)C.add.vstk[jl]=JSON.parse(JSON.stringify(bb[jl]))}C.add.vstk.strokeStyleResolution.v=m.wd}if(aO&&(C.add.vogk==null||l.q.Ei(aO.u)!=C.add.vogk.length))C.VZ();
if(C.add.SoLd&&C.rect.Ov()){console.log("redrawing smart instance");C.l8(m)}if(f$==null&&C.v!=null){if(C.v.FH==!1){C.v.FH=!0;
C.Hi=C.v.clone()}}f$=C.sd();if(C.RA){var bb=C.RA,W=aO;if(f$){f$.h2=bb[0];f$.hC=bb[1]}if(W){W.h2=bb[2];
W.hC=bb[3]}C.RA=null}if(f$!=null&&aO!=null&&(f$.hC+aO.hC!=0||f$.h2+aO.h2!=2*255))C.T3(m);else if(aO!=null&&!C.Ie())C.T3();
var e0=C.add.artb;if(e0&&e0.artboardBackgroundType==null)e0.artboardBackgroundType={t:"long",v:1};if(e0&&aB!=0)delete C.add.artb;
var gI=C.add.vstk;if(C.Ie()&&(C.rect.Ov()||aO&&aO.hC!=0||gI&&!gI.fillEnabled.v&&(!gI.strokeEnabled.v||gI.strokeStyleLineWidth.v.val==0)))C.EQ(m);
if(C.add.TySh){c5=!0;if(!C.rect.Ov())he=!1}if(C.add.TySh&&co){var d4=C.add.TySh.bw.TextIndex.v;if(d4==-1)continue;
var ab=C.add.TySh.e7,c3=e6.fG(ab),gr=co._DocumentObjects._TextObjects;if(gr.length<=d4){console.log("Txt2 incomplete");
continue}var a2=gr[d4]._Model,aL=a2._StyleRun?a2._StyleRun._RunArray:[],el=ab.EngineDict.StyleRun.RunArray;
for(var iJ=0;iJ<el.length;iJ++){var aC=el[iJ].StyleSheet.StyleSheetData;if(aL[iJ]==null)continue;var cr=aL[iJ]._RunData._StyleSheet._Features;
if(cr&&cr._BaselineDirection)aC.BaselineDirection=parseInt(cr._BaselineDirection.slice(1));if(cr&&cr._FillBackgroundFlag)aC._FillBackgroundFlag=cr._FillBackgroundFlag;
if(cr&&cr._FillBackgroundColor){var bN=cr._FillBackgroundColor,hf=bN._Color._Values.slice(0);for(var M=0;
M<4;M++)hf[M]=parseFloat(hf[M].slice(1));aC._FillBackgroundColor={Type:1,Values:hf}}if(cr&&cr._LineWidth)aC._LineWidth=parseFloat(cr._LineWidth.slice(1))}var cV=ab.EngineDict.ParagraphRun.RunArray,ez=a2._ParagraphRun._RunArray;
if(ez==null)ez=[];var jG=Math.min(ez.length,cV.length);for(var M=0;M<jG;M++){var jw=cV[M].ParagraphSheet.Properties,dw=co._DocumentResources._ParagraphSheetSet._Resources,cb=ez[M]._RunData._ParagraphSheet;
if(typeof cb=="string")cb=dw[parseInt(cb.slice(1))]._Resource;var cz=cb._Parent==null?cb:dw[parseInt(cb._Parent.slice(1))]._Resource;
cb=cb._Features;cz=cz._Features;var jq=cb._ParagraphDirection;if(jq==null)jq=cz._ParagraphDirection;
if(jq)jw._Direction=parseInt(jq.slice(1));if(cb._ComposerEngine)jw._ComposerEngine=parseInt(cb._ComposerEngine.slice(1))}if(a2._AlternateGlyphRun){var ez=a2._AlternateGlyphRun._RunArray,jG=ez.length,dU=ab.EngineDict.AlternateGlyphRun=e6.at2();
for(var M=0;M<jG;M++){var cb=ez[M],ge={},al=cb._RunData._AlternateGlyphSheet;if(al)ge.Glyph=parseInt(al._Glyph.slice(1));
dU.RunArray.push(ge);dU.RunLengthArray.push(parseInt(cb._Length.slice(1)))}}var a_=co._DocumentResources,hc=a_._TextFrameSet._Resources,g7=hc[d4]._Resource,b4=g7._Data,eC=new ht(1,0,0,1,0,0);
if(g7._0){var cN=parseFloat(g7._0[0].slice(1)),i7=parseFloat(g7._0[1].slice(1));eC.translate(cN,i7)}if(c3){eC.translate(c3[0],c3[1]);
e6.Y8(ab,[0,0,c3[2]-c3[0],c3[3]-c3[1]])}else{if(g7._Bezier&&g7._Bezier._Points){var K=g7._Bezier._Points,cN=parseFloat(K[0].slice(1)),i7=parseFloat(K[1].slice(1));
if(cN!=0||i7!=0){eC.translate(cN,i7)}}}if(g7._Data&&g7._Data._FrameMatrix){var gC=g7._Data._FrameMatrix;
gC=gC.map(function(ca){return parseFloat(ca.slice(1))});eC.concat(new ht(gC[0],gC[1],gC[2],gC[3],gC[4],gC[5]))}eC.concat(C.add.TySh.A);
C.add.TySh.A=eC;var F=b4._Type?parseInt(b4._Type.slice(1)):0;if(F==2||F==1&&b4._PathData&&b4._PathData._Spacing=="i-3"){var h7=function(ca){return parseFloat(ca.slice(1))},K=g7._Bezier._Points.map(h7);
if(c3)l.H.A(K,new ht(1,0,0,1,-c3[0],-c3[1]),K);var iB=b4._PathData?b4._PathData._Reversed:!1,hH=b4._TextOnPathTRange;
if(hH==null)hH=["f-3","f-3"];ab.Curve={Points:K,TextOnPathTRange:hH.map(h7),Reversed:iB==null?!1:iB};
C.add.TySh.add={vmsk:new w.r6,vogk:null};e6.jN(C.add.TySh)}if(b4._LineOrientation=="i2")ab._LineOrientation=2}}g.QH.W$(m,!0);
var bA={},fd=[];for(var q=0;q<m.g.length;q++){var iW=m.g[q].add.lyid;if(iW==null)continue;var cq=Math.max(cq,iW);
if(bA[iW]!=null)fd.push(q);else bA[iW]=!0}for(var q=0;q<fd.length;q++)m.g[fd[q]].add.lyid=cq+1+q};dq.Oq=function(Z,m,S){g.QH.Ix(Z);
g.QH.W$(Z,!1);Z.eD=S[3]==!0;var B=[],C=[],z=0,n=1,P=16,b=0;for(var q=0;q<Z.g.length;q++){var u=Z.g[q];
if(u.vI()&&u.ws(Z).v){u.add.SoLd.filterFX.v.filterMaskEnable.v=u.ws(Z).v.isEnabled}if(u.add.TySh){var r=u.add.TySh.e7,k=e6.w0(r);
u.add.TySh.bw.TextIndex={t:"long",v:B.length};B.push(r);if(k==2)e6.Rz(u.add.TySh)}var v=u.add.vstk;if(v)v.strokeStyleResolution.v=Z.wd;
if(u.Ie()||S[2]&&u.add.SoLd){C[q]=[u.rect,u.buffer];u.rect=new bq;u.buffer=l.U(0);if(u.add.SoLd){var e=u.ws(Z);
if(e!=null){C[q].push(e.buffer);e.buffer=l.U(e.buffer.length)}}}}if(B.length>0){var j=Z.add.Txt2?Z.add.Txt2.bo:null;
if(Z.add.Txt2==null)Z.add.Txt2={};Z.add.Txt2.bo=gv.a0J(B,null,j)}var $=[Z.add.lnk2,Z.add.FEid,Z.add.Patt],U=Z.a7G(Z.g);
Z.ae0(U);Z.SY.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);x.kG(Z.SY.r1005,0,Z.wd);x.kG(Z.SY.r1005,8,Z.wd);
if(Z.Lj()){Z.SY.r1022=new Uint8Array([0,3+Z.Xz.length-1,0])}else delete Z.SY.r1022;var H=new Uint8Array(Z.g.length*2),D=new Uint8Array(Z.g.length);
for(var q=0;q<Z.g.length;q++){var u=Z.g[q],L=u.KI,a=u.N9?1:0;x.p6(H,q*2,L);D[q]=a;if(L>z)z=L;if(a==0)n=0}if(z>0)Z.SY.r1026=H;
if(n<1)Z.SY.r1072=D;var F=Z.Ua,A=F.length,T=Z.SY.r1032=l.U(16+5*A,!0);x.PV(T,0,1);x.PV(T,4,576);x.PV(T,8,576);
x.PV(T,12,A);for(var q=0;q<A;q++){x.Um(T,P,Math.round(F[q][1]*32));T[P+4]=F[q][0];P+=5}var Y=l.Bl(Z.buffer),Q=[];
if(Y)Q.push({name:"Transparency",rF:{I:255,z:0,S:0},mh:100,If:1});Q=Q.concat(Z.Xz);delete Z.SY.r1045;
delete Z.SY.r1006;delete Z.SY.r1077;var o=new ew;P=0;var I=new Uint8Array(4+Q.length*13);I[3]=1;for(var q=0;
q<Q.length;q++){var c=Q[q],y=c.name+"\0";x.hi(o,P,y);P+=4+y.length*2;var i=4+q*13;bT.Y6(I,i,c.rF);I[i+11]=c.mh;
I[i+12]=c.If}Z.SY.r1045=o.data.slice(0,P);Z.SY.r1077=I;for(var q=0;q<Z.Wv.length;q++)Z.Wv[Z.Wv.length-q-1].v.sliceID.v=2+q*3;
var d={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:Z.Wv}},o=new ew;
x.An(o,0,8);x.An(o,4,16);var V=g4.wW(o,d,8);Z.SY.r1050=o.data.slice(0,V+8);var o=new ew;x.An(o,0,16);
var V=g4.wW(o,Z.Z3,4);Z.SY.r1065=o.data.slice(0,V+4);var R=Z._;T=Z.SY.r1069=l.U(2+R.length*4,!0);x.p6(T,0,R.length);
for(var q=0;q<R.length;q++)x.PV(T,2+4*q,Z.g[R[q]].add.lyid);delete Z.SY.r1058;delete Z.SY.r1060;if(Object.keys(Z.d_).length!=0){var G=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
i2.YQ(Z.d_,G[0],S[0]&&S[1]);Z.SY.r1058=new Uint8Array(UTIF.encode(G));var M=i2.atE(Z.d_);Z.SY.r1060=x.P8(M)}var O=[],K=[];
for(var q=0;q<Z.px.length;q++){var W=Z.px[q],t=W.add.vmsk.u;if(q==0&&t.length==2)continue;var X=l.U(t.length*26);
go.IN(X,0,t,Z.e,Z.n);var h=q==0?1025:2e3+q-1;Z.SY["r"+h]=X;if(q!=0){O.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:W.name}}});
K.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:W.add.vogk}}})}}if(O.length!=0){Z.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:O}};
K={classID:"null",keyRootDescriptorList:{t:"VlLs",v:K}};var o=new ew;x.An(o,0,16);var V=g4.wW(o,K,4);
Z.SY.r3000=o.data.slice(0,V+4)}else{delete Z.add.pths;delete Z.SY.r3000}b=dq.aqL(Z,m,b,3+Q.length);b=dq.a11(Z,m,b);
b=dq.ae8(Z,m,b);b=dq.aoI(Z,m,b,S,Y);b=dq.a5y(Z,m,b,S[0],Y);var E=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var q=0;q<E.length;q++)delete Z.SY["r"+E[q]];for(var q=0;q<Z.g.length;q++){var u=Z.g[q];if(u.Ie()||S[2]&&u.add.SoLd){u.rect=C[q][0];
u.buffer=C[q][1];if(C[q][2]){var e=u.ws(Z);C[q].push(e.buffer);e.buffer=C[q][2]}}}Z.ae0($);g.QH.W$(Z,!0);
delete Z.eD;return b};dq.Ws=function(Z,m,S){var B=x.aD(m,S,4);S+=4;if(B!="8BPS")alert("invalid header signature: "+B);
var C=x.zO(m,S);S+=2;Z.eD=C==2;if(C!=1&&C!=2)alert("invalid version: "+C);S+=6;Z.zd=x.zO(m,S);S+=2;Z.n=x.C0(m,S);
S+=4;Z.e=x.C0(m,S);S+=4;Z.kX=x.zO(m,S);S+=2;Z.qx=x.zO(m,S);S+=2;return S};dq.aqL=function(Z,m,S,B){m.Ad(0,64);
x.XI(m.data,S,"8BPS");S+=4;x.p6(m.data,S,Z.eD?2:1);S+=2;x.PV(m.data,S,0);S+=4;x.p6(m.data,S,0);S+=2;
x.p6(m.data,S,B);S+=2;x.Um(m.data,S,Z.n);S+=4;x.Um(m.data,S,Z.e);S+=4;x.p6(m.data,S,8);S+=2;x.p6(m.data,S,3);
S+=2;return S};dq.arZ=function(Z,m,S){var B=x.C0(m,S);S+=4;if(B!=0)Z.if=m.slice(S,S+B);S+=B;return S};
dq.a11=function(Z,m,S){x.X7(m,S,0);S+=4;return S};dq.a3D=function(Z,m,S){var B=x.l(m,S),C=0;S+=4;var u=[];
while(C<B){var r=x.aD(m,S+C,4);C+=4;var k=x.zO(m,S+C);C+=2;var v=x.fv(m,S+C);C+=v.length;if(r!="8BIM"){u.push(k);
console.log("Unknown Image Resources signature: "+r+", ID: "+k)}var e=x.l(m,S+C);C+=4;if(Z.SY["r"+k]!=null)console.log("--- two resources with same ID");
Z.SY["r"+k]=x.JU(m,S+C,e);C+=e+(e&1)}for(var q=0;q<u.length;q++)delete Z.SY["r"+u[q]];return S+B};dq.ae8=function(Z,m,S){var B=S,r=0;
S+=4;var C=[];for(var u in Z.SY){C.push(parseInt(u.slice(1)))}C.sort(function($,U){return $-U});for(var q=0;
q<C.length;q++){x.zT(m,S+r,"8BIM");r+=4;var k=C[q];x.vF(m,S+r,k);r+=2;var v=x.Ge(m,S+r,"");r+=v;var e=Z.SY["r"+k],j=e.length;
x.An(m,S+r,j);r+=4;x.dR(m,S+r,e);r+=j;if(j%2==1)r++}x.An(m,B,r);return S+r};dq.a30=function(Z,m,S){var B=S,C,u,r=Z.eD?8:4;
if(Z.eD)C=x.EA(m,S);else C=x.l(m,S);S+=r;if(C==0)return B+r;u=dq.a3w(Z,m,S);dq.Vx(1,u-S,"Layer Info");
S=u;u=dq.a2H(Z,m,S);dq.Vx(1,u-S,"Global Layer Mask Info");S=u;u=hR.SF(m,S,B+r+C,Z.add,Z.eD,Z);dq.Vx(1,u-S,"Project Add Info");
S=u;return B+r+C};dq.aoI=function(Z,m,S,B,C){var u=S;x.An(m,S,0);S+=4;if(Z.eD){x.An(m,S,0);S+=4}S=dq.a54(Z,m,S,B,C);
S=dq.adV(Z,m,S);S=hR.Cm(m,S,Z.add,Z.eD,Z);if(Z.eD)x.mx(m,u,S-u-8);else x.An(m,u,S-u-4);return S};dq.a3w=function(Z,m,S){var B,C=Z.eD?8:4;
if(Z.eD)B=x.EA(m,S);else B=x.l(m,S);S+=C;if(B!=0)dq.Ot(Z,m,S);return S+B};dq.Ot=function(Z,m,S){var B=x.Cg(m,S);
S+=2;var C=Math.abs(B);for(var q=0;q<C;q++){var u=new w;S=jg.FK(u,Z,m,S);Z.g[q]=u}var r=new bq(0,0,Z.e,Z.n);
for(var q=0;q<C;q++){var k=Z.g[q],v=k.sd(),e=fw.FK(k,Z,m,S);if(e-S>8)dq.Vx(2,e-S,"Lay: "+k.getName());
S=e;dq.jn(k,r);if(v)dq.jn(v,r)}};dq.jn=function(Z,m){var S=Z.rect.Z(),B=Z.rect.o9(m),C=B.Z()/S;if(S>2e3*3e3&&C<.5){if(Z.buffer){var u=l.U(B.Z()*4);
l.pY(Z.buffer,Z.rect,u,B);Z.buffer=u;Z.rect=B}else{var u=l.U(B.Z());l.Ju(Z.channel,Z.rect,u,B);Z.channel=u;
Z.rect=B}alert("Removing hidden parts of layers")}};dq.a54=function(Z,m,S,B,C){var u=S,r=Z.eD;S+=r?8:4;
S=dq.Vd(Z,m,S,B,C);var k=S-u-(r?8:4);if(k%2!=0)k++;if(r)x.mx(m,u,k);else x.An(m,u,k);return u+k+(r?8:4)};
dq.Vd=function(Z,m,S,B,C){var u=Z.g.length;x.Sq(m,S,C?-u:u);S+=2;var r=[];for(var q=0;q<u;q++)S=jg.Oq(Z.g[q],Z,m,S,r);
for(var q=0;q<u;q++)S=fw.rM(Z.eD,Z.g[q],m,S,r[q],B);return S};dq.a2H=function(Z,m,S){var B=x.l(m,S);
S+=4;S+=B;return S};dq.adV=function(Z,m,S){var B=x.An(m,S,0);S+=4;return S};dq.atZ=function(Z,m,S){var B=Z.qx,C="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),u=[1,1,1,3,4,1,1,3],r,f;
if(B!=3){if(B==1||B==2||B==4)console.log("Project will be converted from "+C[B]+" to "+C[3]+" mode.");
else{alert("Color mode "+C[B]+" is not supported yet :(")}if(B==4)Z.add.fcmy=1}if(Z.SY.r1045){r=[];var k=Z.SY.r1045,v=0;
while(v<k.length){var e=x.Mp(k,v);r.push(e);v+=4+2+e.length*2}}var j=u[B]+(r==null||r[0]=="Transparency"?1:0),$=Z.e,U=Z.n,H=$*U,z=x.zO(m,S);
S+=2;Z.buffer=l.U(H*4);l._z(Z.buffer,4278190080);var D=S;for(var n=0;n<Z.zd;n++){if(z==0){f=fw.eL(Z.eD,Z.kX,m,$,U,S,z);
S+=H*(Z.kX>>>3)}else if(z==1){f=l.U(H);var L=Z.eD?4:2;if(n==0)S+=Z.zd*U*L;S+=fw.qe(m,f,$,U,D+n*U*L,S,L)}else{console.log("unknown compression of image data: ",z);
return}if(n<j){l.cN(f,Z.buffer,n);if(Z.zd==1&&n==0){l.cN(f,Z.buffer,1);l.cN(f,Z.buffer,2)}}else{var a=new w.Ga,F=n-j,A=n-u[Z.qx];
a.name=r?r[A]:"Alpha";if(a.name=="Quick Mask"){a.m5=!0;Z.tp.push(F)}a.rect=new bq(0,0,$,U);a.channel=f;
a.color=0;a.t6();Z.Xz[F]=a;if(Z.SY.r1077){var k=Z.SY.r1077.slice(4+A*13);a.rF=bT.ON(k,0);a.mh=k[11];
a.If=k[12];if(a.If==2)a.m5=!0}}}Z.zd=4;if(Z.qx==2)for(var q=0;q<H;q++){var T=q*4,P=Z.buffer[T];Z.buffer[T]=Z.if[0+P];
Z.buffer[T+1]=Z.if[256+P];Z.buffer[T+2]=Z.if[512+P]}return S};dq.a5y=function(Z,m,S,B,C){var u=1,r=16,k=Z.e,v=Z.n,j,$;
x.vF(m,S,u);S+=2;var e=k*v;if(!B){$=new l._8(k*v);l.Fz(Z.buffer,$);var U=$.I,H=$.z,z=$.S,f=$.AQ;for(var q=0;
q<e;q++){var D=f[q]*(1/255);U[q]=~~(U[q]*D+255*(1-D));H[q]=~~(H[q]*D+255*(1-D));z[q]=~~(z[q]*D+255*(1-D))}}else j=l.U(e);
var n=[j,j,j];if(!B)n=[$.I,$.z,$.S];if(C)n.push(B?j:$.AQ);for(var q=0;q<Z.Xz.length;q++){n.push(Z.Xz[q].fR(new bq(0,0,Z.e,Z.n)))}var L=S;
for(var a=0;a<n.length;a++){m.Ad(S,k*v+4);j=n[a];if(u==0||u==2||u==3)S=fw.Am(Z.eD,j,m.data,k,v,S,u);
else{var F=Z.eD?4:2;if(a==0)S+=n.length*v*F;var A=S;S+=fw.PE(j,m.data,k,v,L+a*v*F,S,F)}}return S};function gG(){}gG.FK=function(Z){var m={};
gG.TL(Z,m,0,0);return m};gG.Oq=function(Z,m){var S=0;S=gG.nU(Z,m,S,0);return S};gG.TL=function(Z,m,S,B){while(Z[S]!="<".charCodeAt(0))S++;
S+=2;while(!0){if(Z[S]=="/".charCodeAt(0)){S++;var C=x.indexOf(Z," ".charCodeAt(0),S,S+50),u=x.indexOf(Z,"\n".charCodeAt(0),S,S+50);
if(u==-1)u=Infinity;if(C==-1)C=Infinity;var r=Math.min(u,C),k=x.aD(Z,S,r-S),v=gG.Os(Z,r+1,B+1,k);m[k]=v.k;
S=r+1;S+=v.size}else if(Z[S]==">".charCodeAt(0)){S+=2;break}else{var e=Z[S];if(e==10||e==9||e==32)S++;
else{console.log("unknown byte: "+e+", char: "+String.fromCharCode(e),S);S++}}}return S};gG.nU=function(Z,m,S,B){x.zT(m,S,"<<\n");
S+=3;var C=gG.ag_;for(var u in Z){x.RO(m,S,"\t".charCodeAt(0),B+1);S+=B+1;x.zT(m,S,"/"+u);S+=1+u.length;
if(C(Z[u])||Z[u]instanceof Array){x.zT(m,S," ");S++}else{x.zT(m,S,"\n");S++;x.RO(m,S,"\t".charCodeAt(0),B+1);
S+=B+1}S=gG.YX(Z[u],m,S,B+1);x.zT(m,S,"\n");S++}x.RO(m,S,"\t".charCodeAt(0),B);S+=B;x.zT(m,S,">>");S+=2;
return S};gG.Os=function(Z,m,S,B){var C=m,u={size:0,k:0};while(!0){while(Z[m]==" ".charCodeAt(0)||Z[m]=="\t".charCodeAt(0)||Z[m]=="\n".charCodeAt(0))m++;
if(Z[m]=="<".charCodeAt(0)){u.k={};m=gG.TL(Z,u.k,m,S+1);break}else if(Z[m]=="(".charCodeAt(0)){m+=3;
var r=m;while(!0){if(Z[r-1]!="\\".charCodeAt(0)&&Z[r]==")".charCodeAt(0)&&(Z[r+1]=="\n".charCodeAt(0)||Z[r+1]==" ".charCodeAt(0)))break;
else r++}u.k=x.x2(Z,m,r);m=r+2;break}else if(Z[m]=="[".charCodeAt(0)){m++;u.k=[];while(Z[m]==" ".charCodeAt(0)||Z[m]=="\t".charCodeAt(0)||Z[m]=="\n".charCodeAt(0))m++;
while(Z[m]!="]".charCodeAt(0)){var k=gG.Os(Z,m,S+1,B);u.k.push(k.k);m+=k.size;while(Z[m]==" ".charCodeAt(0)||Z[m]=="\t".charCodeAt(0)||Z[m]=="\n".charCodeAt(0))m++}m++;
break}else{var v=x.indexOf(Z," ".charCodeAt(0),m,m+50),e=x.indexOf(Z,"\n".charCodeAt(0),m,m+50);if(e==-1)e=Infinity;
if(v==-1)v=Infinity;var j=x.aD(Z,m,Math.min(v,e)-m).trim(),$=parseFloat(j);if(!isNaN($)){u.k=parseFloat(j);
m=Math.min(v,e)+1;break}else if(j=="true"||j=="false"){u.k=j=="true";m=Math.min(v,e)+1;break}else if(j=="null"||j=="NaN"||j=="undefined"){u.k=0;
m=Math.min(v,e)+1;break}else{console.log("unknown identifier: "+j);throw"e"}m=Math.min(v,e)+1}}u.size=m-C;
return u};gG.YX=function(Z,m,S,B){if(Z instanceof Array){var C=Z.length==0||typeof Z[0]=="number";if(C){x.zT(m,S,"[ ");
S+=2;for(var q=0;q<Z.length;q++){var u=Z[q]+" ";x.zT(m,S,u);S+=u.length}x.zT(m,S,"]");S+=1}else{x.zT(m,S,"[\n");
S+=2;for(var q=0;q<Z.length;q++){x.RO(m,S,"\t".charCodeAt(0),B);S+=B;S=gG.YX(Z[q],m,S,B);x.zT(m,S,"\n");
S++}x.RO(m,S,"\t".charCodeAt(0),B);S+=B;x.zT(m,S,"]");S+=1}}else if(Z instanceof Object){S=gG.nU(Z,m,S,B)}else if(typeof Z=="string"){x.zT(m,S,"(");
S++;x.RO(m,S,254);S++;x.RO(m,S,255);S++;S=x.MB(m,S,Z);x.zT(m,S,")");S+=1}else{var u=Z+"";x.zT(m,S,u);
S+=u.length}return S};gG.ag_=function(Z){var m=typeof Z;return m=="string"||m=="number"||m=="boolean"};
function ju(){}ju.FK=function(Z){var m={};ju.K1(Z,m,0,0);return m};ju.Oq=function(Z,m){var S=0;x.zT(m,S," ");
S++;S=ju.e4(Z,m,S,0);S--;m.Ad(S,2);m.data[S]=m.data[S+1]=0;S+=2;return S};ju.TL=function(Z,m,S,B){while(Z[S]!="<".charCodeAt(0)){S++;
console.log("\u0161ipka")}S+=2;S=ju.K1(Z,m,S,B);return S};ju.nU=function(Z,m,S,B){x.zT(m,S,"<< ");S+=3;
S=ju.e4(Z,m,S,B);x.zT(m,S,">>");S+=2;return S};ju.bT=function(Z){return Z==9||Z==10||Z==32};ju.K1=function(Z,m,S,B){while(!0){while(ju.bT(Z[S])||Z[S]==0)S++;
if(S>=Z.length)break;if(Z[S]=="/".charCodeAt(0)){S++;var C=S;while(!ju.bT(Z[C]))C++;var u=x.aD(Z,S,C-S);
S=C+1;var r=ju.Os(Z,S,B,u);m["_"+u]=r.k;S+=r.size}else if(Z[S]==">".charCodeAt(0)){S+=2;break}else{var k=Z[S];
console.log(x.aD(Z,S,S+100));console.log("unknown byte: "+k+", char: "+String.fromCharCode(k)+", offset: "+S);
S++;throw"e";return-1}}return S};ju.e4=function(Z,m,S,B){for(var C in Z){var u=C.substring(1,C.length);
x.zT(m,S,"/"+u);S+=1+u.length;x.zT(m,S," ");S++;S=ju.YX(Z[C],m,S,B+1);x.zT(m,S," ");S++}return S};ju.Os=function(Z,m,S,B){var C=m,u={type:"",size:0,k:0};
while(ju.bT(Z[m]))m++;if(Z[m]=="<".charCodeAt(0)){u.type="Object";u.k={};m=ju.TL(Z,u.k,m,S+1)}else if(Z[m]=="(".charCodeAt(0)){u.type="String";
m++;if(Z[m]==")".charCodeAt(0)){u.k="e";m++}else{m+=2;var r=m,k=0;while(!0){if(Z[r]==")".charCodeAt(0)&&Z[r-1]!="\\".charCodeAt(0))break;
else r+=1}u.k="s"+x.x2(Z,m,r);m=r+2}}else if(Z[m]=="[".charCodeAt(0)){m++;u.k=[];u.type="Array";while(ju.bT(Z[m]))m++;
while(Z[m]!="]".charCodeAt(0)){var v=ju.Os(Z,m,S+1,B);if(v==-1)return-1;u.k.push(v.k);m+=v.size;delete v.size;
while(ju.bT(Z[m]))m++}m++}else{var e=m;while(!ju.bT(Z[e]))e++;var j=x.aD(Z,m,e-m),$=parseFloat(j);if(!isNaN($)&&j.indexOf(".")!=-1){u.type="Float";
var U=parseFloat(j);u.k="f"+U}else if(!isNaN($)&&j.indexOf(".")==-1){u.type="Integer";u.k="i"+parseInt(j)}else if(j=="true"||j=="false"){u.type="Boolean";
u.k=j=="true"}else if(j.charAt(0)=="/"){u.type="BString";u.k=j}else if(j=="NaN"){u.type="Float";u.k="f0"}else{console.log("unknown value",JSON.stringify(j));
throw"e"}m=e+1}u.size=m-C;return u};ju.ahc=function(Z){if(Z==Math.round(Z))return Z+".0";var m=Z.toFixed(5);
while(m.endsWith("0")&&m[m.length-2]!=".")m=m.slice(0,m.length-1);if(0<Z&&Z<1)m=m.slice(1);if(-1<Z&&Z<0)m="-"+m.slice(2);
return m};ju.YX=function(Z,m,S,B){var C=typeof Z=="string"?Z.charAt(0):"";if(Z instanceof Array){x.zT(m,S,"[ ");
S+=2;for(var q=0;q<Z.length;q++){S=ju.YX(Z[q],m,S,B);x.zT(m,S," ");S++}x.zT(m,S,"]");S+=1}else if(Z instanceof Object){S=ju.nU(Z,m,S,B)}else if(C=="e"){x.zT(m,S,"()");
S+=2}else if(C=="s"){x.zT(m,S,"(");S++;x.RO(m,S,254);S++;x.RO(m,S,255);S++;S=x.MB(m,S,Z.substring(1));
x.zT(m,S,")");S++}else if(C=="/"){x.zT(m,S,Z);S+=Z.length}else if(C=="f"){var u=parseFloat(Z.substring(1)),r=ju.ahc(u);
x.zT(m,S,r);S+=r.length}else if(C=="i"){x.zT(m,S,Z.substring(1));S+=Z.length-1}else{var r=Z+"";x.zT(m,S,r);
S+=r.length}return S};function x(){}x.a2l=function(gY){var Z="";for(var q=3;q>=0;q--)Z+=String.fromCharCode(gY>>q*8&255);
return Z};x.a5f=function(Z){var gY=0;for(var q=Z.length-1;q>=0;q--)gY|=Z.charCodeAt(q)<<(3-q)*8;return gY};
x.indexOf=function(Z,m,S,B){if(S==null)S=0;if(B==null)B=Z.length;B=Math.min(B,Z.length);for(var q=S;
q<B;q++)if(Z[q]==m)return q;return-1};x.Ok=function(Z,m,S){if(S==null)S=0;var B=m.length,C=Z.length-B;
if(typeof m=="string"){var u=[];for(var q=0;q<B;q++)u.push(m.charCodeAt(q));m=u}if(m.length>0){var r=m[0];
for(var q=S;q<C;q++)if(Z[q]==r){var k=!0;for(var v=1;v<B;v++)if(m[v]!=Z[q+v]){k=!1;break}if(k)return q}}return-1};
x.x2=function(Z,m,S){var B=[],u="";while(m<S){var C=Z[m++];if(C=="\\".charCodeAt(0))B.push(Z[m++]);else B.push(C)}for(var q=0;
q<B.length;q+=2)u+=String.fromCharCode(B[q]<<8|B[q+1]);return u};x.ah$=function(Z,m,S){var B=new Uint8Array(2);
for(var q=0;q<S.length;q++){x.p6(B,0,S.charCodeAt(q));if(B[0]==")".charCodeAt(0)||B[0]=="(".charCodeAt(0)||B[0]=="\\".charCodeAt(0)){Z[m]="\\".charCodeAt(0);
m++}Z[m]=B[0];m++;if(B[1]==")".charCodeAt(0)||B[1]=="(".charCodeAt(0)||B[1]=="\\".charCodeAt(0)){Z[m]="\\".charCodeAt(0);
m++}Z[m]=B[1];m++}return m};x.MB=function(Z,m,S){Z.Ad(m,4*S.length);return x.ah$(Z.data,m,S)};x.dB=function(Z,m,S){var B="";
for(var q=0;q<S;q++){var C=Z[m++]|Z[m++]<<8;B+=String.fromCharCode(C)}return B};x.zw=function(Z,m,S){var B="";
for(var q=0;q<S;q++){var C=Z[m++]<<8|Z[m++];B+=String.fromCharCode(C)}return B};x.ap0=function(Z,m,S){for(var q=0;
q<S.length;q++){var B=S.charCodeAt(q);x.Bv(Z,m+2*q,B)}};x.fD=function(Z,m,S){for(var q=0;q<S.length;
q++){var B=S.charCodeAt(q);x.p6(Z,m+2*q,B)}};x.a2d=function(Z,m,S){Z.Ad(m,2*S.length);x.fD(Z.data,m,S)};
x.a1x=function(Z,q,m){var S=[],B=0,C=0;m+=q;while(q<m){B=Z[q++];if((B&128)==0)C=B;else if((B&224)==192){C=(B&31)<<6;
B=Z[q++];C|=B&63}else if((B&240)==224){C=(B&15)<<12;B=Z[q++];C|=(B&63)<<6;B=Z[q++];C|=B&63}else if((B&248)==240){C=(B&7)<<18;
B=Z[q++];C|=(B&63)<<12;B=Z[q++];C|=(B&63)<<6;B=Z[q++];C|=B&63}else throw"e";S.push(C)}return S};x.lo=window.TextDecoder?new window.TextDecoder("utf8"):null;
x.QN=function(Z,m,S){if(m==null)m=0;if(S==null)S=Z.length;if(x.lo&&m==0&&S==Z.length)return x.lo.decode(Z);
var B=x.a1x(Z,m,S),C=B.length;for(var q=0;q<C;q++)B[q]=String.fromCharCode(B[q]);return B.join("")};
x.YK=window.TextEncoder?new window.TextEncoder("utf8"):null;x.P8=function(Z){if(x.YK)return x.YK.encode(Z);
var m=new Uint8Array(Z.length*4),S=x.Xv(Z,m,0);return m.slice(0,S)};x.Xv=function(Z,m,S){var B=Z.length,q=0;
for(var C=0;C<B;C++){var u=Z.charCodeAt(C);if((u&4294967295-(1<<7)+1)==0){m[S+q]=u;q++}else if((u&4294967295-(1<<11)+1)==0){m[S+q]=192|u>>6;
m[S+q+1]=128|u>>0&63;q+=2}else if((u&4294967295-(1<<16)+1)==0){m[S+q]=224|u>>12;m[S+q+1]=128|u>>6&63;
m[S+q+2]=128|u>>0&63;q+=3}else if((u&4294967295-(1<<21)+1)==0){m[S+q]=240|u>>18;m[S+q+1]=128|u>>12&63;
m[S+q+2]=128|u>>6&63;m[S+q+3]=128|u>>0&63;q+=4}else throw"e"}return q};x.uL=function(Z,m){var S=x.l(Z,m),B=x.QN(Z,m+4,S-1);
return{Ve:B,bN:4+S}};x.ast=function(Z,m){var S=x.zs(Z,m),B=x.dB(Z,m+4,S);return B};x.nK=function(Z,m){var S=x.l(Z,m),B=x.zw(Z,m+4,S);
return B};x.Mp=function(Z,m){var S=x.l(Z,m),B=x.zw(Z,m+4,S-1);return B};x.aaU=function(Z,m,S){x.S9(Z,m,S.length);
m+=4;x.ap0(Z,m,S)};x.aln=function(Z,m,S){x.PV(Z,m,S.length);m+=4;x.fD(Z,m,S)};x.hi=function(Z,m,S){Z.Ad(m,4+2*S.length);
x.aln(Z.data,m,S)};x.a5o=function(Z,m,S){Z.Ad(m,4+2*S.length);x.aaU(Z.data,m,S)};x.a0=function(Z,m,S){var B=[];
for(var q=0;q<S;q++)B.push(String.fromCharCode(Z[m+q]));return B};x.a4G=function(Z,m,S){var B=!1,C=Z.length-S.length;
for(var q=m;q<C;q++){for(var u=0;u<S.length;u++){if(Z[q+u]!=S.charCodeAt(u))break;if(u==S.length-1)return q}}};
x.aD=function(Z,m,S){var B="";for(var q=0;q<S;q++)B+=String.fromCharCode(Z[m+q]);return B};x.XI=function(Z,m,S){for(var q=0;
q<S.length;q++)Z[m+q]=S.charCodeAt(q)};x.zT=function(Z,m,S){Z.Ad(m,S.length);x.XI(Z.data,m,S)};x.a4b=function(Z,m,S){var B="";
for(var q=0;q<S;q++){var C=Z[m+q];if(C<10)B+="  ";else if(C<100)B+=" ";B+=C+", "}return B};x.zO=function(Z,m){return Z[m]<<8|Z[m+1]};
x.p6=function(Z,m,gY){Z[m]=gY>>8&255;Z[m+1]=gY&255};x.vF=function(Z,m,gY){Z.Ad(m,4);x.p6(Z.data,m,gY)};
x.ahT=function(Z,m){var S=x.zO(Z,m),B=x.zO(Z,m+2);return S+B*(1/65536)};x.kG=function(Z,m,gY){var S=Math.floor(gY),B=Math.floor((gY-S)*65536);
x.p6(Z,m,S);x.p6(Z,m+2,B)};x.Nz=function(Z,m){return Z[m+1]<<8|Z[m]};x.Bv=function(Z,m,gY){Z[m+1]=gY>>8&255;
Z[m]=gY&255};x.Z_=function(Z,m,gY){Z.Ad(m,4);x.Bv(Z.data,m,gY)};x.Cg=function(Z,m){x.zF[0]=Z[m+1];x.zF[1]=Z[m];
return x.uY[0]};x.jX=function(Z,m){x.zF[0]=Z[m];x.zF[1]=Z[m+1];return x.uY[0]};x.UZ=x.p6;x.Sq=x.vF;x.C0=function(Z,m){x.WC[0]=Z[m+3];
x.WC[1]=Z[m+2];x.WC[2]=Z[m+1];x.WC[3]=Z[m];return x.xD[0]};x.Um=function(Z,m,gY){x.xD[0]=gY;Z[m+3]=x.WC[0];
Z[m+2]=x.WC[1];Z[m+1]=x.WC[2];Z[m+0]=x.WC[3]};x.X7=function(Z,m,gY){Z.Ad(m,4);x.Um(Z.data,m,gY)};x.D0=function(Z,m,S,B){S[B+0]=Z[m+0];
S[B+1]=Z[m+1];S[B+2]=Z[m+2];S[B+3]=Z[m+3]};x.zs=function(Z,m){x.D0(Z,m,x.WC,0);return x.J5[0]};x.S9=function(Z,m,gY){x.J5[0]=gY;
x.D0(x.WC,0,Z,m)};x.$_=function(Z,m,gY){Z.Ad(m,4);x.S9(Z.data,m,gY)};x.ET=function(Z,m){x.D0(Z,m,x.WC,0);
return x.xD[0]};x.abo=function(Z,m,gY){x.xD[0]=gY;x.D0(x.WC,0,Z,m)};x.afM=function(Z,m,gY){Z.Ad(m,4);
x.abo(Z.data,m,gY)};x.l=function(Z,m){var S=Z[m]*(256*256*256)+(Z[m+1]<<16|Z[m+2]<<8|Z[m+3]);return S};
x.PV=function(Z,m,gY){Z[m]=gY>>24&255;Z[m+1]=gY>>16&255;Z[m+2]=gY>>8&255;Z[m+3]=gY>>0&255};x.An=function(Z,m,gY){Z.Ad(m,4);
x.PV(Z.data,m,gY)};x.EA=function(Z,m){return x.l(Z,m)<<32|x.l(Z,m+4)};x.Ye=function(Z,m,gY){x.PV(Z,m,gY>>16>>16);
x.PV(Z,m+4,gY&4294967295)};x.mx=function(Z,m,gY){Z.Ad(m,8);x.Ye(Z.data,m,gY)};x.NX=function(Z,m){var S=new Uint8Array(8);
for(var q=0;q<8;q++)S[q]=Z[m+7-q];var B=new Float64Array(S.buffer);return B[0]};x.nj=function(Z,m){var S=new Uint8Array(8);
for(var q=0;q<8;q++)S[q]=Z[m+q];var B=new Float64Array(S.buffer);return B[0]};x.Im=function(Z,m,gY){var S=new Float64Array(1);
S[0]=gY;var B=new Uint8Array(S.buffer);for(var q=0;q<4;q++){var C=B[q];B[q]=B[7-q];B[7-q]=C}for(var q=0;
q<8;q++)Z[m+q]=B[q]};x.qE=function(Z,m,gY){Z.Ad(m,8);x.Im(Z.data,m,gY)};x._O=function(Z,m){x.WC[0]=Z[m+3];
x.WC[1]=Z[m+2];x.WC[2]=Z[m+1];x.WC[3]=Z[m+0];return x.Y5[0]};x.O8=function(Z,m){x.WC[0]=Z[m+0];x.WC[1]=Z[m+1];
x.WC[2]=Z[m+2];x.WC[3]=Z[m+3];return x.Y5[0]};x.QF=function(Z,m,gY){x.Y5[0]=gY;Z[m+0]=x.WC[3];Z[m+1]=x.WC[2];
Z[m+2]=x.WC[1];Z[m+3]=x.WC[0]};x.apE=function(Z,m,gY){Z.Ad(m,4);x.QF(Z.data,m,gY)};x.Gq=function(Z,m,gY){x.Y5[0]=gY;
Z[m+0]=x.WC[0];Z[m+1]=x.WC[1];Z[m+2]=x.WC[2];Z[m+3]=x.WC[3]};x.ao8=function(Z,m,gY){Z.Ad(m,4);x.Gq(Z.data,m,gY)};
x.a9K=function(Z,m){var S=x.C0(Z,m),B=S*(1/(1<<24));return B};x.wn=function(Z,m,S){var B=Math.floor(S*(1<<24));
x.Um(Z,m,B)};x.adi=function(Z,m,S){Z.Ad(m,4);x.wn(Z.data,m,S)};x.fv=function(Z,m){var S=Z[m],B=x.aD(Z,m+1,S);
S+=1-S%2;return{q3:B,length:S+1}};x.an8=function(Z,m,S){var B=S.length;Z[m]=B;x.XI(Z,m+1,S);if(B%2==0){Z[m+1+B]=0;
++B}return B+1};x.Ge=function(Z,m,S){Z.Ad(m,S.length+2);return x.an8(Z.data,m,S)};x.hK=function(Z,m){var S=new ht;
S.AQ=x.NX(Z,m+0*8);S.S=x.NX(Z,m+1*8);S.mw=x.NX(Z,m+2*8);S.uw=x.NX(Z,m+3*8);S.s9=x.NX(Z,m+4*8);S.ku=x.NX(Z,m+5*8);
return S};x.sh=function(Z,m,S){x.Im(Z,m+0*8,S.AQ);x.Im(Z,m+1*8,S.S);x.Im(Z,m+2*8,S.mw);x.Im(Z,m+3*8,S.uw);
x.Im(Z,m+4*8,S.s9);x.Im(Z,m+5*8,S.ku)};x.anj=function(Z,m,S){Z.Ad(m,48);x.sh(Z.data,m,S)};x.ab8=function(Z,m){var S=x._O(Z,m),B=x._O(Z,m+4),C=x._O(Z,m+8),u=x._O(Z,m+12);
return new bq(S,B,C-S,u-B)};x.ad1=function(Z,m,S){x.QF(Z,m,S.x);x.QF(Z,m+4,S.y);x.QF(Z,m+8,S.x+S.e);
x.QF(Z,m+12,S.y+S.n)};x.abZ=function(Z,m,S){Z.Ad(m,16);x.ad1(Z.data,m,S)};x.kN=function(Z,m){var S=x.C0(Z,m),B=x.C0(Z,m+4),C=x.C0(Z,m+8),u=x.C0(Z,m+12);
return new bq(B,S,u-B,C-S)};x.ZY=function(Z,m,S){x.Um(Z,m,S.y);x.Um(Z,m+4,S.x);x.Um(Z,m+8,S.y+S.n);x.Um(Z,m+12,S.x+S.e)};
x.Vc=function(Z,m,S){Z.Ad(m,16);x.ZY(Z.data,m,S)};x.JU=function(Z,m,S){var B=new Uint8Array(S);for(var q=0;
q<S;q++)B[q]=Z[m+q];return B};x.HV=function(Z,m,S){Z.set(S,m)};x.dR=function(Z,m,S){Z.Ad(m,S.length);
x.HV(Z.data,m,S)};x.aaD=function(Z,m,S,gY){if(!gY)gY=1;for(var q=0;q<gY;q++)Z[m+q]=S};x.RO=function(Z,m,S,gY){if(!gY)gY=1;
Z.Ad(m,gY);x.aaD(Z.data,m,S,gY)};x.uY=new Int16Array(1);x.zF=new Uint8Array(x.uY.buffer);x.xD=new Int32Array(1);
x.J5=new Uint32Array(x.xD.buffer);x.WC=new Uint8Array(x.xD.buffer);x.Y5=new Float32Array(x.xD.buffer);
function eP(){}eP.FK=function(Z,m){var S=new Uint8Array(Z),B=0,C=x.aD(S,B,9),k=4,v=100;B+=9;var u=x.aD(S,B,4);
B+=4;B++;m.e=x.l(S,B);B+=4;m.n=x.l(S,B);B+=4;var r=x.l(S,B);B+=4;if(r!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(u)==-1){v=x.l(S,B);B+=4;if(parseInt(u.slice(1))>=7){v=v}else alert("Unknown XCF version: "+u);
k=8}var e={};B=eP.bi(S,B,e);var j=[];B=eP.pK(S,B,j,k);var $=[];B=eP.pK(S,B,$,k);m.Nf=0;for(var q=0;q<j.length;
q++)eP.anA(S,j[q],m,e,k,v);while(m.Nf>0){m.g.push(m.iI());m.Nf--}m.g.reverse();delete m.Nf;m.buffer=l.U(m.e*m.n*4);
if(m.g.length==0)console.log("No layers!!!");for(var q=0;q<$.length;q++){var U=eP.CI(S,$[q],e,k,v);if(U.yO[fN.alu])m.$={channel:U.Ku,rect:new bq(0,0,m.e,m.n)}}};
eP.anA=function(Z,m,S,B,C,u){var r=S.AB(),k=x.l(Z,m),$=0;m+=4;var v=x.l(Z,m);m+=4;r.rect=new bq(0,0,k,v);
var e=x.l(Z,m);m+=4;var j=x.uL(Z,m);m+=j.bN;r.Se(j.Ve);var U={};m=eP.bi(Z,m,U);if(U[fN.U2]){var H=U[fN.U2];
$=H.length/4-1}if(U[fN.XL]){r.rect.x=x.C0(U[fN.XL],0);r.rect.y=x.C0(U[fN.XL],4)}if(U[fN.Qa]){r.opacity=x.l(U[fN.Qa],0)}if(U[fN.ah1]){r.add.lsct=jf.AH;
r.rect=new bq(0,0,0,0);r.buffer=l.U(0);r.Kl=24}if(U[fN.fg]){var z=x.l(U[fN.fg],0);r.E4=fN.ap9[z];if(r.O1()&&r.E4=="norm")r.E4="pass"}if(U[fN.FW]){if(x.l(U[fN.FW],0)==0)r.Kl+=2}if(U[fN.bk]){var f=x.l(U[fN.bk],0);
r.add.lsct=f&1==1?jf.AH:jf.aa}if(U[fN.Ik]){var D=U[fN.Ik];for(var n in D){var L=D[n];if(n=="gimp-text-layer"){var a=eP.anG(L),F=a.text,A=a.font,T=a.color,P=a["font-size"];
if(F==null&&a.markup){var Y=new DOMParser,Q=Y.parseFromString(a.markup,"image/svg+xml");while(Q.firstChild!=null&&Q.firstChild.tagName!=null){Q=Q.firstChild;
var o=Q.getAttribute("font"),I=Q.getAttribute("foreground"),c=Q.getAttribute("size");if(o!=null)A=o;
if(I!=null){I=CSS.ON(I);T=[1,I.I/255,I.z/255,I.S/255]}if(c!=null){P=""+parseFloat(c)/245}}F=Q.textContent}r.add.lnsr="rend";
r.add.TySh=e6.WL(0,0);r.add.TySh.sq=new bq(0,0,100,100);r.add.TySh.A=new ht(1,0,0,1,r.rect.x,r.rect.y);
var y=r.add.TySh.e7;e6.Hd(y,0,F);var i=e6.yH(y,0,0),d=a.justify,V=a["line-spacing"];if(T)i.n1.FillColor={Type:1,Values:[1,parseFloat(T[1]),parseFloat(T[2]),parseFloat(T[3])]};
if(P){P=Math.round(parseFloat(P));i.n1.FontSize=P;r.add.TySh.A.ku+=Math.min(17,P*.17)}if(V){V=Math.round(parseFloat(V)+i.n1.FontSize*1.2);
i.n1.Leading=V;i.n1.AutoLeading=!1}if(d)i.Q0.Justification=["left","right","center","fill"].indexOf(d);
if(A&&A!="Sans-serif"){var R=A.toLowerCase(),G="bold italic semi extra regular condensed light".split(" "),M=R.length;
for(var q=0;q<G.length;q++){var O=R.indexOf(G[q]);if(O!=-1&&O<M&&R[O-1]==" ")M=O}if(M!=R.length)A=A.slice(0,M-1).split(" ").join("")+"-"+A.slice(M).split(" ").join("");
e6.VR(i,A)}e6.rj(y,0,F.length,i);var K=a["box-width"],W=a["box-height"],t=K?parseFloat(K):r.rect.e,X=W?parseFloat(W):r.rect.n;
e6.xx(y,1);e6.Y8(y,[0,0,Math.ceil(t),Math.ceil(X)])}else console.log("Unknown property "+n)}}while(S.Nf>$){S.g.push(S.iI());
S.Nf--}S.Nf=$;if(r.add.lsct==jf.AH||r.add.lsct==jf.aa)S.Nf++;var h=C==4?x.l:x.EA;if(r.JB()){r.buffer=l.U(r.rect.Z()*4);
var b=new l._8(r.rect.Z()),E=h(Z,m);m+=C;var f0=h(Z,m);m+=C;eP.EO(Z,E,b,B,C,u);l.t5(b,r.buffer);if(f0!=0){r.v=new w.Ga;
r.v.color=0;r.v.rect=r.rect.clone();r.v.channel=eP.CI(Z,f0,B,C,u).Ku;if(U[fN.qd])r.v.isEnabled=x.l(U[fN.qd],0)==1}}S.g.push(r)};
eP.anG=function(Z){var m="("+x.QN(Z,0,Z.length-1)+")",S=[],B={};eP.bH(m,1,S);eP.a1E(S,B);return B};eP.a1E=function(Z,m){for(var q=0;
q<Z.length;q++){var S=Z[q],B=S[0];if(S.length==2)m[B]=S[1];else m[B]=S.slice(1)}};eP.bH=function(Z,m,S){while(!0){if(m>=Z.length)throw"e";
var B=Z.charAt(m);m++;if(B=="("){var C=[];m=eP.bH(Z,m,C);S.push(C)}else if(B==" "||B=="\n"||B=="\r"){}else if(B==")")return m;
else if(B=="\""){var u=m;while(!0){var r=Z[m];m++;if(r=="\"")break;if(r=="\\")m++}S.push(JSON.parse(Z.slice(u-1,m)))}else{var u=m-1;
while(Z[m]!=" "&&Z[m]!=")")m++;S.push(Z.slice(u,m))}}};eP.CI=function(Z,m,S,B,C){var u=x.l(Z,m);m+=4;
var r=x.l(Z,m);m+=4;var k=x.uL(Z,m);m+=k.bN;var v={};m=eP.bi(Z,m,v);var e=new l._8(u*r),j=B==4?x.l:x.EA,$=j(Z,m);
m+=B;eP.EO(Z,$,e,S,B,C);return{Ku:e.I,yO:v}};eP.EO=function(Z,m,S,B,C,u){var r=x.l(Z,m);m+=4;var k=x.l(Z,m);
m+=4;var v=x.l(Z,m);m+=4;var e=C==4?x.l:x.EA,j=e(Z,m);m+=C;eP.a8M(Z,j,S,B,v,C,u)};eP.a8M=function(Z,m,S,B,C,u,r){var k=x.l(Z,m),j=0,q=0;
m+=4;var v=x.l(Z,m);m+=4;var e=new bq(0,0,k,v);if(r==100||r==150)j=1;else if(r==200||r==250)j=2;else if(r==300||r==350)j=4;
else if(r==500||r==550)j=2;else if(r==600||r==650)j=4;else if(r==700||r==750)j=8;else{alert("unsupported bit depth "+r);
throw"e"}var $=C/j,j=Math.round(C/$),U=[];m=eP.pK(Z,m,U,u);var H=new l._8(64*64*j),z=new bq,f=B[fN.a3h][0],D=[H.I,H.z,H.S,H.AQ];
if($==3)H.AQ.fill(255);var n=Date.now();for(var L=0;L<v;L+=64)for(var a=0;a<k;a+=64){var F=Math.min(k-a,64),A=Math.min(v-L,64),T=F*A;
z.r8(a,L,F,A);eP.ano(Z,U[q++],T*j,f,$,D);if(r==100||r==150){}else if(r==250){for(var P=0;P<$;P++){var Y=D[P];
for(var Q=0;Q<T;Q++){var o=Y[Q]<<8|Y[T+Q];Y[Q]=Math.min(o>>>8,255)}}}else if(r==600){var I=eP.ab3(),c=new Uint32Array(1),y=new Float32Array(c.buffer);
for(var P=0;P<$;P++){var Y=D[P];for(var Q=0;Q<T;Q++){c[0]=Y[Q]<<24|Y[T+Q]<<16|Y[(T<<1)+Q]<<8|Y[(T<<1)+T+Q]<<0;
var i=y[0];if(i<0)i=0;else if(i>1)i=1;Y[Q]=I[~~(.5+i*1e3)]}}}else console.log("unknown data format",r);
l.PU(H,z,S,e)}};eP.ab3=function(){var Z=eP.a2B;if(Z!=null)return Z;Z=eP.a2B=new Uint8Array(1001);for(var q=0;
q<1001;q++)Z[q]=~~(.49+255*l.mg(q*.001));return Z};eP.ano=function(Z,m,S,B,C,u){if(B==1){for(var r=0;
r<C;r++){var k=u[r],v=0;while(v<S){var gY=Z[m];m++;if(gY<127){var e=Z[m];m++;gY++;for(var q=0;q<gY;q++)k[v+q]=e}else if(gY==127){var j=Z[m];
m++;var $=Z[m];m++;var e=Z[m];m++;gY=j<<8|$;for(var q=0;q<gY;q++)k[v+q]=e}else if(gY==128){var j=Z[m];
m++;var $=Z[m];m++;gY=j<<8|$;for(var q=0;q<gY;q++)k[v+q]=Z[m+q];m+=gY}else{gY=256-gY;for(var q=0;q<gY;
q++)k[v+q]=Z[m+q];m+=gY}v+=gY}}}else if(B==2){var U=pako.inflate(Z.slice(m)),H=Math.round(U.length/S);
for(var q=0;q<S;q++){var z=q*H;u[0][q]=U[z];u[1][q]=U[z+1];u[2][q]=U[z+2];u[3][q]=H==3?255:U[z+3]}}else alert("Unknown compression "+B)};
eP.pK=function(Z,m,S,B){var C=B==4?x.l:x.EA;while(!0){var u=C(Z,m);m+=B;if(u==0)break;else S.push(u)}return m};
eP.bi=function(Z,m,S){while(!0){var B=x.l(Z,m);m+=4;var C=x.l(Z,m);m+=4;if(B==fN.a5h)break;else if(B==fN.Ik)S[B]=eP.aiv(Z,m,m+C);
else S[B]=x.JU(Z,m,C);m+=C}return m};eP.aiv=function(Z,m,S){var B={};while(m<S){var C=x.uL(Z,m);m+=C.bN;
var u=x.l(Z,m);m+=4;if(u!=1)console.log("unknown flags",u);var r=x.l(Z,m);m+=4;B[C.Ve]=x.JU(Z,m,r);m+=r}return B};
var fN={a5h:0,atr:1,ai7:2,av2:3,alu:4,arM:5,Qa:6,fg:7,FW:8,a7p:9,aoP:10,qd:11,aiP:12,aoA:13,a1z:14,XL:15,aqi:16,a3h:17,a2C:18,adE:19,a5k:20,Ik:21,aj9:22,aq2:23,asD:24,ajS:25,a7I:26,aoN:27,a6i:28,ah1:29,U2:30,bk:31,apQ:32,ahH:33,a9w:34,a2G:35,a3A:36,a43:37,aqZ:38,ak7:0,ag9:1,aiR:2,aku:3,abd:1,a2y:2,afA:0,a8t:1,apX:1};
fN.ap9="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var jn=function(){var Z=!1,m,S,a;function B(){var T=x.aD(m,S,4);S+=4;return T[3]+T[2]+T[1]+T[0]}function C(){var T=x.aD(m,S,4);
S+=4;return T}function u(){var T=m[S];S+=1;return T}function r(){var T=x.Nz(m,S);S+=2;return T}function k(){var T=x.zs(m,S);
S+=4;return T}function v(){var T=x.ET(m,S);S+=4;return T}function e(){var T=x.zs(m,S);S+=8;return T}function j(){var T=x.O8(m,S);
S+=4;return T}function $(){var T=x.nj(m,S);S+=8;return T}function U(){var T=x.Nz(m,S),P=x.QN(m,S+2,T);
S+=2+T;return P}function H(){var T=x.zs(m,S),P=x.QN(m,S+4,T);S+=4+T;return P}function z(T){S=T;var P=[];
while(S!=0){var Y=C();if(Y!="#FT4"&&Y!="#FT3"&&Y!="#FT2")throw Y;var Q=e(),o=e(),I=e(),c=e(),y=e(),i=k(),d=k(),V=k(),R=r(),G=u(),M={};
P.push(M);for(var q=0;q<i;q++){var O=k(),K=u();if(K!=0&&K!=1&&K!=2)throw K;var W=[];if(K==0||K==1){var t=e(),X=e(),h=e(),b=k(),E=u(),f0=k(),ay=Y!="#FT4"?0:k(),p=null;
if(Y=="#FAT"||Y=="#FT2"){switch(E){case 1:E=1;break;case 2:E=65;break;case 3:E=129;break;case 4:E=193;
break;default:E=0;break}}if(K==0)p=U();W=[t,X,h,E,p]}M["i"+O]=[K,W]}for(var q=0;q<R;q++){var eo=r(),co=r(),c5=e(),he=x.aD(m,S,eo);
S+=eo}S=Q}P.reverse();for(var hU=1;hU<P.length;hU++){var M=P[hU],aB=P[hU]=JSON.parse(JSON.stringify(P[hU-1]));
for(var ep in M){var aO=M[ep];if(aO[0]==0)aB[ep]=aO;else if(aO[0]==1){aO[1][4]=aB[ep][1][4];aB[ep]=aO}else if(aO[0]==2)delete aB[ep]}}var f$=P.pop(),fo=[];
for(var ep in f$)fo.push(f$[ep][1]);fo.sort(function(bb,jl){return bb[0]-jl[0]});return fo}function f(T,P,Y,Q){while(S<m.length){var o=u(),i=null;
if(o==0){if(Q){var I=u();if(I!=2){var c=B()}if(I==0)S+=4;Q=!1;continue}else{break}}var y=B();if(Z)console.log("  ".repeat(P),o,o&127,y,T._type);
if(o>127)i=D(o,P,Y);else i=n(o,P,Y);T[y]=i}}function D(T,P,Y){var Q=[];T=T&127;if(T==43)S+=4;var o=k();
if(T==50){var I=B(),c=r();if(c!=1)throw"e";for(var q=0;q<o;q++){var y={_status:"NotShared",_type:I};
Q.push(y);var i=u();if(i!=1)throw i;f(y,P+1,Y)}}else for(var q=0;q<o;q++){Q.push(n(T,P,Y));if(T==42)T=2}return Q}function n(T,P,Y){var Q=null;
if(T==49){Q={};var o=u();if(o!=0){var I=k();if(Y==null){Q._id=I;Q._status=["Shared","Link"][o-1]}if(Y&&o==2)Q=Y[I];
if(o==1){if(Y)Y[I]=Q;var c=u(),y=!1;if(c>1)throw c;Q._type=B();if(Z)console.log("  ".repeat(P),"new",Q._type,c,S);
if(c==0){while(!0){var i=r();if(i!=0&&i!=1&&i!=2&&i!=4)throw i;if(m[S]!=0){y=!0;break}var d=r();if(d==512)break;
var V=B();if(d==256)break}}f(Q,P+1,Y,y)}}}else if(T==50){Q={_status:"NotShared"};if(u()==1){Q._type=B();
S+=2;f(Q,P+1,Y)}}else if(T==1)Q={type:"byte",value:u()};else if(T==2)Q={type:"uint16",value:r()};else if(T==3)Q={type:"uint32",value:k()};
else if(T==4)Q={type:"uint64",value:e()};else if(T==7)Q={type:"int32",value:v()};else if(T==8)Q={type:"int64",value:e()};
else if(T==9)Q={type:"float32",value:j()};else if(T==10)Q={type:"float64",value:$()};else if(T==21)Q={type:"Vec2i",value:[k(),k()]};
else if(T==23)Q={type:"Vec4i",value:[k(),k(),k(),k()]};else if(T==33)Q={type:"Vec4f",value:[j(),j(),j(),j()]};
else if(T==36)Q={type:"Vec2",value:[$(),$()]};else if(T==38)Q={type:"Vec4",value:[$(),$(),$(),$()]};
else if(T==40)Q={type:"Vec6",value:[$(),$(),$(),$(),$(),$()]};else if(T==41)Q={type:"bool",value:u()!=0};
else if(T==42)Q={type:"Enum",value:k()};else if(T==43)Q={type:"string",value:H()};else if(T==44){var R=r();
Q={type:"curv16",value:[$(),R==12?[u(),u(),u(),u()]:[k(),k()]]}}else if(T==45){var R=k();Q={type:"buff",value:m.slice(S,S+R)};
S+=R}else if(T==47){Q={type:"uint32",value:k()}}else if(T==48){var G=[],M=r();if(M!=1)throw M;if(m[S]==135){var O=D(u(),P+1,Y),K=D(u(),P+1,Y),W=D(u(),P+1,Y);
G=[O,K,W]}else{var t=1;if(m[S]==3){u();t=k()}for(var q=0;q<t;q++){if(u()!=41)throw"e";var I=u();if(I!=0&&I!=1)throw I;
if(u()!=172)throw"e";var X=k(),h=r(),b=[];G.push(b);if(h!=18)throw h;if(X>2e3)throw X;for(var E=0;E<X;
E++)b.push([$(),$(),u(),u()])}}S++;Q={type:"curve",value:G}}else if(T==51){Q={type:"EmbeddedData"};Q[B()]=H()}else if(T==52)Q={type:"uint32",value:k()};
else if(T==56)Q={type:"Color32",value:[u(),u(),u(),u()]};else if(T==60)Q={type:"ColorGRAY",value:[j(),j()]};
else if(T==68)Q={type:"ColorRGBA",value:[j(),j(),j(),j()]};else if(T==72)Q={type:"ColorCMYK",value:[j(),j(),j(),j(),j()]};
else{throw T}return T==49||T==50||T==51?Q:Q.value}function L(T){var P=0,Y=T.length;for(var q=0;q<Y;q++)T[q]=P=P+T[q]&255}function F(T){m=T;
S=4;var P=k(),Y=C();if(Y!="nsrP")throw Y;var Y=C();if(Y!="#Inf")throw Y;var Q=e();a=e();var o=e(),I=e(),c=e(),y=k(),i=k(),Y=C();
if(Y!="Prot")throw Y;var y=k(),d=z(Q),V={},R=Date.now();for(var G=0;G<d.length;G++){var M=d[G],O=M[3],h=null;
S=M[0];var Y=C();if(Y!="#Fil")throw Y;var K=O>>>5&1,W=O&3,t=O&192;switch(t){case 64:t=1;K=0;break;case 128:t=2;
break;case 192:t=3;break;default:t=0;K=0}var X=new Uint8Array(m.buffer,S,M[2]);if(W==0)h=X;else if(W==1)h=pako.inflate(X);
else if(W==2)h=e2.hW.vq(X,M[1]);else throw W;if(K==0){if(t==1)L(h);if(t==2)throw"e"}else throw K;V[M[4]]=h}return V}function A(T){var P=F(new Uint8Array(T));
m=P["doc.dat"];S=16;var Y={};f(Y,0,[]);return[P,Y,a]}return{a7c:A}}();function ek(){}ek.FK=function(){function Z(H,z){var f=Date.now(),D=jn.a7c(H),n=D[0],L=D[1],a=D[2],F=L.DocR,A=F.DfSz,T=F.Chld;
if(T.length!=1)throw"e";var P=T[0],Y=P.SprB;T=P.Chld;z.e=~~Y[2];z.n=~~Y[3];z.buffer=l.U(z.e*z.n*4);var Q=[0,{}];
for(var q=0;q<T.length;q++)C(T[q],z,n,new ht,Q);z.V6(Q[0]);console.log(Date.now()-f,"Document created");
f=Date.now()}function m(H){return new ht(H[0],H[3],H[1],H[4],H[2],H[5])}function S(H,z){var f=z.Xfrm;
f=f?m(f):new ht;f.concat(H);return f}function B(H){var z={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[H];
return z?z:"norm"}function C(H,z,f,D,n){var L=H._type,a=H.Chld,F=z.AB();F.Se(H.Desc==null||H.Desc==""?L=="Grup"?"Folder":"Layer":H.Desc);
F.p0(H.Visi);F.opacity=Math.round(255*H.Opac);if(H.FOpc!=1)F.add.iOpa=Math.round(255*H.FOpc);var A=H.Blnd;
if(A!=null)F.E4=B(A);var T=S(D,H),P=L=="ShpN"||L=="PCrv";if(a){z.g.push(z.iI());F.add.lsct=jf.AH;F.E4="pass";
F.Kl=24;if(L=="ShpN"){var Y=H.ShpB;F.Ea(new bq(Y[0]+T.s9,Y[1]+T.ku,Y[2]-Y[0],Y[3]-Y[1]));n[0]++;F.add.artb.Clr={t:"Objc",v:l.X.M1({I:255,z:255,S:255})}}for(var q=0;
q<a.length;q++)C(a[q],z,f,T,n)}else if(L=="Rstr"||L=="ImgN"||L=="MRst"){var Q=H.Bitm,o=Q.Bckg,I=Date.now(),c;
if(o==null){c=e(Q,f,n[1]);F.rect=c[2].clone();F.buffer=c[1].slice(0);F.rect.x+=T.s9;F.rect.y+=T.ku}if(o||T.l_()!=1){var y,i=0,d=0;
if(o){var V=f[o.Data],R=x.Ok(V,"ataD")+4,G=x.zs(V,R);R+=4;y=V.slice(R,R+G)}else{i=F.rect.x-T.s9;d=F.rect.y-T.ku;
if(c[3]==null)c[3]=new Uint8Array(e2.Vh("PNG").md([[F.buffer.buffer]],F.rect.e,F.rect.n));y=c[3].slice(0)}var M=z.tv(y,F.getName(),0,0);
M.Kl=F.Kl;M.opacity=F.opacity;F=M;var O=new ht;O.translate(i,d);O.concat(T);var K=F.rect.clone();K.x=K.y=0;
var W=l.H.ez(K).t;l.H.A(W,O,W);F.add.SoLd.Trnf=g.Q.T5(W);F.add.SoLd.nonAffineTransform=g.Q.T5(W);F.l8(z,!1)}}else if(L=="TxtA"||L=="TxtF"){F.add.lnsr="rend";
F.add.TySh=e6.WL(0,0);F.add.TySh.sq=new bq(0,0,100,100);var t=H.TxtH.FrmB,X=new ht,f0=0;X.translate(t[0],t[1]);
X.concat(T);F.add.TySh.A=X;var h=F.add.TySh.e7,b=H.StSt,E=b.Blok;if(E.length!=1)throw"e";for(var ay=0;
ay<E.length;ay++){var p=E[ay],eo=f0,co=0,c5=p.Glyp.Utf8;c5=c5.replace(/\u2028/g,"\n");c5=c5.replace(/\u2029/g,"\n");
c5=c5.slice(0,c5.length-1);e6.Hd(h,f0,c5);f0+=c5.length;var he=p.GAtt.Runs,hU=p.PAtt.Runs[0],aB=hU.Item.Ints[0];
for(var ep=0;ep<he.length;ep++){var aO=he[ep],f$=aO.Indx,fo=aO.Item,bb=fo.Objs,jl=e6.yH(h,eo,1);jl.Q0.Justification=aB==0?0:aB==1?2:1;
e6.VR(jl,fo.DFnt.Post);jl.n1.FontSize=fo.Doub[0];for(var q=0;q<bb.length;q++){var e0=bb[q];if(e0._type=="FDsc"){var gI=e0.FDeF;
if(gI._type=="FilS"){var d4=v(gI.Colr);jl.n1.FillColor={Type:1,Values:[1,d4[0],d4[1],d4[2]]}}}}e6.rj(h,eo+co,eo+Math.min(f$,c5.length),jl);
co=f$}}e6.xx(h,1);e6.Y8(h,[0,0,Math.round(t[2]-t[0]),Math.round((t[3]-t[1])*1.2)]);z.kw=!0}else if(P){F.Kl|=16;
var ab=F.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));F.add.vstk.strokeEnabled.v=!1;F.add.vogk=[];
var c3=F.add.vmsk=u(H);l.q.uA(c3.u,T);if(H.BFFl){var gr=H.BFFl[0].FDeF,a2=gr._type;if(a2=="FilS")F.add.SoCo={classID:"null",Clr:k(gr.Colr)};
else if(a2=="FilG"){var aL=F.add.GdFl=JSON.parse(fp.kr[fp.order.indexOf("GrFl")]);r(gr,aL)}else if(a2=="FilN"){F.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.X.M1({I:0,z:0,S:0})}};
ab.fillEnabled.v=!1}else console.log(a2)}if(H.LILn){var el=H.LILn[0].LDeL,iJ=el.Wght;if(iJ!=0){ab.strokeEnabled.v=!0;
ab.strokeStyleLineWidth.v.val=iJ;var gr=H.LIFl[0].FDeF,a2=gr._type;if(a2=="FilS")ab.strokeStyleContent.v.Clr=k(gr.Colr);
else if(a2=="FilN")ab.strokeEnabled.v=!1}}F.T3(z)}else console.log(L);var aC=H.AdCh,cr=[];if(aC)for(var q=0;
q<aC.length;q++){var bN=aC[q],hf=bN._type;if(hf=="ShpN"||hf=="PCrv"){var c3=F.add.vmsk=u(bN),cV=S(T,bN);
l.q.uA(c3.u,cV);F.T3(z)}else if(bN.AdjP){var ez=bN.AdjP,jG=ez._type,jw={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[jG];
if(jw==null){console.log(ez);continue}var dw=bS.Er(jw,{});cr.push(dw);var cb=dw.v.Fltr.v;if(jG=="LevP"){var cz=dW.tP(cb,0);
cz[0]=ez.OutB*255;cz[1]=ez.OutW*255;dW.$H(cb,0,cz)}else if(jG=="WhBP"){var cz=dW.tP(cb,2);cz[4]=100+ez.WBTi*20;
dW.$H(cb,2,cz);var cz=dW.tP(cb,3);cz[4]=100+ez.WBTi*200;dW.$H(cb,3,cz)}else if(jG=="HSSP"){var cz=iL.tP(cb,0);
cz[0]=Math.round(ez.HueA*256);cz[1]=Math.round(ez.SatA*256);cz[2]=Math.round(ez.LumA*256);iL.$H(cb,0,cz)}else if(jG=="RecP"){cb.Clrz.v=!0;
var cz=iL.tP(cb,0);cz[0]=Math.round(ez.RecH*100);cz[1]=Math.round(ez.RecS*100);cz[2]=Math.round(ez.RecL*100);
iL.$H(cb,0,cz)}else if(jG=="B&CP"){cb.Brgh.v=Math.round(ez.Brig*100);cb.Cntr.v=Math.round(ez.Ctrs*100-100)}else if(jG=="PosP"){cb.Lvls.v=ez.Post}else if(jG=="VibP"){cb.vibrance.v=ez.Vibr-100;
cb.Strt.v=Math.round(ez.Satu*100)}else if(jG=="ExpP"){cb.Exps.v=ez.Expo;cb.gammaCorrection.v=ez.Gamm/2.2}else if(jG=="ThrP"){cb.Lvl.v=Math.round(ez.Thre*255)}else if(jG=="CrvP"){var jq=ez.Mast["Cnt "],dU=ez.Mast.Vals,cz=f8.tP(cb,0),ge=cz[0];
for(var al=0;al<jq;al++){var a_=cz[al]=JSON.parse(JSON.stringify(ge));a_.v.Hrzn.v=Math.round(dU[al]*255);
a_.v.Vrtc.v=Math.round(dU[4+al]*255)}f8.$H(cb,0,cz)}}else console.log(bN)}if(cr.length!=0){F.add.SoLd.filterFX=bS.cL();
z.gq({id:F.add.SoLd.placed.v,rect:new bq,buffer:l.U(1),v:new w.Ga});F.add.SoLd.filterFX.v.filterFXList.v=cr;
F.l8(z,!1)}var hc=H.FiEf;if(hc&&hc.length!=0){var g7=F.add.lmfx=JSON.parse(fp.default);for(var q=0;q<fp.order.length;
q++)g7[fp.lg[q]]={t:"VlLs",v:[]};for(var b4=0;b4<hc.length;b4++){var eC=hc[b4],cN=eC._type,i7={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[cN],aL=i7?JSON.parse(fp.kr[fp.order.indexOf(i7)]):null;
if(cN=="ColO"){aL.Clr=k(eC.Colr)}else if(cN=="GrdO"){r(eC.GrFl.FDeF,aL)}else if(cN=="Shad"||cN=="InnS"||cN=="OutG"||cN=="InnG"){aL.Clr=k(eC.Colr);
aL.blur.v.val=Math.round(eC.Radi/2.4);if(eC.Offs!=null){aL.Dstn.v.val=eC.Offs;aL.lagl.v.val=Math.round(180-eC.Angl*180/Math.PI);
aL.uglg.v=!1}}else if(cN=="Strk"){aL.Clr=k(eC.Colr);aL.Sz.v.val=Math.round(eC.Radi)}else if(cN=="PhgB"||cN=="BevE"){aL.blur.v.val=Math.round(eC.Radi);
if(cN=="BevE")aL.bvlS.v.BESl="PlEb"}else if(cN=="Gaus"){if(P&&eC.Enab){F.add.vmsk.hC=eC.Radi/2.4;F.add.vmsk.ZZ=!0;
F.T3(z)}}if(i7){aL.enab.v=eC.Enab;if(aL.Md&&eC.BlnM!=null)aL.Md.v.BlnM=d1.D2(B(eC.BlnM));if(aL.Opct&&eC.Opac!=null)aL.Opct.v.val=Math.round(eC.Opac*100);
var gC=fp.lg[fp.order.indexOf(i7)];g7[gC].v.unshift({t:"Objc",v:aL})}}}z.g.push(F)}function u(H){var z=new w.r6,f=H._type;
if(f=="PCrv"){var D=H.Crvs.Data,n=[],L=[];for(var q=0;q<D.length;q++){var a=D[q];if(a.length%3!=1){a=a.slice(1,a.length-1)}for(var F=0;
F<a.length;F++){var A=a[F],T=A[2];if(T!=0)n.push(F==0?"M":"C");L.push(A[0],A[1])}}z.u=l.H.Ah({t:L,C:n},!0)}else{var P=H.ShpB,Y=H.Shpe,Q=Y._type,o=P[2]-P[0];
if(Q=="ShpE"){z.u=l.q.eF.cP(P[0],P[1],P[2]-P[0],P[3]-P[1])}else if(Q=="ShNR"){var I=[0,0,0,0];if(Y.CTyp){I=Y.ShCR.slice(0);
for(var q=0;q<4;q++)I[q]*=P[2]-P[0]}z.u=l.q.eF.Rect(P[0],P[1],P[2]-P[0],P[3]-P[1],I)}else if(Q=="ShpT"){z.u=l.H.Ah({C:["M","L","L","Z"],t:[P[0],P[3],P[2],P[3],P[0]+o*.5,P[1]]},!0)}else if(Q=="ShTz"){z.u=l.H.Ah({C:["M","L","L","L","Z"],t:[P[0]+o*Y.PosL,P[1],P[0]+o*Y.PosR,P[1],P[2],P[3],P[0],P[3]]},!0)}else{console.log("--",Q);
z.u=l.q.eF.Rect(P[0],P[1],P[2]-P[0],P[3]-P[1],[0,0,0,0])}}return z}function r(H,z){var f=H.Grad,D=f.Cols;
z.Type.v.GrdT=H.Type==0?"Lnr":"Rdl";var n=[];for(var q=0;q<D.length;q++){var L=v(D[q]);n.push([f.Posn[q][0],L])}z.Grad.v.Intr.v=0;
l.X.rp(n,z.Grad.v);var a=f.Posn,F=new aS(a[0][0],a[0][1]),A=new aS(a[1][0],a[1][1]);if(H.Type==0)F=new aS((F.x+A.x)/2,(F.y+A.y)/2);
l.X.jR(F,A,new bq(0,0,1,1),z)}function k(H){var z=v(H);return{t:"Objc",v:l.X.M1({I:z[0]*255,z:z[1]*255,S:z[2]*255})}}function v(H){var z=H._col,f=H._type;
if(f=="HSLA"){var D=l.kq(z[0],z[1],z[2]);return[D.I,D.z,D.S,z[3]]}else if(f=="RGBA")return z;else if(f=="CMYK"){var n=1-z[3];
return[(1-z[0])*n,(1-z[1])*n,(1-z[2])*n]}else if(f=="GRAY")return[z[0],z[1],z[2]];else{console.log(z);
throw f}}function e(H,z,f){var D=H.Frmt,I="";if(D!=0&&D!=6)throw D;var n=H.BmpW,L=H.BmpH,a=D==0?4:1,F=Math.ceil(n/256),A=Math.ceil(L/256),T=new bq(0,0,F,A),P=new bq;
for(var q=0;q<a;q++){var Y=new Uint8Array(H["Sta"+(q+1)]),Q=l.cg(Y,T);P=P.j3(Q)}var o=[];for(var q=0;
q<a;q++){var Y=new Uint8Array(H["Sta"+(q+1)]),c=l.U(P.Z());l.Ju(Y,T,c,P);o[q]=[];for(var y=0;y<c.length;
y++)o[q][y]=c[y];I+=JSON.stringify(o[q])+","+JSON.stringify(H["Idx"+(q+1)])+","}if(f[I]==null){var i=P.e*256,d=P.n*256,V=new Array(a);
for(var q=0;q<a;q++){var Y=V[q]=new Uint8Array(i*d);j(Y,H["Idx"+(q+1)],o[q],z,i,d)}var R=l.U(i*d*4);
if(D==0)l.t5({I:V[0],z:V[1],S:V[2],AQ:V[3]},R);else{R.fill(255);l.Dc(V[0],R)}var G=new bq(0,0,i,d),M={buffer:R,rect:G};
l.LG(M);f[I]=[M.rect,M.buffer]}var Q=f[I][2]=f[I][0].clone();Q.x+=P.x*256;Q.y+=P.y*256;return f[I]}function j(H,z,f,D,n,L){var a=0,F=n>>>8,A=L>>>8;
for(var T=0;T<A;T++)for(var P=0;P<F;P++){var Y=P*256,Q=T*256,o=T*F+P,I=Q*n+Y,c=f[o];if(c<=1)$(H,I,0,n,256,256);
else if(c==2)$(H,I,4294967295,n,256,256);else if(c==4){var y=z[a];a++;var i=D[y.Data.DatI],d=y.Rect;
if(d==null)d=[0,0,256,256];$(H,I,0,n,256,256);U(H,(Q+d[1])*n+Y+d[0],i,d[1]*256+d[0],n,256,d[2]-d[0],d[3]-d[1])}else console.log(c)}}function $(H,z,f,D,n,L){var a=z+D*L;
for(;z<a;z+=D){var F=z+n;for(var A=z;A<F;A++){H[A]=f}}}function U(H,z,f,D,n,L,a,F){var A=z+n*F,T=D+L*F;
for(;z<A&&D<T;z+=n,D+=L){for(var q=0;q<a;q++)H[z+q]=f[D+q]}}return Z}();function il(){}il.FK=function(Z,m){var S=il,B=dk.parse(Z),u=0;
if(B.pages.length>1)console.log(B.pages.length,"pages");var C=[],r=new bq;for(var k=0;k<B.pages.length;
k++){var v=B.pages[k],e=v.layers,j=S.su(e,k),U=!1;if(j.Z()>8e3*8e3||j.e>3e4||j.n>3e4){S.aN(e,!0);var $=S.su(e,k);
if($.Z()>=j.Z())S.aN(e,!1)}j=S.su(e,k);for(var H=0;H<e.length;H++){var z=e[H];if(S.xS(z)=="artboard")U=!0}if(!U){console.log("no artboard");
var f={};for(var D in v)f[D]=v[D];f._class="group";v.layers=[f]}C.push(j.clone());if(j.Ov())continue;
j.x=0;j.y=u;u+=j.n+200;r=r.j3(j)}var n={};if(B.foreignSymbols)for(var q=0;q<B.foreignSymbols.length;
q++){var L=B.foreignSymbols[q].symbolMaster;n[L.symbolID]={RV:L}}S.F_(B.pages,n,m);for(var a in n){var z=n[a].RV,F=S.KW(z.layers)}var A=il.KG(r,8192*8192);
m.kw=!0;m.e=Math.round(r.e/A);m.n=Math.round(r.n/A);m.buffer=l.U(m.e*m.n*4);m.V6(B.pages[0].layers.length);
m.E1={};m.kt=[];u=0;for(var k=0;k<B.pages.length;k++){var T=B.pages[k],j=C[k],P=new ht(A,0,0,A,j.x,j.y-u);
S.yc(T.layers,m,P,B,n,{},[]);u+=j.n+200}delete m.E1;delete m.kt;if(A!=1)alert("File scaled down "+A+"x");
m.ari()};il.a2Z=0;il.xS=function(Z){return Z._class?Z._class:Z.$class};il.KG=function(Z,m){var S=1;while(Math.round(Z.e/S)*Math.round(Z.n/S)>m||Math.max(Math.round(Z.e/S),Math.round(Z.n/S))>3e4)S++;
if(S!=1&&!window.confirm("Your image is quite large ("+Z.e+" x "+Z.n+" px).\n"+"Press OK to scale it down "+S+"x, or Cancel to keep the size."))S=1;
return S};il.su=function(Z,m){var S=[],B=il;for(var C=0;C<Z.length;C++){var u=Z[C],r=B.kN(u.frame);if(m==0||B.xS(u)=="artboard")S.push(r)}return l.rect.at(S)};
il.aN=function(Z,m){var S=[],B=il;for(var C=0;C<Z.length;C++){var u=Z[C],r=B.kN(u.frame);r.e+=150;r.n+=150;
S.push(r)}var k=l.rect.at(S);l.rect.aaw(S,m);var v=l.rect.at(S);if(v.Z()*1.5<k.Z()||k.e>3e4&&v.e<=3e4||k.n>3e4&&v.n<=3e4){alert("Re-arranging artboards");
for(var C=0;C<Z.length;C++){var e=S[C],u=Z[C],j=u.frame;j.x=e.x;j.y=e.y}}};il.F_=function(Z,m,S){var B=il;
for(var C=0;C<Z.length;C++){var u=Z[C],r=B.xS(u);if(["page","artboard","group"].indexOf(r)!=-1)B.F_(u.layers,m,S);
else if(r=="symbolMaster")m[u.symbolID]={RV:u}}};il.KW=function(Z){var m=il;for(var S=0;S<Z.length;S++){var B=Z[S],C=m.xS(B),u=null;
if(["page","artboard","group"].indexOf(C)!=-1)u=m.KW(B.layers);if(C=="symbolMaster"||C=="symbolInstance")u=B;
if(u!=null)return u}return null};il.yc=function(Z,m,S,B,C,u,r){var k=il,v=[];for(var e=0;e<Z.length;
e++){var j=Z[e],$=j.frame?k.kN(j.frame):null,U=j.style,n="",P=null,Y=!1;if(U==null){console.log("no styles")}var H=k.Gy(j,S),z=k.xS(j),f=z=="shapeGroup"||z=="shapePath"||z=="rectangle"||z=="oval"||z=="triangle"||z=="polygon",D=["page","artboard","group"].indexOf(z)!=-1;
if(z=="shapeGroup"){for(var q=0;q<j.layers.length;q++)if(k.xS(j.layers[q])=="shapeGroup")D=!0}var L=j.exportOptions;
if(L){var a=L.exportFormats;if(a==null)a=L.sizes;if(z!="artboard"&&(a&&a.length!=0)){var F=a[0].scale}}var A=m.AB();
A.p0(j.isVisible);var T=j.name;if(!(typeof T=="string"))T=z;A.Se(n+T.slice(0,250));if(U!=null)P=k.aem(B,m,U,$,H,A.getName(),f||z=="artboard"||D);
if(z=="rectangle"&&U&&U.fills&&U.fills[0]){var Q=U.fills[0];if(Q.fillType==4&&Q.patternFillType>1&&Q.image!=null)Y=!0}if(j.shouldBreakMaskChain){while(v.length!=0)k.Bz(v.pop(),m)}if(D){A.add.lsct=j.layerListExpandedType==2?jf.AH:jf.aa;
A.E4="pass";A.Kl=24;A.p0(j.isVisible);m.g.push(m.iI());if(z=="artboard"){var o=$.clone(),I=H.l_();o.x=-Math.floor(H.s9/I);
o.y=-Math.floor(H.ku/I);o.e=Math.floor(o.e/I);o.n=Math.floor(o.n/I);A.Ea(o);var c=j.backgroundColor,y=c?{I:255*c.red,z:255*c.green,S:255*c.blue}:{I:255,z:255,S:255};
A.add.artb.Clr={t:"Objc",v:l.X.M1(y)};A.add.artb.artboardBackgroundType={t:"long",v:4}}k.yc(j.layers,m,H,B,C,u,r)}else if(f&&!Y){A.add.vmsk=new w.r6;
A.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));A.add.vstk.strokeEnabled.v=!1;A.add.vogk=[];var i=P!=null&&P.frameFXMulti.v.length==1,d=U?U.fills:null,V=U?k.qH(B,d,$,H,A.getName(),m,k.Kd(r,j.do_objectID+"_image")):[];
if(V.length==0){if(i)A.add.vstk.fillEnabled.v=!1;else A.add.iOpa=0;A.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.X.M1({I:0,z:0,S:0})}}}else{var R=V[0],G=null,M=null;
if(R.type=="SoFi"){G="SoCo";M=fp.qc}if(R.type=="GrFl"){G="GdFl";M=fp.mc}if(R.type=="patternFill"){G="PtFl";
M=fp.G3}if(G!=null){A.add[G]={classID:"null"};for(var q=0;q<M.length;q++){var O=M[q];A.add[G][O]=R.k.v[O]}var K=R.k.v.Opct.v.val;
if(i&&K==0)A.add.vstk.fillEnabled.v=!1;else A.add.iOpa=Math.round(255*K/100)}}A.Kl|=16;A.add.vmsk.u=k.in(j.layers?j.layers:[j],j.layers?H:S,A.add.vogk);
var W=U?U.blur:null;if(W&&W.isEnabled&&W.type<=1)A.add.vmsk.hC=W.radius;if(A.add.vmsk.u.length==2){console.log("shape with no content:",A.getName())}if(i){var t=P.frameFXMulti.v[0].v,X=A.add.vstk,h=U.borders[0];
P.frameFXMulti.v=[];aK.amT(t,X);var b=U.borderOptions,E=U.miterLimit;if(b){var f0=b.dashPattern;X.strokeStyleLineCapType.v.strokeStyleLineCapType=fp.Rw.Fa[b.lineCapStyle];
X.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fp.Rw.join[b.lineJoinStyle];if(f0)X.strokeStyleLineDashSet.v=aK.IL(f0,1/t.Sz.v.val);
if(E!=null)X.strokeStyleMiterLimit.v=E}}A.T3(m)}else if(z=="bitmap"||Y){if(!Y&&j.image==null)continue;
var ay=Y?U.fills[0]:null,p=Y?ay.image.bdata:j.image.bdata,eo=m.tv(p,A.getName(),0,0);eo.Kl=A.Kl;A=eo;
var W=U?U.blur:null,co=U?U.colorControls:null;if(W||co){A.add.SoLd.filterFX=bS.cL();m.gq({id:A.add.SoLd.placed.v,rect:new bq,buffer:l.U(1),v:new w.Ga});
var d=A.add.SoLd.filterFX.v.filterFXList.v;if(W){var c5=bS.Er("GsnB",{});c5.v.enab.v=W.isEnabled;c5.v.Fltr.v.Rds.v.val=W.radius;
d.push(c5)}if(co){var he=co.brightness,hU=co.contrast,aB=co.hue,ep=co.saturation;if(aB!=0||ep!=1){var c5=bS.Er("hue2",{});
c5.v.enab.v=co.isEnabled;iL.$H(c5.v.Fltr.v,0,[Math.round(aB*180/Math.PI),Math.round((ep-1)*100),0]);
d.push(c5)}if(he!=0||hU!=1){var c5=bS.Er("brit",{});c5.v.enab.v=co.isEnabled;hU=hU-1;if(hU>0)hU/=2;var aO=c5.v.Fltr.v;
aO.Brgh.v=Math.round(he*255);aO.Cntr.v=Math.round(hU*255);aO.useLegacy.v=!0;d.push(c5)}}}if(Y){var f$=ay.patternFillType;
if(f$==3){var fo=A.rect.e/A.rect.n,bb=$.e/$.n;if(fo<bb){H.translate(-($.e*(1-fo/bb))/2,0);H.scale(bb/fo,1)}else{H.translate(0,-($.n*(1-bb/fo))/2);
H.scale(1,fo/bb)}}}$.x=$.y=0;var jl=l.H.ez($).t;H.Yy();l.H.A(jl,H,jl);A.add.SoLd.Trnf=g.Q.T5(jl);A.add.SoLd.nonAffineTransform=g.Q.T5(jl);
A.l8(m,!1)}else if(z=="text"){if(j.attributedString==null)continue;var e0=H.clone(),gI,d4,aL=0;e0.Yy();
e0.AQ=e0.uw=Math.min(e0.AQ,e0.uw);A.add.lnsr="rend";A.add.TySh=e6.WL(0,0);A.add.TySh.sq=new bq(0,0,$.e,$.n);
A.add.TySh.A=e0;var ab=j.attributedString;if(ab.archivedAttributedString)ab=ab.archivedAttributedString;
var c3=ab.NSString;if(c3==null)c3=ab.string;if(c3==null)c3="";if(c3["NS.string"])c3=c3["NS.string"];
if(u[j.do_objectID]!=null)c3=u[j.do_objectID];var gr=k.Kd(r,j.do_objectID+"_stringValue");if(gr)c3=gr.value;
if(ab.attributes!=null){gI=[];d4=[];var a2=ab.attributes;for(var q=0;q<a2.length;q++){gI.push(a2[q].length,q);
d4.push(a2[q].attributes)}}else if(ab.NSAttributeInfo==null){gI=[c3.length,0];d4=[ab.NSAttributes]}else{gI=ab.NSAttributeInfo["NS.data"];
d4=ab.NSAttributes;gI=il.asq(gI,d4)}for(var q=0;q<gI.length;q+=2)aL+=gI[q];if(aL!=c3.length){while(aL>c3.length){gI[gI.length-2]--;
aL--;if(gI[gI.length-2]==0){gI.pop();gI.pop()}}gI[gI.length-2]+=c3.length-aL}c3=c3.replace(/\u2028/g,"\n");
c3=c3.replace(/\u2029/g,"\n");c3=c3.replace(/\r/g,"\n");var el=A.add.TySh.e7;e6.Hd(el,0,c3);if(c3!=""){var iJ=j.textBehaviour,aC=U.textStyle,cr=aC?aC.verticalAlignment:0,bN=k.a3R(el,gI,d4,c3),I=e0.l_(),hf=e6.yH(el,0,1),jG=0;
if(hf.n1.Font){var cV=hf.wb[hf.n1.Font].Name;if(cV=="FontAwesome"||cV=="Ionicons")bN*=.87}var ez=hf.n1.AutoLeading?0:hf.n1.Leading*.6,jw=Math.max(bN,ez)*I,dw=$.e,cb=$.n;
if(iJ==0){e6.xx(el,0);var cz=e6.ue(hf.Q0);if(cz==1)jG=dw*I;if(cz==2)jG=dw*I*.5;if(cr==0)jw*=1;else jw*=.9}else{e6.xx(el,1);
e6.Y8(el,[0,0,Math.round(dw),Math.round(cb)]);if(iJ==2&&cr==0)jw=jw*.2;else if(iJ==2&&cr==1){jw=I*.5*(cb-hf.n1.FontSize)}else if(iJ==1&&cr==0)jw=jw*.2;
else jw=jw*.35}A.add.TySh.A.translate(jG,jw)}}else if(z=="symbolInstance"||z=="symbolMaster"){var jq=j.symbolID;
if(u[j.do_objectID])jq=u[j.do_objectID].symbolID;var dU=k.Kd(r,j.do_objectID+"_symbolID");if(dU)jq=dU.value;
if(jq=="")continue;var ge={};for(var O in u)ge[O]=u[O];if(j.overrides)for(var O in j.overrides)ge[O]=j.overrides[O];
var al=r.slice(0);if(j.overrideValues)al=al.concat(j.overrideValues);var a_=C[jq];if(a_==null){console.log("Unknown master master",j.symbolID);
continue}var hc=il.kN(a_.RV.frame),g7=hc.e/$.e,b4=hc.n/$.n,eC=H.clone();eC.scale(g7,b4);A.add.lsct=jf.aa;
A.E4="pass";A.Kl=24;A.p0(j.isVisible);m.g.push(m.iI());var cN=a_.RV;if(m.kt.indexOf(cN)==-1){m.kt.push(cN);
k.yc(cN.layers,m,eC,B,C,ge,al);m.kt.pop()}}else if(z=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+z,j);continue}if(U&&U.contextSettings){var i7=U.contextSettings,gC=i7.blendMode;
if(gC<k._W.length){A.E4=d1.WJ[d1.FI.indexOf(k._W[gC])];if(D&&A.E4=="norm")A.E4="pass"}A.opacity=Math.round(A.opacity*i7.opacity)}if(P!=null){A.add.lmfx=P}m.g.push(A);
if(j.hasClippingMask&&Z.length>1){v.push(A);m.g.push(m.iI())}}while(v.length!=0)k.Bz(v.pop(),m)};il.Kd=function(Z,m){for(var q=0;
q<Z.length;q++)if(Z[q].overrideName.startsWith(m))return Z[q]};il.asq=function(Z,m){var S=0,B=[];while(S+1<Z.length){var C=Z[S];
S++;if(C>127){C+=128*(Z[S]-1);S++;if(Z[S-1]>127){C+=128*(Z[S]-1);S++}}var u=Z[S];S++;B.push(C,u)}return B};
il.a3R=function(Z,m,S,B){var C=il,u=0,j=0,$=0;for(var q=0;q<B.length;q++){var r=B.charCodeAt(q),k=1473<=r&&r<=1479||1488<=r&&r<=1514||1520<=r&&r<=1524,v=1569<=r&&r<=1594||1600<=r&&r<=1749;
if(k||v)u++}var e=u>B.length/2;for(var q=0;q<m.length;q+=2){var U=m[q],T=14,P="DejaVuSans";if(U==0)continue;
var H=m[q+1],z=S[H],D=e6.yH(Z,j,j+U-1),n=z.NSColor;if(n==null){var n=z.MSAttributedStringColorDictionaryAttribute;
if(n==null)n=z.MSAttributedStringColorAttribute;if(n==null)n="0 0 0";else n=[n.red,n.green,n.blue].join(" ")}else if(C.xS(n)=="MSArchivedColor")n=n.dr+" "+n.dg+" "+n.db;
else if(n.NSRGB){n=n.NSRGB;n=x.aD(n,0,n.length-1)}else if(n.NSCMYK){n=n.NSCMYK;n=x.aD(n,0,n.length-1);
n=n.split(" ").map(parseFloat);var L=1-n[0],a=1-n[1],F=1-n[2],A=1-n[3];n=L*A+" "+a*A+" "+F*A}else if(n.NSWhite){n="1 1 1"}n=n.split(" ");
D.n1.FillColor={Type:1,Values:[1,parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2])]};var Y=z.MSAttributedStringFontAttribute;
if(z.NSFont){T=z.NSFont.NSSize;P=z.NSFont.NSName}else if(Y){if(Y.attributes){Y=Y.attributes;T=Y.size;
P=Y.name}else{var Q=Y.NSFontDescriptorAttributes;if(Q==null)Q=Y.UIFontDescriptorAttributes;Y=Q;T=Y.NSFontSizeAttribute;
P=Y.NSFontNameAttribute}if(P==null)P="DejaVuSans"}var $=Math.max($,T);D.n1.FontSize=Math.round(T);e6.VR(D,P);
var o=z.NSKern;if(o==null)o=z.kerning;if(o!=null)D.n1.Tracking=Math.round(1e3*o/T);if(z.NSUnderline!=null)D.n1.Underline=z.NSUnderline>0;
var I=z.NSStrikethrough;if(I==null)I=z.strikethroughStyle;if(I!=null)D.n1.Strikethrough=I>0;if(z.MSAttributedStringTextTransformAttribute==1)D.n1.FontCaps=2;
var c=z.NSParagraphStyle;if(c==null)c=z.paragraphStyle;if(c){var y=c.paragraphSpacing;if(y!=null){D.Q0.SpaceAfter=y}var i=c.NSAlignment;
if(i==null)i=c.alignment;if(i!=null){var d=0;if(!1){}else if(i==1)d=1;else if(i==2)d=2;else if(i==4)d=0;
else{d=i;console.log("unknown align",i)}if(e&&d<2)d=1-d;D.Q0.Justification=d}var V=c.NSMinLineHeight;
if(V==null)V=c.minimumLineHeight;if(V!=null){D.n1.AutoLeading=!1;D.n1.Leading=V}}D.Q0._Direction=e?1:0;
e6.rj(Z,j,j+U,D);j+=U}return $};il.aem=function(Z,m,S,B,C,u,r){var k=il,v=JSON.parse(fp.default),e=!1;
for(var q=0;q<fp.order.length;q++)v[fp.lg[q]]={t:"VlLs",v:[]};var j=S.fills,$=k.qH(Z,j,B,C,u,m);for(var U=0;
U<2;U++){var H=S[["shadows","innerShadows"][U]];if(H==null)continue;var z=["DrSh","IrSh"][U],f=fp.lg[fp.order.indexOf(z)];
for(var q=0;q<H.length;q++){var D=H[q];if(!D.isEnabled)continue;if(D.contextSettings.opacity==0||D.color.alpha==0)continue;
var n=JSON.parse(fp.kr[fp.order.indexOf(z)]);v[f].v.unshift({t:"Objc",v:n});e=!0;n.Clr.v=k.ON(D.color);
n.blur.v.val=Math.round(D.blurRadius/C.l_());var L=C.clone();L.s9=L.ku=0;L.Yy();var a=L.xf(new aS(D.offsetX,D.offsetY)),F=Math.sqrt(a.x*a.x+a.y*a.y);
n.Dstn.v.val=Math.round(F);n.lagl.v.val=Math.round(Math.atan2(a.y,-a.x)*(180/Math.PI));if(n.layerConceals)n.layerConceals.v=$.length!=0;
k.dp(D,n)}}var A=S.borders;if(A!=null&&($.length==0||S.blur==null||!S.blur.isEnabled))for(var q=0;q<A.length;
q++){var T=A[q];if(!T.isEnabled)continue;var n=JSON.parse(fp.kr[fp.order.indexOf("FrFX")]),f=fp.lg[fp.order.indexOf("FrFX")];
v[f].v.unshift({t:"Objc",v:n});e=!0;n.Clr.v=k.ON(T.color);if(T.fillType!=0&&T.gradient){var P=k.JT(T.gradient,B,C,u),Y=["Type","Angl","Ofst","Scl"];
for(var q=0;q<Y.length;q++)n[Y[q]]=P[Y[q]];n.Grad.v=P.Grad.v;n.PntT.v.FrFl="GrFl"}n.Sz.v.val=T.thickness/C.l_();
n.Styl.v.FStl=["CtrF","InsF","OutF"][T.position];k.dp(T,n)}for(var q=r?1:0;q<$.length;q++){var Q=$[q],f=fp.lg[fp.order.indexOf(Q.type)];
v[f].v.unshift(Q.k);e=!0}return e?v:null};il.qH=function(Z,m,S,B,C,u,r){if(m==null)return[];var k=il,v=[];
for(var q=0;q<m.length;q++)if(m[q].isEnabled)v.push(m[q]);m=v;var e=[];for(var q=0;q<m.length;q++){var j=m[q],$=null,U=null;
if(j.fillType==0){$="SoFi";var H=JSON.parse(fp.kr[fp.order.indexOf("SoFi")]);U={t:"Objc",v:H};U.v.Clr.v=k.ON(j.color)}else if(j.fillType==1){$="GrFl";
U={t:"Objc",v:k.JT(j.gradient,S,B,C)}}else if(j.fillType==4&&j.image!=null){var z=j.image;if(r)z=r.value;
var f=e2.SL(z.bdata.buffer);if(f!=null&&f!="pdf"&&f!="eps"){var D,T=0,P=0,Y=0;if(u.E1[z.key])D=u.E1[z.key];
else{var n=e2.Vh(f).af(z.bdata)[0],L=n.cR.clone();D={};D.id=fl.Qm()+"-d71c-11e5-b1ae-a548a96e5f9f";D.name="someImage";
D.Pg=[new Uint8Array(n.data),L];u.hg(D);u.E1[z.key]=D}var a=D.Pg[1],H=JSON.parse(fp.kr[fp.order.indexOf("patternFill")]);
$="patternFill";U={t:"Objc",v:H};var F=j.patternFillType,A=j.patternTileScale;H.Algn.v=!0;H.Ptrn.v.Idnt.v=D.id;
if(F==0){T=A*a.e/Math.min(a.e,a.n);P=-B.s9;Y=-B.ku}else{T=Math.max(S.e/a.e,S.n/a.n);P=-B.s9-(a.e*T-S.e)/2;
Y=-B.ku-(a.n*T-S.n)/2}H.Scl.v.val=100*T*(1/B.l_());H.phase.v.Hrzn.v=Math.round(P/B.l_());H.phase.v.Vrtc.v=Math.round(Y/B.l_())}}else if(j.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",j.fillType);
if($!=null){k.dp(j,U.v);e.push({type:$,k:U})}}return e};il.acS=function(Z){var m=il,S=new bq(0,0,1,1);
Z=Z.slice(0);while(!0){var B=!1;for(var q=0;q<Z.length-1;q++){var C=Z[q],u=Z[q+1],r=null,k=C.contextSettings;
if(C.fillType==0&&(k==null||k.opacity==1&&k.blendMode==0)&&C.color.alpha==1){var v="norm",e=1,k=u.contextSettings;
if(k){e=k.opacity;v=d1.Pi(m._W[k.blendMode])}if(u.fillType==0){r=JSON.parse(JSON.stringify(u));m.Wz(r.color,C.color,r.color,S,v,e)}if(u.fillType==1){r=JSON.parse(JSON.stringify(u));
var j=r.gradient.stops;for(var $=0;$<j.length;$++)m.Wz(j[$].color,C.color,j[$].color,S,v,e)}if(r!=null&&r.contextSettings){var k=r.contextSettings;
k.opacity=1;k.blendMode=0}}if(r!=null){Z.splice(q,0,r);B=!0;break}}if(!B||Z.length<2)break}return Z};
il.Wz=function(Z,m,S,B,C,u){var r=il,k=l.U(4);r.qv(Z,k);var v=l.U(4);r.qv(m,v);l.a.qn(C,k,B,v,B,B,u);
r.auc(v,S)};il.qv=function(Z,m){m[0]=255*Z.red;m[1]=255*Z.green;m[2]=255*Z.blue;m[3]=255*Z.alpha};il.auc=function(Z,m){m.red=Z[0]/255;
m.green=Z[1]/255;m.blue=Z[2]/255;m.alpha=Z[3]/255};il.Bz=function(Z,m){Z=Z.clone();Z.Kl=24;Z.Se("Mask by "+Z.getName());
m.g.push(Z);Z.add.lsct=jf.AH;Z.add.lyid=m.Kk();delete Z.add.lmfx;delete Z.add.SoCo;delete Z.add.GdFl;
delete Z.add.PtFl;delete Z.add.iOpa;if(Z.add.vmsk)Z.add.vmsk.ZZ=!0;Z.T3(m);if((Z.Kl&16)==16)Z.Kl-=16;
if((Z.Kl&2)==2)Z.Kl-=2;Z.E4="pass";Z.opacity=255};il._W="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
il.JT=function(Z,m,S,B){S=S.clone();S.Yy();S.s9=S.ku=0;var C=S.l_(),U=0,H=0;S.scale(1/C,1/C);var u=il,r=JSON.parse(fp.kr[fp.order.indexOf("GrFl")]),k=r.Grad.v;
k.Intr.v=0;if(Z==null)return r;var v=Z.gradientType,e=u.Kc(Z.from),j=u.Kc(Z.to);e.offset(-.5,-.5);j.offset(-.5,-.5);
e=S.xf(e);j=S.xf(j);var $=Math.atan2(-(j.y-e.y),j.x-e.x);r.Type.v.GrdT=["Lnr","Rdl","Angl"][v];r.Scl.v.val=100*aS.qa(e,j);
if(v==0){r.Angl.v.val=180/Math.PI*$;r.Scl.v.val=100*aS.qa(e,j);U=(e.x+j.x)/2;H=(e.y+j.y)/2}if(v==1){r.Scl.v.val=200*aS.qa(e,j);
U=e.x;H=e.y}if(v==2){r.Angl.v.val=180/Math.PI*($-Math.PI/2)}var z=r.Ofst.v;z.Hrzn.v.val=U*100;z.Vrtc.v.val=H*100;
var f=[];for(var q=0;q<Z.stops.length;q++){var D=Z.stops[q],n=D.color;f.push([D.position,n?[n.red,n.green,n.blue]:[0,0,0],n.alpha])}l.X.rp(f,k);
return r};il.dp=function(Z,m){var S=il,B=1,C=Z.contextSettings;if(C!=null){m.Md.v.BlnM=S._W[C.blendMode];
B*=C.opacity}else m.Md.v.BlnM=S._W[0];m.enab.v=Z.isEnabled;if(m.uglg!=null)m.uglg.v=!1;if(Z.color!=null)B*=Z.color.alpha;
m.Opct.v.val=Math.round(B*100)};il.ON=function(Z){return l.X.M1(Z?{I:Z.red*255,z:Z.green*255,S:Z.blue*255}:{I:0,z:0,S:0})};
il.in=function(Z,m,S){var B=il,C=[{type:6},{type:8,all:0}];for(var u=0;u<Z.length;u++){var r=Z[u],k=r.booleanOperation,v=0,e=r._class,f=!1;
if(e=="group"||e=="text"||e=="symbolInstance"||e=="slice"){console.log(e+" inside ShapeGroup");continue}if(k==-1)v=0;
else if(k==0)v=1;else if(k==1)v=2;else if(k==2)v=3;else if(k==3)v=0;if(u==0)v=1;var j=il.kN(r.frame),$=B.Gy(r,m),U=r.path?r.path:r,H=[{type:0,length:0,QZ:v,Fw:2,Mm:0,oz:0}],z=U.points;
for(var q=0;q<z.length;q++){var D=z[q],n=B.Kc(D.curveTo),L=B.Kc(D.point),a=B.Kc(D.curveFrom);f=f||D.hasCurveFrom&&!a.Qu(L)||D.hasCurveTo&&!n.Qu(L)}var F=[];
if(!f){var A=[],gY=z.length;if(gY==0)continue;for(var q=0;q<gY;q++){F[q]=z[q].cornerRadius;var D=B.Kc(z[q].point);
A.push(D.x,D.y)}$.scale(1/j.e,1/j.n);$.Yy();l.H.A(A,$,A);H=l.q.eF.E0(A,F).slice(2);H[0].QZ=v}else{var T=z.length;
H[0].length=T;for(var q=0;q<T;q++){var D=z[q],P=D.curveMode,Y=B.Kc(D.point);H[1+q]={type:P==2||P==4?1:2,H0:D.hasCurveTo?B.Kc(D.curveTo):Y.clone(),M:Y,XX:D.hasCurveFrom?B.Kc(D.curveFrom):Y.clone()}}$.scale(1/j.e,1/j.n);
$.Yy();l.q.uA(H,$);var F=[];for(var q=0;q<T;q++){var D=z[q],P=D.curveMode,Q=D.cornerRadius;if(P==1&&Q!=0)F.push(Q);
else F.push(0)}}if(!U.isClosed)for(var q=0;q<H.length;q++)H[q].type+=3;C=C.concat(H);var o=l.Ka.Td(),I=B.xS(r);
if($.S==0&&$.mw==0){var c=$.s9,y=$.ku,i=c+$.AQ,d=y+$.uw,V=[c,y,i,d];if(I=="rectangle"&&F.length==4)o=l.Ka.rP(2,V,F);
if(I=="oval")o=l.Ka.rP(5,V)}S.push(o)}return C};il.Gy=function(Z,m){var S=m.clone(),B=Z.frame?il.kN(Z.frame):null;
if(B)S.translate(-B.x-B.e/2,-B.y-B.n/2);if(Z.isFlippedHorizontal)S.scale(-1,1);if(Z.isFlippedVertical)S.scale(1,-1);
S.rotate(-Z.rotation*(Math.PI/180));if(B)S.translate(B.e/2,B.n/2);return S};il.Kc=function(Z){Z=Z.slice(1,Z.length-1).split(",");
return new aS(parseFloat(Z[0]),parseFloat(Z[1]))};il.kN=function(Z){return new bq(Z.x,Z.y,Z.width,Z.height)};
il.ZY=function(Z){return{_class:"rect",constrainProportions:!1,x:Z.x,y:Z.y,width:Z.e,height:Z.n}};function hz(){}hz.FK=function(Z,m){var S=Date.now(),B=hz,C=UZIP.parse(Z),u=JSON.parse(x.QN(C.manifest)),r=JSON.parse(x.QN(C["resources/graphics/graphicContent.agc"])).resources,k=[],v=[],e=u.children;
for(var q=0;q<e.length;q++){var j=e[q];if(j.name=="artwork"){var $=j.children;for(var U=0;U<$.length;
U++){var H=$[U],z=JSON.parse(x.QN(C["artwork/"+H.path+"/graphics/graphicContent.agc"])),f=z.children;
if(f.length==0){}else if(f.length==1){if(H["uxdesign#bounds"]){H._node=f[0];k.push(H)}}else{var D=f[0],n=D.transform,L=D.shape;
if(L==null)L={x:0,y:0,width:1e3,height:1e3};L=JSON.parse(JSON.stringify(L));if(n){L.x+=n.tx;L.y+=n.ty}H["uxdesign#bounds"]=L;
H._node={type:"artboard",artboard:{children:f}};v.push(H)}}}}if(k.length==0)k=v;var a=[],F=new bq;for(var q=0;
q<k.length;q++){var H=k[q],A=il.kN(H["uxdesign#bounds"]);a.push(A);F=F.j3(A)}var T=il.KG(F,8192*8192);
m.kw=!0;m.e=Math.round(F.e/T);m.n=Math.round(F.n/T);m.buffer=l.U(m.e*m.n*4);m.V6(k.length);var P=new ht(T,0,0,T,F.x,F.y);
m.E1={};for(var q=0;q<k.length;q++){var H=k[q],A=il.kN(H["uxdesign#bounds"]),Y=H._node,Q=P.clone(),o=A.clone(),I=Q.l_();
Q.translate(-A.x,-A.y);o.x=-Math.floor(Q.s9/I);o.y=-Math.floor(Q.ku/I);o.e=Math.floor(o.e/I);o.n=Math.floor(o.n/I);
Q.translate(A.x,A.y);hz.Yf(Y,m,Q,r,C,o);var c=m.g[m.g.length-1];c.Se(H.name);c.Ea(o);if(q!=k.length-1)c.add.lsct=jf.aa}delete m.E1};
hz.hK=function(Z){if(Z==null)return new ht;return new ht(Z.a,Z.b,Z.c,Z.d,Z.tx,Z.ty)};hz.Yf=function(Z,m,S,B,C,u){var r=hz,k=Z.type,v=Z[k],e=Z.style,j=r.hK(Z.transform),z,f="none",D,n="none",L,a;
j.Yy();var $=S.clone();$.concat(j);var U=m.AB(),H=Z.name;U.Se(H?H.slice(0,250):"Layer");if(Z.visible!=null)U.p0(Z.visible);
if(e){z=e.stroke;f=z?z.type:"none";D=e.fill;n=D?D.type:"none";L=e.filters;a=e.clipPath;if(a&&B.clipPaths[a.ref])a=B.clipPaths[a.ref].children;
else a=null;if(e.opacity)U.opacity=Math.round(255*e.opacity);if(n=="solid"&&D.color.alpha)U.opacity=Math.round(U.opacity*D.color.alpha);
if(L){U.add.lmfx=r.acJ(L);for(var q=0;q<L.length;q++)if(L[q].type=="uxdesign#blur"){var F=L[q],A=F.params,T=A.brightnessAmount;
if(T==null)T=0;T=Math.abs(T/100);if((F.visible==null||F.visible==!0)&&A.backgroundEffect)U.opacity=Math.round(U.opacity*(T+(1-T)*A.fillOpacity))}}if(n=="pattern"&&D.pattern.meta.ux.uid=="")n="none"}if(a==null&&Z.meta&&Z.meta.ux&&Z.meta.ux.clipPathResources)a=Z.meta.ux.clipPathResources.children;
if(k=="artboard"||k=="group"){if(a){var P=a[0],Y=P.shape,Q=Y!=null&&Y.type=="rect"&&Y.width*Y.height>1e6;
if(P.type!="text"&&!Q){if(Y){var j=r.hK(P.transform);j.Yy();var o=$.clone();o.concat(j);U.add.vmsk=new w.r6;
U.add.vmsk.u=r.in(Y);o=o.clone();o.Yy();l.q.uA(U.add.vmsk.u,o);U.T3(m)}}else if(!Q)alert("Clipping by text has been ignored")}U.add.lsct=jf.AH;
U.E4="pass";U.Kl=24;if(Z.visible!=null)U.p0(Z.visible);m.g.push(m.iI());var I=v.children,c=D;if(c)c=c.color;
if(c)c=c.value;if(D){if(k=="artboard"&&n=="solid"){U.Ea(new bq(0,0,10,10));U.add.artb.Clr={t:"Objc",v:l.X.M1({I:c.r,z:c.g,S:c.b})};
U.add.artb.artboardBackgroundType={t:"long",v:4}}else{var y=m.AB();y.Se("BACKGROUND");y.Kl|=16;y.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));
y.add.vmsk=new w.r6;y.add.vmsk.u=r.in({type:"rect",x:u.x,y:u.y,width:u.e,height:u.n});r.cU(D,n,$,u,u,y,m,B,C);
y.T3(m);m.g.push(y)}}for(var q=0;q<I.length;q++){hz.Yf(I[q],m,$,B,C,u)}}else if(k=="shape"&&Z.shape.type=="rect"&&(Z.shape.r==null||Z.shape.r==0)&&n=="pattern"&&Math.abs(Z.shape.width/Z.shape.height-D.pattern.width/D.pattern.height)<.01){var i=D.pattern,d=i.meta.ux,V=d.uid,R=C["resources/"+V];
if(R==null){console.log(i);return}var G=m.tv(R,U.getName(),0,0);G.Kl=U.Kl;G.opacity=U.opacity;U=G;var M=l.H.ez(new bq(0,0,i.width,i.height)).t,O=new ht;
O.scale(i.width/Z.shape.width,i.height/Z.shape.height);if(d.offsetX)O.translate(-d.offsetX*i.width,0);
if(d.offsetY)O.translate(0,-d.offsetY*i.height);$.concat(O);$.Yy();l.H.A(M,$,M);U.add.SoLd.Trnf=g.Q.T5(M);
U.add.SoLd.nonAffineTransform=g.Q.T5(M);U.l8(m,!1)}else if(k=="shape"){U.Kl|=16;U.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));
U.add.vmsk=new w.r6;U.add.vmsk.u=r.in(v);var K=l.q.Go(U.add.vmsk.u,null),o=$.clone();o.Yy();l.q.uA(U.add.vmsk.u,o);
var W=l.q.Go(U.add.vmsk.u,null);if(f=="none"){}else{var t=z.color.value,X,h;X="SoFi";var b=JSON.parse(fp.kr[fp.order.indexOf("SoFi")]);
h={t:"Objc",v:b};h.v.Clr.v=l.X.M1({I:t.r,z:t.g,S:t.b});var E=z.align,f0=z.cap;if(E==null)E="center";
var ay=U.add.vstk;ay.strokeEnabled.v=!0;ay.strokeStyleLineWidth.v.val=z.width;if(E)ay.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fp.Rw.Rg[["inside","center","outside"].indexOf(E)];
if(f0)ay.strokeStyleLineCapType.v.strokeStyleLineCapType=fp.Rw.Fa[["butt","round","square"].indexOf(f0)];
var p=["SoFi","GrFl","patternFill"].indexOf(X),eo=[fp.qc,fp.mc,fp.G3][p];ay.strokeStyleContent.v={classID:fp.Rw.lf[0]};
var co=ay.strokeStyleContent.v={classID:fp.Rw.lf[p]};for(var q=0;q<eo.length;q++)co[eo[q]]=h.v[eo[q]]}if(L)for(var q=0;
q<L.length;q++)if(L[q].type=="uxdesign#blur"&&L[q].visible){var c5=L[q];U.add.vmsk.hC=c5.params.blurAmount}r.cU(D,n,$,K,W,U,m,B,C);
U.T3(m)}else if(k=="text"&&Z.text){var he=Z.text,hU=he.frame,aB=e.font,ep=e.textAttributes,j=$.clone(),e0=0;
j.Yy();U.add.lnsr="rend";U.add.TySh=e6.WL(0,0);U.add.TySh.sq=new bq(0,0,100,100);U.add.TySh.A=j;var aO=U.add.TySh.e7,f$=he.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
e6.Hd(aO,0,f$);if(f$!=""){var fo=e6.yH(aO,0,1),bb=aB.postscriptName;if(bb==null)bb=aB.family;e6.VR(fo,bb);
fo.n1.FontSize=Math.round(aB.size);if(D){var t=D.color.value;fo.n1.FillColor={Type:1,Values:[1,t.r/255,t.g/255,t.b/255]}}if(ep){if(ep.paragraphAlign)fo.Q0.Justification=["left","right","center"].indexOf(ep.paragraphAlign);
if(ep.letterSpacing)fo.n1.Tracking=Math.round(ep.letterSpacing);if(ep.lineHeight){fo.n1.AutoLeading=!1;
fo.n1.Leading=Math.round(ep.lineHeight)}}e6.rj(aO,0,f$.length,fo)}var jl=Z.meta.ux.rangedStyles;if(jl)for(var q=0;
q<jl.length;q++){var v=jl[q],gI=Math.min(v.length,f$.length-e0),fo=e6.yH(aO,e0,e0+gI),bb=v.postscriptName;
if(bb==null)bb=v.family;if(bb!=null)e6.VR(fo,bb);var d4=v.textScript,ab=v.underline,c3=v.fontSize,F=v.fill,gr=v.textTransform;
if(d4&&d4!="none")fo.n1.FontBaseline=d4=="superscript"?1:2;if(ab!=null)fo.n1.Underline=ab;if(c3!=null)fo.n1.FontSize=Math.round(c3);
if(gr!=null)fo.n1.FontCaps=gr=="uppercase"?2:0;if(F!=null){var a2=F.value;fo.n1.FillColor={Type:1,Values:[1,(a2>>>16&255)/255,(a2>>>8&255)/255,(a2>>>0&255)/255]}}e6.rj(aO,e0,e0+gI,fo);
e0+=gI}if(hU.type=="area"||hU.type=="autoHeight"){var aL=hU.width,el=hU.height;e6.xx(aO,1);e6.Y8(aO,[0,0,aL,el!=null?el:aL*2])}}else console.log(k,Z);
m.g.push(U)};hz.in=function(Z){var m=Z.type,S=[{type:6},{type:8,all:0}];if(m=="rect"){var B=Z.r,C=Z.x,u=Z.y,r=Z.width,k=Z.height;
S=l.q.eF.Rect(C,u,r,k,B?B:0)}else if(m=="circle"){var B=Z.r;S=l.q.eF.cP(Z.cx-B,Z.cy-B,2*B,2*B)}else if(m=="ellipse"){var v=Z.rx,e=Z.ry;
S=l.q.eF.cP(Z.cx-v,Z.cy-e,2*v,2*e)}else if(m=="path"||m=="compound"){var j=Typr.U.SVGToPath(Z.path);
S=l.H.Ah({C:j.cmds,t:j.crds},!1)}else if(m=="line"){var $=Z.x1,U=Z.x2,H=Z.y1,z=Z.y2;S=l.q.eF.E0([$,H,U,z],0,!0)}else if(m=="polygon"){var f=Z.points,D=[];
for(var q=0;q<f.length;q++)D.push(f[q].x,f[q].y);S=S.concat(l.q.eF.E0(D,0,!1).slice(2))}else console.log(m,Z);
return S};hz.acJ=function(Z){var m=JSON.parse(fp.default);for(var q=0;q<fp.order.length;q++)m[fp.lg[q]]={t:"VlLs",v:[]};
for(var q=0;q<Z.length;q++){var S=Z[q],B=S.type,C=S.params,u=S.visible;if(B=="dropShadow"){var r=fp.lg[fp.order.indexOf("DrSh")],k=JSON.parse(fp.kr[fp.order.indexOf("DrSh")]);
m[r].v.unshift({t:"Objc",v:k});var v=C.dropShadows;if(v.length!=1)throw"e";var e=v[q],j=e.color,$=j.value,U=e.dx,H=e.dy;
k.Clr.v=l.X.M1({I:$.r,z:$.g,S:$.b});k.Opct.v.val=Math.round((j.alpha!=null?j.alpha:1)*100);k.uglg.v=!1;
k.enab.v=u!=null?u:!0;k.lagl.v.val=Math.round(180/Math.PI*Math.atan2(H,-U));k.Dstn.v.val=Math.round(Math.sqrt(U*U+H*H));
k.blur.v.val=Math.round(e.r*2.3)}}return m};hz.cU=function(Z,m,S,B,C,u,r,k,v){var e=hz;if(m=="none"){u.add.vstk.fillEnabled.v=!1;
u.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.X.M1({I:0,z:0,S:0})}}}else{var j,$,U;if(m=="solid"){var H=Z.color.value;
j="SoCo";$=fp.qc;var z=JSON.parse(fp.kr[fp.order.indexOf("SoFi")]);U={t:"Objc",v:z};U.v.Clr.v=l.X.M1({I:H.r,z:H.g,S:H.b})}else if(m=="gradient"){j="GdFl";
$=fp.mc;var z=JSON.parse(fp.kr[fp.order.indexOf("GrFl")]),f=z.Grad.v,F,A,T;f.Intr.v=0;var D=Z[m],n=D.ref?k.gradients[D.ref]:D.meta.ux.gradientResources,L=["linear","radial"].indexOf(n.type),a=n.stops;
z.Type.v.GrdT=["Lnr","Rdl","Angl"][L];if(L==0){var F=new aS(D.x1,D.y1),A=new aS(D.x2,D.y2);F.x=A.x+.5*(F.x-A.x);
F.y=A.y+.5*(F.y-A.y)}else{var F=new aS(D.cx,D.cy),A=new aS(D.cx+D.r,D.cy)}T=C;if(D.units=="objectBoundingBox"){var P=new ht(B.e,0,0,B.n,B.x,B.y);
F=P.xf(F);A=P.xf(A)}var P=e.hK(D.transform);F=P.xf(F);A=P.xf(A);P=S.clone();P.Yy();F=P.xf(F);A=P.xf(A);
l.X.jR(F,A,T,z);var Y=[];for(var q=0;q<a.length;q++){var Q=a[q],o=Q.color,H=o.value,I=o.alpha;if(I==null)I=1;
Y.push([Q.offset,[H.r/255,H.g/255,H.b/255],I])}l.X.rp(Y,f);U={t:"Objc",v:z}}else if(m=="pattern"){j="PtFl";
$=fp.G3;var z=JSON.parse(fp.kr[fp.order.indexOf("patternFill")]),R,t=1,X=0,h=0,b=1;U={t:"Objc",v:z};
var c=Z[m],y=c.meta.ux,i=y.uid,d=v["resources/"+i].buffer,V=e2.SL(d);if(r.E1[i])R=r.E1[i];else{var G=new bq(0,0,c.width,c.height),M;
if(G.Ov()||V==null){G=new bq(0,0,1,1);M=new ArrayBuffer(4)}else{var O=e2.Vh(V);if(O.iA){var K=new fl;
O.af(d,K);M=K.Jy().buffer}else{var W=O.af(d)[0];M=W.data;G=W.cR}}R={};R.id=fl.Qm()+"-d71c-11e5-b1ae-a548a96e5f9f";
R.name="someImage";R.Pg=[new Uint8Array(M),G];r.hg(R);r.E1[i]=R}var G=R.Pg[1];z.Algn.v=!0;z.Ptrn.v.Idnt.v=R.id;
if(y.scaleBehavior=="cover"){t=b*Math.max(C.e/G.e,C.n/G.n);var E=t;if(y.scale!=null)t*=y.scale;X=C.x-(G.e*t-C.e)/2;
h=C.y-(G.n*t-C.n)/2;if(y.offsetX!=null)X+=y.offsetX*G.e*E;if(y.offsetY!=null)h+=y.offsetY*G.n*E}else if(y.scaleBehavior=="fill"){t=b*Math.min(C.e,C.n)/Math.max(G.e,G.n);
X=C.x-(G.e*t-C.e)/2;h=C.y-(G.n*t-C.n)/2}else throw"Unknown scale behaviour";z.Scl.v.val=100*t;z.phase.v.Hrzn.v=Math.round(X);
z.phase.v.Vrtc.v=Math.round(h)}else console.log(m);if(j!=null){u.add[j]={classID:"null"};for(var q=0;
q<$.length;q++){var f0=$[q];u.add[j][f0]=U.v[f0]}}}};function gj(){}gj.FK=function(Z,m,S){Z=new Uint8Array(Z);
var B=x.QN(Z,0,Z.length),C=new DOMParser,u=C.parseFromString(B,"image/svg+xml"),r=u.getElementsByTagName("style")[0],H=1;
if(r)r=Typr.U.SVG.cssMap(r.textContent);else r={};var k=u.firstChild;while(k.tagName!="svg")k=k.nextSibling;
var v=new bq(0,0,100,100),e=k.getAttribute("viewBox"),j=k.getAttribute("width"),$=k.getAttribute("height");
if(e){var U=gj.yv(e);v.x=U[0];v.y=U[1];v.e=U[2];v.n=U[3]}else if(j!=null||$!=null){v.e=j!=null?parseFloat(j):parseFloat($);
v.n=$!=null?parseFloat($):parseFloat(j)}v=l.H.oq(v);while(S&&Math.max(v.e*H,v.n*H)<Math.max(S[0],S[1]))H++;
while(S==null&&Math.max(v.e,v.n)*H>8192)H*=.5;m.kw=!0;m.e=~~(v.e*H);m.n=~~(v.n*H);m.buffer=l.U(m.e*m.n*4);
var z=new ht(H,0,0,H,-v.x*H,-v.y*H),f={lS:gj.vY(k),a1i:r,kY:0};gj.Ot(u,k.children,m,z,f,new ht,0);if(m.g.length==0){var D=m.AB();
D.Se("Layer");m.g.push(D)}};gj.yv=function(Z){var m=" ";if(Z.indexOf(",")!=-1)m=",";return Z.split(m).map(parseFloat)};
gj.Ot=function(Z,m,S,B,C,u,r){var k=gj,v=["display","opacity","fill-opacity","filter"];for(var e=0;e<m.length;
e++){var j=m[e],$=j.tagName,U=j.getAttribute("id"),H=k.vY(j,C.a1i),f=13,F=1,P="clip-path",Y=null,R=0;
for(var z in C.lS)if(v.indexOf(z)==-1&&H[z]==null)H[z]=C.lS[z];if(H["font-size"])f=k.Mw(H["font-size"],f);
if(j.getAttribute("dx"))B.s9+=k.Mw(j.getAttribute("dx"),f);if(j.getAttribute("dy"))B.ku+=k.Mw(j.getAttribute("dy"),f);
var D=k.Mv(j);D.concat(B);var n=j.getAttribute("visibility"),L=H.display,a=S.AB();if(n=="hidden"||L=="none")a.p0(!1);
a.Se(U!=null?U.split(":::")[0]:"Layer");if(H.opacity)F*=parseFloat(H.opacity);if(H["fill-opacity"]){var A=parseFloat(H["fill-opacity"]);
if(A!=0)F*=A}a.opacity=Math.round(255*F);if(H["mix-blend-mode"]){var T=d1.mZ.indexOf(H["mix-blend-mode"]);
if(T!=-1)a.E4=d1.WJ[T]}if(j.getAttribute(P)==null)P="mask";if(j.getAttribute(P)!=null){var Q=j.getAttribute(P);
Q=Q.slice(4,Q.length-1);var o=Z.getElementById(Q.slice(1));if(o){var I=o.children;Y=S.AB();Y.Se("Clip-Path"+(U?": "+U:""));
Y.add.lsct=r<2?jf.AH:jf.aa;Y.E4="pass";Y.Kl=24;var c=Y.add.vmsk=new w.r6;S.g.push(S.iI());var y=[];if(o.getAttribute(P)){var Q=o.getAttribute(P);
Q=Q.slice(4,Q.length-1);y=Z.getElementById(Q.slice(1)).children}for(var q=0;q<I.length;q++){var i=k.Mv(I[q]);
i.concat(D);var d=k.in(Z,I[q],!1).slice(2);l.q.uA(d,i);c.u=c.u.concat(d)}for(var q=0;q<y.length;q++){var i=k.Mv(I[q]);
i.concat(D);var d=k.in(Z,y[q],!1).slice(2);for(var V=0;V<d.length;V++)if(d[q].QZ!=null)d[q].QZ=3;l.q.uA(d,i);
c.u=c.u.concat(d)}Y.VZ();Y.T3();r++}}if(H.filter&&H.filter!="none"){var G=H.filter,O,K,W,X=!1,h=!1,b=!1;
G=G.slice(5,G.length-1);var M=Z.getElementById(G),t=[0,0,0,.5],E=g.Q.l_(D);if(M)for(var q=0;q<M.children.length;
q++){var f0=M.children[q];if(f0.tagName=="feGaussianBlur"){X=!0;O=parseFloat(f0.getAttribute("stdDeviation"))*E}if(f0.tagName=="feColorMatrix"){var ay=f0.getAttribute("values").split(" ").map(parseFloat);
t=[ay[4],ay[9],ay[14],ay[18]]}if(f0.tagName=="feComposite"){b=!0}if(f0.tagName=="feOffset"){h=!0;var p=f0.getAttribute("dx"),eo=f0.getAttribute("dy");
K=parseFloat(p?p:0)*E;W=parseFloat(eo?eo:0)*E}}if(b||h){var co=b?"IrSh":"DrSh";if(co=="IrSh"){a.add.iOpa=0}var c5=JSON.parse(fp.kr[fp.order.indexOf(co)]);
c5.blur.v.val=Math.round(O*2.4);var he=Math.sqrt(K*K+W*W);c5.uglg.v=!1;c5.Dstn.v.val=Math.round(he);
c5.lagl.v.val=Math.round(Math.atan2(W,-K)*(180/Math.PI));c5.Clr.v=l.X.M1({I:t[0]*255,z:t[1]*255,S:t[2]*255});
c5.Opct.v.val=Math.round(t[3]*100);k.gx(a,fp.lg[fp.order.indexOf(co)],c5)}else if(X)R=O}if($=="g"||$=="a"||$=="svg"||$=="switch"||($=="text"||$=="textPath")&&j.children.length>0){if($=="text")u=k.Iv(j,u);
var hU=j.getAttribute("viewBox"),aB=j.getAttribute("width"),ep=j.getAttribute("height");if(hU&&aB&&ep){var aO=gj.yv(hU),f$=k.Iv(j),fo=new ht;
fo.translate(-aO[0],-aO[1]);fo.scale(parseFloat(aB)/aO[2],parseFloat(ep)/aO[3]);fo.translate(f$.s9,f$.ku);
fo.concat(D);D=fo}var bb=j.children.length,jl=C.lS;C.lS=H;var e0=C.kY;C.kY=Math.max(C.kY,R);var gI=$!="text"&&$!="textPath"||bb>1;
if(gI){var d4=a.tm();a.add.lsct=r<2&&d4&&(U==null||!U.endsWith(":::"))?jf.AH:jf.aa;a.E4="pass";a.Kl=24;
a.p0(d4);S.g.push(S.iI())}k.Ot(Z,j.children,S,D,C,u,r+1);if(gI)S.g.push(a);else{var ab=S.g[S.g.length-1];
ab.opacity=a.opacity;ab.E4=a.E4}C.kY=e0;C.lS=jl}else if($=="use"){var fo=k.Iv(j);fo.concat(D);var c3=k.DF(j),gr=Z.getElementById(c3.slice(1));
if(gr){var jl=C.lS;C.lS=H;if(H.filter)gr.setAttribute("filter",H.filter);k.Ot(Z,[gr],S,fo,C,u,r+1);C.lS=jl}}else if($=="path"||$=="rect"||$=="circle"||$=="ellipse"||$=="polygon"||$=="polyline"||$=="line"){a.Kl|=16;
a.add.vmsk=new w.r6;a.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));a.add.vstk.strokeEnabled.v=!1;
var a2=a.add.vstk,c=a.add.vmsk,aL=H.fill,el=aL=="none"||H["fill-opacity"]&&parseFloat(H["fill-opacity"])==0;
c.u=k.in(Z,j,H["fill-rule"]=="evenodd",el);l.q.uA(c.u,D);var iJ=l.q.Go(c.u),aC=H.stroke,cr=H["stroke-width"],bN=H["stroke-dasharray"],hf=H["stroke-linejoin"],cV=H["stroke-linecap"],ez=H["paint-order"];
if(aC==null||aC=="none"||aC=="null"){}else{var jG=k.H3(Z,aC,D,iJ),jw=["SoFi","GrFl","patternFill"].indexOf(jG.type),dw=jG.k.v.Opct.v,jq=1;
if(dw.val!=100){a.opacity=Math.round(a.opacity*dw.val/100);dw.val=100}var cb=[fp.qc,fp.mc,fp.G3][jw],cz=a2.strokeStyleContent.v={classID:fp.Rw.lf[jw]};
for(var q=0;q<cb.length;q++)cz[cb[q]]=jG.k.v[cb[q]];cr=cr?parseFloat(cr):1;if(ez&&ez.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){jq=2;
cr/=2}a2.strokeEnabled.v=!0;if(hf)a2.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fp.Rw.join[["miter","round","bevel"].indexOf(hf)];
if(cV)a2.strokeStyleLineCapType.v.strokeStyleLineCapType=fp.Rw.Fa[["butt","round","square"].indexOf(cV)];
a2.strokeStyleLineWidth.v.val=cr*g.Q.l_(D);a2.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fp.Rw.Rg[jq];
a2.strokeStyleOpacity.v.val=100*(H["stroke-opacity"]?parseFloat(H["stroke-opacity"]):1);if(bN!=null&&bN!="none")a2.strokeStyleLineDashSet.v=aK.IL(bN.split(",").map(parseFloat),1/cr)}if(el){a.add.vstk.fillEnabled.v=!1;
a.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.X.M1({I:0,z:0,S:0})}}}else{var jG=k.H3(Z,aL,D,iJ),dU=null,ge=null;
if(jG.type=="SoFi"){dU="SoCo";ge=fp.qc}if(jG.type=="GrFl"){dU="GdFl";ge=fp.mc}if(jG.type=="patternFill"){dU="PtFl";
ge=fp.G3}if(dU!=null){var dw=jG.k.v.Opct.v;if(dw.val!=100){a.opacity=Math.round(a.opacity*dw.val/100);
dw.val=100}a.add[dU]={classID:"null"};for(var q=0;q<ge.length;q++){var z=ge[q];a.add[dU][z]=jG.k.v[z]}}}var al=Math.max(R,C.kY);
if(al!=0)a.add.vmsk.hC=al;a.VZ();a.T3(S);S.g.push(a)}else if(($=="text"||$=="tspan")&&j.textContent!=""){u=k.Iv(j,u);
var fo=u.clone(),W=0;fo.concat(D);if(j.children.length>0){var a_=k.vY(j.children[0],C.a1i);for(var z in a_)if(v.indexOf(z)==-1)H[z]=a_[z]}var hc=H["xml:space"],g7=j.textContent;
if(hc=="preserve")g7=g7.replace(/\t/g," ").replace(/\n/g," ");if(U==null)a.Se(g7);a.add.lnsr="rend";
a.add.TySh=e6.WL(0,0);a.add.TySh.sq=new bq(0,0,100,100);a.add.TySh.A=fo.clone();var eC=a.add.TySh.e7;
e6.Hd(eC,0,g7);var aL=H.fill,cN=H["font-weight"],i7=H["font-family"],gC=H["text-decoration"],aC=H.stroke,cr=H["stroke-width"],h7=H["dominant-baseline"];
if(h7=="text-before-edge")W=f;else if(h7=="middle")W=f/2;else if(h7=="hanging")W=f;if(W!=0)a.add.TySh.A.translate(0,W);
var iB=e6.yH(eC,0,1);if(aL&&aL!="none"){var t=CSS.ON(aL);iB.n1.FillColor={Type:1,Values:[1,t.I/255,t.z/255,t.S/255]}}if(gC=="underline")iB.n1.Underline=!0;
iB.n1.FontSize=Math.round(f);e6.VR(iB,"LiberationSans");if(cN=="bold")e6.VR(iB,"LiberationSans-Bold");
if(i7){i7=i7.split(",")[0].trim();if(i7[0]=="\"")i7=i7.slice(1);if(i7[i7.length-1]=="\"")i7=i7.slice(0,i7.length-1);
var hH=i7+":"+(cN?cN:"normal"),bA={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(bA[hH])e6.VR(iB,bA[hH]);else e6.VR(iB,i7)}if(H["text-anchor"])iB.Q0.Justification=["start","end","middle"].indexOf(H["text-anchor"]);
e6.rj(eC,0,g7.length,iB);if(aC==null||aC=="none"){}else{var c5=JSON.parse(fp.kr[fp.order.indexOf("FrFX")]);
c5.Clr.v=l.X.M1(CSS.ON(aC));c5.Sz.v.val=Math.round(parseFloat(cr)*g.Q.l_(fo));k.gx(a,"frameFXMulti",c5)}S.g.push(a)}else if($=="image"){var c3=k.DF(j);
if(c3&&c3.slice(0,4)=="data"){var cq=e2.DS(c3),fd=cq,ca=S.tv(fd,a.getName(),0,0);ca.Kl=a.Kl;a=ca;var f9=a.rect.clone();
f9.x=f9.y=0;var bt=j.getAttribute("width"),dO=j.getAttribute("height");if(bt)f9.e=parseFloat(bt);if(dO)f9.n=parseFloat(dO);
var ea=k.Iv(j);ea.concat(D);var c0=l.H.ez(f9).t;l.H.A(c0,ea,c0);a.add.SoLd.Trnf=g.Q.T5(c0);a.add.SoLd.nonAffineTransform=g.Q.T5(c0);
a.l8(S,!1);S.g.push(a)}}else console.log("unknown tag: "+$,j.children.length,j.textContent.length);if(Y!=null){S.g.push(Y);
r--}}};gj.gx=function(Z,m,S){var B=Z.add.lmfx;if(B==null){var B=Z.add.lmfx=JSON.parse(fp.default);for(var q=0;
q<fp.order.length;q++)B[fp.lg[q]]={t:"VlLs",v:[]}}B[m].v.push({t:"Objc",v:S})};gj.in=function(Z,m,S,B){var C=gj,u=[{type:6},{type:8,all:0}],r=m.tagName;
if(r=="use"){var k=C.DF(m),v=Z.getElementById(k.slice(1)),e=new ht;if(v.tagName!="rect")e=C.Iv(v);e.concat(C.Mv(v));
u=C.in(Z,v,S,B);l.q.uA(u,e)}else if(r=="path"){var j=m.getAttribute("d");if(j==null)return u;var $=Typr.U.SVGToPath(j);
u=l.H.Ah({t:$.crds,C:$.cmds},S,B)}else if(r=="rect"){var U=m.getAttribute("rx"),H=C.Iv(m);u=l.q.eF.Rect(H.s9,H.ku,parseFloat(m.getAttribute("width")),parseFloat(m.getAttribute("height")),U?parseFloat(U):0)}else if(r=="circle"||r=="ellipse"){var z=[0,0,0,0],f=["cx","cy","rx","ry","r"];
for(var q=0;q<5;q++){var D=m.getAttribute(f[q]);if(D){D=parseFloat(D);if(q<4)z[q]=D;else z[2]=z[3]=D}}u=l.q.eF.cP(z[0]-z[2],z[1]-z[3],2*z[2],2*z[3])}else if(r=="polygon"||r=="polyline"||r=="line"){var n;
if(r=="line")n=[m.getAttribute("x1"),m.getAttribute("y1"),m.getAttribute("x2"),m.getAttribute("y2")].map(parseFloat);
else n=m.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
u=l.q.eF.E0(n,0,r!="polygon")}return u};gj.Mw=function(Z,m){if(Z.charAt(Z.length-1)=="m")return m*parseFloat(Z.slice(0,Z.length-2));
else return parseFloat(Z)};gj.H3=function(Z,m,S,B){var C,u,r=gj,k=JSON.parse(fp.kr[fp.order.indexOf("SoFi")]),v=m!=null?m.indexOf("("):-1;
if(v!=-1){var e=m.indexOf(")"),j=m.slice(0,v).trim(),$=m.slice(v+1,e).trim();if($.charAt(0)=="'")$=$.slice(1,$.length-1);
if(j=="url"){if($.charAt(0)=="#"){var U=Z.getElementById($.slice(1));if(U&&U.tagName.toLowerCase().endsWith("gradient")){var H=r.JT(Z,U,S,B);
C="GrFl";u={t:"Objc",v:H}}else{C="SoFi";u={t:"Objc",v:k}}}else console.log("unknown url",$)}else if(j=="rgb"||j=="rgba"){C="SoFi";
u={t:"Objc",v:k};u.v.Clr.v=l.X.M1(CSS.ON(m));if(j=="rgba")u.v.Opct.v.val=Math.round(100*parseFloat(m.split(",").pop()))}else console.log("unknown fill",m)}else{C="SoFi";
u={t:"Objc",v:k};u.v.Clr.v=l.X.M1(CSS.ON(m))}return{type:C,k:u}};gj.Mv=function(Z){var m=new ht,S=Z.getAttribute("transform");
if(S)m=gj.eX(S);var B=Z.getAttribute("style");if(B!=null){var C={};gj.QB(C,B,["transform"]);B=C.transform;
if(B)m.concat(gj.eX(B))}return m};gj.Iv=function(Z,m){var S=new ht,B=Z.getAttribute("x"),C=Z.getAttribute("y");
if(B)S.s9=parseFloat(B);else if(m)S.s9=m.s9;if(C)S.ku=parseFloat(C);else if(m)S.ku=m.ku;return S};gj.eX=function(Z){var m=Typr.U.SVG.readTrnf(Z);
return new ht(m[0],m[1],m[2],m[3],m[4],m[5])};gj.vY=function(Z,m){var S={},B="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var q=0;q<B.length;q++){var C=Z.getAttribute(B[q]);if(C!=null&&C!="inherit")S[B[q]]=C}var u=Z.getAttribute("class");
if(m!=null&&u!=null&&m["."+u]!=null)gj.QB(S,m["."+u],B);var r=Z.getAttribute("id");if(m!=null&&r!=null&&m["#"+r]!=null)gj.QB(S,m["#"+r],B);
var k=Z.getAttribute("style");if(k!=null)gj.QB(S,k,B);return S};gj.QB=function(Z,m,S){m=m.trim().split(";");
for(var q=0;q<m.length;q++){var B=m[q].split(":"),C=B[0]?B[0].trim():"",u=B[1]?B[1].trim():"";for(var r=0;
r<S.length;r++)if(C==S[r]&&u!="inherit")Z[S[r]]=u}};gj.DF=function(Z){var m=Z.getAttribute("xlink:href");
if(m==null)m=Z.getAttribute("href");if(m==null)m=Z.getAttribute("xl:href");return m};gj.JT=function(Z,m,S,B){var C=gj;
function u(Y,Q,o){var I=m.getAttribute(Y);if(I==null)return;var c=parseFloat(I);if(I.endsWith("%"))c*=(o?B.e:B.n)/100;
if(o)Q.x=c;else Q.y=c}var r=new ht,k=m.getAttribute("gradientTransform");if(k)r=C.eX(k);r.concat(S);
var v=JSON.parse(fp.kr[fp.order.indexOf("GrFl")]),e=v.Grad.v;e.Intr.v=0;var j=m.tagName,$=new aS(0,0),U=new aS(B.e,0);
if(j=="linearGradient"){v.Type.v.GrdT="Lnr";u("x1",$,!0);u("y1",$,!1);u("x2",U,!0);u("y2",U,!1);$.x=U.x+.5*($.x-U.x);
$.y=U.y+.5*($.y-U.y)}if(j=="radialGradient"){v.Type.v.GrdT="Rdl";if(m.getAttribute("cx"))$.x=parseFloat(m.getAttribute("cx"));
if(m.getAttribute("cy"))$.y=parseFloat(m.getAttribute("cy"));U.r8($.x,$.y);if(m.getAttribute("r"))U.x+=parseFloat(m.getAttribute("r"))}if(m.getAttribute("gradientUnits")=="userSpaceOnUse"){$=r.xf($);
U=r.xf(U)}else{$.x=B.x+$.x*B.e;$.y=B.y+$.y*B.n;U.x=B.x+U.x*B.e;U.y=B.y+U.y*B.n}l.X.jR($,U,B,v);var H=m.children;
if(H.length==0){var z=C.DF(m);if(z==null)throw"gradient has no stops";var f=Z.getElementById(z.slice(1));
if(f==null){console.log(z.slice(1))}else{var D=C.JT(Z,f,r,B);v.Grad=D.Grad}}else{var n=[];for(var q=0;
q<H.length;q++){var L=H[q],a=C.vY(L),F=a["stop-color"],A=a["stop-opacity"],T=L.getAttribute("offset");
if(F==null)F="#000000";if(A==null)A="1";var P=T?parseFloat(T):0;F=CSS.ON(F);n.push([P,[F.I/255,F.z/255,F.S/255],parseFloat(A)])}l.X.rp(n,e)}return v};
gj.rM=function(Z,m,S){var B=[],C=gj;C.oX=m.aik?"\t":"";var u=m.ajn,r=m.a45;B.push("<svg version=\"1.2\" baseProfile=\"tiny-ps\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+Z.e+" "+Z.n+"\" width=\""+u+"\" height=\""+r+"\">");
B.push(C._L(1)+"<title>"+gj.q3(Z.name.split(".")[0])+"</title>");var k={To:[],ma:[],Ec:0,HN:0,vf:0,UY:{},IU:{},jl:0,aw:{},OE:{},Ce:0,Pl:[]};
gj.Vd(Z,k,Z.root.children,1,m,S);if(k.To.length!=0){B.push(C._L(1)+"<defs>");B=B.concat(k.To);B.push(C._L(1)+"</defs>")}B.push(C._L(1)+"<style>");
B.push(C._L(2)+"tspan { white-space:pre }");for(var v in k.aw)B.push(C._L(2)+"."+v+" { "+k.aw[v]+" } ");
B.push(C._L(1)+"</style>");B=B.concat(k.ma);B.push("</svg>");B=B.join(m.aik?"\n":"");if(C.Og){console.log(C.Og);
var e="SVGParser.gen.db = [\n";for(var q=0;q<C.Og.length;q++){var j=C.Og[q];e+="{\n\tnam: \""+j.ra+"\",\n\tpts: [\n";
for(var $=0;$<j.Bp.length;$++){var U=j.Bp[$];e+="\t\t[\""+U[0]+"\", { cmds: "+JSON.stringify(U[1].C)+", crds:"+JSON.stringify(U[1].t)+" } ]"+($==j.Bp.length-1?"":",")+"\n"}e+="\t]\n}"+(q==C.Og.length-1?"":",")+"\n"}e+="]\n";
console.log(e)}return x.P8(B)};gj.oX="";gj._L=function(gY){var Z="";for(var q=0;q<gY;q++)Z+=gj.oX;return Z};
gj.jf=function(gY){return""+parseFloat(gY.toFixed(3))};gj.Vd=function(Z,m,S,B,C,u){var r=gj;function k(j,c3){var Y=j.add.lmfx;
if(Y)Y=Y[c3].v[0];if(Y)Y=Y.v;if(Y&&!Y.enab.v)Y=null;return Y}function v(j,f){var cb=k(j,"frameFXMulti");
if(cb){var cz=cb.Sz.v.val;if(cb.Styl.v.FStl=="OutF"){f.push("paint-order:stroke fill markers");cz*=2}f.push("stroke: "+CSS.FC(cb.Clr.v));
f.push("stroke-width: "+cz);f.push("stroke-linejoin: round;")}}for(var e=0;e<S.length;e++){var j=S[e].i,$=j.add.lsct,U=j.add.vmsk,H=j.add.vstk,z=j.add.TySh;
if(U&&!U.isEnabled)U=H=null;var f=[];if(!C.hidden&&!j.tm())continue;var D=j.opacity/255,n=j.add.iOpa?j.add.iOpa/255:1;
if(D!=1)f.push("opacity: "+r.jf(D));if(n!=1)f.push("fill-opacity: "+r.jf(n));if(j.E4!="norm"){var L=d1.mZ[d1.WJ.indexOf(j.E4)];
if(L!=null)f.push("mix-blend-mode: "+L)}if(!j.tm())f.push("display: none");var a=[],F=[],A=j.getName(),T=A.indexOf(" .");
if(T!=-1){F.push(A.slice(T+2));A=A.slice(0,T)}if(C.names)a.push("id=\""+r.q3(A)+"\"");var P=aK.hp(j.add.lmfx,j.add),Y=P[0],Q=P[1];
if(j.O1()){var o=S[e].children;if(!(o.length==1&&o[0].i.add.SoLd&&!C.gz)){if(r.Og&&j.getName().split("-").length==3){r.Og.push({ra:j.getName(),g6:0,Bp:[]})}gj.zg(j,U,m,a);
if(f.length!=0)a.push("style=\""+f.join(";")+"\"");m.ma.push(r._L(B)+"<g "+r.BM(a,F)+">");r.Vd(Z,m,o,B+1,C,u);
m.ma.push(r._L(B)+"</g>")}}else if(j.Ie()&&U==null){var I=new bq(0,0,Z.e,Z.n);r.uW(f,j.add,m,I);if(f.length!=0)a.push("style=\""+f.join(";")+"\"");
m.ma.push(r._L(B)+"<rect width=\""+Z.e+"\" height=\""+Z.n+"\" "+r.BM(a,F)+" />")}else if(U&&j.add.SoLd==null){var I=l.q.Go(U.u,null,!0),c=l.q.y3(U.u);
if(c.cr!=0){a.push("fill-rule=\"evenodd\"")}var y=c.Wk;r.uW(f,j.add,m,I);if(f.length!=0){var i=f.join(";"),d=m.OE[i];
if(d==null){d="shp"+m.Ce;m.Ce++;m.OE[i]=d;m.aw[d]=i}F.push(d)}m.ma.push(r._L(B)+"<path "+r.BM(a,F)+" d=\""+y+"\" />");
if(r.Og&&r.Og[r.Og.length-1]){var V=l.H.Rl(U.u);V.t=V.t.map(Math.round);var R=r.Og[r.Og.length-1];R.g6+=JSON.stringify(V).length;
R.Bp.push([f[0].split("#").pop(),V])}}else if(z&&C.afH){var G=z.e7,M=new jN(G,u),O=null;if(Y)O=CSS.FC(Y.Clr.v);
if(Q){var I=j.rect.clone();r.sO(Q,m,I);O=" url(#grd"+m.Ec+")"}if(O)a.push("fill=\""+O+"\"");v(j,f);if(f.length!=0)a.push("style=\""+f.join(";")+"\"");
var K=d7.RD(M,z),W=l.H.V0(K);for(var t in W){if(O==null)a.push("fill=\""+t+"\"");var X=W[t],y=Typr.U.pathToSVG({crds:X.t,cmds:X.C},2);
m.ma.push(r._L(B)+"<path "+r.BM(a,F)+" "+r.ZF(z)+" d=\""+y+"\" />");if(O==null)a.pop()}}else if(z&&!C.atK){var G=z.e7,h=z.A.clone(),O=null;
f.push("transform: "+r.sh(h));var b=e6.xu(G),M=new jN(G,u);v(j,f);if(f.length!=0)a.push("style=\""+f.join(";")+"\"");
m.ma.push(r._L(B)+"<text "+r.BM(a,F)+" >");if(Y)O=CSS.FC(Y.Clr.v);if(Q){var I=j.rect.clone();I.x-=h.s9;
I.y-=h.ku;r.sO(Q,m,I);O=" url(#grd"+m.Ec+")"}for(var q=0;q<M.Q0.length;q++){var E=M.Q0[q];if(E.ZH.length==1&&E.ZH[0].K$)continue;
for(var f0=0;f0<E.BG.length;f0++){var ay=E.BG[f0],p=E.mF.y+ay.mF.y,eo=E.ZH[ay.start].start,co=E.ZH[ay.end-1].end,c5=e6.anh(G,eo,co),he="";
for(var hU=0;hU<c5.length;hU++){var aB=M.ok(eo),ep=c5[hU],aO=e6.yH(G,eo,eo),f$=aO.wb[aO.n1.Font].Name,t=e6.gN(aO.n1.FillColor),fo=Math.round(aO.n1.FontSize),bb=b.slice(eo,eo+ep);
if(aO.n1.FontCaps==2)bb=bb.toUpperCase();var jl=new ht;jl.translate(aB.pe.x,-p);var e0=[];CSS.abF(e0,aO,null,!0,!0,O);
var i=e0.join(";"),d=m.OE[i];if(d==null){d="txt"+m.Ce;m.Ce++;m.OE[i]=d;m.aw[d]=i}var gI=aB.pe.x,d4=r.a4g(aO,bb);
he+="<tspan "+(hU==0?"x=\""+r.jf(aB.pe.x)+"\"":"")+" y=\""+r.jf(p)+"\" class=\""+d+"\""+d4+">"+r.q3(bb)+"</tspan>";
eo+=ep}m.ma.push(r._L(B+1)+he)}}m.ma.push(r._L(B)+"</text>")}else if(j.add.SoLd&&C.gz){var ab=j.add.SoLd,c3=ab.Idnt.v,gr=0,a2=ab.Crop?ab.Crop.v:null;
if(m.IU[c3]!=null)gr=m.IU[c3];else{m.jl++;gr=m.jl;m.IU[c3]=m.jl;var aL=Z.C2(c3,a2),aC="";if(aL==null)return;
var el=aL.BK,iJ=e2.SL(aL.raw.buffer);if(iJ=="pdf"){var cr=new fl("h");e2.Vh("PDF").af(aL.raw.buffer,cr);
cr.fa();cr.mW();cr.G();cr.dK();if(ab.Crop&&ab.Crop.v==1){g.Gt.ko(cr,cr.root.Cp(cr,!0))}var bN=e2.Vh("SVG").md(cr,cr.e,cr.n,null,{Pl:u});
aC="data:image/svg+xml;base64,"+e2.lK(bN)}else if(iJ=="jpg"||iJ=="png"||iJ=="gif"||iJ=="svg"){var hf={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
aC="data:"+hf[iJ]+";base64,"+e2.lK(aL.raw.buffer)}else{aC=e2.G8(el[0].buffer,el[1].e,el[1].n)}m.To.push(r._L(2)+"<image width=\""+el[1].e+"\" height=\""+el[1].n+"\" id=\"img"+gr+"\" href=\""+aC+"\"/>")}var cV=l.N.iX(ab),ez=[];
gj.zg(j,U,m,ez);if(ez.length!=0)m.ma.push(r._L(B)+"<g "+r.BM(ez,F)+">");if(f.length!=0)a.push("style=\""+f.join(";")+"\"");
var jG=r.BM(a,F);m.ma.push(r._L(B)+"<use "+jG+" href=\"#img"+gr+"\" transform=\""+r.sh(cV)+"\"/>");if(ez.length!=0)m.ma.push(r._L(B)+"</g>")}else if(!j.rect.Ov()&&(C.gz||z)){if(f.length!=0)a.push("style=\""+f.join(";")+"\"");
var jG=r.BM(a,F),jw=j.buffer;if(Y)jw=aK.ajC(jw,Y,j.rect);var dw=j.rect;m.jl++;var aC=e2.G8(jw.buffer,dw.e,dw.n,"png",null,!0);
m.To.push(r._L(2)+"<image "+r.ZF(z)+" width=\""+j.rect.e+"\" height=\""+j.rect.n+"\" id=\"img"+m.jl+"\" href=\""+aC+"\"/>");
m.ma.push(r._L(B)+"<use "+jG+" href=\"#img"+m.jl+"\" x=\""+dw.x+"\" y=\""+dw.y+"\" />")}}};gj.a4g=function(Z,m){var S=Z.n1.Tracking,B="";
if(S!=null&&S!=0){S=Math.round(S*Z.n1.FontSize/1e3);B=" dx=\"0";for(var C=1;C<m.length;C++)B+=" "+S;
B+="\" "}return B};gj.ZF=function(Z){if(Z==null)return"";var m=Z.e7,S=e6.xu(m);S=gj.q3(S.slice(0,S.length-1));
return"aria-label=\""+S+"\" "};gj.BM=function(Z,m){if(m.length!=0)Z.push("class=\""+m.join(" ")+"\"");
return Z.join(" ")};gj.q3=function(Z){return String(Z).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
gj.sh=function(Z){var m=[Z.AQ,Z.S,Z.mw,Z.uw,Z.s9,Z.ku].map(gj.jf);return"matrix("+m.join(",")+")"};gj.zg=function(Z,m,S,B){var C=gj;
if(m||Z.add.artb){var u;if(m)u=l.q.y3(m.u).Wk;else{var r=Z.u1(),k=l.H.ez(r);u=Typr.U.pathToSVG({crds:k.t,cmds:k.C},2)}S.vf++;
B.push("clip-path=\"url(#cp"+S.vf+")\"");S.To.push(C._L(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+S.vf+"\">");
S.To.push(C._L(3)+"<path d=\""+u+"\" />");S.To.push(C._L(2)+"</clipPath>")}};gj.uW=function(Z,m,S,B){var C=gj,u=m.vstk,r=m.vmsk,k=m.lmfx;
if(r&&r.hC!=0){var v=C.jf(r.hC);if(S.UY[v]==null){S.HN++;S.UY[v]=S.HN;S.To.push(C._L(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+S.HN+"\"> <feGaussianBlur stdDeviation=\""+v+"\" /> </filter>")}Z.push("filter: url(#flt"+S.UY[v]+")")}var e=aK.hp(k,m),j=e[0],$=e[1];
if(u&&!u.fillEnabled.v)Z.push("fill: none");else if(j){var U=CSS.FC(j.Clr.v);Z.push("fill: "+U)}else if($){C.sO($,S,B);
Z.push("fill: url(#grd"+S.Ec+")")}if(u==null||!u.strokeEnabled.v)u=aK.cG(k);if(u&&u.strokeEnabled.v){var H=u.strokeStyleContent.v,z=H.classID;
if(z=="solidColorLayer")Z.push("stroke: "+CSS.FC(H.Clr.v));else{C.sO(H,S,B);Z.push("stroke: url(#grd"+S.Ec+")")}var f=fp.Rw.Fa.indexOf(u.strokeStyleLineCapType.v.strokeStyleLineCapType),D=fp.Rw.join.indexOf(u.strokeStyleLineJoinType.v.strokeStyleLineJoinType),n=u.strokeStyleOpacity.v.val/100,L=u.strokeStyleLineWidth.v.val,a=fp.Rw.Rg.indexOf(u.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(a==2){L*=2;Z.push("paint-order:stroke fill markers")}var F=u.strokeStyleLineDashSet.v,A=[];for(var q=0;
q<F.length;q++)A.push(Math.round(F[q].v.val*L));if(f!=0)Z.push("stroke-linecap:"+["butt","round","square"][f]);
if(D!=0)Z.push("stroke-linejoin:"+["miter","round","bevel"][D]);if(n!=1)Z.push("stroke-opacity:"+C.jf(n));
if(L!=1)Z.push("stroke-width: "+C.jf(L));if(A.length!=0)Z.push("stroke-dasharray: "+A.join(","))}};gj.sO=function(Z,m,S){m.Ec++;
var B=gj,C=Z.Grad.v,u=JSON.parse(JSON.stringify(C.Clrs.v)),r=JSON.parse(JSON.stringify(C.Trns.v)),k=Z.Ofst.v,v=Z.Type.v.GrdT,e=v=="Rdl"?1:0,j=(e==1?"radial":"linear")+"Gradient",$=l.X.Gl(Z,S);
if(e==0){$[0].x=$[1].x+2*($[0].x-$[1].x);$[0].y=$[1].y+2*($[0].y-$[1].y)}var U=B._L(2)+"<"+j+" id=\"grd"+m.Ec+"\" gradientUnits=\"userSpaceOnUse\" ";
if(e==0)m.To.push(U+" x1=\""+B.jf($[0].x)+"\" y1=\""+B.jf($[0].y)+"\" x2=\""+B.jf($[1].x)+"\" y2=\""+B.jf($[1].y)+"\">");
if(e==1)m.To.push(U+" cx=\""+B.jf($[0].x)+"\" cy=\""+B.jf($[0].y)+"\" r=\""+B.jf(aS.qa($[0],$[1]))+"\">");
if(v=="Rflc"){for(var H=0;H<2;H++){var z=H==0?u:r;for(var q=z.length-1;q>=0;q--){var f=z[q];f.v.Lctn.v=2048+(f.v.Lctn.v>>>1);
var D=JSON.parse(JSON.stringify(f));D.v.Lctn.v=4096-D.v.Lctn.v;z.push(D)}z.sort(function(A,T){return A.v.Lctn.v-T.v.Lctn.v})}}var n=Z.Rvrs.v;
if(n){u.reverse();r.reverse()}for(var q=0;q<u.length;q++){var L=u[q].v,a=q<r.length?r[q].v.Opct.v.val/100:1,a=a==1?"":"stop-opacity=\""+B.jf(a)+"\"",F=L.Lctn.v/4096;
if(n)F=1-F;m.To.push(B._L(3)+"<stop offset=\""+B.jf(F)+"\" stop-color=\""+CSS.FC(L.Clr.v)+"\" "+a+" />")}m.To.push(B._L(2)+"</"+j+">")};
gj.eF=function(Z,m,S,B,C){var u=[],r=gj.eF,k=!1,v={OU:Z,Vi:m,c7:[!0,!0,!0],Ue:!1,ov:S,abK:0};v.ld=Math.round(Math.max(Z,m)*(.02+r.hA(v)*.03));
v.pI=r.amF(v);v.p8=r.ack(v.pI,(r.hA(v)<.5?-1:1)*(.2+r.hA(v)*.3));if(r.hA(v)<.5){var e=v.pI;v.pI=v.p8;
v.p8=e}v.a4x=r.hA(v)<.4&&r.a0V(v.p8,{I:1,z:1,S:1})>.3;v.aeA=r.hA(v)<.5?0:1;u.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+Z+" "+m+"\" width=\""+Z+"\" height=\""+m+"\">");
v.KU=B[Math.floor(r.Db(v)*B.length)];v.vr=B[Math.floor(r.Db(v)*B.length)];u.push("<style>");u.push("@font-face {  font-family: "+v.KU[2]+";  src: url(rsrc/fonts/"+v.KU[5]+");  }");
u.push("@font-face {  font-family: "+v.vr[2]+";  src: url(rsrc/fonts/"+v.vr[5]+");  }");u.push("</style>");
var j=[0,0,Z,m],$=j;if(C==null)u.push("<path style=\"fill: "+r.E9(v.pI)+"\" d=\""+r.Rect(j[0],j[1],j[2]-j[0],j[3]-j[1])+"\" id=\"Background\" />");
else{v.Ue=!0;r.xI(v,j,u,C)}if(r.hA(v)<.25&&!v.Ue){v.c7[0]=v.c7[2]=!1;r.al_(j,v,u);$=j}else if(r.hA(v)<.25||v.Ue)$=j;
else{var U=.52+r.hA(v)*.2;if(r.hA(v)<.5)U=1-U;var H=j.slice(0),z=j.slice(0);if(r.hA(v)<.5)H[2]=z[0]=Math.round(U*Z);
else H[3]=z[1]=Math.round(U*m);if(r.hA(v)<.5){var e=H;H=z;z=e}$=H;r.a4D(v,z,u,C)}r.akk(v,$,u);u.push("</svg>");
u=u.join("\n");var f=l.U(Math.round(u.length*1.5)),D=x.Xv(u,f,0);return[f.buffer.slice(0,D),v.dk]};gj.eF.al_=function(Z,m,S){var B=gj.eF,C=Z[2]-Z[0],u=Z[3]-Z[1];
if(B.hA(m)<.5){S.push("<path id=\"Border\" style=\"fill: "+B.E9(m.p8)+"\" d=\""+B.a14(Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1],m.ld)+"\" />")}else if(B.hA(m)<-.4){B.aiQ(m,Z,S)}else{var r=B.hA(m)<.5?0:1,k=(r==0?u:C)/4,v=B.Dl(m,r,Z,S,k,!0),v=B.Dl(m,r+2,Z,S,k,!0,v)}};
gj.eF.akk=function(Z,m,S){var B=gj.eF,C="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),u=2*Math.floor(B.hA(Z)*C.length/2),r=m[2]-m[0],k=m[3]-m[1],e=0,$=0;
Z.Hg=(Z.OU+r)*.5*(.04+B.hA(Z)*.05);Z.Hg=Math.min(Z.Hg,k*.4,r*.12);Z.Hg=Math.round(Z.Hg);var v=Math.min(Z.Hg*C[u].length*(.35+.3*B.hA(Z)),r*.9),j=(m[1]+m[3])/2,U=l.iT(Z.pI)<.85?{I:1,z:1,S:1}:{I:.1,z:.1,S:.1};
if(B.hA(Z)<.25&&Z.c7[0]){$=0;e=m[0]+Z.ld}else if(B.hA(Z)<.33&&Z.c7[2]){$=2;e=m[2]-Z.ld}else{$=1;e=(m[0]+m[2])/2}var H=U.I==1?"0,0,0":"255,255,255",z=Z.Ue&&B.hA(Z)<1;
if(z){var f=m[0],D=r,n=j-Z.Hg*1.1,L=Z.Hg*2.2,a=.7;if($==1&&B.hA(Z)<.5){f=n=.2*Math.min(r,k);D=r-2*n;
L=k-n-n}else if(B.hA(Z)<.7){f=n=0;D=r;L=k;a=.25}S.push("<path id=\"Strip\" style=\"fill: rgb("+H+"); opacity: "+a+"\" d=\""+B.Rect(f,n,D,L)+"\" />")}if(B.hA(Z)<.4){var F=Z.Hg*.07;
F*=1.5+B.hA(Z)*1;if($==-1&&r/k<3&&!z){S.push("<path id=\"Bar-bottom\" style=\"fill: "+B.E9(U)+"\" d=\""+B.Rect(e-v/2,j+Z.Hg*1.1-F/2,v,F)+"\" />");
S.push("<path id=\"Bar-top\"    style=\"fill: "+B.E9(U)+"\" d=\""+B.Rect(e-v/2,j-Z.Hg*1.1-F/2,v,F)+"\" />")}if($!=1){S.push("<path id=\"Bar\" style=\"fill: "+B.E9(U)+"\" d=\""+B.Rect(e-F/2,j-Z.Hg*.8,F,Z.Hg*.8*2)+"\" />");
e+=($==0?1:-1)*Z.Hg/3}}var A=Z.Hg*.4;S.push(B.Cl(C[u+1],e,j+A*1.6,A,U,$,Z.vr));S.push(B.Cl(C[u],e,j+Z.Hg*.04,Z.Hg,U,$,Z.KU))};
gj.eF.a4D=function(Z,m,S,B){var C=m[2]-m[0],u=m[3]-m[1],r=Math.max(C,u),k=Math.min(C,u),v=gj.eF;if(r/k<5&&!Z.Ue&&!1){v.xI(Z,m,S,B)}else if(v.hA(Z)<0)S.push("<path style=\"fill: "+v.E9(Z.p8)+"\" d=\""+v.Rect(m[0],m[1],C,u)+"\" />");
else{var e=0;if(m[3]!=Z.Vi)e=0;if(m[2]!=Z.OU)e=3;if(m[0]!=0)e=1;if(m[1]!=0)e=2;var j=e+2&3;if(r/k<3){var $=v.a8w(j),U=$[Math.round(v.hA(Z)*($.length-1))],H=U.ra.slice(0,4),z=H.indexOf(1);
U=JSON.parse(JSON.stringify(U));var f=-1;if(H!="0000"){var D=new ht;if(U.ra[5]=="0"){if(z==3&&e==1){f=1;
D.scale(-1,1)}else f=z}else{var n=j;while(n==j)n=Math.floor(v.hA(Z)*4)&3;D.rotate((-z+n)*Math.PI/2)}v.A(U,D)}var L=v.su(U),a=C-2*Z.ld,F=u-2*Z.ld;
if(f!=-1){if((f&1)==0)F-=Z.ld;else a-=Z.ld}var A=Math.min(a/L.e,F/L.n),T=new ht;T.translate(-L.x,-L.y);
T.scale(A,A);var P=(C-L.e*A)/2,Y=(u-L.n*A)/2;if(f!=-1){if(f==3)P=0;if(f==0)Y=0;if(f==1)P=C-L.e*A;if(f==2)Y=u-L.n*A}T.translate(m[0]+P,m[1]+Y);
v.h_(Z,U,T,Z.p8,S)}else{v.Dl(Z,e,m,S,1e9)}}};gj.eF.xI=function(Z,m,S,B){var C=m[2]-m[0],u=m[3]-m[1],r=Math.max(C,u),k=Math.min(C,u),v=gj.eF,e=v.Db(Z),j,$,U,H=B[0]instanceof ArrayBuffer;
if(H){j="data:image/jpg;base64,"+dN.JY(B[0]);$=B[1];U=B[2]}else{var z=Math.floor(e*B.length),f=B[z];
Z.dk=f;j=f.webformatURL;$=f.webformatWidth;U=f.webformatHeight}var D=m[0],n=m[1],L=C,a=u;if(C/u>$/U){a=L*U/$;
n=n-(a-u)/2}else{L=a*$/U;D=D-(L-C)/2}if(H){S.push("<defs>");S.push("<image width=\""+$+"\" height=\""+U+"\" id=\"Background\" href=\""+j+"\" />");
S.push("</defs>");var F=L/$;S.push("<use href=\"#Background\" transform=\""+gj.sh(new ht(F,0,0,F,D,n))+"\" />")}else{var A="cp"+Math.random();
S.push("<clipPath id=\""+A+"\">");S.push("<path style=\"fill: "+v.E9(Z.p8)+"\" d=\""+v.Rect(m[0],m[1],C,u)+"\" />");
S.push("</clipPath>");S.push("<image  clip-path=\"url(#"+A+")\" xlink:href=\""+j+"\" x=\""+D+"\" y=\""+n+"\" width=\""+L+"\" height=\""+a+"\" />")}};
gj.eF.Cl=function(Z,m,S,B,C,u,r){var k=gj.eF;return"<text x=\""+m+"\" y=\""+S+"\" style=\"fill:"+k.E9(C)+"; font-size:"+B+"px; text-anchor:"+["start","middle","end"][u]+"; font-family:"+r[2]+";\"><tspan>"+Z+"</tspan></text>"};
gj.eF.h_=function(Z,m,S,B,C){var u=gj.eF,r=[];for(var q=0;q<m.Bp.length;q++){r.push(B);if(Z.a4x){B=(q&1)==Z.aeA?{I:1,z:1,S:1}:r[0]}}C.push("<g id=\""+m.ra.split("-")[2]+":::\" style=\"transform: "+gj.sh(S)+";\" >");
for(var q=0;q<m.Bp.length;q++){var k=m.Bp[q];B=r.pop();C.push("<path style=\"fill: "+(B?u.E9(B):"#"+k[0])+"\" d=\""+Typr.U.pathToSVG({crds:k[1].t,cmds:k[1].C})+"\" />")}C.push("</g>")};
gj.eF.aiQ=function(Z,m,S){var B=gj.eF,C=gj.eF.Qh,u=[];for(var q=0;q<C.length;q++){var r=C[q],k=r.ra.slice(0,4);
if(k!="1001")continue;u.push(r)}var r=u[Math.floor(B.hA(Z)*u.length)];if(B.hA(Z)<.5)B.A(r,new ht(0,1,1,0,0,0));
var v=m[3]-m[1],e=m[2]-m[0],j=B.su(r),$=.7*Math.min(e,v,.5*Math.max(e,v))/Math.max(j.e,j.n),U=new ht;
U.scale($,$);if(B.hA(Z)<.5){U.scale(1,-1);U.translate(0,v)}B.h_(Z,r,U,Z.p8,S);U.rotate(Math.PI);U.translate(e,v);
B.h_(Z,r,U,Z.p8,S)};gj.eF.a8w=function(Z){var m=gj.eF.Qh,S=[];for(var q=0;q<m.length;q++){var B=m[q],C=B.ra.slice(0,4);
if(C=="0000"){S.push(B);continue}if(["1000","0100","0010","0001"].indexOf(C)==-1)continue;var u=C.indexOf("1");
if(B.ra[5]=="0"&&Z==u&&u!=3)continue;S.push(B)}return S};gj.eF.Dl=function(Z,m,S,B,C,u,r){var k=gj.eF.Qh,v=gj.eF,e=[],L,a;
for(var q=0;q<k.length;q++){var j=k[q],$=j.ra.slice(0,4);if(["1110","1101","1011","0111"].indexOf($)==-1)continue;
var U=$.indexOf("0")+2&3;if(j.ra[5]=="0")if(u==!0||m!=U&&!(m==1&&U==3))continue;e.push(j)}var H=r!=null?r:Math.floor(v.hA(Z)*e.length),j=e[H],j=JSON.parse(JSON.stringify(j)),$=j.ra.slice(0,4),U=$.indexOf("0")+2&3;
if(U==3&&m==1)l.A(j,new ht(1,0,0,-1,0,1e3));var z=new ht;z.translate(-500,-500);z.rotate(-U*Math.PI/2);
z.translate(500,500);v.A(j,z);var f=S[3]-S[1],D=S[2]-S[0],n=v.su(j);if(n.y<0){n.n+=n.y;n.y=0}if(n.y>0){n.n+=n.y;
n.y=0}if((m&1)==0){a=f;L=D}else{L=f;a=D}var F=Math.min(Math.min(.5+.5*v.hA(Z))*Math.min(D,f),C)/n.n,A=Math.ceil(L/(1e3*F)),T=new ht,P=new ht;
P.scale(F,F);if(m==0||m==2){P.translate(-(D/2),-(f/2));P.rotate(-m*Math.PI/2);P.translate(D/2+S[0],f/2+S[1])}else{P.rotate(Math.PI/2);
P.scale(1,-1);P.translate(S[0],S[1]);if(m==1){P.scale(-1,1);P.translate(D,0)}}B.push("<g id=\"Border-"+["top","right","bottom","left"][m]+":::\">");
for(var q=0;q<A;q++){var Y=T.clone();Y.concat(P);v.h_(Z,j,Y,Z.p8,B);T.translate(1e3-2,0)}B.push("</g>");
return H};gj.eF.Rect=function(Z,m,S,B){return Typr.U.pathToSVG({crds:[Z,m,Z+S,m,Z+S,m+B,Z,m+B],cmds:["M","L","L","L","Z"]})};
gj.eF.a14=function(Z,m,S,B,C){var u=[Z,m,Z+S,m,Z+S,m+B,Z,m+B];Z+=C;m+=C;S-=2*C;B-=2*C;u.push(Z,m,Z,m+B,Z+S,m+B,Z+S,m);
return Typr.U.pathToSVG({crds:u,cmds:"M L L L Z M L L L Z".split(" ")})};gj.eF.ack=function(Z,m){var S=l.M8(Z.I,Z.z,Z.S);
S.bN=Math.max(.1,Math.min(.9,S.bN+m));return l.kq(S.Vi,S.Ve,S.bN)};gj.eF.alN=function(Z,m){var S=l.M8(Z.I,Z.z,Z.S);
S.Vi+=m;return l.kq(S.Vi,S.Ve,S.bN)};gj.eF.aow=function(Z){var m=l.M8(Z.I,Z.z,Z.S);m.bN=1-m.bN;return l.kq(m.Vi,m.Ve,m.bN)};
gj.eF.a0V=function(Z,m){var S=Z.I-m.I,B=Z.z-m.z,C=Z.S-m.S;return Math.sqrt(S*S+B*B+C*C)};gj.eF.amF=function(Z){var m=gj.eF;
return{I:m.hA(Z),z:m.hA(Z),S:m.hA(Z)}};gj.eF.E9=function(Z){return CSS.Y6({I:Z.I*255,z:Z.z*255,S:Z.S*255})};
gj.eF.su=function(Z){var m=Z.Bp,S=new bq;for(var q=0;q<m.length;q++)S=S.j3(l.H.su(m[q][1].t));return S};
gj.eF.A=function(Z,m){var S=Z.Bp;for(var q=0;q<S.length;q++)l.H.A(S[q][1].t,m,S[q][1].t)};gj.eF.hA=function(Z){Z.abK++;
var m=Z.abK&3;if(m==0)Z.ov=gj.eF.Qc(Z.ov);var S=Z.ov>>>8*m&255;return S*(.99999999/255)};gj.eF.Db=function(Z){var m=gj.eF.Qc(Z.ov);
Z.ov=gj.eF.Qc(m);return m*(1/4294967295)};gj.eF.Qc=function(Z){Z=(Z^61^Z>>>16)>>>0;Z=Z+(Z<<3)>>>0;Z=(Z^Z>>>4)>>>0;
Z=Z*668265261>>>0;Z=(Z^Z>>>15)>>>0;return Z};gj.eF.Qh=[{ra:"0001-0-bird",Bp:[["4b3c34",{C:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),t:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{C:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),t:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{C:"M C C C C C C C C C C C C L Z".split(" "),t:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{ra:"0001-0-bird2",Bp:[["ff7f2a",{C:"M L L L Z M L L L Z".split(" "),t:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{C:"M C C C C C C C C C C C L Z".split(" "),t:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{C:"M C C C C C C L Z M C C Z".split(" "),t:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{C:"M L L L Z M L L L Z".split(" "),t:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{C:"M L C C C C C C C C L Z".split(" "),t:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{C:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),t:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{ra:"0000-1-flower",Bp:[["7a59a2",{C:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),t:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{ra:"0000-1-flower",Bp:[["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),t:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{ra:"0000-1-flower",Bp:[["ffac42",{C:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),t:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{ra:"0000-1-flower",Bp:[["d04040",{C:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),t:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{ra:"0000-1-flower",Bp:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),t:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{C:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),t:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{ra:"0000-0-hearts",Bp:[["d17070",{C:"M C C C C C C C C C L Z".split(" "),t:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{C:"M C C C C C C C C C L Z".split(" "),t:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{C:"M C C C C C C C C C L Z".split(" "),t:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{ra:"0000-0-anchor",Bp:[["2a3b66",{C:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),t:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{ra:"0000-1-leaf",Bp:[["fbb600",{C:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),t:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{ra:"0000-1-acorn",Bp:[["a05a2c",{C:"M C C C C C C C L Z".split(" "),t:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{C:"M C C C C C C C C C C C Z".split(" "),t:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{ra:"0000-0-skull",Bp:[["808080",{C:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),t:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{ra:"0000-0-ghost",Bp:[["e6e6e6",{C:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),t:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{C:"M C C C C Z M C C C C Z".split(" "),t:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{ra:"1001-1-rose",Bp:[["9e1460",{C:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),t:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{C:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),t:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{ra:"1001-1-curls",Bp:[["53a7ab",{C:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),t:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{C:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),t:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{ra:"0111-0-pines",Bp:[["e9e9e9",{C:"M C C C C C C C C L L L Z".split(" "),t:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{C:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),t:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{ra:"0111-0-flowers",Bp:[["8cae40",{C:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),t:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{C:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),t:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{ra:"1101-1-confetti",Bp:[["e789ff",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{C:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{ra:"1101-1-branch",Bp:[["7f500b",{C:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),t:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),t:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{ra:"1101-1-sticks",Bp:[["ec7272",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{C:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{ra:"1101-1-dots",Bp:[["ec7272",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),t:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{C:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),t:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{C:["M","C","C","Z"],t:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{ra:"1101-1-strips",Bp:[["ffc88c",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{C:"M L L L L Z M L L L L Z M L L L L Z".split(" "),t:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{C:["M","C","C","Z"],t:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{ra:"1101-1-circs",Bp:[["ec7272",{C:"M C C C C Z M C C C C Z".split(" "),t:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{C:"M C C C C Z M C C C C Z".split(" "),t:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{C:["M","C","C","Z"],t:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{ra:"1101-1-squares",Bp:[["014ea7",{C:"M L L L L Z M L L L L Z".split(" "),t:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{C:"M L L L L Z M L L L L Z".split(" "),t:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{C:["M","C","C","Z"],t:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{ra:"1101-0-christmas",Bp:[["014ea7",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),t:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{C:"M C C C C Z M C C C C Z M L L L L Z".split(" "),t:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var dk={};dk.parse=function(Z){var m=new Uint8Array(Z),S=null;if(m[0]==80&&m[1]==75){var B=Date.now(),C=UZIP.parse(m.buffer),S=C["document.json"];
S=JSON.parse(x.QN(S,0,S.length));dk.wN(S,C)}else{var u=iI.parse(Z);S=dk.Mq(u[2][0][1])}return S};dk.wN=function(Z,m){var S=typeof Z;
if(S=="string"||S=="number"||S=="boolean")return Z;if(Z instanceof Array){for(var q=0;q<Z.length;q++)Z[q]=dk.wN(Z[q],m);
return Z}var B=Z._class;if(B==null)return Z;if(B=="MSJSONFileReference"){var C=Z._ref;if(!1){}else if(m[C+".json"]!=null){var u=m[C+".json"],r=u.length;
for(var q=0;q<r;q++)if(u[q]==11||u[q]==3)u[q]=32;var k=x.QN(u,0,r);Z=JSON.parse(k)}else if(m[C+".png"]!=null)return{key:C.split("/").pop(),bdata:m[C+".png"]};
else if(m[C+".jpg"]!=null)return{key:C.split("/").pop(),bdata:m[C+".jpg"]};else if(m[C+".pdf"]!=null)return{key:C.split("/").pop(),bdata:m[C+".pdf"]};
else if(m[C]!=null)return{key:C.split("/").pop(),bdata:m[C]};else{console.log(Z,m);return}}else if(B=="MSAttributedString"){var k=atob(Z.archivedAttributedString._archive),v=k.length-1,e=new Uint8Array(v);
for(var q=0;q<v;q++)e[q]=k.charCodeAt(q);Z.archivedAttributedString=dk.Mq(e)}for(var j in Z)Z[j]=dk.wN(Z[j],m);
return Z};dk.aF=function(Z,m,S,B){if(Z instanceof Uint8Array)return null;if(B.indexOf(Z)!=-1)return null;
B.push(Z);if(Z==m)return S;for(var C in Z){S.push(C);var u=dk.aF(Z[C],m,S,B);if(u){console.log(Z,u);
throw"e"}S.pop()}};dk.Mq=function(Z){var m=az.parse(Z,0),S=m.$objects,B=new Uint8Array(S.length),C=dk.hz(S,B,m.$top.root);
for(var q=0;q<S.length;q++)if(B[q]==0&&q!=0){console.log(q,S[q]);dk.aF(C,q,[],[])}for(var q=0;q<S.length;
q++){var u=S[q];if(u._class&&(u._class=="bitmap"||u._class=="fill"&&u.fillType==4&&(u.image||u.imageSHA))){var r=u.image,k=u.imageSHA,v=null,e=null;
if(r=="$null")r=null;if(k=="$null")k=null;if(r&&r.data){e=r.sha1["NS.bytes"];e=btoa(x.aD(e,0,e.length));
v=r.data instanceof Uint8Array?r.data:r.data["NS.bytes"]}else if(r==null&&k==null){var j=e2.Vh("PNG").md([[l.U(4).buffer]],1,1);
v=new Uint8Array(j)}else{var $=(C.assets?C.assets.imageCollection:C.images).images;if(k)e=k instanceof Uint8Array?k:k["NS.bytes"];
else e=r.sha1["NS.bytes"];e=btoa(x.aD(e,0,e.length));var v=$[e].data;if(v["NS.bytes"])v=v["NS.bytes"]}v=new Uint8Array(v.buffer.slice(v.byteOffset,v.byteOffset+v.length));
delete u.imageSHA;u.image={key:e,bdata:v}}}return C};dk.asV=function(Z){return Z.slice(0,11)=="MSImmutable"?"MS"+Z.slice(11):Z};
dk.hz=function(Z,m,S){var B=Z[S];if(m[S]==1){return B}m[S]=1;if(typeof B=="string")return B;if(typeof B=="number")return B;
if(typeof B=="boolean")return B;if(B instanceof Array)return B;if(B instanceof Uint8Array){return B}if(Z[B.$class]==null){if(B.$class==null&&B["NS.data"]!=null)return B;
console.log(S,B);throw"e"}var C=Z[B.$class],u=dk.asV(C.$classname);m[B.$class]=1;B.$class=u;if(dk.gI[u]){delete B.$class;
B._class=dk.gI[u]}var r=dk.hz;if(u=="NSMutableArray"||u=="NSArray"){var k=[];if(B["NS.objects"]!=null)for(var q=0;
q<B["NS.objects"].length;q++)k.push(r(Z,m,B["NS.objects"][q]));else for(var q=0;B["NS.object."+q]!=null;
q++)k.push(r(Z,m,B["NS.object."+q]));Z[S]=k;return k}if(u=="NSDictionary"||u=="NSMutableDictionary"){var v={$class:u};
if(B["NS.keys"]!=null)for(var q=0;q<B["NS.keys"].length;q++){var e=r(Z,m,B["NS.keys"][q]);if(e instanceof Uint8Array)e=btoa(dk.Dv.aD(e,0,e.length));
else if(typeof e!="string"&&typeof e!="number")e=btoa(dk.Dv.aD(e["NS.bytes"],0,e["NS.bytes"].length));
v[e]=r(Z,m,B["NS.objects"][q])}else for(var q=0;B["NS.key."+q]!=null;q++){var e=r(Z,m,B["NS.key."+q]);
if(e instanceof Uint8Array)e=btoa(dk.Dv.aD(e,0,e.length));else if(typeof e!="string"&&typeof e!="number")e=btoa(dk.Dv.aD(e["NS.bytes"],0,e["NS.bytes"].length));
v[e]=r(Z,m,B["NS.object."+q])}for(var j in B)delete B[j];for(var j in v)B[j]=v[j];return B}if(u=="NSURL")return{$class:u,base:r(Z,m,B["NS.base"]),relative:r(Z,m,B["NS.relative"])};
if(dk.a1d.indexOf(u)!=-1){Z[S]=r(Z,m,B.array_do);return Z[S]}if(B.do_objectID!=null)B.do_objectID=r(Z,m,B.do_objectID);
if(dk.arQ.indexOf(u)!=-1)return B;var $=dk.a4H[u];if($==null){console.log(Z,B);throw"unknown class "+u}for(var q=0;
q<$.length;q++)if(B[$[q]]!=null)B[$[q]]=r(Z,m,B[$[q]]);if(u=="MSTextLayer"){var U=B,H,z,f,D;if(U.attributedString)H=U.attributedString.archivedAttributedString;
else H=U.storage;D=H.NSString;if(typeof D!="string")D=x.QN(D["NS.bytes"],0,D["NS.bytes"].length);if(H.NSAttributeInfo)z=H.NSAttributeInfo["NS.bytes"];
else{var n=D.length,L=[];while(n>0){var a=Math.min(100,n);L.push(a,0);n-=a}z=new Uint8Array(L)}f=H.NSAttributes instanceof Array?H.NSAttributes:[H.NSAttributes];
var F={$class:"NSAttributedString",NSString:D,NSAttributes:f};U.attributedString={_class:"MSAttributedString",archivedAttributedString:F};
F.NSAttributeInfo={$class:"NSMutableData","NS.data":z};delete U.storage}return B};dk.Dv={zO:function(Z,m){return Z[m+1]<<8|Z[m]},l:function(Z,m){return Z[m+3]<<24|Z[m+2]<<16|Z[m+1]<<8|Z[m]},aD:function(Z,m,S){var B="";
for(var q=0;q<S;q++)B+=String.fromCharCode(Z[m+q]);return B}};dk.gI={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
dk.a1d=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
dk.arQ="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
dk.a4H={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var az={};az.parse=function(Z,m){var S=x.aD(Z,m,8);m+=8;var B=az.parse.adX(Z,Z.length-31),C=[];if(B.cj==1){var m=Z.length-31-B.cj*B.O4;
for(var q=0;q<B.O4;q++)C.push(Z[m+q])}else if(B.cj==2){var m=Z.length-31-B.cj*B.O4;for(var q=0;q<B.O4;
q++)C.push(x.zO(Z,m+q*2))}else if(B.cj==4){var m=Z.length-31-B.cj*B.O4;for(var q=0;q<B.O4;q++)C.push(x.l(Z,m+q*4))}else{throw"e"}var u=az.parse.hz(Z,C,B.root,B);
return u};az.parse.hz=function(Z,m,S,B){var C=az.Dv,u=B.a2t,r=u==4?C.l:u==2?C.zO:C.adZ,k=az.parse,v=m[S],e=Z[v],j=e>>4,$=e&15,H=null;
v+=1;if([4,5,6,10,12,13].indexOf(j)!=-1&&$==15){var U=k.C0(Z,v);v+=U.g6;$=U.k}if(!1){}else if(j==0)H=$==8?!1:$==9?!0:null;
else if(j==1)H=k.C0(Z,v-1).k;else if(j==2)H=1<<$==4?x._O(Z,v):x.NX(Z,v);else if(j==3)H=x.NX(Z,v);else if(j==4)H=new Uint8Array(Z.buffer,v,$);
else if(j==5)H=x.aD(Z,v,$);else if(j==6)H=x.zw(Z,v,$);else if(j==8){H=0;for(var q=0;q<$+1;q++)H=H<<8|Z[v+q]}else if(j==10){H=[];
for(var q=0;q<$;q++)H.push(k.hz(Z,m,r(Z,v+u*q),B))}else if(j==12){H=[];for(var q=0;q<$;q++)H.push(k.hz(Z,m,r(Z,v+u*q),B))}else if(j==13){H={};
for(var q=0;q<$;q++){var z=k.hz(Z,m,r(Z,v+u*q),B),f=k.hz(Z,m,r(Z,v+u*($+q)),B);H[z]=f}}else throw"unknown mask "+j;
return H};az.parse.C0=function(Z,m){var S=1<<(Z[m]&15),B=0;for(var q=0;q<S;q++)B=B<<8|Z[m+1+q];return{k:B,g6:S+1}};
az.parse.adX=function(Z,m){var S={};m+=6;S.cj=Z[m];m++;S.a2t=Z[m];m++;m+=4;S.O4=x.l(Z,m);m+=4;m+=4;S.root=x.l(Z,m);
m+=4;m+=4;S.alM=x.l(Z,m);m+=4;return S};az.Dv={adZ:function(Z,m){return Z[m]},zO:function(Z,m){return Z[m]<<8|Z[m+1]},l:function(Z,m){return Z[m]<<24|Z[m+1]<<16|Z[m+2]<<8|Z[m+3]},aD:function(Z,m,S){var B="";
for(var q=0;q<S;q++)B+=String.fromCharCode(Z[m+q]);return B}};var iI={parse:function(Z){var m=new Uint8Array(Z),S=iI.Ws(m),B=[],C=new Uint8Array(m.length),u=[];
B.push(u);iI.A1(m,S,1,C,u);for(var q=0;q<u.length;q++){var r=[];B.push(r);iI.A1(m,S,u[q][3],C,r);u[q][3]=q+1}return B},A1:function(Z,m,S,B,C){S--;
var u=S*m.p3+(S==0?100:0),r=Z[u],k=iI.zO(Z,u+1);if(k!=0)throw"free block in a page";var v=iI.zO(Z,u+3),e=iI.zO(Z,u+5);
if(e==0)e=65536;var j=Z[u+7],$=iI.zO(Z,u+8);if(r==2||r==5)u+=4;else $=0;for(var U=0;U<v;U++){var H=S*m.p3+iI.zO(Z,u+8+2*U),z=-1,f=0,D=0,n=0;
if(r==2||r==5){z=iI.l(Z,H);H+=4}if(r==2||r==10||r==13){f=iI.PR(Z,H);H+=f.g6}if(r==5||r==13){D=iI.PR(Z,H);
H+=D.g6}if(r==5){iI.A1(Z,m,z,B,C);continue}var L=m.p3-(S==0?100:0),a=f.jA,F=r==13?L-35:Math.floor((L-12)*64/255)-23,A=Math.floor((L-12)*32/255)-23,T=A+(a-A)%(L-4);
if(a<=F){iI.Yx(Z,H,B,0,a)}else{var P=T<=F?T:A,Y=0;iI.Yx(Z,H,B,0,P);Y+=P;n=iI.l(Z,H+P);while(n!=0){var Q=(n-1)*m.p3;
n=iI.l(Z,Q);var o=Math.min(m.p3-4,a-Y);iI.Yx(Z,Q+4,B,Y,o);Y+=o}}C.push(iI.acH(B,a))}},acH:function(Z,m){var S=0,B=iI.PR(Z,S);
S+=B.g6;var C=[],u=[];while(S<B.jA){var r=iI.PR(Z,S);S+=r.g6;C.push(r.jA)}if(S!=B.jA)throw"e";for(var q=0;
q<C.length;q++){var r=C[q];if(!1){}else if(r==0)u.push(null);else if(r==1){u.push(iI.aly(Z,S));S+=1}else if(r==2){u.push(iI.Cg(Z,S));
S+=2}else if(r==3){u.push(iI.a2g(Z,S));S+=3}else if(r==4){u.push(iI.C0(Z,S));S+=4}else if(r==7){u.push(iI.a2n(Z,S));
S+=16}else if(r==8)u.push(0);else if(r==9)u.push(1);else if(r>=12&&(r&1)==0){var k=r-13>>1,v=new Uint8Array(k);
iI.Yx(Z,S,v,0,k);u.push(v);S+=k}else if(r>=13&&(r&1)==1){var k=r-12>>1;u.push(iI.QN(Z,S,k));S+=k}else throw"unknonw type "+r}return u},Ws:function(Z){if(!(Z[18]==1&&Z[19]==1&&Z[20]==0&&Z[21]==64&&Z[22]==32&&Z[23]==32))throw"unexpected SQL3 header";
var m={e8:iI.aD(Z,0,15),p3:iI.zO(Z,16),ac0:iI.l(Z,24),size:iI.l(Z,28),abl:iI.l(Z,32),a4_:iI.l(Z,36),ary:iI.l(Z,40),aaN:iI.l(Z,44),ap1:iI.l(Z,48),a9r:iI.l(Z,52),a4z:iI.l(Z,56),a9t:iI.l(Z,60),acy:iI.l(Z,64)!=0,ajp:iI.l(Z,68),a6Z:iI.l(Z,92),aar:iI.l(Z,96)};
if(m.p3==1)m.p3=65536;if(m.a4z!=1)throw"unsupported text encoding "+m.a4z;return m},aj1:function(Z,m){return Z[m]<<16|Z[m+1]<<8|Z[m+2]},a2g:function(Z,m){var S=iI.aj1(Z,m),B=S&8388608;
return B?-(16777215-S+1):S},aly:function(Z,m){iI.Ql[0]=Z[m];return iI.a28[0]},C0:function(Z,m){var S=iI.Ql;
for(var q=0;q<4;q++)S[q]=Z[m+3-q];return iI.atV[0]},Cg:function(Z,m){var S=iI.Ql;S[0]=Z[m+1];S[1]=Z[m];
return iI.akr[0]},zO:function(Z,m){return Z[m]<<8|Z[m+1]},l:function(Z,m){return Z[m]<<24|Z[m+1]<<16|Z[m+2]<<8|Z[m+3]},a2n:function(Z,m){var S=iI.Ql;
for(var q=0;q<8;q++)S[q]=Z[m+7-q];return iI.a1y[0]},PR:function(Z,m){var S=m,gY=0;while(!0){var B=Z[m];
m++;gY=gY*128+(B&127);if(B<128)break}return{jA:gY,g6:m-S}},aD:function(Z,m,S){var B="";for(var q=0;q<S;
q++)B+=String.fromCharCode(Z[m+q]);return B},QN:function(Z,m,S){var B="";for(var q=0;q<S;q++)B+="%"+iI.arN(Z[m+q].toString(16));
return decodeURIComponent(B)},Yx:function(Z,m,S,B,C){if(Z[m+C-1]==null||S[B+C-1]==null){console.log(m,B,C);
throw"e"}for(var q=0;q<C;q++)S[B+q]=Z[m+q]},arN:function(gY){return gY.length<2?"0"+gY:gY}};iI.Ql=new Uint8Array(8);
iI.a28=new Int8Array(iI.Ql.buffer);iI.akr=new Int16Array(iI.Ql.buffer);iI.atV=new Int32Array(iI.Ql.buffer);
iI.a1y=new Float64Array(iI.Ql.buffer);function bg(Z,m,S){this.tt=Z;this.Bk=m;this.a2I=S;this.f3=new aS(0,0);
this.cx=-1;this.tY=0;this.Gn=0;this.j6=new bq;this.Qo=[];this.WY=null;this.ahI=null;this.w2=null;this.YO=null;
this.Ss=null;this.ajU=null}bg.prototype.StartPage=function(Z,m,S,B,C){var u=this.Bk,r=u.l_(),k=1,v=(S-Z)*(B-m);
if(C!=null)v=C;while(v*r*r/(k*k)>2*8192*8192)k++;u.scale(1/k,1/k);this.ahI=[Z,m,S,B];var k=u.l_();Z=Math.round(Z*k);
m=Math.round(m*k);S=Math.round(S*k);B=Math.round(B*k);var e=this.tt,j=this.w2;if(j==null){u.s9=-Z}else{var $=j[2]-j[0]+30,U=Math.round(S-Z)+30;
if(this.f3.x+$+U>8192){u.s9=-Z;this.f3.x=0;this.f3.y+=this.Gn+120;this.Gn=0}else{u.s9+=$;this.f3.x+=$}}u.ku=this.f3.y+(this.a2I?B:-m);
this.Gn=Math.max(this.Gn,Math.round(B-m));this.w2=[Z,m,S,B];e.g.push(e.iI())};bg.prototype.qG=function(){var Z=this.tt,m=Z.g[Z.g.length-1];
return m};bg.prototype.xd=function(){var Z=JSON.parse(JSON.stringify(fp.Rw.default));Z.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
Z.strokeEnabled.v=!1;Z.fillEnabled.v=!1;return Z};bg.prototype.t3=function(){var Z=this.tt,m=Z.AB();
m.Se("Path "+Z.g.length);this.tt.g.push(m);m.Kl|=16;m.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.X.M1({I:0,z:0,S:0})}};
m.add.vmsk=new w.r6;m.add.vstk=this.xd();return m};bg.prototype.lO=function(Z){var m={t:Z.crds,C:Z.cmds},S=l.H.Ah(m,!1);
l.q.uA(S,this.Bk);return S};bg.acZ=function(Z,m){for(var q=0;q<Z.length;q++)if(Z[q].QZ!=null)Z[q].QZ=m};
bg.at0=function(Z){return Math.sqrt(Math.abs(Z[0]*Z[3]-Z[1]*Z[2]))};bg.Ar=function(Z){return l.X.M1({I:Z[0]*255,z:Z[1]*255,S:Z[2]*255})};
bg.sw=function(Z){return new ht(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5])};bg.prototype.Stroke=function(Z){if(this.cx!=-1&&this.cx!=this.tY)return;
if(Z.pth.cmds.length<=1)return;var m=this.lO(Z.pth);if(m.length<=2)return;this.ao(Z);bg.acZ(m,-1);m[2].QZ=1;
var S=bg.Ar(Z.COLR),B=this.qG(),C=this.xd();bg.pu(C,Z,this.Bk.l_(),S);var u=B!=null&&B.add.vmsk!=null&&!B.O1(),r=u&&!B.add.vstk.strokeEnabled.v&&w.r6.a6C(B.add.vmsk.u,m,!0),k=u&&!B.add.vstk.fillEnabled.v&&JSON.stringify(C)==JSON.stringify(B.add.vstk);
if(k){B.add.vmsk.u=B.add.vmsk.u.concat(m.slice(2))}else if(r){B.add.vstk=C;C.fillEnabled.v=!0}else{B=this.t3();
B.add.vmsk.u=m;B.add.vstk=C}};bg.pu=function(Z,m,S,B){Z.strokeEnabled.v=!0;Z.strokeStyleMiterLimit.v=m.mlimit;
Z.strokeStyleLineDashSet.v=aK.IL(m.dash,1/m.lwidth);Z.strokeStyleLineDashOffset.v.val=m.doff;Z.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fp.Rw.join[m.ljoin];
Z.strokeStyleLineCapType.v.strokeStyleLineCapType=fp.Rw.Fa[m.lcap];Z.strokeStyleLineWidth.v.val=Math.max(.4,m.lwidth*bg.at0(m.ctm)*S);
Z.strokeStyleContent.v.Clr.v=B};bg.prototype.Fill=function(Z,m){if(this.cx!=-1&&this.cx!=this.tY)return;
if(Z.ca==0)return;var S=Z.pth.cmds;if(S.length==0)return;if(S.length==2&&JSON.stringify(S)=="[\"M\",\"L\"]")return;
var B=l.H.su(Z.pth.crds),C=l.H.su(Z.cpth.crds);if(B.o9(C).Ov())return;var u=Z.pth,r=UDOC.G.isBox(u,[B.x,B.y,B.x+B.e,B.y+B.n]),k=Z.cpth,v=UDOC.G.isBox(k,[C.x,C.y,C.x+C.e,C.y+C.n]);
if(r&&v&&B.Z()>C.Z()*2){var e=B.o9(C),j=e.x,$=e.y,U=j+e.e,H=$+e.n;u={cmds:["M","L","L","L","Z"],crds:[j,$,U,$,U,H,j,H]};
B=e}else if(this.YO==null&&UDOC.G.isBox(u,[B.x,B.y,B.x+B.e,B.y+B.n])&&B.wZ(C)){u=k;B=C}else this.ao(Z);
var z=this.lO(u),f=l.H.ez(B);l.H.A(f.t,this.Bk,f.t);B=l.H.su(f.t);var D=bg.kZ(Z.colr,this.Bk,B),n=this.qG(),L=n!=null&&n.opacity==Math.round(255*Z.ca)&&n.add.vstk!=null&&!n.add.vstk.strokeEnabled.v&&n.add.SoCo&&D.type=="SoFi"&&JSON.stringify(n.add.SoCo.Clr.v)==JSON.stringify(D.k.v.Clr.v);
if(L){var a=!1;for(var q=0;q<z.length;q++){if(z[q].QZ==0||z[q].QZ==2)a=!0}if(a){var F=l.H.su(l.q.V2(n.add.vmsk.u)),A=l.H.su(l.q.V2(z));
L=F.o9(A).Ov()}}if(L){var T=n.add.vmsk.u;for(var q=2;q<z.length;q++)T.push(z[q])}else{n=this.t3();delete n.add.SoCo;
n.add.vmsk.u=w.r6.Vu(z);bg.cU(Z.colr,n,this.Bk,B);bg.$k(Z,n)}};bg.cU=function(Z,m,S,B){var C=bg.kZ(Z,S,B),u=null,r=null;
m.add.vstk.fillEnabled.v=!0;if(C.type=="SoFi"){u="SoCo";r=fp.qc}if(C.type=="GrFl"){u="GdFl";r=fp.mc}if(C.type=="patternFill"){u="PtFl";
r=fp.G3}if(u!=null){m.add[u]={classID:"null"};for(var q=0;q<r.length;q++){var k=r[q];m.add[u][k]=C.k.v[k]}}};
bg.prototype.ao=function(Z){var m=this.tt,S=Z.cpth,B=S.cmds.join(""),C=S.crds,u=B+" "+C.join(","),r=UDOC.G.isBox(S,this.ahI);
if(r&&this.YO==null)return;if(u==this.YO)return;this.TF();if(!r){this.YO=u;m.g.push(m.iI());var k=m.AB();
k.Se("Mask");k.add.lsct=jf.aa;k.E4="pass";k.Kl=24;var v=k.add.vmsk=new w.r6;v.u=this.lO(Z.cpth);if(UDOC.G.isBox(S)){this.Ss=l.q.Go(v.u);
this.Ss.QW(3,3)}else this.Ss=null;this.ajU=k}};bg.prototype.TF=function(){var Z=this.tt;if(this.YO!=null){var m=Z.g.length-1,q=m,S=!1;
while(q>=0&&Z.g[q].add.lsct!=jf.vX)q--;var B=this.Ss;if(B){var C=new bq,u=m;while(u>q){C=Z.g[u].SJ(this.tt,!1,!0);
u--}S=B.wZ(C)}if(S){this.Qo.splice(q,1);Z.g.splice(q,1)}else{Z.g.push(this.ajU)}this.YO=null}};bg.kZ=function(Z,m,S){var B,C;
if(Z.length!=null){B="SoFi";var u=JSON.parse(fp.kr[fp.order.indexOf("SoFi")]);C={t:"Objc",v:u};C.v.Clr.v=bg.Ar(Z)}else{var r=bg.a76(Z,m,S);
B="GrFl";C={t:"Objc",v:r}}return{type:B,k:C}};bg.a76=function(Z,m,S){var B=JSON.parse(fp.kr[fp.order.indexOf("GrFl")]),C=B.Grad.v;
C.Intr.v=0;var u=bg.sw(Z.mat);u.concat(m);var r=new aS(0,0),k=new aS(S.e,0),v=Z.crds;if(Z.typ=="rad"){B.Type.v.GrdT="Rdl";
var e=.7;r.x=(1-e)*v[0]+e*v[3];r.y=(1-e)*v[1]+e*v[4];k.x=r.x;k.y=r.y;k.x+=Math.max(v[2],v[5])}else{B.Type.v.GrdT="Lnr";
r.x=v[0];r.y=v[1];k.x=v[2];k.y=v[3];r.x=k.x+.5*(r.x-k.x);r.y=k.y+.5*(r.y-k.y)}r=u.xf(r);k=u.xf(k);l.X.jR(r,k,S,B);
var j=Z.grad;l.X.rp(j,C);return B};bg.prototype.PutText=function(Z,m,S,B){var C=m.charCodeAt(0),U=null;
if(this.cx!=-1&&this.cx!=this.tY)return;if(m.length==0||m.length==1&&(C==0||C==8203))return;this.ao(Z);
var u=this.tt,r=Z.font,k=bg.sw(Z.ctm);k.concat(this.Bk);var v=bg.sw(r.Tm);v.concat(k);var e=g.Q.l_(v),j=new ht(1/e,0,0,-1/e,0,0);
j.concat(v);var $=r.Tfs*e,H=u.g.length-1;while(H>=0&&u.g[H].add.TySh==null)H--;if(j.S*j.S+j.mw*j.mw<.001&&B==null&&H>=0&&u.g[H].add.TySh&&u.g[H].opacity==Math.round(255*Z.ca)){var z=u.g[H],f=this.Qo[H],D=z.add.TySh.A,n=(D.s9+f.yh-j.s9)/$,L=Math.abs(n),a=m.indexOf(" ")==-1,F=D.AQ==j.AQ&&D.S==j.S&&D.mw==j.mw&&D.uw==j.uw,A=F&&Math.abs(f.Ud-j.ku)<1e-5&&L<.6,T=j.ku-f.Ud;
if(A){U=z;f.yh=j.s9-D.s9;if(n>.2&&a&&[".",",","?",":","!"].indexOf(m)==-1)m=" "+m}else if(F&&Math.abs(j.s9-D.s9)<1e-5&&0<T&&T<$*1.7&&f.ajT==$){U=z;
this.Hv(f);f.Ud=j.ku;m="\n"+m}}if(U==null){H=u.g.length;this.Qo[H]={Fb:[],yh:0,Ud:j.ku,cD:"",ajT:$};
U=u.AB();u.g.push(U);U.add.lnsr="rend";U.add.TySh=e6.WL(0,0);U.add.TySh.A=j}var f=this.Qo[H];f.yh+=S*$;
f.cD+=m;var P=U.add.TySh.e7,Y=e6.xu(P);if(B){e6.xx(P,1);var Q=[0,0,Math.ceil(B[0]*e),Math.ceil(B[1]*e)];
e6.Y8(P,Q)}var o=Y.length-1,I=o+m.length;e6.Hd(P,o,m);if(this.WY==null)this.WY=e6.yH(P,o,o);var c=this.WY;
c.n1.FontSize=Math.round($);c.n1.Tracking=Math.round(r.Tc*100);c.n1.Underline=r.Tun==1;c.n1.FillColor={Type:1,Values:[1,Z.colr[0],Z.colr[1],Z.colr[2]]};
if(r.Tal!=null)c.Q0.Justification=r.Tal;if(f.Fb.length!=0){c.n1.AutoLeading=!1;c.n1.Leading=f.Ud-f.Fb[f.Fb.length-1].y}var y=r.Tf;
y=y.replace(/#2B/g,"+");y=y.replace(/#2C/g,"-");y=y.split("+").pop();var i={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(i[y])y=i[y];e6.VR(c,y);e6.rj(P,o,I-1,c);U.Ph();U.opacity=Math.round(255*Z.ca)};bg.prototype.Hv=function(Z){Z.Fb.push({OU:Z.yh,aU:Z.cD.slice(Z.Fb.length==0?0:1)+"\n",y:Z.Ud,Ve:Z.ajT});
Z.yh=0;Z.cD=""};bg.prototype.st=function(Z,m,S){return new Uint8Array(e2.Vh("PNG").md([[Z.buffer,0]],m,S))};
bg.prototype.PutImage=function(Z,m,S,B,C,u,r){if(this.cx!=-1&&this.cx!=this.tY)return;var k=this.tt,v=Z.font.Tmode;
if(v==7&&k.g[k.g.length-1].add.TySh){return}this.ao(Z);var e=bg.sw(Z.ctm);e.concat(this.Bk);var j=new ht(1/S,0,0,-1/B,0,1);
j.concat(e);e=j;m=bg.pF(m,S,B,u,!1);if(C)C=bg.pF(C,S,B,r,!0);if(C==null){if(m.length==S*B*4)m=this.st(m,S,B)}else{m=this.XE(m,S,B,u,!1);
C=this.XE(C,S,B,r,!0);var $=l.U(S*B);l.NK(C,$,0);l.cN($,m,3);m=this.st(m,S,B)}var U=k.tv(m,"Bitmap",0,0),H=U.rect.clone();
H.x=H.y=0;var z=l.H.ez(H).t;l.H.A(z,e,z);U.add.SoLd.Trnf=g.Q.T5(z);U.add.SoLd.nonAffineTransform=g.Q.T5(z);
U.l8(k,!1);bg.$k(Z,U);k.g.push(U)};bg.$k=function(Z,m){m.opacity=Math.round(255*Z.ca);var S=bg.c2[Z.bmode];
if(S==null)console.log("Unknown blend mode",S);else m.E4=S};bg.c2={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
bg.C3=function(Z){for(var m in bg.c2)if(bg.c2[m]==Z)return m};bg.pF=function(Z,m,S,B,C){var u=e2.SL(Z.buffer);
if(u=="jpg"){try{Z=new Uint8Array(e2.Vh("JPG").a9e(Z.buffer))}catch(iD){Z=new Uint8Array(m*S*4)}}else if(u=="jb2"){Z=new Uint8Array(e2.Vh("JPG").af(Z.buffer,B,C)[0].data)}else if(Z.length!=m*S*4){var r=new Uint8Array(m*S*4),k=Math.ceil(m/8),v=new Uint8Array(S*k);
UTIF.decode._decodeG4(Z,0,Z.length,v,0,m,1);var e=v[0]==(C?255:0);for(var j=0;j<S;j++){var $=k*j;for(var U=0;
U<m;U++){var q=j*m+U,H=q*4,z=(v[$+(U>>3)]>>7-(U&7)&1)*255;if(e)z=255-z;r[H]=z;r[H+1]=z;r[H+2]=z;r[H+3]=255}}Z=r}return Z};
bg.prototype.XE=function(Z,m,S,B,C){if(Z.length!=m*S*4){var u=e2.SL(Z.buffer);if(u=="jb2")throw"e";var r=e2.Vh(u);
if(r==null||u=="tga")r=e2.Vh("jpg");Z=new Uint8Array(r.af(Z,B,C)[0].data)}return Z};bg.prototype.ShowPage=function(){var Z=this.tt;
this.tY++;var m=this.w2;this.TF();var S=Z.AB();Z.g.push(S);var B=new bq(Math.round(this.f3.x),Math.round(this.f3.y),Math.round(m[2]-m[0]),Math.round(m[3]-m[1]));
if(B.Ov())B.e=B.n=2e3;this.j6=this.j6.j3(B);S.Ea(B);S.add.artb.artboardBackgroundType.v=1;S.Se("Page "+this.tY);
S.add.lsct=jf.aa;S.E4="pass";S.Kl=24};bg.prototype.Print=function(Z){console.log("Print:",Z)};bg.prototype.Done=function(){var Z=this.tt;
if(this.tY==1)Z.g[Z.g.length-1].add.lsct=jf.AH;Z.V6(this.tY);for(var q=0;q<Z.g.length;q++){var m=Z.g[q],S=m.add.vmsk,B=m.add.TySh,C=this.Qo[q];
m.VZ();if(S){var u=!1;for(var r=0;r<S.u.length;r++){var k=S.u[r];if((k.type==0||k.type==3)&&k.length>32767)u=!0}if(u){Z.g.splice(q,1);
q--;continue}}m.T3(Z);if(B&&C.Fb.length!=0){this.Hv(C);var v=B.e7,e=C.Fb.length,j=C.Fb[0],$=0,U=0;for(var r=0;
r<e;r++)$=Math.max($,C.Fb[r].OU);e6.xx(v,1);B.A.ku-=j.Ve*.7;e6.Y8(v,[0,0,Math.ceil($*1.1),Math.ceil(C.Fb[e-1].y-j.y+j.Ve*2)])}if(B){var v=B.e7;
e6.ars(v);var H=e6.xu(v).split("\n");for(var r=0;r<H.length-1;r++){var z=H[r],D=0;for(var n=0;n<z.length;
n++){var L=z.charCodeAt(n);if(1473<=L&&L<=1524)D++}if(D>z.length/2){H[r]=z.split("").reverse().join("");
var a=v.EngineDict.ParagraphRun.RunArray[r].ParagraphSheet.Properties;a._Direction=1;a.Justification=e6.ue(a)}}e6.KN(v,H.join("\n"))}}Z.kw=!0;
Z.e=this.j6.e;Z.n=this.j6.n;Z.buffer=l.U(this.j6.Z()*4)};var dy={};dy.rM=function(Z,m,S,B,C,u){if(C==null)C=Z.e;
if(u==null)u=Z.n;var r=!1,k=[Z.root],v=Z.root.children;if(Z.add.artd){r=!0;for(var q=0;q<v.length;q++)if(v[q].i.add.artb==null)r=!1;
if(r)k=v}var e=new bq(0,0,Z.e,Z.n),j=m[0];j=j.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
j=j.split(" ");var $=[];for(var q=0;q<j.length;q++){var U=j[q];if(U=="-"){var H=$.pop(),z=parseInt(j[q+1]);
while(H<z){$.push(H);H++}}else $.push(parseInt(U))}j=$;for(var q=0;q<j.length;q++)if(isNaN(j[q])||j[q]<1||j[q]>k.length){j.splice(q,1);
q--}var f=C/Z.e,D=u/Z.n,n=f*72/Z.wd,L=D*72/Z.wd,a=m[5];if(a==null)a=0;var F=72*a,A=72*a;for(var q=0;
q<k.length;q++){if(j.length!=0&&j.indexOf(q+1)==-1)continue;var T=k[q],P=r?T.i.u1():e,Y=Math.round(P.e*n+2*F),Q=Math.round(P.n*L+2*A);
S.StartPage(0,0,Y,Q);var o=UDOC.getState([[0,0,Y,Q]]),I=new ht;I.translate(-P.x,-P.y-P.n);I.scale(n,-L);
I.translate(F,A);if(r){var c=T.i.add.artb,y=c.artboardBackgroundType.v;if(y!=1&&y!=3){var i=T.i.YM(),d=P.x+P.e,V=P.y+P.n;
o.colr=[(i>>>0&255)/255,(i>>>8&255)/255,(i>>>16&255)/255];o.pth={cmds:["M","L","L","L","Z"],crds:[P.x,P.y,d,P.y,d,V,P.x,V]};
S.Fill(o)}}if(m[2]){var R=Z.Jy();if(!e.Qu(P)){R=l.U(P.Z()*4);l.pY(Z.Jy(),e,R,P)}if(m[1]!=100){var G=e2.Vh("JPG").md([[R.buffer]],P.e,P.n,[m[1]]);
R=new Uint8Array(G)}var M=new ht;M.translate(P.x,P.y);dy.uf(o,S,R,P,M,I)}else dy.X3(Z,T,o,S,I,m,B);S.ShowPage()}S.Done()};
dy.yd=function(Z){Z=l.X.gN(Z);return[Z.I/255,Z.z/255,Z.S/255]};dy.X3=function(Z,m,S,B,C,u,r){var k=m.i,v=k.add.lsct,e=k.add.lmfx,j=k.add.vmsk,$=k.add.vstk,U=k.add.TySh,D,n;
if(!k.tm())return;var H=k.opacity/255,z=k.add.iOpa!=null?k.add.iOpa/255:1;S.bmode=bg.C3(k.E4);S.ca=S.CA=H*z;
var f=e;if(f)f=f.solidFillMulti.v[0];if(f)f=f.v;if(f&&!f.enab.v)f=null;var L=k.rect;if(k.bX()&&(!k.O1()||k.Jw&&k.Jw.Rx)){if(k.O1){D=k.Jw.Rx;
L=k.Jw.aco}else{D=l.U(k.rect.Z());l.NK(k.buffer,D,3)}n=aK.AS(e,null,D,L,Z,L).type;var a=["DrSh","OrGl"];
if(z!=1||$&&!$.fillEnabled.v){var F=D.slice(0);l.Yy(F);for(var q=0;q<a.length;q++){var A=n[a[q]];for(var T=0;
T<A.length;T++){var P=A[T],Y=P.Ao.clone();Y.x+=L.x;Y.y+=L.y;l.bc(F,L,P.MW,Y)}}}}if(n)dy.cf(k,D,L,n,S,B,C,u,!0);
if(k.O1()){for(var q=0;q<m.children.length;q++)dy.X3(Z,m.children[q],S,B,C,u,r)}else if(j&&k.Ie()&&k.add.PtFl==null){var Q=j.u,o=l.q.Go(Q),I=!1,c=!1,y=!1;
if($.fillEnabled.v){var i=aK.hp(e,k.add),d=i[0],V=i[1];S.colr=dy.EI(d?d:V,C,o);I=!0}var R=aK.cG(e);if(!$.strokeEnabled.v&&R)$=R;
if($.strokeEnabled.v){var G=$.strokeStyleContent.v,M=$.strokeStyleLineDashSet.v,O=fp.Rw.Rg.indexOf($.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
S.COLR=dy.EI(G,C,o);S.lwidth=$.strokeStyleLineWidth.v.val*(O==2?2:1)*C.l_();S.mlimit=$.strokeStyleMiterLimit.v;
S.doff=$.strokeStyleLineDashOffset.v.val;S.ljoin=fp.Rw.join.indexOf($.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
S.lcap=fp.Rw.Fa.indexOf($.strokeStyleLineCapType.v.strokeStyleLineCapType);S.dash=[];for(var q=0;q<M.length;
q++)S.dash.push(M[q].v.val*S.lwidth);if(S.dash.length==1&&S.dash[0]==0)S.dash=[];c=!0;if(O==2)y=!0}var K=l.H.Zf(Q,c).Wk;
l.H.A(K.t,C,K.t);S.pth={cmds:K.C,crds:K.t};if(I&&!y)B.Fill(S);if(c)B.Stroke(S);if(I&&y)B.Fill(S)}else if(U&&u[4]){var W=U.e7,t=new jN(W,r),K=d7.RD(t,U),X=l.H.V0(K);
for(var h in X){var b=parseInt(h.slice(1),16);S.colr=f?dy.yd(f.Clr.v):[(b>>>16&255)/255,(b>>>8&255)/255,(b&255)/255];
var E=X[h];l.H.A(E.t,C,E.t);E=l.H.auQ(E);S.pth={cmds:E.C,crds:E.t};B.Fill(S)}}else if(U&&u[3]==!1){var W=JSON.parse(JSON.stringify(U.e7));
e6.ars(W);var f0=U.A.clone(),ay=new ht(1,0,0,-1,0,0);ay.concat(f0);ay.concat(C);var p=e6.xu(W),t=new jN(W,r);
for(var q=0;q<t.Q0.length;q++){var eo=t.Q0[q];if(eo.ZH.length==1&&eo.ZH[0].K$)continue;for(var T=0;T<eo.BG.length;
T++){var co=eo.BG[T],c5=eo.mF.y+co.mF.y,he=eo.ZH[co.start].start,hU=eo.ZH[co.end-1].end,aB=e6.anh(W,he,hU);
for(var ep=0;ep<aB.length;ep++){var aO=t.ok(he),f$=aB[ep],fo=e6.yH(W,he,he),bb=fo.wb[fo.n1.Font].Name;
S.font.Tf=bb;var h=e6.gN(fo.n1.FillColor);S.colr=f?dy.yd(f.Clr.v):[h.I/255,h.z/255,h.S/255];var jl=S.font.Tfs=Math.round(fo.n1.FontSize),e0=p.slice(he,he+f$);
if(fo.n1.FontCaps==2)e0=e0.toUpperCase();var gI=new ht;gI.translate(aO.pe.x,-c5);gI.concat(ay);S.ctm=[gI.AQ,gI.S,gI.mw,gI.uw,gI.s9,gI.ku];
B.PutText(S,e0,0);for(var d4=0;d4<2;d4++){var ab=fo.n1[d4==0?"Strikethrough":"Underline"];if(!ab)continue;
var c3=t.ok(he+f$-1),gr=d4==0?.27:-.2,a2=jl*gr,aL=jl*(gr+.07),el=c3.pe.x+c3.pe.e-aO.pe.x,iJ=[0,a2,el,a2,el,aL,0,aL];
l.H.A(iJ,gI,iJ);S.pth={cmds:["M","L","L","L","Z"],crds:iJ};B.Fill(S)}S.ctm=[1,0,0,1,0,0];he+=f$}}}}else if(!k.rect.Ov()){var aC,cr,bN=!1,hf=new ht;
if(k.add.SoLd){var cV=k.add.SoLd,ez=cV.Idnt.v,jG=Z.C2(ez,cV.Crop?cV.Crop.v:null),cb="";if(jG==null)return;
var jw=jG.BK,dw=e2.SL(jG.raw.buffer);if(u[6].indexOf(dw)!=-1){aC=jG.raw;bN=!0}else aC=jw[0];cr=jw[1];
hf=l.N.iX(cV)}else{aC=k.buffer;cr=k.rect;hf.translate(cr.x,cr.y)}if(f&&!bN)aC=aK.ajC(aC,f,cr);dy.uf(S,B,aC,cr,hf,C);
if(f&&bN){var iJ=[0,0,cr.e,0,cr.e,cr.n,0,cr.n];l.H.A(iJ,hf,iJ);l.H.A(iJ,C,iJ);var cz=JSON.parse(JSON.stringify(S));
cz.ca=f.Opct.v.val/100;cz.pth={cmds:["M","L","L","L","Z"],crds:iJ};cz.colr=dy.yd(f.Clr.v);B.Fill(cz)}}if(n)dy.cf(k,D,L,n,S,B,C,u,!1)};
dy.EI=function(Z,m,S){if(Z.Clr)return dy.yd(Z.Clr.v);var B=Z,C=B.Rvrs?B.Rvrs.v:!1,u=[],r,k=B.Type.v.GrdT=="Rdl"?"rad":"lin",v=l.X.Gl(B,S),e=m.xf(v[0]),j=m.xf(v[1]);
if(k=="rad")r=[e.x,e.y,0,e.x,e.y,aS.qa(e,j)];else{e.r8(j.x+(e.x-j.x)*2,j.y+(e.y-j.y)*2);r=[e.x,e.y,j.x,j.y]}var $=B.Grad.v.Clrs.v;
for(var q=0;q<$.length;q++){var U=$[q].v,H=U.Lctn.v/4096;u.push([C?1-H:H,dy.yd(U.Clr.v)])}if(C)u.reverse();
return{typ:k,mat:[1,0,0,1,0,0],grad:u,crds:r}};dy.cf=function(Z,m,S,B,C,u,r,k,v){var e=S.clone(),j=m;
if(Z.add.TySh&&!k[3]&&!k[4])return;var $=C.ca,U=C.bmode;for(var q=fp.order.length-1;q>=0;q--){var H=fp.order[q];
if(H=="GrFl"||H=="SoFi")continue;if(Z.add.vmsk&&H=="FrFX")continue;var z=B[H],f=q>7||H=="FrFX";if(f!=v)continue;
for(var D=0;D<z.length;D++){var n=z[D];console.log(f,H,n);if(n.Ao==null)n=n.fC?n.fC:n.bC;var L=n.Ao.clone();
L.offset(e.x,e.y);if(!f){if(!e.wZ(L)){var a=e.j3(L),F=l.U(a.Z());l.Ju(j,e,F,a);j=F;e=a}l.bc(j,e,n.MW,L)}if(f&&H=="FrFX"&&n.rr)l.bc(n.rr,L,n.MW,L);
var A=new ht;A.translate(L.x,L.y);C.ca=n.iq;C.bmode=bg.C3(n.o6);dy.uf(C,u,n.MW,L,A,r)}}C.ca=$;C.bmode=U};
dy.uf=function(Z,m,S,B,C,u){var r=new ht;r.scale(B.e,-B.n);r.translate(0,B.n);r.concat(C);r.concat(u);
Z.ctm=[r.AQ,r.S,r.mw,r.uw,r.s9,r.ku];m.PutImage(Z,S,B.e,B.n);Z.ctm=[1,0,0,1,0,0]};var fL={};fL.FK=function(Z){var m=new Uint8Array(Z);
return fL.Zl(m,0)};fL.Zl=function(Z,m){var S=x.l,B=x.aD,C={Us:B(Z,m,4),r:m+8,size:S(Z,m+4)},u=C.Us=="FORM"||C.Us=="LIST"||C.Us=="CAT ";
if(u)C.lf=B(Z,m+8,4);if(C.size<0||C.r+C.size>Z.length)throw"e";if(u){C.sub=[];m+=12;var r=C.r+C.size;
while(m<r){var k=fL.Zl(Z,m);C.sub.push(k);m+=8+k.size+(k.size&1)}}return C};var b7={};b7.FK=function(Z,m){var S=new Uint8Array(Z);
return b7.Zl(S,0,m)};b7.Zl=function(Z,m,S){var B=x.zs,C=x.aD,u={Us:C(Z,m,4),r:m+8,size:B(Z,m+4)};if(S&&S[u.size]!=null)u.size=S[u.size];
if(u.Us=="RIFF"||u.Us=="LIST"){u.lf=C(Z,m+8,4)}if(u.size<0||u.r+u.size>Z.length)throw"e";if(u.Us=="RIFF"||u.Us=="LIST"&&(u.lf!="cmpr"&&u.lf!="stlt")){u.sub=[];
m+=12;var r=u.r+u.size;while(m<r){var k=b7.Zl(Z,m,S);u.sub.push(k);m+=8+k.size+(k.size&1)}}return u};
function hv(){}hv.FK=function(Z,m){var S=new Uint8Array(Z);m.kw=!0;var B=x.aD(S,0,2);if(B=="WL"){alert("Unsupported CDR version")}else{var C=hv.m6,u=b7.FK(S.buffer),r={data:S,r:0,bL:hv.a4J(S[11])},k,v,z=300;
r.SS=r.bL<600?16:32;hv.vO(r,u.sub,m,0);if(C(u,"cmpr")==null){k=C(u,"page");v=k}else{var e=C(u,"cmpr").sub;
k=e[0];v=e.slice(1)[1];var j=C(k,"filt").sub,$=C(k,"otlt").sub;k.OQ={};for(var q=0;q<j.length;q++)k.OQ[j[q].sub[0].k.id]=j[q].sub[0].k;
k.H7={};for(var q=0;q<$.length;q++)k.H7[$[q].k.id]=$[q].k}var U=C(k,"mcfg").k,H=U.atR;z/=il.KG(new bq(0,0,Math.round(H.x*z),Math.round(H.y*z)),8192*8192);
var f=Math.round(H.x*z),D=Math.round(H.y*z);m.e=f;m.n=D;m.buffer=l.U(m.e*m.n*4);var n=new ht(z,0,0,-z,H.x*z/2,H.y*z/2);
hv.Yf(v,k,m,n);m.V6(1);m.g[m.g.length-1].Ea(new bq(0,0,f,D))}};hv.m6=function(Z,m){var S=null;if(Z.sub==null)return S;
for(var q=0;q<Z.sub.length;q++){var B=Z.sub[q];if(B.Us==m||B.lf==m)S=B}return S};hv.Yf=function(Z,m,S,B){var C=hv.m6,u=Z.lf?Z.lf:Z.Us,r=C(Z,"lgob"),k=C(Z,"txsm"),v,e;
if(r){v=C(r,"trfl");e=C(r,"loda")}else if(C(Z,"lobj"))e=C(Z,"lobj");var j=v?v.sub[0].TZ.clone():new ht;
j.concat(B);var $=S.AB();if(u=="page"||u=="layr"||u=="grp "){$.Se((u=="page"?"Page":"Group")+" "+S.g.length);
$.add.lsct=jf.AH;$.E4="pass";$.Kl=24;var U=[];if(u=="page")U=C(Z,"gobj").sub;if(u=="layr")U=Z.sub.slice(2);
if(u=="grp ")U=Z.sub.slice(4);if(U.length==0)return;S.g.push(S.iI());for(var q=U.length-1;q>=0;q--)hv.Yf(U[q],m,S,B)}else if(u=="obj "&&e.k&&e.k.path){$.Se("Object "+S.g.length);
var H,z;if(m.OQ){H=m.OQ[e.k.adw];z=m.H7[e.k.ae2]}var f=$.getName(),D=H&&H.type!=0,n=D&&H.k!=null?H.k:[0,0,0];
$.Kl|=16;$.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));var L=$.add.vstk;L.strokeEnabled.v=!1;
$.add.vmsk=new w.r6;if(z&&z.anU!=1){L.strokeEnabled.v=!0;L.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
L.strokeStyleLineWidth.v.val=z.lineWidth*B.l_();var a=z.color;L.strokeStyleContent.v.Clr.v=l.X.M1({I:a[0]*255,z:a[1]*255,S:a[2]*255})}var F=e.k.path;
$.add.vmsk.u=l.H.Ah(F,!1);l.q.uA($.add.vmsk.u,j);bg.cU(n,$,j,l.q.Go($.add.vmsk.u));L.fillEnabled.v=D;
$.VZ();$.T3(S)}else if(u=="obj "&&k){var A=e.k.a86,T=e.k.adK,Q="";$.add.TySh=e6.WL(0,0);var P=j.l_();
$.add.TySh.A.translate(j.s9,j.ku);var Y=$.add.TySh.e7,o=k.k.ahb;for(var q=0;q<o.length;q++){var I=o[q],c=Q.length;
Q+=I.text+"\n";e6.Hd(Y,c,I.text+"\n");var y=hv.aop(I.asN,m),i=e6.yH(Y,c,Q.length);if(y.align==3)i.Q0.Justification=1;
else i.Q0.Justification=0;var d=y.fill.k;i.n1.FillColor={Type:1,Values:[1,d[0],d[1],d[2]]};i.n1.FontSize=Math.round(y.akS.fontSize*j.l_());
e6.rj(Y,c,Q.length-1,i)}if(T){e6.xx(Y,0)}else{e6.xx(Y,1);e6.Y8(Y,[0,0,Math.round(A.x*j.AQ),Math.round(-A.y*j.uw)])}$.Se(Q.slice(0,10))}else{$=null}if($)S.g.push($)};
hv.aop=function(Z,m){var S=hv.m6(m,"stlt").k,B=JSON.parse(JSON.stringify(S.Py[Z]));if(B.hy!=0){var C=S.Py[B.hy];
for(var u in C)if(B[u]==null||B[u]==0)B[u]=C[u];delete B.hy}B.align=S.apS[B.atM];B.fill=m.OQ[S.ar8[B.apt]];
B.a5e=m.H7[S.a8Z[B.ajg]];B.akS=S.a9J[B.ass];return B};hv.am3=function(q){var gY=q.data[q.r];q.r+=1;return gY};
hv.B0=function(q){var gY=x.Nz(q.data,q.r);q.r+=2;return gY};hv.BJ=function(q){var gY=x.zs(q.data,q.r);
q.r+=4;return gY};hv.a7l=function(q){var gY=x.zs(q.data,q.r);q.r+=8;return gY};hv.xj=function(q){var gY=x.jX(q.data,q.r);
q.r+=2;return gY};hv.So=function(q){var gY=x.ET(q.data,q.r);q.r+=4;return gY};hv.NX=function(q){var gY=x.nj(q.data,q.r);
q.r+=8;return gY};hv.Y9=function(q){if(q.r>=q.data.length)throw"e";var Z=0;while(q.data[q.r+Z]!=0)Z++;
var m=x.aD(q.data,q.r,Z);q.r+=Z+1;return m};hv.amf=function(Z){if(Z.bL<600)return Math.PI*hv.xj(Z)/1800;
return Math.PI*hv.So(Z)/18e7};hv.a0w=function(Z){if(Z.bL<1500)return hv.WA(Z);else return hv.NX(Z)/254e3};
hv.WA=function(Z){if(Z.bL<600)return hv.xj(Z)/1e3;else return hv.So(Z)/254e3};hv.aq$=function(Z){if(Z.bL<600)return hv.B0(Z);
else return hv.BJ(Z)};hv.a8x=function(Z){if(Z.bL<600)return CRDParser.xj(Z);else return hv.So(Z)};hv.vO=function(Z,m,S,B){var C=hv,u=C.am3,r=C.B0,k=C.BJ,v=C.a7l,e=C.xj,j=C.So,$=C.NX,U=C.WA,H=C.a0w,z=C.amf,f=C.aq$,D=C.a8x;
for(var n=0;n<m.length;n++){var L=Z.bL,a=m[n];Z.r=a.r+(a.Us=="LIST"?4:0);if(a.Us=="vrsn"){var F=r(Z);
Z.bL=F;console.log("Version",F);Z.SS=F<600?16:32}else if(a.Us=="DISP"){}else if(a.Us=="LIST"&&a.lf=="cmpr"){var A=k(Z),T=k(Z),P=k(Z),Y=k(Z),Q=new Uint8Array(Z.data.buffer,Z.r+8+2,A-6-8),o=pako.inflateRaw(Q),i=0;
Z.r+=A;Q=new Uint8Array(Z.data.buffer,Z.r+8+2);var I=pako.inflateRaw(Q),c=[];for(var y=0;y<I.length;
y+=4)c.push(x.zs(I,y));a.sub=[];while(i<o.length){var d=b7.Zl(o,i,c);i=d.r+d.size;a.sub.push(d)}var V={data:o,r:0,bL:L,SS:Z.SS};
hv.vO(V,a.sub,S,B+1)}else if(a.Us=="LIST"&&a.lf=="stlt"){var R=Z.r,co=32;a.k={};var G=k(Z);if(G==0)return;
a.k.ar8=hv.iS(Z,L>=1300);a.k.a8Z=hv.iS(Z);a.k.a9J={};var M=k(Z);for(var q=0;q<M;q++){var O=k(Z);Z.r+=L<1e3?12:20;
var K=r(Z),W=r(Z);Z.r+=8;var t=U(Z);Z.r+=L<1e3?12:20;a.k.a9J[O]={akf:K,a7U:W,fontSize:t}}a.k.apS=hv.iS(Z);
var X=k(Z);Z.r+=52*X;var h=k(Z);Z.r+=152*h;var b=k(Z);Z.r+=784*b;var E=k(Z);for(var q=0;q<E;q++){Z.r+=40;
if(L>1300)Z.r+=4;if(L>=1300){if(k(Z))Z.r+=68;else Z.r+=12}else{Z.r+=20;if(L>=1e3)Z.r+=8;if(k(Z))Z.r+=8;
Z.r+=8}}var f0=k(Z);a.k.ape={};for(var q=0;q<f0;q++){var ay=k(Z),p={};Z.r+=12;p.right=U(Z);p.a1I=U(Z);
p.left=U(Z);a.k.ape[ay]=p}var eo=k(Z);if(L>=1300)co+=4;Z.r+=co*eo;var c5=k(Z);Z.r+=28*c5;if(L>800){var he=k(Z);
Z.r+=12*he}a.k.Py={};for(var q=0;q<G;q++){var hU=k(Z),aB=k(Z),ep={};ep.hy=k(Z);Z.r+=8;var aO=k(Z);if(L>=1200)aO*=2;
Z.r+=aO;ep.apt=k(Z);ep.ajg=k(Z);if(hU>1){ep.ass=k(Z);ep.atM=k(Z);ep.acY=k(Z);ep.ats=k(Z);if(L>800)ep.ar4=k(Z)}if(hU>2){ep.aoi=k(Z);
ep.agD=k(Z);ep.a8C=k(Z);ep.a0r=k(Z);ep.arq=k(Z)}a.k.Py[aB]=ep}}else if(a.Us=="LIST")hv.vO(Z,a.sub,S,B+1);
else if(a.Us=="txsm"){a.k={};if(L<600)throw"e";if(L<700)throw"e";if(L>=1600)throw"e";if(L>=1500)Z.r+=37;
else Z.r+=36;if(k(Z)){if(L<800)Z.r+=32}if(L<800)Z.r+=4;a.k.arH=k(Z);a.k.ahb=[];Z.r+=48;if(L>=800){if(k(Z)){Z.r+=32;
if(L>=1300)Z.r+=8}}if(L>=1500)Z.r+=12;var hU=k(Z),f$=1,fo=!1;if(!hU){if(L>=800)Z.r+=4;if(L>800)Z.r+=2;
if(L>=1400)Z.r+=2;Z.r+=24;if(L<800)Z.r+=8;f$=k(Z)}for(var y=0;y<f$;y++){var bb=k(Z),q=0;if(L>=1300&&hU)Z.r++;
Z.r++;var G=k(Z),jl=[];for(q=0;q<G;q++){var e0=u(Z),d4=0;u(Z);var gI=u(Z);if(L>=800)d4=u(Z);var ep={};
if(gI&1){ep.akf=r(Z);var ab=r(Z);if(ab)ep.a4d=ab}if(gI&2)Z.r+=4;if(gI&4)ep.amE=U(Z);if(gI&8)Z.r+=4;if(gI&16)Z.r+=4;
if(gI&32)Z.r+=4;if(gI&64){ep.apt=k(Z);if(L>=1500)Z.r+=48}if(gI&128){ep.ajg=k(Z)}if(d4&8){if(L>=1300){var c3=k(Z);
if(Z.r+c3*2>=Z.data.length){fo=!0;break}Z.r+=c3*2}else Z.r+=4}if(d4&32){var gr=u(Z);if(gr)Z.r+=52}if(e0==2)if(L>=1300)Z.r+=48;
jl.push(ep)}if(fo){break}var a2=k(Z);if(Z.r+a2*4>Z.data.length)break;var aL=[];for(q=0;q<a2;q++){var el=0;
if(L>=1200)el=v(Z)&4294967295;else el=k(Z);aL[q]=el>>16|el&1}var iJ=a2;if(L>=1200)iJ=k(Z);var aC=hv.Y9(Z);
a.k.ahb.push({asN:bb,text:aC,Py:jl})}}else if(a.Us=="font"){var cr=r(Z),bN=r(Z);Z.r+=14;var hf=hv.Y9(Z);
a.k={id:cr,afY:bN,name:hf}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(a.Us)!=-1){}else if(a.Us=="flgs")a.k=k(Z);
else if(a.Us=="bbox"){var cV=U(Z),ez=U(Z),jG=U(Z),jw=U(Z);a.k=new bq(cV,ez,jG-cV,jw-ez)}else if(a.Us=="fild"){var dw=k(Z),cb=0,jq;
if(L>=1300){Z.r+=4;cb=r(Z);Z.r+=2}var cz=r(Z);if(cz==0){}else if(cz==1){Z.r+=L>=1300?13:2;jq=hv.ON(Z)}else if(cz==2){Z.r+=L>=1300?8:2;
var dU=u(Z),ge=0;if(L>=1300){Z.r+=17;ge=e(Z)}else if(L>=600){Z.r+=19;ge=j(Z)}else{Z.r+=11;ge=e(Z)}var al=z(Z),a_=.5+D(Z),hc=.5+D(Z)-.5;
if(L>=600)Z.r+=2;var g7=f(Z)&255,b4=u(Z)/100;Z.r++;var eC=f(Z)&65535;if(L>=1300)Z.r+=3;var cN=[];for(var q=0;
q<eC;q++){var i7=hv.ON(Z);if(L>=1300){if(cb==158||L>=1600&&cb==150)Z.r+=26;else Z.r+=5}var gC=f(Z)/100;
if(L>=1300)Z.r+=3;cN.push([gC,i7])}jq={typ:dU==1?"lin":"rad",crds:[a_-Math.cos(al)/2,hc-Math.sin(al)/2,a_,hc],grad:cN,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",cz);
a.k={id:dw,type:cz,k:jq}}else if(a.Us=="outl"){var h7=k(Z);if(L>=1300){var iB=0,hH=0;while(iB!=1){Z.r+=hH;
iB=k(Z);hH=k(Z)}}var bA=r(Z),cq=r(Z),fd=r(Z);if(L<1300&&L>=600)Z.r+=2;var iW=U(Z),ca=r(Z)/100;if(L>=600)Z.r+=2;
var f9=z(Z);if(L>=1300)Z.r+=46;else if(L>=600)Z.r+=52;var jq=hv.ON(Z,h7==270963208||h7==276198e3,h7);
a.k={id:h7,anU:bA,al4:cq,a5_:fd,lineWidth:iW,color:jq}}else if(a.Us=="mcfg"){if(1300<=L)Z.r+=12;else if(900<=L)Z.r+=4;
else if(600<=L&&L<700)Z.r+=28;var bt=0,dO=0;if(L<400){Z.r+=2;var cV=U(Z),ez=U(Z),jG=U(Z),jw=U(Z);bt=Math.abs(jG-cV);
dO=Math.abs(jw-ez)}else{bt=U(Z);dO=U(Z)}a.k={atR:new aS(bt,dO)}}else if(a.Us=="loda"||a.Us=="lobj"){var R=Z.r,ea=f(Z),c0=f(Z),i_=f(Z),aV=f(Z),aQ=f(Z),bJ=[],e9=[];
Z.r=R+i_;for(var q=0;q<c0;q++)bJ[q]=f(Z);Z.r=R+aV;for(var q=c0-1;q>=0;q--)e9[q]=f(Z);a.k={};for(var q=0;
q<c0;q++){Z.r=R+bJ[q];var cC=e9[q];if(cC==10)a.k.ae2=k(Z);else if(cC==20)a.k.adw=k(Z);else if(cC==200)a.k.anf=f(Z);
else if(cC==30){if(L<400)aQ--;if(aQ==1){var cV=H(Z),ez=H(Z),ef=0,b5=0,jx=0,bf=0;if(L<1500){bf=H(Z);jx=L<900?bf:H(Z);
b5=L<900?bf:H(Z);ef=L<900?bf:H(Z)}else throw"e";a.k.path=l.H.Rl(l.q.eF.Rect(0,0,cV,ez,ef))}else if(aQ==2){var dH=U(Z),hT=U(Z),je=z(Z),hG=z(Z),gW=Math.abs(dH),d3=Math.abs(hT);
a.k.path=l.H.Rl(l.q.eF.cP(0,0,gW,-d3))}else if(aQ==3){a.k.path=hv.aof(Z)}else if(aQ==4){a.k.adK=hv.adD(Z)}else if(aQ==6){a.k.a86=hv.alm(Z)}else if(aQ==37){a.k.path=hv.jN(Z)}else console.log(aQ)}}}else if(a.Us=="trfd"){var R=Z.r,ea=f(Z),c0=f(Z),i_=f(Z);
Z.r=R+i_;var bJ=[];for(var q=0;q<c0;q++)bJ[q]=f(Z);for(var q=0;q<c0;q++){Z.r=R+bJ[q];if(L>=1300)Z.r+=8;
var jJ=r(Z);if(jJ==8){var fj,em,cV,jB,ip,ez;if(L>=600)Z.r+=6;if(L>=500){fj=$(Z);em=$(Z);cV=$(Z)/(L<600?1e3:254e3);
jB=$(Z);ip=$(Z);ez=$(Z)/(L<600?1e3:254e3)}else throw"e";a.TZ=new ht(fj,jB,em,ip,cV,ez)}else console.log(jJ)}}else if(!1){console.log(a);
var iy=Math.min(a.size,32);console.log(x.a0(data,a.r,iy));console.log(x.a4b(data,a.r,iy))}}};hv.iS=function(Z,m){var S=hv.BJ,B={},C=S(Z);
for(var q=0;q<C;q++){var u=S(Z);Z.r+=4;var r=S(Z);B[u]=r;if(m)Z.r+=48}return B};hv.adD=function(Z){var m=hv,S=m.WA,B=S(Z),C=S(Z);
return new aS(B,C)};hv.alm=function(Z){var m=hv,S=m.WA;Z.r+=4;var B=S(Z),C=S(Z);return new aS(B,C)};
hv.jN=function(Z){var m=hv,S=m.BJ,B=m.B0,C=m.WA;Z.r+=4;var u=B(Z)+B(Z);Z.r+=16;var r=hv.oc(Z,u);return r};
hv.aof=function(Z){var m=hv.B0(Z);Z.r+=2;return hv.oc(Z,m)};hv.oc=function(Z,m){var S=hv,B=S.WA,C=Z.bL<600?2:4,u=Z.r,r={t:[],C:[]},k=0,v=0,e=0;
for(var q=0;q<m;q++){var k=B(Z),v=B(Z),j=Z.data[u+m*C*2+q];if(!(j&64)&&!(j&128)){r.t.push(k,v);r.C.push("M");
e+=2}else if(j&64&&!(j&128)){r.t.push(k,v);r.C.push("L");e+=2}else if(!(j&64)&&j&128){r.t.push(k,v);
r.C.push("C");e+=6}else if(j&64&&j&128){r.t.push(k,v)}}if(e!=r.t.length)throw"e";return r};hv.a93=function(Z,m){var S=x.zs;
m+=8;var B=S(Z,m);m+=4;var C=S(Z,m);m+=4;m+=4*7;var u=m,r=l.U(B*C*4);m+=1024;for(var k=0;k<C;k++)for(var v=0;
v<B;v++){var q=k*B+v,e=(C-k-1)*B+v,j=Z[m+q]<<2,$=e<<2;r[$+0]=Z[u+j+2];r[$+1]=Z[u+j+1];r[$+2]=Z[u+j+0];
r[$+3]=255}return{MW:r,rect:new bq(0,0,B,C)}};hv.a4J=function(Z){if(Z==32)return 300;else if(Z<49)return 0;
else if(Z<58)return 100*(Z-48);else if(Z<65)return 0;return 100*(Z-55)};hv.ON=function(Z,m,S){var B=hv.B0,C=hv.BJ,u=Z.bL,r=0,k=0;
if(u>=500){r=B(Z);if(r==1&&u>=1300)r=25;if(r==25||r==30){var v=0;if(r==30){r=25;v=30}else{v=B(Z);Z.r+=4}var e=B(Z),j=B(Z)}else if(r==14)throw"e";
else{Z.r+=6;k=C(Z)}}else throw"e";var $=[];if(r==2||r==9||r==17){var U=[k>>>0&255,k>>>8&255,k>>>16&255,k>>>24&255];
if(r==2)for(var q=0;q<4;q++)U[q]=Math.round(255*U[q]/100);for(var q=0;q<4;q++)U[q]/=255;$=UDOC.C.cmykToRgb(U)}else if(r==1||r==5){$=[k>>>0&255,k>>>8&255,k>>>16&255];
for(var q=0;q<3;q++)$[q]=$[q]/255}else console.log("Unknown color model "+r,k,k.toString(16));return $};
var iN=function(){var Z,m,S=new ArrayBuffer(4),B=new Uint8Array(S),C=new Uint32Array(S),u=new Float32Array(S);
function r(U,H){for(var z=0;z<U.length;z++)if(U[z][0]==H)return U[z]}function k(){var U=0,H=0,z=0;do{z=Z[m++];
U|=(z&127)<<H;H+=7}while(z&128&&H<35);return U>>>0}function v(U,H,z,f,D){Z=U;m=H;var n=f[0]=="mesg",L=f[2],a={},F=1,A=n?1e9:L.length;
while(F<=A){var T=F;if(n){T=k();if(T==0)break}var P=r(L,T),Y=P[2],Q=P[1]==1,o=Q?k():1,I=new Array(o);
if(Y==3){if(!Q)throw"e";I=Z.slice(m,m+o);m+=o}else for(var q=0;q<o;q++){var c;if((Y&1)==1){if(Y==1)c=Z[m++]==1;
else if(Y==3)c=Z[m++];else if(Y==5){var y=k();c=y&1?~(y>>>1):y>>>1}else if(Y==7)c=k();else if(Y==9){if(Z[m]==0){c=0;
m++}else{B[0]=Z[m];B[1]=Z[m+1];B[2]=Z[m+2];B[3]=Z[m+3];var i=C[0];C[0]=i<<23|i>>>9;c=u[0];m+=4}}else if(Y==11){var d=e(Z,m);
c=d[0];m+=d[1]+1}else throw Y}else{var V=z[Y>>>1];if(V[0]=="enum"){var R=Z[m++];if(R>127)throw"e";c=V[2][R]}else{var G=v(Z,m,z,V,D+1);
c=G[0];m=G[1]}}I[q]=c}a[P[3]]=Q?I:I[0];F++}return[a,m]}function e(U,H){var z=H;while(U[z]!=0)z++;return[x.QN(U,H,z-H),z-H]}function j(U,H){var z=H;
while(U[z]!=0)z++;for(var q=H;q<z;q++)if(U[q]>127)throw"e";return x.aD(U,H,z-H)}function $(U){Z=U;m=1;
var H=[];while(m<U.length){var z=m,f=H.length,D=j(U,m);m+=D.length+1;var n=k();if(n>2)throw"e";var L=k(),a=[];
for(var q=0;q<L;q++){var F=j(U,m);m+=F.length+1;var A=k(),T=k(),P=k();a.push(n==0?F:[P,T,A,F])}H.push([["enum","strc","mesg"][n],D,a])}return H}return{a4n:$,auK:v}}();
function bW(){}bW.FK=function(Z,m){var S=new Uint8Array(Z),B=8,C=x.zs(S,B),e=0,V=0;B+=4;var u=[];while(B<S.length){var r=x.zs(S,B);
B+=4;var k=S.slice(B,B+r);if(S[B]==137&&S[B+1]==80){}else k=UZIP.inflateRaw(k);u.push(k);B+=r}var v=iN.a4n(u[0]);
for(var q=0;q<v.length;q++)if(v[q][1]=="Message")e=q;var j=iN.auK(u[1],0,v,v[e],0)[0],$={Np:{},Oy:{},a7A:{}},U=j.nodeChanges;
for(var H=0;H<U.length;H++){var z=U[H],f=z.guid;$.Oy[f.sessionID+","+f.localID]=z}for(var H=0;H<U.length;
H++){var z=U[H],f=z.parentIndex;if(f){var D=bW.Vg($.Oy,f.guid);if(D.children==null)D.children=[];D.children.push(z)}}var n=U[0],L=n.children,a=new bq,F=[],A=[];
for(var f=0;f<L.length;f++){var T=L[f],P=T.children;if(T.name=="Internal Only Canvas"||P==null)continue;
var Y=new bq;for(var q=0;q<P.length;q++){var Q=P[q],o=Q.transform,I=Q.size;if(o.m00==1&&o.m10==0&&o.m01==0&&o.m11==1){var c=new bq(o.m02,o.m12,I.x,I.y);
Y=Y.j3(c)}}var y=a.n==0?0:a.n+100,i=Y.clone();i.x=0;i.y=y;a=a.j3(i);F[f]=Y;A[f]=y}var d=il.KG(new bq(0,0,a.e,a.n),8192*8192);
m.e=Math.round(a.e/d);m.n=Math.round(a.n/d);m.buffer=l.U(m.e*m.n*4);for(var f=0;f<L.length;f++){var T=L[f],P=T.children;
if(T.name=="Internal Only Canvas"||P==null)continue;P.sort(bW.uk);var R=new ht(1,0,0,1,-F[f].x,A[f]-F[f].y);
R.scale(1/d,1/d);for(var q=0;q<P.length;q++){var Q=P[q];bW.Yf(Q,[],R,j.blobs,m,0,$);V++}}m.V6(V);m.kw=!0;
if(d!=1)alert("File scaled down "+d+"x")};bW.Yf=function(Z,m,S,B,C,u,r){var k=bW,Q=!1,o,I,i,d,V;for(var q=0;
q<m.length;q++){var v=m[q],e=v.guidPath.guids[0];if(k.a1Z(e,Z.guid)){var j={};for(var $ in Z)j[$]=v[$]!=null?v[$]:Z[$];
Z=j}}var U=Z.type,H=Z.children,z=Z.size,f=Z.effects,D=C.AB();D.Se(Z.name);D.p0(Z.visible);D.opacity=Math.round(Z.opacity*255);
var n=k.hK(Z.transform),L=n.clone();L.concat(S);var a=new bq(Math.round(L.s9),Math.round(L.ku),Math.round(z.x*L.l_()),Math.round(z.y*L.l_()));
if(a.e==0||isNaN(a.e))a.e=100;if(a.n==0||isNaN(a.n))a.n=100;var F=Z.fillPaints,A=Z.inheritFillStyleID;
if(A){var j=k.Vg(r.Oy,A);if(j)F=j.fillPaints}if(F==null)F=[];var F=k.KX(F),T=F[0],P=Z.strokePaints,A=Z.inheritFillStyleIDForStroke;
if(A){var j=k.Vg(r.Oy,A);if(j)P=j.fillPaints}if(P==null)P=[];var P=k.KX(P),Y="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(U)!=-1;
if(Y||U=="FRAME"){o=new w.r6;I=[];k.lh(Z,B,o,I);Q=l.q.oQ(o.u);l.q.uA(o.u,L);var c=l.H.oq(l.q.Go(o.u));
if(!c.Ov())a=c;if(r.Np.kH&&T){var y=w.r6.Vu(r.Np.kH.u);for(var q=2;q<y.length;q++)if(y[q].QZ!=null)y[q].QZ=3;
o.u=o.u.concat(y.slice(2));I=I.concat(JSON.parse(JSON.stringify(r.Np.Ka)))}}if(T&&T.type=="IMAGE"){V=T.imageScaleMode;
i=k.Jy(B,T.image.dataBlob);var R=i.cR.e/i.cR.n,G=z.x/z.y;d=Math.abs(R-G)}if(U=="FRAME"){}else if(Y&&Q&&i&&(V=="FIT"||V=="FILL"&&d<=.05)){var M=B[T.image.dataBlob].bytes,O=C.tv(M,D.getName(),0,0);
O.Kl=D.Kl;O.opacity=D.opacity;D=O;var K=new bq(0,0,z.x,z.y);if(V=="FIT"){var W=i.cR.e,t=i.cR.n,X=Math.min(z.x/W,z.y/t),h=W*X,b=t*X;
K=new bq(K.x+(K.e-h)/2,K.y+(K.n-b)/2,h,b)}var E=l.H.ez(K).t;l.H.A(E,L,E);D.add.SoLd.Trnf=g.Q.T5(E);D.add.SoLd.nonAffineTransform=g.Q.T5(E);
var f0=[],f=Z.effects,ay=T.paintFilter;if(f)for(var q=0;q<f.length;q++)if(f[q].type=="FOREGROUND_BLUR"){var p=f[q],eo=bS.Er("GsnB",{});
f0.push(eo);eo.v.enab.v=p.visible;eo.v.Fltr.v.Rds.v.val=p.radius/2.4}if(ay&&ay.exposure!=0){var eo=bS.Er("brit",{});
f0.push(eo);eo.v.Fltr.v.Brgh.v=Math.round(ay.exposure*160);eo.v.Fltr.v.useLegacy.v=!0}if(ay&&ay.vibrance!=0){var eo=bS.Er("vibA",{});
f0.push(eo);console.log(eo);eo.v.Fltr.v.Strt.v=Math.round(Math.round(ay.vibrance*100))}if(f0.length!=0){D.add.SoLd.filterFX=bS.cL();
C.gq({id:D.add.SoLd.placed.v,rect:new bq,buffer:l.U(1),v:new w.Ga});D.add.SoLd.filterFX.v.filterFXList.v=f0}D.l8(C,!1);
k.LD(r,D,C)}else if(Y){k.R1(D,I,o,Z,T,P,L,a,B,C,r);if(f)for(var q=0;q<f.length;q++){var p=f[q];if(p.type!="FOREGROUND_BLUR")continue;
o.hC=p.radius/2.4}D.T3(C)}else if(U=="TEXT"){var co=Z.textData,c5=co.layoutSize,he=["LEFT","RIGHT","CENTER"].indexOf(Z.textAlignHorizontal);
D.add.lnsr="rend";D.add.TySh=e6.WL(0,0);D.add.TySh.sq=new bq(0,0,100,100);var hU=L.clone();D.add.TySh.A=hU;
var aB=D.add.TySh.e7,ep=co.characters;if(Z.textCase=="TITLE"){for(var q=0;q<ep.length;q++)if(q==0||ep[q-1]==" "){var aO=ep.slice(0,q),f$=ep.slice(q+1);
ep=aO+ep[q].toUpperCase()+f$}}ep=ep.replace(/\u2028/g,"\n");ep=ep.replace(/\u2029/g,"\n");ep=ep.replace(/\r\n/g," \n");
e6.Hd(aB,0,ep);var fo=Z.textAutoResize,bb=co.baselines;if(fo=="WIDTH_AND_HEIGHT"){var jl=he==0?0:he==1?c5.x:c5.x/2,e0=bb?bb[0].position.y:0;
hU.translate(jl*L.l_(),e0*L.l_());e6.xx(aB,0)}else if(fo=="HEIGHT"||fo=="NONE"||fo==null){var e0=bb?bb[0].position.y-Z.fontSize*.7:0;
hU.translate(0,e0*L.l_());e6.xx(aB,1);e6.Y8(aB,[0,0,Math.round(c5.x),Math.round((fo=="NONE"?1.8:1)*c5.y)])}else throw fo;
if(ep!=""){var gI=e6.yH(aB,0,1);k.oW(Z,L,z,gI,D,B,C,r);e6.rj(aB,0,ep.length,gI);var d4=co.characterStyleIDs,ab=co.styleOverrideTable;
if(d4){d4=d4.slice(0);for(var q=0;q<d4.length;q++)if(ep[q]=="\n")d4[q]=-q-1;var c3=[0],gr=0,a2=0;for(var q=0;
q<d4.length;q++){a2++;var aL=d4[q];if(q==0||aL==d4[q-1]){}else{c3.push(a2-1,q);a2=1}}c3.push(a2);for(var q=0;
q<c3.length;q+=2){var el=c3[q],iJ=c3[q+1];if(ep[el]=="\n")continue;var aL=d4[el];if(aL!=0){var aC;for(var cr=0;
cr<ab.length;cr++)if(ab[cr].styleID==aL)aC=ab[cr];var gI=e6.yH(aB,el,el+1);k.oW(aC,L,z,gI,D,B,C,r);e6.rj(aB,el,el+iJ-1,gI)}}}}}else if(U=="SYMBOL"){}else if(U=="INSTANCE"){var bN=Z.symbolData,hf=bN.symbolOverrides,j=k.Vg(r.Oy,bN.symbolID);
if(j)H=j.children;else console.log(Z.name,"symbol not found",bN.symbolID);m=m.slice(0);for(var q=0;q<hf.length;
q++)m.push(hf[q])}else console.log(U);if(!1){}else if(H&&!Y){C.g.push(C.iI());var cV=!1,ez=u==0&&U!="SYMBOL"&&U!="INSTANCE";
if(ez){if(a.Ov())console.log(a);D.Ea(a)}T=F[F.length-1];if(ez&&T&&T.type=="SOLID"){var jG=T.color;D.add.artb.artboardBackgroundType.v=4;
D.add.artb.Clr=k.ON(jG)}else if((T||P[0])&&o){var jw=C.AB();jw.Se("Background");k.R1(jw,I,o,Z,T,P,L,a,B,C,r);
jw.T3(C);C.g.push(jw);cV=!0}H.sort(k.uk);var dw=r.Np;r.Np={};for(var cb=0;cb<H.length;cb++)k.Yf(H[cb],m,L,B,C,u+1,r);
r.Np=dw;D.add.lsct=!1?jf.AH:jf.aa;D.E4="pass";var cz=D.tm();D.Kl=24;D.p0(cz);var jq=u!=0&&F.length!=0&&!Z.frameMaskDisabled&&Z.containerSupportsFillStrokeAndCorners;
if(!cV&&jq&&o){D.add.vmsk=o;D.add.vogk=I;D.T3(C)}else k.LD(r,D,C);C.g.push(D)}else if(Z.mask){if(o){r.Np.kH=o;
r.Np.Ka=I}}else{var dU=[],eC=1;if(f)for(var ge=0;ge<f.length;ge++){var p=f[ge],al=p.color,a_=p.type,hc=["DROP_SHADOW","INNER_SHADOW"].indexOf(a_);
if(hc!=-1){var g7=["DrSh","IrSh"][hc],b4=JSON.parse(fp.kr[fp.order.indexOf(g7)]);dU.push([g7,b4]);b4.enab.v=p.visible;
b4.Md.v.BlnM=d1.D2(k.aaf(p.blendMode));b4.Opct.v.val=Math.round(100*al.a);b4.blur.v.val=Math.round(p.radius*L.l_());
b4.Clr=k.ON(al);var jl=p.offset.x,e0=p.offset.y;b4.uglg.v=!1;b4.lagl.v.val=Math.round(180/Math.PI*Math.atan2(e0,-jl));
b4.Dstn.v.val=Math.round(Math.sqrt(jl*jl+e0*e0)*L.l_())}}if(U=="TEXT"&&F[0]&&F[0].type!="SOLID")eC=0;
for(var q=eC;q<F.length;q++){var cN=F[q],i7=k.$Y(Z,cN,L,a,B,C,r);if(i7[0]=="GdFl")dU.push(["GrFl",i7[1]]);
else if(i7[0]=="SoCo")dU.push(["SoFi",i7[1]]);else if(i7[0]=="PtFl")dU.push(["patternFill",i7[1]]);else throw i7}if(!Y)for(var q=0;
q<P.length;q++){var cN=P[q],i7=k.$Y(Z,cN,L,a,B,C,r);if(i7[0]=="SoCo"){var b4=JSON.parse(fp.kr[fp.order.indexOf("FrFX")]);
dU.push(["FrFX",b4]);b4.enab=i7[1].enab;b4.Opct=i7[1].Opct;b4.Md=i7[1].Md;b4.Clr=i7[1].Clr;b4.Sz.v.val=Z.strokeWeight}}if(dU.length!=0){var gC=JSON.parse(fp.default);
for(var q=0;q<fp.order.length;q++)gC[fp.lg[q]]={t:"VlLs",v:[]};for(var q=0;q<dU.length;q++){var h7=dU[q],g7=fp.lg[fp.order.indexOf(h7[0])];
gC[g7].v.unshift({t:"Objc",v:h7[1]})}if(H==null)D.add.lmfx=gC}C.g.push(D)}};bW.R1=function(Z,m,S,B,C,u,r,k,v,e,j){var $=bW;
Z.Kl|=16;Z.add.vogk=m;Z.add.vmsk=S;var U=Z.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default)),H=$.$Y(B,C,r,k,v,e,j);
if(H[0]=="None"){U.fillEnabled.v=!1;Z.add.SoCo=H[1]}else{$.im(H,Z);Z.add[H[0]]=H[1]}var H=$.$Y(B,u[0],r,k,v,e,j);
if(H[0]!="None"){var U=Z.add.vstk;U.strokeEnabled.v=!0;U.strokeStyleLineWidth.v.val=B.strokeWeight*r.l_();
U.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fp.Rw.Rg[["INSIDE","CENTER","OUTSIDE"].indexOf(B.strokeAlign)];
var z={SoCo:"SoFi",GdFl:"GrFl"}[H[0]],f=["SoFi","GrFl","patternFill"].indexOf(z),D=[fp.qc,fp.mc,fp.G3][f];
U.strokeStyleContent.v={classID:fp.Rw.lf[0]};var n=B.dashPattern;if(n)U.strokeStyleLineDashSet.v=aK.IL(n,1/B.strokeWeight);
var L=U.strokeStyleContent.v={classID:fp.Rw.lf[f]};for(var q=0;q<D.length;q++)L[D[q]]=H[1][D[q]];if(!U.fillEnabled.v)$.im(H,Z)}};
bW.im=function(Z,m){var S=Z[1].Opct.v.val;if(S!=100)m.opacity=Math.round(m.opacity/255*(S/100)*255)};
bW.uk=function(Z,m){var S=Z.parentIndex.position,B=m.parentIndex.position;return S>B?1:-1};bW.KX=function(Z){for(var q=1;
q<Z.length;q++){var m=Z[q];if(m.type=="IMAGE"&&m.opacity==1){Z=Z.slice(q);break}}for(var q=0;q<Z.length;
q++){var m=Z[q],S=m.imageThumbnail;if(m.type=="IMAGE"&&(m.image==null||m.image.dataBlob==null)&&S&&S.dataBlob)m.image=S;
if(!m.visible||m.type=="IMAGE"&&m.image.dataBlob==null){Z.splice(q,1);q--}}return Z};bW.LD=function(Z,m,S){if(Z.Np.kH){m.add.vmsk=Z.Np.kH.clone();
m.add.vogk=JSON.parse(JSON.stringify(Z.Np.Ka));m.T3(S)}};bW.oW=function(Z,m,S,B,C,u,r,k){var v=Z.fontSize,e=Z.lineHeight,j=Z.fontName,$=Z.textAlignHorizontal,U=Z.textTracking,H=Z.textCase,z=Z.textDecoration;
if(v==null)v=B.n1.FontSize;if(j)e6.VR(B,j.postscript);if(v!=null)B.n1.FontSize=Math.round(v);if(z=="UNDERLINE")B.n1.Underline=!0;
if(U)B.n1.Tracking=Math.round(U*1e3);if(H)B.n1.FontCaps=H=="UPPER"?2:0;if(e&&(e.units!="PERCENT"||e.value!=100)){if(v==null)v=15;
var f=e.value;if(e.units=="PERCENT")f=1*v*f/100;if(e.units=="RAW")f=1*v*f;B.n1.AutoLeading=!1;B.n1.Leading=Math.round(f)}if($)B.Q0.Justification=["LEFT","RIGHT","CENTER"].indexOf($);
var D=Z.fillPaints,n=Z.inheritFillStyleID;if(n){var L=bW.Vg(k.Oy,n);if(L)D=L.fillPaints}if(D&&D[0]){var a=bW.$Y(Z,D[0],m,S,u,r,k);
if(a[0]=="SoCo"){var F=l.X.gN(a[1].Clr.v);B.n1.FillColor={Type:1,Values:[1,F.I/255,F.z/255,F.S/255]};
bW.im(a,C)}}};bW.$Y=function(Z,m,S,B,C,u,r){var k=bW,v,e,j=Z.size;if(m){var $=m.type,U=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf($);
if($=="SOLID"){v="SoCo";var H=m.color;e=JSON.parse(fp.kr[fp.order.indexOf("SoFi")]);e.Clr=k.ON(H)}else if(U!=-1){var z=JSON.parse(fp.kr[fp.order.indexOf("GrFl")]),f=z.Grad.v;
f.Intr.v=0;z.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][U];var D=[],n=m.stops;for(var q=0;q<n.length;q++){var L=n[q],a=L.color;
D.push([L.position,[a.r,a.g,a.b],a.a])}l.X.rp(D,f);var F=k.hK(m.transform);F.Yy();var A=F.clone();if(j)A.scale(j.x,j.y);
A.concat(S);var T=new aS(0,.5),P=new aS(1,.5);T=A.xf(T);P=A.xf(P);if(!0){T.x=P.x+.5*(T.x-P.x);T.y=P.y+.5*(T.y-P.y)}l.X.jR(T,P,B,z);
if(U==3){if(A.AQ*A.uw-A.S*A.mw<0)z.Rvrs.v=!z.Rvrs.v}v="GdFl";e=z}else if($=="IMAGE"){var z=JSON.parse(fp.kr[fp.order.indexOf("patternFill")]),Y=z.phase.v,Q=m.image.dataBlob,o=r.a7A[Q],M=1;
if(o==null){var I=k.Jy(C,Q);o=r.a7A[Q]={};o.id=fl.Qm()+"-d71c-11e5-b1ae-a548a96e5f9f";o.Pg=[new Uint8Array(I.data),I.cR];
o.name="someImage";u.hg(o)}z.Algn.v=!0;z.Ptrn.v.Idnt.v=o.id;var c=S.s9,y=S.ku,i=m.imageScaleMode,F=k.hK(m.transform);
F.Yy();var d=B.e,V=B.n,R=o.Pg[1].e,G=o.Pg[1].n;if(i=="FILL"){M=Math.max(d/R,V/G);M=Math.round(M*100)/100}else if(i=="FIT"){M=Math.min(d/R,V/G);
M=Math.round(M*100)/100}else if(i=="STRETCH"){var O=d*F.AQ,K=V*F.uw;M=.5*(O/R+K/G);M=Math.round(M*100)/100;
c+=(O-d)/2+F.s9*d;y+=(K-V)/2+F.ku*V}else if(i=="TILE"){M=m.scale;M=Math.round(M*100)/100;c+=(O-d)/2;
y+=(K-V)/2}var W=M*R,t=M*G;c+=-(W-d)/2;y+=-(t-V)/2;z.Scl.v.val=Math.round(100*M);Y.Hrzn.v=Math.round(c);
Y.Vrtc.v=Math.round(y);v="PtFl";e=z}else throw $;if(e)e.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(m.opacity*100)}}}else{v="None";
e={classID:"null",Clr:{t:"Objc",v:l.X.M1({I:0,z:0,S:0})}}}return[v,e]};bW.Jy=function(Z,m){var S=Z[m];
if(S.rslt)return S.rslt;var B=S.bytes.buffer,C=e2.SL(B),u=e2.Vh(C);try{S.rslt=u.af(B)[0]}catch(iD){S.rslt={data:l.U(4),cR:new bq(0,0,1,1)}}return S.rslt};
bW.lh=function(Z,m,S,B){var C=Z.type,u=Z.size,r=Z.cornerRadius,$;if(r==null)r=0;var k=l.Ka.Td(),v=u.x,e=u.y,j=[r,r,r,r],U=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var q=0;q<4;q++)if(Z[U[q]]!=null)j[q]=Z[U[q]];if(C=="RECTANGLE"||C=="ROUNDED_RECTANGLE"||C=="FRAME"){$=l.q.eF.Rect(0,0,v,e,j)}else if(C=="ELLIPSE"){var H=Z.arcData,z=H?H.startingAngle:0,f=H?H.endingAngle:2*Math.PI,D=H?H.innerRadius:0;
if(z==0&&f>1.999*Math.PI)$=l.q.eF.cP(0,0,v,e,0);else $=l.q.eF.asd(v/2,e/2,e/2,z,f);if(D!=0&&D!=1){var n=w.r6.Vu($).slice(3);
n.reverse();for(var q=0;q<n.length;q++){var L=n[q],a=L.H0;L.H0=L.XX;L.XX=a}var F=new ht;F.translate(-v/2,-e/2);
F.scale(D,D);F.translate(v/2,e/2);l.q.uA(n,F);$=$.concat(n);$[2].length*=2}}else if(C=="LINE"){$=l.q.eF.Rect(0,0,v,e,0);
$.pop();$.pop();$[2].length=2}else if(C=="STAR"){$=l.q.eF.wO(v/2,e/2,v/2,2*Math.PI*(1/4),5,0,Z.starInnerScale)}else if(C=="REGULAR_POLYGON"){$=l.q.eF.AW(.5,.5,.5,Math.PI/2,Z.count,0);
var A=new ht;A.scale(v,e);l.q.uA($,A)}else if(C=="BOOLEAN_OPERATION"){$=[{type:6},{type:8,all:0}];var T=Z.children,P=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(Z.booleanOperation);
if(P==-1)throw Z;if(T==null)T=[];for(var q=0;q<T.length;q++){var Y=T[q],Q=new w.r6,o=[],I=bW.lh(Y,m,Q,o);
if(Q.u==null)continue;l.q.uA(Q.u,bW.hK(Y.transform));$=$.concat(Q.u.slice(2));for(var c=0;c<o.length;
c++)B.push(o[c])}for(var q=3;q<$.length;q++)if($[q].QZ!=null)$[q].QZ=P;k=null}else if(C=="VECTOR"){var y,i,h=3;
if(!0){var d=Z.vectorData;if(d==null)return;y=d.normalizedSize;i=d.vectorNetworkBlob}var V=m[i].bytes,R=new Uint32Array(V.buffer),G=new Float32Array(V.buffer),M=R[0],O=R[1],K=R[2],W=[],t=[],X=[],b=h+M*3,E=b+O*7;
for(var q=0;q<M;q++){var f0=h+q*3,ay=new aS(G[f0+1],G[f0+2]);W.push(ay)}for(var q=0;q<O;q++){var p=b+q*7;
t.push([R[p+0],R[p+1],G[p+2],G[p+3],R[p+4],G[p+5],G[p+6]])}for(var q=0;q<K;q++){var eo=R[E+1],co=X[q]=[];
E+=2;for(var c=0;c<eo;c++){var c5=R[E++],he=co[c]=[];for(var hU=0;hU<c5;hU++)he[hU]=R[E+hU];E+=c5}}if(E!=R.length)throw"e";
if(K==0){var aB=-1;for(var q=0;q<O;q++){if(aB==-1){}else{var ep=-1;for(var c=q;c<O;c++)if(t[c][4]==aB)ep=c;
for(var c=q;c<O;c++)if(t[c][1]==aB)ep=c;if(ep!=-1){var aO=0,a=t[ep];t[ep]=t[q];t[q]=a;if(a[1]!=aB){aO=a[1];
a[1]=a[4];a[4]=aO;aO=a[2];a[2]=a[5];a[5]=aO;aO=a[3];a[3]=a[6];a[6]=aO}}}aB=t[q][4]}X.push([[]]);for(var q=0;
q<O;q++)X[0][0].push(q)}var f$=[],fo=[];for(var bb=0;bb<X.length;bb++){for(var jl=0;jl<X[bb].length;
jl++){var e0=X[bb][jl],gI=0;if(e0.length>1){var d4=t[e0[0]],ab=t[e0[1]];gI=d4[4]==ab[1]?1:0}for(var q=0;
q<e0.length;q++){var c3=t[e0[q]],gr=1,a2=4;if(gI==0){gr=4;a2=1}var aL=W[c3[gr]],el=W[c3[a2]];if(q==0){fo.push("M");
f$.push(aL.x,aL.y)}fo.push("C");f$.push(aL.x+c3[gr+1],aL.y+c3[gr+2],el.x+c3[a2+1],el.y+c3[a2+2],el.x,el.y)}}}$=l.H.Ah({t:f$,C:fo},!1);
if(r!=0){var j=[],iJ=$[2].length;for(var q=0;q<iJ;q++)j.push(r);if(l.q.wj($))l.q.Dy($,2,j)}var aC=new ht;
aC.scale(y.x==0?1:u.x/y.x,y.y==0?1:u.y/y.y);l.q.uA($,aC)}S.u=$;if(k)B.push(k)};bW.Vg=function(Z,m){return Z[m.sessionID+","+m.localID]};
bW.a1Z=function(Z,m){return Z.sessionID==m.sessionID&&Z.localID==m.localID};bW.aaf=function(Z){var m={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",DARKEN:"dark",LUMINOSITY:"lum "}[Z];
if(m==null)throw Z;return m};bW.ON=function(Z){return{t:"Objc",v:l.X.M1({I:Z.r*255,z:Z.g*255,S:Z.b*255})}};
bW.hK=function(Z){var m=[Z.m00,Z.m10,Z.m01,Z.m11,Z.m02,Z.m12];for(var q=0;q<6;q++)if(Math.abs(m[q])<1e-20)m[q]=0;
return new ht(m[0],m[1],m[2],m[3],m[4],m[5])};function hk(){}hk.FK=function(){var Z=x.aD;function m(H,z,f,D){var n=D?[]:{};
while(z<H.length-1&&H[z]!=125){var L=Z(H,z,3),a=Z(H,z+3,1),F;z+=4;z++;if(a=="v"){var A=m(H,z,f+1,L=="ELM"||L=="TIL");
F=A.k;z=A.r}else if(a=="i"||a=="f"){var T=z;while(H[T]!=125)T++;var P=Z(H,z,T-z);F=a=="i"?parseInt(P,16):parseFloat(P);
z=T+1}else if(a=="s"){var Y=x.zO(H,z),P="";z+=2;for(var q=0;q<Y;q++)P+=String.fromCharCode(H[z+2*q+1]);
F=P;z=z+2*Y+1}else if(a=="b"){F=H[z]==49;z=z+2}else throw"e";if(D)n.push([L,F]);else if(n[L]==null)n[L]=F;
else{if(!(n[L]instanceof Array))n[L]=[n[L]];n[L].push(F)}}z++;return{k:n,r:z}}function S(H,z){var f=B(H).slice(1),H=z.Clr.v;
H.Rd.v=f[0]*255;H.Grn.v=f[1]*255;H.Bl.v=f[2]*255}function B(H){return[(H>>>24&255)/255,(H>>>16&255)/255,(H>>>8&255)/255,(H>>>0&255)/255]}function C(H,z){var f=z&4278190080|(z&255)<<16|(z>>>8&255)<<8|z>>>16&255;
new Uint32Array(H.buffer).fill(f)}function u(H,z){var f=H.TSZ,D=H.WPX,n=H.HPX,L=H.TIL,a=new bq(0,0,D,n),F=l.U(D*n*4),A=0;
for(var T=0;T<n;T+=f)for(var P=0;P<D;P+=f){var Y=new bq(P,T,f,f),Q,o=L[A];if(o[0]=="TMC"){Q=l.U(Y.Z()*4);
C(Q,o[1])}else if(o[0]=="TID"){Q=z[o[1]]}l.pY(Q,Y,F,a);A++}return[F,a]}function r(H,z){H=new Uint8Array(H);
var f=8,D,n={},V=0;while(f<H.length){var L=x.l(H,f);f+=4;var a=Z(H,f,4);f+=4;if(a=="mkTS"){var F=pako.inflate(H.slice(f,f+L)),A=m(F,0,0);
D=A.k}else if(a=="mkBT"){var T=x.l(H,f+4),P=x.l(H,f+8),F=pako.inflate(H.slice(f+76,f+L));if(P==0)for(var q=0;
q<F.length;q+=4){var Y=F[q],Q=F[q+1],o=F[q+2],I=F[q+3];F[q+3]=Y;F[q+2]=I;F[q+1]=o;F[q]=Q}else{var c=l.U(F.length*4);
c.fill(255);l.Dc(F,c);F=c}n[T]=F}f+=L+4}var y=D.PDC,i=y?y instanceof Array?y:[y]:[D.MKB],d=new bq;for(var q=0;
q<i.length;q++){var R=i[q];d=d.j3(new bq(0,V,R.WID,R.HIT));V+=R.HIT+100}z.e=d.e;z.n=d.n;z.buffer=l.U(d.Z()*4);
z.V6(i.length);V=0;for(var G=0;G<i.length;G++){z.g.push(z.iI());var R=i[G],M=R.WID,O=R.HIT,K=R.BGC,W=(R.LYL?R:D).LYL.LAY,h=3;
for(var q=0;q<W.length;q++)v(W[q],z,null,n,new ht(1,0,0,1,-R.XLC,-R.YLC+V));var t=z.AB();z.g.push(t);
var X=new bq(0,V,M,O);V+=O+100;t.Ea(X);if(K>>>24!=0){var b=l.X.M1({I:K>>>16&255,z:K>>>8&255,S:K>>>0&255});
t.add.artb.Clr={t:"Objc",v:b};h=4}t.add.artb.artboardBackgroundType.v=h;t.Se(R.PGN?R.PGN:"Page "+(G+1));
t.add.lsct=jf.aa;t.E4="pass";t.Kl=24}}function k(H,z,f){var D=H[z];return D instanceof Array?D[f]:D}function v(H,z,f,D,n){var L=z.AB();
if(H.VIS!=null)L.p0(H.VIS);if(H.VIF!=null)L.p0(H.VIF.VIS);if(H.OPA!=null)L.opacity=Math.round(255*H.OPA/1e3);
L.E4=H.CLL||f=="GRP"?"pass":"norm";if(H.BLD!=null){var a=H.BLD,F={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[a+""];
if(F==null)console.log(H.OBN,a);else L.E4=F;if(a==30)L.opacity>>>=1}if(H.CLL){L.Se(H.LNM);z.g.push(z.iI());
var A=H.CLL.CEL;if(A.length==null)A=[A];for(var T=A.length-1;T>=0;T--){var P=A[T].ELM;for(var q=P.length-1;
q>=0;q--)v(P[q][1],z,P[q][0],D,n)}L.add.lsct=H.DIS?jf.AH:jf.aa;L.Kl|=24}else if(f=="GRP"){var Y=L.add.lmfx=j(H.EFL),Q;
z.g.push(z.iI());var P=H.ELM;if(H.MNA){Q=P[0][1];P=P.slice(1)}L.Se("Group: "+P.length+" objects");for(var q=P.length-1;
q>=0;q--)v(P[q][1],z,P[q][0],D,n);if(Q){if(H.MRX){var o=u(Q,D),I=L.v=new w.Ga;I.rect=o[1].clone();I.rect.x=Q.XLC;
I.rect.y=Q.YLC+n.ku;I.channel=l.U(I.rect.Z());l.NK(o[0],I.channel,0);l.Yy(I.channel)}else{e(L,Q,n);L.T3(z)}}L.add.lsct=jf.aa;
L.Kl|=24}else if(f=="IMG"){L.Se(H.OBN?H.OBN:"Bitmap");var o=u(H,D);L.rect=o[1].clone();L.rect.x=H.XLC;
L.rect.y=H.YLC+n.ku;L.buffer=o[0]}else if(f=="TXT"){var c=H.TFS,y=c.TRN instanceof Array?c.TRN.length:1,R="",G="Arial",M=20,O=0;
L.add.lnsr="rend";L.add.TySh=e6.WL(0,0);L.add.TySh.sq=new bq(0,0,100,100);var i=new ht(1,0,0,1,H.LFT,H.TOP);
if(H.MTX){var d=H.MTX,I=new ht(d.M00,d.M01,d.M10,d.M11,d.M20,d.M21);i.concat(I)}i.concat(n);L.add.TySh.A=i;
var V=L.add.TySh.e7;for(var q=0;q<y;q++){var K=k(c,"TRN",q);if(K==null)continue;e6.Hd(V,R.length,K);
var W=e6.yH(V,0,1),t=k(c,"FON",q);if(t)G=t;e6.VR(W,G);var X=k(c,"PTS",q);if(X!=null)M=X;W.n1.FontSize=Math.round(M);
var h=k(c,"FCL",q);if(h!=null)O=h;W.n1.FillColor={Type:1,Values:B(O)};e6.rj(V,R.length,R.length+K.length,W);
R+=K}L.Se(R.slice(0,255));var b=H.RIT-H.LFT,E=H.BOT-H.TOP;if(H.IMG){v(H.IMG,z,"IMG",D,n);var f0=z.g.pop();
L.buffer=f0.buffer;L.rect=f0.rect.clone()}e6.xx(V,1);e6.Y8(V,[0,0,b,E])}else if(f=="PTH"){L.Se(H.OBN?H.OBN:"Path");
L.Kl|=16;var ay=!1;e(L,H,n);var p=L.add.vmsk,eo=L.add.vstk,co=l.q.Go(p.u),c5=H.PAT,he=c5.BPL,hU=c5.FPL,aB=c5.TXF;
if(hU&&hU.FEF)p.hC+=hU.FEF/2.4;if(he){var ep=he.CAT;eo.strokeEnabled.v=!0;eo.strokeStyleLineWidth.v.val=he.BDI;
eo.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fp.Rw.Rg[H.BRP];S(c5.BCL,eo.strokeStyleContent.v);
if(ep!="bc_Basic"&&ep!="bc_Pencil")ay=!0}if(hU==null){eo.fillEnabled.v=!1;L.add.SoCo=JSON.parse(fp.kr[fp.order.indexOf("SoFi")]);
S(0,L.add.SoCo)}else if(hU.CAT=="fc_Solid"){L.add.SoCo=JSON.parse(fp.kr[fp.order.indexOf("SoFi")]);S(H.PAT.FCL,L.add.SoCo)}else if(hU.CAT=="fc_Linear"||hU.CAT=="fc_Circular"||hU.CAT=="fc_Elliptical"){var aO=hU.CAT=="fc_Linear",f$=L.add.GdFl=JSON.parse(fp.kr[fp.order.indexOf("GrFl")]),fo=f$.Grad.v,bb=[],jl=hU.FGL,e0,gI=[];
if(jl.FGY){var d4=jl.FGY,e0=d4.FG0.FGI,gI=d4.FG1.FGI}else e0=jl.FGV.FGI;for(var q=0;q<e0.length;q++){var ab=e0[q],c3=B(ab.FGC),gr=1;
if(gI.length==e0.length)gr=B(gI[q].FGC)[0];bb.push([ab.FGP,c3.slice(1),gr])}f$.Type.v.GrdT=aO?"Lnr":"Rdl";
l.X.rp(bb,fo);fo.Intr.v=0;var a2=H.PRI?H.PRI:H,aL=new aS(a2.PSX,a2.PSY),el=new aS(a2.PEX,a2.PEY);if(hU.CAT=="fc_Elliptical"&&a2.PFX!=null){var iJ=new aS(a2.PFX,a2.PFY),aC=aS.qa(aL,el),cr=aS.qa(aL,iJ);
if(cr<aC){var bN=aC;aC=cr;cr=bN}el=new aS(aL.x+(aC+cr)/2,aL.y);if(aC/cr<.5)ay=!0}if(aO){aL.x=(aL.x+el.x)/2;
aL.y=(aL.y+el.y)/2}l.X.jR(aL,el,co,f$)}else console.log(hU.CAT);var Y=L.add.lmfx=j(H.EFL,p);if(hU&&hU.FTB!=0){var o=u(aB.MSK,D),hf={};
hf.id=fl.Qm()+"-d71c-11e5-b1ae-a548a96e5f9f";hf.name="someImage";hf.Pg=o;z.hg(hf);var cV=o[0];for(var q=0;
q<cV.length;q+=4){cV[q+3]=255-cV[q];cV[q]=cV[q+1]=cV[q+2]=255}var f$=JSON.parse(fp.kr[fp.order.indexOf("patternFill")]);
f$.Opct.v.val=Math.round(hU.FTB/10);f$.Algn.v=!0;f$.Ptrn.v.Idnt.v=hf.id;Y.patternFillMulti.v.unshift({t:"Objc",v:f$})}if(ay&&H.IMG){v(H.IMG,z,"IMG",D,n);
var ez=z.g[z.g.length-1];ez.opacity=L.opacity;return}L.T3(z)}else if(f=="URL")return;else{console.log("unknown layer type",f,H);
L.Se("Layer")}z.g.push(L)}function e(H,z,f){if(z.PBL==null)return;var D=H.add.vmsk=new w.r6,n=H.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default)),L=z.PBL.PBP;
if(!(L instanceof Array))L=[L];for(var a=0;a<L.length;a++){var F=L[a].PBT;if(F==null)continue;if(!(F instanceof Array))F=[F];
var A=L[a].ISC?0:3;D.u.push({type:A,length:F.length,QZ:0,Fw:2,Mm:0,oz:0});for(var q=0;q<F.length;q++){var T=F[q],P=T.XLC,Y=T.YLC,Q=[P,Y,P,Y,P,Y],o="XPC YPC XLC YLC XSC YSC".split(" ");
for(var I=0;I<6;I++){var c=o[I],y=T[c];if(y!=null)Q[I]=y}D.u.push({type:A+2,M:new aS(P,Y),H0:new aS(Q[0],Q[1]),XX:new aS(Q[4],Q[5])})}}l.q.uA(D.u,f);
H.VZ()}function j(H,z){var f=JSON.parse(fp.default);for(var q=0;q<fp.order.length;q++)f[fp.lg[q]]={t:"VlLs",v:[]};
if(H==null)return f;var D=H.EPS;if(!(D instanceof Array))D=[D];for(var q=0;q<D.length;q++){var n=D[q].DCE,L={};
for(var a=0;a<n.length;a++)L[n[a].DCK]=n[a].DCV;if(L.EffectIsVisible=="false")continue;var F=L.mkbFile_WriteOnly_TemporaryEffectUiName;
if(F=="Gaussian Blur..."&&z){z.hC+=parseFloat(L.gaussian_blur_radius);continue}var A=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(F);
if(A==-1){continue}var T=["DrSh","ebbl","IrGl","OrGl"][A],P=fp.lg[fp.order.indexOf(T)],Y=JSON.parse(fp.kr[fp.order.indexOf(T)]);
f[P].v.unshift({t:"Objc",v:Y});if(T=="DrSh"){Y.uglg.v=!1;$(L,"ShadowDistance",Y,"Dstn");$(L,"ShadowBlur",Y,"blur");
$(L,"ShadowAngle",Y,"lagl",180);Y.Opct.v.val=100;U(L,"ShadowColor",Y,"Clr")}if(T=="IrGl"){Y.Md.v.BlnM="Nrml";
var Q=L.MaskSoftness,o=L.GlowWidth;if(Q&&o){Q=parseInt(Q);o=parseInt(o);Y.blur.v.val=o+Q;Y.Ckmt.v.val=Math.round(100*o/(o+Q))}$(L,"BevelContrast",Y,"Opct");
U(L,"OuterBevelColor",Y,"Clr")}if(T=="OrGl"){Y.Md.v.BlnM="Nrml";var Q=L.MaskSoftness,o=L.GlowWidth;if(Q&&o){Q=parseInt(Q);
o=parseInt(o);Y.blur.v.val=o+Q}$(L,"BevelContrast",Y,"Opct");U(L,"OuterBevelColor",Y,"Clr")}if(T=="ebbl"){Y.uglg.v=!1;
$(L,"BevelWidth",Y,"blur");$(L,"AngleSoftness",Y,"Sftn");$(L,"BevelContrast",Y,"srgR");$(L,"LightAngle",Y,"lagl")}}return f}function $(H,z,f,D,n){var L=H[z];
if(n==null)n=0;if(L)f[D].v.val=parseInt(L)+n}function U(H,z,f,D){var n=H[z];if(n){n=n.slice(1);if(n.length==6)n=n+"ff";
if(n.length!=8)throw"e";var L=B(parseInt(n,16)),a=f[D].v;a.Rd.v=L[0]*255;a.Grn.v=L[1]*255;a.Bl.v=L[2]*255;
f.Opct.v.val=Math.round(f.Opct.v.val/100*L[3]*100)}}return r}();function fn(){}fn.FK=function(){function Z(Q,o){var I=!1,c=Date.now(),y=L(Q,I),c5=1;
if(I)console.log("part found",Date.now()-c);c=Date.now();var i=n(y),d=i.Layer,V=i.Header;if(I)console.log(i);
var R=d[0];R=i.Layer[0];if(I)console.log("document parsed",Date.now()-c);c=Date.now();i.Setup.Gradient=D(i.Setup.Gradient,y);
if(I)console.log("grads loaded",Date.now()-c);c=Date.now();i.Setup.Pattern=f(i.Setup.Pattern,y);if(I)console.log("patts loaded",Date.now()-c);
c=Date.now();i.Setup.DocumentData=z(i.Setup.DocumentData,y).pop();if(I)console.log("docdata loaded",Date.now()-c);
c=Date.now();i.Setup.SVGFilter=z(i.Setup.SVGFilter,y);if(I)console.log("svgfilter loaded",Date.now()-c);
c=Date.now();var G=V.Cropmarks,M=V.BoundingBox.split(" ").map(parseFloat),O=V.ArtSize?V.ArtSize.split(" ").map(parseFloat):[M[2]-M[0],M[3]-M[1]];
o.e=Math.round(O[0]);o.n=Math.round(O[1]);var K=[1,0,0,1,-M[0]+(o.e-(M[2]-M[0]))/2,-M[1]+(o.n-(M[3]-M[1]))/2];
K[3]=-1;K[5]=o.n-K[5];if(G){G=G.split(" ").map(parseFloat);o.e=Math.round(G[2]-G[0]);o.n=Math.round(G[3]-G[1]);
K=[1,0,0,-1,-G[0],o.n+G[1]]}var W=i.Setup.DocumentData;if(W&&W[0]&&W[0].ArtboardArray){var t=W[0].ArtboardArray;
if(t.length!=1)console.log(t.length,"artboards");var X=new bq;for(var q=0;q<t.length;q++){var h=t[q],b=h.PositionPoint1,E=h.PositionPoint2,f0=b[0],ay=Math.min(b[1],E[1]),p=E[0],eo=Math.max(b[1],E[1]);
X=X.j3(new bq(f0,ay,p-f0,eo-ay))}o.e=Math.round(X.e);o.n=Math.round(X.n);K[4]=-X.x;K[5]=X.y+o.n}var co=Math.max(o.e,o.n);
while(co*c5<1200)c5++;while(co*c5>6e3)c5*=.5;o.e=Math.round(o.e*c5);o.n=Math.round(o.n*c5);o.wd=Math.round(72*c5);
o.buffer=l.U(o.e*o.n*4);for(var q=0;q<6;q++)K[q]*=c5;for(var he=0;he<d.length;he++){var hU=d[he];hU.Raster=m(hU);
var aB=U(y,hU);S(o,aB,K,i,hU,y)}if(I)console.log("layers created",Date.now()-c);c=Date.now()}function m(Q){var o=Q.Layer,I=Q.Raster;
if(I==null)I=[];if(o){for(var q=0;q<o.length;q++){var c=o[q],y=c.Raster=m(c);I=I.concat(y)}I.sort(function(i,d){return i._begin-d._begin})}return I}function S(Q,o,I,c,y,i){var d="",V=0,R="",G=UDOC.G,M=UDOC.getState(),O="norm",K=1,W="SoCo",h=!1,b=0,f0=null,ay=!1,p=0,eo=null,co,c5,he=0,hU=0,aB=0;
M.ctm=I;var t=[0,0,0],X=[0,0,0],E=[],ep=[],aO=[];for(var f$=0;f$<o.length;f$++){var fo=o[f$];if(fo[0]=="%"){if(fo=="%_/ArtDictionary :"&&p==0)f0=[fo.slice(2)];
else if(f0!=null){if(fo=="%_"&&p==0){var bb=A(f0)[0],jl=bb.AI10_ArtUID;if(jl&&!jl.startsWith("XMLID"))Q.g[Q.g.length-1].Se(P(jl));
f0=null}else{f0.push(fo.slice(ay?1:2));if(fo=="%_X=")p++;if(fo=="%_X+")p--;if(fo=="%_/Binary : /ASCII85Decode ,")ay=!0;
if(ay&&fo.endsWith("~>"))ay=!1}}else if(eo){co+=(co==""?"":" ")+fo.slice(2);if(co.endsWith("X#")){eo.push(co.slice(0,co.length-3));
co=""}}continue}else if(fo=="/Mesh X!"){eo=[];co="";continue}else if(fo=="/End X!"){B(eo,M,Q);eo=null;
continue}fo=fo.trim();var e0=fo.split(" "),gI=e0[e0.length-1],d4=gI.toLowerCase(),ab=e0.map(parseFloat);
if(gI=="m")G.moveTo(M,ab[0],ab[1]);else if(gI=="L"||gI=="l")G.lineTo(M,ab[0],ab[1]);else if(gI=="V"||gI=="v"||gI=="Y"||gI=="y")G.quadCurveTo(M,ab[0],ab[1],ab[2],ab[3]);
else if(gI=="C"||gI=="c")G.curveTo(M,ab[0],ab[1],ab[2],ab[3],ab[4],ab[5]);else if(gI=="H"||gI=="h"){if(gI==d4)G.closePath(M);
E.push(JSON.parse(JSON.stringify(M.pth)))}else if(gI=="Xy"){O=["norm","mul ","scrn","over","sLit"][ab[0]];
K=ab[1];if(O==null){O="norm";console.log("unknown blend mode",ab[0])}}else if(gI=="Xd"){var c3=Q.g[Q.g.length-1];
c3.opacity=Math.round(255*K);c3.E4=c3.O1()&&O=="norm"?"pass":O}else if(gI=="AE")he=ab[0];else if(gI=="Ae")hU=ab[0];
else if(gI=="Xw")aB=ab[0];else if(gI=="*"){var gr=M.pth.crds,a2=M.ctm,aL=gr[0]==gr[2]?0:1;Q.Ua.push([aL,gr[aL]]);
G.newPath(M)}else if(gI=="XN")c5=fo.split(" ")[0];else if(gI=="XI"){var el=y.Raster,iJ,aC;if(el==null||el.length==0){console.log("no Raster");
continue}if(fo!="XI"){continue}else{var cr=el[V++].Data,bN=cr._begin,hf=cr._end;while(i[bN]!=88)bN++;
bN+=3;iJ=i.slice(bN,hf);aC=o[f$-2].split(" ").map(parseFloat)}var cV=aC.slice(8),ez=cV[2],jG=cV[3],jw=ez*jG,dw=l.U(jw*4);
dw.fill(255);var cb=cV[7],cz=cV[8],jq=cV[6],dU=Math.ceil(ez*cb*jq/8);if(cb==1){if(jq==8)for(var q=0;
q<jw;q++)for(var ge=0;ge<3;ge++)dw[4*q+ge]=iJ[q];else if(jq==1)for(var al=0;al<jG;al++)for(var a_=0;
a_<ez;a_++)for(var ge=0;ge<3;ge++)dw[4*(al*ez+a_)+ge]=255*(iJ[al*dU+(a_>>>3)]>>>7-(a_&7)&1);else throw jq}else if(cb==3)for(var q=0;
q<jw;q++)for(var ge=0;ge<3;ge++)dw[4*q+ge]=iJ[3*q+ge];else if(cb==4||cb==5)for(var q=0;q<jw;q++){var hc=e([iJ[cb*q+0]/255,iJ[cb*q+1]/255,iJ[cb*q+2]/255,iJ[cb*q+3]/255]);
dw[4*q+0]=hc[0]*255;dw[4*q+1]=hc[1]*255;dw[4*q+2]=hc[2]*255}else if(cb==7)for(var q=0;q<jw;q++){dw[4*q+0]=iJ[cb*q+0];
dw[4*q+1]=iJ[cb*q+1];dw[4*q+2]=iJ[cb*q+2]}else console.log("unknown number of channels",cb);if(cz==1){var g7=jG*dU;
for(var q=0;q<jw;q++)dw[4*q+3]=iJ[g7+q]}var b4=l.Mh(dw,ez,jG)?"JPG":"PNG";if(ez*jG<700*700)b4="PNG";
var eC=e2.Vh(b4).md([[dw.buffer]],ez,jG),cN=Q.tv(new Uint8Array(eC),"<Image>",0,0);Q.g.push(cN);cN.E4=O;
cN.opacity=Math.round(255*K);cN.p0(aB==0);var I=new ht;I.scale(1,-1);I.concat(v(aC.slice(1)));I.concat(v(M.ctm));
var i7=cN.rect.clone();i7.x=i7.y=0;var e0=l.H.ez(i7).t;l.H.A(e0,I,e0);cN.add.SoLd.Trnf=g.Q.T5(e0);cN.add.SoLd.nonAffineTransform=g.Q.T5(e0);
cN.l8(Q,!1)}else if(gI=="Ln"){d=u(fo)}else if(gI=="u"||gI=="q"||gI=="Lb"){ep.push(hU==1);aO.push((gI=="Lb"?1-ab[0]:aB)==0);
if(h)continue;Q.g.push(Q.iI())}else if(gI=="U"||gI=="Q"||gI=="LB"){if(ep.length==0||aO.length==0)throw f$;
var gC=ep.pop(),h7=aO.pop();if(gI=="LB")gC=he==1;if(h)continue;var cN=Q.AB();cN.Se((gI=="U"?"<Group>":"<Clip Group>")+R);
if(gI=="LB")cN.Se(d);if(gI=="Q"&&E.length!=0){var hH=E.pop(),bA=UDOC.G.isBox(hH,[0,0,Q.e,Q.n]);if(!bA)j(cN,hH,Q)}cN.add.lsct=gC?jf.AH:jf.aa;
cN.E4="pass";cN.Kl=24;cN.p0(h7);Q.g.push(cN)}else if(gI=="Bb"||gI=="Bh"||gI=="BB"){}else if(gI=="Bg"){var cq=c.Setup.Gradient[u(fo)];
W="GdFl";t=C(cq.If,cq.akd)}else if(gI=="Bm"||gI=="Xm"){var fd=t.Type.v.GrdT;if(fd=="Lnr"&&gI!="Xm"||fd=="Rdl"&&gI!="Bm")continue;
var iW=new aS(0,0),ca=new aS(1,0),f9=new ht;f9.concat(v(ab));f9.concat(v(M.ctm));iW=f9.xf(iW);ca=f9.xf(ca);
var bt=l.H.su(M.pth.crds);if(bt.Ov())bt=l.H.su([iW.x,iW.y,ca.x,ca.y]);if(fd=="Lnr"){iW.x=(iW.x+ca.x)/2;
iW.y=(iW.y+ca.y)/2}l.X.jR(iW,ca,bt,t)}else if(gI=="p"){var dO=u(fo),ea=c.Setup.Pattern[dO];if(ea.raw==null){var bt=ea.rK,ez=Math.round(bt[2]-bt[0]),jG=Math.round(bt[3]-bt[1]),bb=new fl;
bb.e=ez;bb.n=jG;bb.buffer=l.U(ez*jG*4);S(bb,ea.Fb,[1,0,0,-1,-ea.rK[0],jG+ea.rK[1]],c,y,i);ea.raw=new Uint8Array(e2.Vh("PSD").md(bb))}var c0=fo.slice(fo.indexOf(")")+2),i_=c0.slice(0,c0.indexOf("[")-1).split(" ").map(parseFloat),aV=c0.slice(c0.indexOf("[")+1,c0.indexOf("]")).split(" ").map(parseFloat);
W="patt";t=[dO,i_,aV]}else if(gI=="J"||gI=="j"||gI=="w"||gI=="M"||gI=="d"){for(var q=1;q<e0.length;q++){var aQ=e0[q],bJ=ab[q-1];
if(aQ=="w")M.lwidth=bJ;if(aQ=="j")M.ljoin=bJ;if(aQ=="J")M.lcap=bJ;if(aQ=="d"){var e9=fo.slice(fo.indexOf("[")+1,fo.indexOf("]")).trim();
if(e9.length!=0){var cC=e9.split(" ").map(parseFloat);M.dash=cC}}}}else if(d4=="xa"||d4=="xx"){var ef=[ab[4],ab[5],ab[6]];
W="SoCo";if(gI=="Xa"||gI=="Xx")t=ef;else X=ef}else if(d4=="xk"){var ef,b5=ab[ab.length-2],jx=ab[ab.length-3];
if(b5==0)ef=e(ab);else if(b5==1){ef=[ab[4],ab[5],ab[6]];for(var q=0;q<3;q++)ef[q]=jx*1+(1-jx)*ef[q]}else throw fo;
W="SoCo";if(gI=="Xk")t=ef;else X=ef}else if(d4=="k"||d4=="x"){if(d4=="x"){ab.pop();var bf=1-ab.pop();
for(var q=0;q<4;q++)ab[q]*=bf}var ef=e(ab);W="SoCo";if(gI==d4)t=ef;else X=ef}else if(d4=="g"){var ef=[ab[0],ab[0],ab[0]];
W="SoCo";if(gI==d4)t=ef;else X=ef}else if(d4=="n")G.newPath(M);else if(gI=="*u"){h=!0;b=0}else if(gI=="*U"||d4=="s"||d4=="f"||d4=="b"){if(gI!="*U"&&h){if(d4=="f"||d4=="b")b|=1;
if(d4=="s"||d4=="b")b|=2;continue}if(gI==d4)G.closePath(M);if(gI=="*U"){h=!1}var cN;if(W=="patt"){var ea=c.Setup.Pattern[t[0]];
cN=Q.tv(ea.raw,"<Pattern>",0,0);var i7=cN.rect.clone();i7.x=i7.y=0;var e0=l.H.ez(i7).t,aV=v(t[2]);aV.s9=aV.ku=0;
l.H.A(e0,aV,e0);cN.add.SoLd.Trnf=g.Q.T5(e0);cN.add.SoLd.nonAffineTransform=g.Q.T5(e0);cN.l8(Q,!1)}else{cN=Q.AB();
cN.Kl|=16;var dH=cN.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));dH.strokeEnabled.v=dH.fillEnabled.v=!1;
if(W=="SoCo"){cN.add.SoCo=JSON.parse(fp.kr[fp.order.indexOf("SoFi")]);var hT=cN.add.SoCo.Clr.v;r(hT,t)}if(W=="GdFl")cN.add.GdFl=t;
if(d4=="f"||d4=="b"||gI=="*U"&&b&1)dH.fillEnabled.v=!0;if(d4=="s"||d4=="b"||gI=="*U"&&b&2)bg.pu(dH,M,1,bg.Ar(X))}cN.Se("<"+(gI=="*U"?"Compound ":"")+"Path>"+R);
cN.E4=O;cN.opacity=Math.round(255*K);cN.p0(aB==0);j(cN,M.pth,Q);Q.g.push(cN);G.newPath(M)}else if(gI==","&&e0[1]=="/StoryIndex"){var je=c.Setup.TextDocument,jB=null;
if(!(je instanceof Array))je=c.Setup.TextDocument=H(je,i);var hG=je[0],gW=je[2];if(hG._DocumentResources)hG=je[0]=hE.a9E(hG);
else hE.arp(hG);var cN=Q.AB();cN.add.lnsr="rend";cN.add.TySh=e6.WL(0,0);var d3=gv.asf(hG),jJ=cN.add.TySh.e7=d3[ab[0]];
if(jJ==null){console.log("text not found");continue}cN.Se(e6.xu(jJ).slice(0,50));cN.E4=O;cN.opacity=Math.round(255*K);
cN.p0(aB==0);var bf=hG._1._1[ab[0]]._1._0[0]._0;bf=parseInt(bf.slice(1));var fj=hG._0._8._0,em=fj[bf]._0;
if(em._0)jB=k(em._0);else if(em._1)jB=k(em._1._0);else jB=k(em._2._2).slice(3);if(jB.length!=2){var bt=l.H.su(jB);
jB=[bt.x,bt.y];if(bt.Z()!=0){e6.xx(jJ,1);e6.Y8(jJ,[0,0,Math.round(bt.e),Math.round(bt.n)])}}var ip=new ht,iy=new ht(1,0,0,1,jB[0],jB[1]),dh=new ht(1,0,0,1,-gW[0],-gW[1]),iO=v(M.ctm),g0=new ht;
if(em._2&&em._2._2){var I=k(em._2._2);g0=new ht(I[0],I[1],I[2],I[3],I[4],I[5])}ip.concat(iy);ip.concat(g0);
ip.concat(dh);ip.scale(1,-1);ip.concat(iO);cN.add.TySh.A=ip;Q.g.push(cN);Q.kw=!0}}}function B(Q,o,I){var c=UDOC.G,y=[],i=[],d="/DeviceGray",V,R=[],G=1;
for(var M=0;M<Q.length;M++){var O=Q[M];if(O.endsWith(" /CS")){var K=O.indexOf("/NChannel"),W=O.indexOf("/Process");
if(O.startsWith("/DeviceRGB")){d="/DeviceRGB";V=3}else if(O.startsWith("/DeviceGray")){d="/DeviceGray";
V=1}else if(O.startsWith("/DeviceCMYK")){d="/DeviceCMYK";V=4;R=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(K!=-1){d="/DeviceCMYK";
V=parseInt(O.slice(K-2,K-1));var t=1;for(var q=0;q<V;q++){t=O.indexOf("[",t);R[V-1-q]=O.slice(t+1,t+8).split(" ").map(parseFloat);
t++}}else if(W){d="/DeviceGray";V=1}else throw O}else if(O[0]=="["){var X=O.indexOf("]"),h=O.slice(1,X).split(" ").map(parseFloat),b=O.slice(X+2),E,f0,ay,p,eo,co;
if(b=="/Size"||b=="/P"||b=="/R")continue;if(b=="/S"||b=="/A"){E=h[0];f0=h[1];ay=h[2];p=h[3];eo=h[4];
co=h[5]}else if(b=="/N"){var c5=V+(G==1?0:1),he;E=h[c5+0];f0=h[c5+1];ay=h[c5+2];p=h[c5+3];eo=h[c5+5];
co=h[c5+6];if(d=="/DeviceRGB")he=h.slice(0,3);else if(d=="/DeviceGray")he=[h[0],h[0],h[0]];else if(d=="/DeviceCMYK"){var hU=[0,0,0,0];
for(var q=0;q<V;q++){var aB=h[q],ep=R[q];hU[0]+=aB*ep[0];hU[1]+=aB*ep[1];hU[2]+=aB*ep[2];hU[3]+=aB*ep[3]}he=e(hU)}else throw he;
he.push(h[V]);i.push([he,E,f0])}else throw b;y.push([b,eo,co,E,f0,ay,p])}else if(O=="/E"){var aO=y.slice(0),f$=0;
for(var q=0;q<y.length;q++){var fo=y[q][0];if(fo=="/N"){f$++;continue}var bb=q,jl=q+1;while(y[jl][0]!="/N"&&jl<y.length)jl++;
if(f$==0||f$==3){for(var e0=0;e0<jl-bb;e0++)aO[bb+e0]=y[jl-1-e0]}else for(var e0=bb;e0<jl;e0++){var gI=aO[e0],d4=gI[1];
gI[1]=gI[5];gI[5]=d4;d4=gI[2];gI[2]=gI[6];gI[6]=d4}q=jl-1}y=[];for(var q=0;q<aO.length;q++){var gI=aO[q];
y.push(gI[1],gI[2],gI[3],gI[4],gI[5],gI[6])}var ab=y.length;c.moveTo(o,y[2],y[3]);for(var q=0;q<ab;q+=6){var ay=y[(q+4)%ab],p=y[(q+5)%ab],eo=y[(q+6)%ab],co=y[(q+7)%ab],E=y[(q+8)%ab],f0=y[(q+9)%ab];
c.curveTo(o,ay,p,eo,co,E,f0)}c.closePath(o);y=[]}else if(O.endsWith("/Version"))G=parseFloat(O[0])}var c3=I.AB();
c3.Kl|=16;c3.Se("<Mesh>");var gr=c3.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));gr.strokeEnabled.v=!1;
if(i.length>=2){var a2=0,aL=0,el=0;for(var q=0;q<i.length;q++)for(var e0=q+1;e0<i.length;e0++){var iJ=i[q][0],aC=i[e0][0],cr=iJ[0]-aC[0],bN=iJ[1]-aC[1],hf=iJ[2]-aC[2],cV=Math.sqrt(cr*cr+bN*bN+hf*hf);
if(cV>el){el=cV;a2=q;aL=e0}}var ez=i[a2],jG=i[aL],jw=c3.add.GdFl=C(0,[[0,ez[0]],[1,jG[0]]]),dw=v(o.ctm),cb=dw.xf(new aS(ez[1],ez[2])),cz=dw.xf(new aS(jG[1],jG[2])),jq=l.H.su(o.pth.crds);
cb.x=(cb.x+cz.x)/2;cb.y=(cb.y+cz.y)/2;l.X.jR(cb,cz,jq,jw)}j(c3,o.pth,I);I.g.push(c3);c.newPath(o)}function C(Q,o){var I=JSON.parse(fp.kr[fp.order.indexOf("GrFl")]),c=I.Grad.v;
c.Intr.v=0;I.Type.v.GrdT=["Lnr","Rdl"][Q];l.X.rp(o,c);return I}function u(Q){return Q.slice(Q.indexOf("(")+1,Q.indexOf(")"))}function r(Q,o){Q.Rd.v=o[0]*255;
Q.Grn.v=o[1]*255;Q.Bl.v=o[2]*255}function k(Q){var o=[];for(var q=0;q<Q.length;q++)o[q]=parseFloat(Q[q].slice(1));
return o}function v(Q){return new ht(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}function e(Q){return UDOC.C.cmykToRgb(Q)}function j(Q,o,I){Q.add.vmsk=new w.r6;
if(o.crds.length!=0)Q.add.vmsk.u=$(o);Q.VZ();Q.T3(I)}function $(Q){var o={t:Q.crds,C:Q.cmds},I=l.H.Ah(o,!1);
return I}function U(Q,o){var I=[o._begin],c=o._end-o._begin,y=c,i=o.Raster,M=0;if(i){for(var q=0;q<i.length;
q++){var d=i[q].Data;if(d==null)break;var V=d._begin+32,R=d._end;if(V>R)V=R;I.push(V,R);y-=R-V}}I.push(o._end);
var G=new Uint8Array(y);for(var q=0;q<I.length;q+=2){var V=I[q],O=I[q+1]-V;G.set(new Uint8Array(Q.buffer,V,O),M);
M+=O}return x.QN(G).split(/\r\n|\r|\n/)}function H(Q,o){if(Q==null)return[];var I=U(o,Q),c="",y="",i=0,d;
for(var q=2;q<I.length;q++){var V=I[q];if(V[0]=="%"){if(i==0)c+=V.slice(1);else y+=V.slice(1)}else if(V==";")i++;
else if(V.endsWith("/RulerOrigin ,"))d=V.split(" ").slice(0,2).map(parseFloat)}var R=[c,y],G=[];for(var q=0;
q<2;q++){var M=R[q],O=new Uint8Array(M.length);x.XI(O,0,M);var K=FromPS.F.ASCII85Decode({buff:O,off:0}),W=ju.FK(K);
G.push(W)}G.push(d);return G}function z(Q,o){if(Q==null)return[];var I=U(o,Q);I=I.slice(1);for(var q=0;
q<I.length;q++){var c=I[q];if(c[0]=="%")I[q]=c.slice(c[1]=="_"?2:1)}var y=A(I);return y}function f(Q,o){var I={};
if(Q==null)return I;for(var q=0;q<Q.length;q++){var c=U(o,Q[q]),y=c[1],i=u(y),d=y.slice(y.indexOf(")")+2).split(" ").map(parseFloat),V=[];
for(var R=2;R<c.length;R++)V.push(c[R].slice(2));I[i]={rK:d,Fb:V}}return I}function D(Q,o){var I={},c,y;
if(Q==null)return I;var i=[];for(var q=0;q<Q.length;q++){var d=U(o,Q[q]);for(var V=0;V<d.length;V++){var R=d[V];
if(R.endsWith("%_Bs")){var G=R.slice(0,R.length-4);if(!G.endsWith(" "))G+=" ";R=G+"%_BS"}if(R[0]=="("){var M=R.split(")");
c=M[0].slice(1);var O=M[1].split(" ");y=parseInt(O[1])}else if(R.endsWith("%_BS")){var M=R.split(" "),X,h=1;
M.pop();M=M.map(parseFloat);var K=M.pop(),W=M.pop(),t=M.pop();if(t==0)X=[M[0],M[0],M[0]];else if(t==2||t==4)X=[M[4],M[5],M[6]];
else if(t==1||t==3)X=e(M);else if(t==6){if(M.length==3)X=[M[0],M[0],M[0]];else X=e(M);h=M.pop()}else{throw t}i.push([K/100,X,h,W/100])}else if(R=="BD"){for(var b=0;
b<i.length-1;b++)i[b][3]=i[b+1][3];i.sort(function(E,f0){return E[0]-f0[0]});I[c]={If:y,akd:i};i=[]}}}return I}function n(Q){var o="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),I=Date.now(),c=0,y=[],i={Header:{}},d=[i],V=Q.length;
while(c<V){var R=c;while(R!=V&&Q[R]!=13&&Q[R]!=10){R++}if(Q[c]==37&&Q[c+1]==95&&Q[c+2]==37)c+=2;if(Q[c]==37&&(Q[c+1]==37||Q[c+1]==65)){var G=x.aD(Q,c,R-c);
if(G=="%%EndComments"||G=="%EndComments"||G=="%AI5_Begin_NonPrinting"||G=="%AI5_End_NonPrinting--"||G.startsWith("%AI17_Begin_Content_if_version_gt")||G=="%AI17_End_Versioned_Content"){}else{var M=G.indexOf("Begin"),O=Math.max(G.indexOf("_End"),G.indexOf("%End"));
if(M!=-1){var K=G.slice(M+5).split(":")[0],W={_begin:c,_end:c},t=d[d.length-1];if(o.indexOf(K)!=-1){if(t[K]==null)t[K]=[];
t[K].push(W)}else{if(t[K]!=null){console.log(d);throw G}t[K]=W}d.push(W);if(G.startsWith("%%BeginData")){R=x.Ok(Q,"%%EndData",c)}else if(G=="%AI9_BeginDocumentData")R=x.Ok(Q,"%AI9_EndDocumentData",R);
else if(G=="%AI11_BeginTextDocument")R=x.Ok(Q,"%AI11_EndTextDocument",R)}else if(O!=-1){d.pop()._end=c}else if(d.length==1&&(G.startsWith("%AI")||G.startsWith("%%")&&G.indexOf(" ")!=-1)){var X=1;
if(G.startsWith("%AI"))while(G[X]!="_"&&X<G.length)X++;var h=G.indexOf(":");if(h==-1)h=G.indexOf(" ");
var b=G.slice(X+1,h),E=G.slice(h+1).trim();i.Header[b]=E}}}c=R;if(Q[c]==13)c++;if(Q[c]==10)c++}return i}function L(Q,o){var I=Date.now(),c=new Uint8Array(Q),y,i=c[2]==68;
if(o)console.log(!i?"EPS":"PDF");if(i){var d=x.Ok(c,"/AIMetaData "),p=!1,eo=!1;while(c[d]!=60)d--;d--;
var V=x.Ok(c,">>",d),R=x.aD(c,d+2,V-d-2).split("/"),G=[];for(var q=0;q<R.length;q++){var M=R[q],O=M.startsWith("AIPrivateData"),K=M.startsWith("AIPDFPrivateData");
if(!O&&!K)continue;var W=M.trim().split(/\s+/),t=parseInt(W[1]),X=parseInt(W[0].slice(O?13:16));G.push([X,t])}if(o)console.log("--- map made",Date.now()-I);
I=Date.now();var h=FromPDF.indexOfXref(c),b=[],E=FromPDF.readXrefTrail(c,h,b),f0={buff:c,off:0},ay=new Array(G.length),co=d;
for(var q=0;q<G.length;q++){var X=G[q][0],t=G[q][1],c5=FromPDF.getIndirect(t,0,f0,b),he=c5.buff,hU=c5["/Filter"],aB=0;
if(hU!=null&&typeof hU=="string")hU=[hU];var ep=x.aD(he,aB,aB+20);if(ep=="%AI12_CompressedData"){aB+=20;
p=!0}else if(ep=="%AI24_ZStandard_Data"){aB+=20;eo=!0}he=new Uint8Array(he.buffer,he.byteOffset+aB,he.length-aB);
if(hU)for(var aO=0;aO<hU.length;aO++){var f$=hU[aO];if(f$=="/FlateDecode")he=pako.inflate(he);else if(f$=="/ASCIIHexDecode")he=FromPS.F.HexDecode({buff:he,off:0});
else if(f$=="/ASCII85Decode")he=FromPS.F.ASCII85Decode({buff:he,off:0});else throw f$}ay[X-1]=he}if(o)console.log("--- arrays found",Date.now()-I);
I=Date.now();var fo=x.aD(ay[0],0,13);if(fo=="%%BoundingBox"||fo=="%AI7_Thumbnai")ay=ay.slice(1);if(fo=="%AI24_ZStanda"){ay[0]=ay[0].slice(20);
eo=!0}if(x.aD(ay[0],0,13)=="%AI12_Compres"){ay[0]=ay[0].slice(20);p=!0}y=a(ay);if(o)console.log("--- concatenated",Date.now()-I);
I=Date.now();if(p)y=UZIP.inflate(y);if(eo)y=e2.hW.vq(y);if(o)console.log("--- inflated",Date.now()-I);
I=Date.now()}else{var bb=x.QN(c);if(bb.indexOf("%AI5_BeginLayer")!=-1){y=c}else{var jl=bb.split(/[\n\r]+/),e0=[],gI=!1;
for(var d4=0;d4<jl.length;d4++){var ab=jl[d4].trim();if(ab=="%AI9_PrivateDataEnd"){gI=!1;break}else if(ab=="%AI9_DataStream"||ab=="%AI24_DataStream"){gI=!0}else if(gI)e0.push(ab.slice(1))}var c3=x.P8(e0.join("")),gr=FromPS.F.ASCII85Decode({buff:c3,off:0});
if(gr[0]==120&&gr[1]==156)y=UZIP.inflate(gr);else y=e2.hW.vq(gr)}}return y}function a(Q){var o=0,c=0;
for(var q=0;q<Q.length;q++)o+=Q[q].length;var I=new Uint8Array(o);for(var q=0;q<Q.length;q++){var y=Q[q];
I.set(y,c);c+=y.length}return I}function F(Q,o){for(var q=0;q<o.length;q++)if(Q.startsWith(o[q]))return!0;
return!1}function A(Q){var o=[],I=[],top=-1,c,y=null,i=null,d=0;for(var V=0;V<Q.length;V++){var R=Q[V];
if(c){R=c+R;c=null}var G="\t".repeat(o.length);if(y!=null){y.push(R);if(R.endsWith("~>")){var M=x.P8(y.join("")),O=FromPS.F.ASCII85Decode({off:0,buff:M});
o.push(O);I.push(!1);top++;y=null}}else if(i!=null){if(R=="X+"){if(d==1){o.push(i);I.push(!1);top++;
i=null}else d--}else if(R=="X=")d++;else i.push(R)}else if(R=="/Binary : /ASCII85Decode ,"){y=[]}else if(R=="X="){i=[];
d++}else if(R=="/SVGFilter :"||R=="; /Def ;")continue;else if(R.startsWith("/")&&R[1].toUpperCase()!=R[1].toLowerCase()){if(R.startsWith("/XMLUID")){var K=T(R);
if(I[top])throw"e";o[top][K[4]]=K[2]}if(R.startsWith("/GObjRef")){var K=T(R);if(!I[top])throw"e";o[top].push(K[2])}else{var W=R.startsWith("/Array")||R.startsWith("/Document");
o.push(W?[]:{});I.push(W);top++}}else if(R.endsWith(",")){var t,X,K=T(R);K.pop();if(K[0]==";"||K.length==1){X=o.pop();
I.pop();top--;t=I[top]?null:K.pop()}else{t=I[top]?null:K.pop();var h=K.pop(),b=K[0];if(h=="/Int")X=parseInt(b);
else if(h=="/Real")X=parseFloat(b);else if(h=="/Bool")X=b=="1";else if(h=="/String"||h=="/UnicodeString")X=K.join("");
else if(h=="/RealMatrix"||h=="/RealPoint"||h=="/RealPointRelToROrigin")X=K.map(parseFloat);else throw h}if(I[top])o[top].push(X);
else o[top][t]=X}else if(R==";"){}else if(R==""){}else{if(R.indexOf("/RealPoint")!=-1){}else if(R.startsWith("(")&&R.endsWith(")")){}else if(R.endsWith("/RealMatrix")){}else throw R;
c=c?c+R:R}}return o}function T(Q){var o=0,I=[];while(o<Q.length){var c=Q[o],y=c.charCodeAt(0);if(c==" ")o++;
else if(c==","||c==";"||c==":"){I.push(c);o++}else if(c=="("){var i=o+1;while(!(Q[i]==")"&&Q[i-1]!="\\"))i++;
var d=Q.slice(o+1,i);I.push(d);o=i+1}else if(c=="/"||c=="-"||48<=y&&y<=57){var i=o;while(Q[i]!=" ")i++;
I.push(Q.slice(o,i));o=i}else throw c}return I}function P(Q){var o="";for(var q=0;q<Q.length;q++){if(Q[q]=="_"&&Q[q+1]=="x"){var gY=parseInt(Q.slice(q+2,q+4),16);
o+=String.fromCharCode(gY);q+=4}else if(Q[q]=="_")o+=" ";else o+=Q[q]}return o}function Y(Q){var o="xmlnode-nodename",I="xmlnode-nodevalue",c="xmlnode-attributes",y="xmlnode-children",i=Q[o],d=Q[c],V=Q[y],R={_nam:i};
for(var G in d){var M=d[G];if(Object.keys(M[c]).length!=0||M[y].length!=0)throw"e";if(M[o]!=G)throw"e";
R[G]=M[I]}if(V.length==0)return R;var O=R.cln=[];for(var q=0;q<V.length;q++)O.push(Y(V[q]));return R}return Z}();
var g={};g.F=function(Z){return window.devicePixelRatio||1};g.MH=function(Z,m){return(m.auA=="touch"?12:4)*g.F()/Z.s.R};
g.cd=function(Z,m,S){this.name=Z;this.id=m;this.CF=null;if(S!=null)this._5=S};g.cd.prototype.W2=function(Z,m,S,B,C){};
g.cd.prototype.enable=function(Z,m,S,B,C,u){var r=new eY(_.E.W,!0);r.data={d:_.B.tC,l4:"default"};m.c(r)};
g.cd.prototype.disable=function(Z,m,S,B,C){};g.cd.prototype.zB=function(Z,m,S,B,C){return!1};g.cd.prototype.kV=function(Z,m,S,B,C){};
g.cd.prototype.dm=function(Z,m,S,B,C){};g.cd.prototype.hJ=function(Z,m,S,B,C){};g.cd.prototype.qB=function(Z,m,S,B,C,u){};
g.cd.prototype.L0=function(Z,m,S,B,C){};g.cd.prototype._s=function(Z,m,S,B){};g.cd.prototype.Ll=function(Z,m,S,B){};
g.cd.prototype.gE=function(Z,m){};g.cd.prototype.Jm=function(Z,m){};g.cd.prototype._F=function(Z,m,S,B,C){};
g.cd.prototype.C7=function(Z,m){};g.cd.prototype.ar=function(Z,m){return!1};g.cd.prototype.oU=function(Z,m){return!1};
g.cd.prototype.nE=function(){return!1};g.cd.prototype.Cu=function(Z,m){return!0};g.cd.prototype.Jf=function(){return null};
g.cd.prototype.UM=function(Z,m,S){};g.cd.prototype.dY=function(){return!1};g.cd.prototype.Qw=function(Z,m,S,B){};
g.cd.prototype.track=function(Z){var m=new eY(_.E.lX,!0);m.data=Z;Z.ox=!0;this.CF.c(m)};g.cd.gR=function(Z,m,S,B){var C=10*g.F()*(Z.auA=="touch"?2:1),u=Z.x+C,r=Z.y-C;
g.cd.Md(u,r,[iD.get([12,41]).charAt(0)+": "+l.Zv.Fn(m.e,S.wd,B,S.e,!0),iD.get([12,42]).charAt(0)+": "+l.Zv.Fn(m.n,S.wd,B,S.n,!0)],S)};
g.cd.Md=function(Z,m,S,B){var C=g.F(),u=Math.round,r=u(11*C),k=u(100*C),v=u((S.length*14+5)*C),e=new bq(Z,m-v,k,v),j=g.cd._w;
if(j==null)j=g.cd._w=document.createElement("canvas");j.width=k;j.height=v;var $=j.getContext("2d");
$.fillStyle="rgba(0,0,1,1)";$.fillRect(0,0,k,v);$.font=r+"px monospace";$.fillStyle="rgba(255,255,255,1)";
for(var q=0;q<S.length;q++)$.fillText(S[q],u(4*C),u((q+1)*13*C));var U=[$.getImageData(0,0,k,v).data,e.clone()];
if(B)B.D.vC=[U];return U};g.cd._w=null;g.Ta="0";g.Ml="1";g.aaY="2";g.amc="3";g.r0="5";g.a1_="6";g.aqS="7";
g.DC="8";g.p7="9";g.Ug="10";g.R7="11";g.dD="12";g.AE="13";g.ps="14";g.sW="16";g.LM="18";g.bY="19";g.ZS="20";
g.k1="21";g.Zu="22";g._4="23";g.G4="24";g.V$="25";g.te="27";g.ms="31";g.ak2="32";g.a3c="34";g.aaP="35";
g.Ax="36";g.RE="37";g.AU="38";g.VK="39";g.IR="40";g.xH="41";g.Cb="42";g._k="43";g.WH="47";g.H6="48";
g.bO="51";g.Y0="52";g.bu="54";g.PW="55";g.d1="56";g.OX="57";g.A9="58";g.Yz="59";g.ahY="60";g.ky="61";
g.h6="70";g.zp="100";g.Zz="101";g.yj="102";g.Xu="103";g.CZ="120";g.b$="230";g.aam="231";g.C5="232";g.vJ="233";
g.oV="234";g.Ny="235";g.iU="236";g.jM=function(Z){var m=g.JV,S=null;for(var B in m)if(m[B][1].indexOf(Z[1].classID)!=-1)S=B;
return S};g.JV={};g.JV[g._4]=["tools/brush",["PbTl"]];g.JV[g.G4]=["tools/pencil",["PcTl"]];g.JV[g.ms]=["tools/eraser",["ErTl"]];
g.T1=function(Z,m,S){g.cd.call(this,Z,m,S);this.Et={brush:Z?bL.UU():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this._q=null;this.Qk=null;this.wL=null;this.u_=null;this.W1=null;this.Xw=null;this.cC=null;this.bl=null;
this.eK=null;this.ZM=null;this.EN=null;this.eV=null;this.s6=null;this.Yc=1;this.VO=!1;this.yM=null;this.caller=null};
g.T1.prototype=new g.cd;g.T1.prototype.oU=function(Z,m){return Z.vs&&m.j(iZ.nQ)};g.T1.prototype.dm=function(Z,m,S,B,C){if(B.j(iZ.__)){this.Xw=new aS(C.x,C.y);
var u=this.Et.brush.Brsh.v,r=u.Dmtr.v.val,k=u.Hrdn!=null?u.Hrdn.v.val:-1;this.cC=[r,k,!0,JSON.parse(JSON.stringify(this.Et.brush)),C];
this.i9(S)}};g.T1.prototype.Ej=function(Z,m,S){var B=this.cC,C=Z.s.R,u=S.x-B[4].x,r=S.y-B[4].y,k=B[0],v=B[1],e=Math.abs(u)>Math.abs(r);
if(e&&B[2]){var j=Math.round(2*u/C);k+=j;S.x-=u-.5*j*C}if(!e&&!B[2]&&v!=-1){var j=Math.round(.25*r);
v+=j;S.y-=r-4*j}k=Math.max(1,k);v=B[1]==-1?-1:Math.max(0,Math.min(100,v));var $=B[3];$.Brsh.v.Dmtr.v.val=k;
if(v!=-1)$.Brsh.v.Hrdn.v.val=v;this.cC=[k,v,e,$,S];var U=fK.E$($,m.yf.VV,C),H=U[1];H.x=Math.round(this.Xw.x-H.e/2);
H.y=Math.round(this.Xw.y-H.n/2);Z.D.Fk=[U];var z=Z.s.tr(this.Xw.x,this.Xw.y);Z.D.MT={ly:[],Jj:[z.x-k/2,z.y,z.x+k/2,z.y]};
if(v!=-1)Z.D.MT.Jj.push(z.x+50/C,z.y-v/2,z.x+50/C,z.y+v/2);Z.tV=!0};g.T1.prototype.L0=function(Z,m,S,B,C){if(this.id==g.ZS||this.id==g.k1)return;
if(this.Xw){this.Xw=null;this.IY(JSON.parse(JSON.stringify(this.cC[3])));Z.D.Fk=[];Z.D.MT=null;Z.tV=!0;
return}var u=new eY(_.E.W,!0);u.data={d:_.B.lL,b:this.id,a6g:"showBrushOpts",Mc:new aS(C.PA+4,C.ec)};
m.c(u)};g.T1.prototype.IY=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.L8,Lh:bo.iF,U3:Z};this.caller.c(m)};
g.T1.GZ=function(Z,m,S,B,C,u){if(Z==null)Z="FrgC";if(m==null)m="norm";if(S==null)S=1;if(C==null)C=!1;
var r={classID:"Fl",Usng:{t:"enum",v:{FlCn:Z}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(S*100)}},PrsT:{t:"bool",v:C},Md:{t:"enum",v:{BlnM:d1.D2(m)}}};
if(Z=="Clr")r.Clr={t:"Objc",v:B};if(Z=="contentAware")r.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(Z=="Ptrn")r.Ptrn={t:"Objc",v:u};return{CE:"fill",Oz:r}};g.T1.prototype.W2=function(Z,m,S,B,C){this.CF=m;
var u=S.tp.length;if(u==0&&!S.t9())return;var r=u!=0?-1-S.tp[0]:S._[0],k=S.g[r];if(Z.d=="fromAction"){var v=Z.KT,e=v.Oz;
if(e&&e.null&&e.null.v[0]&&e.null.v[0].v.classID=="Path"){var j=S.Nu(),$=j[0],U=j[1],H=$[U.length==0?0:U[0]].add.vmsk;
if(v.CE=="fill"){var z=H.sd(),f=C.Nx,D=this.Et,n=f>>16&255,L=f>>8&255,a=f>>0&255;this.iL(S,k,z,n,L,a,Math.round(D.opacity*255),D.bmode,"Fill Path")}else{for(var F=0;
F<1e3;F++){var A=l.q.jw(H.u,F,!0);if(A==-1){this.qB(S,m,C,B,null);break}var T=H.u[A],P=H.u.slice(A,A+1+T.length),Y=l.H.Rl(P,!0).t,Q=Y.slice(0,8);
for(var o=8;o<Y.length;o+=6)Q.push(Y[o-2],Y[o-1],Y[o],Y[o+1],Y[o+2],Y[o+3],Y[o+4],Y[o+5]);var I={};I.Points=Q;
I.TextOnPathTRange=H.Bp.slice(0);var I=jN.i$(I,2),c=I[0];if(F==0)this.kV(S,m,C,B,S.s.o5(c[0],c[1]));
else this.Qk.moveTo(c[0],c[1]);for(var q=2;q<c.length;q+=2){var y=S.s.o5(c[q],c[q+1]);y.vs=!0;this.hJ(S,m,C,B,y,this.Et.flow)}}}}else if(v.CE=="fill"){var i=e.PrsT?e.PrsT.v:!1,d=k?k.add.lspf:0;
if(i&&k){k.add.lspf=d==null?1:d|1}var V=(e.Opct?e.Opct.v.val:100)/100,R=e.Md?d1.Pi(e.Md.v.BlnM):"norm",G=e.Usng.v.FlCn;
if(G=="contentAware"){if(S.$==null){alert("Select an area to heal first.");return}if(!S.t9())return;
this.Co(S);this.hr(S,0);var M=S.$,O=l.U(M.rect.Z()*4);l.cN(M.channel,O,3);this.Zr(S,"sheal",O,M.rect,M.rect);
this.G(S,M.rect);this.finish(S,M.rect)}else if(G=="Ptrn"){var K=C.jx,W=S.$?S.$.rect.clone():new bq(0,0,S.e,S.n),t=l.U(W.Z()*4);
aK.DY(e,t,W,K,new aS(0,0));this.rL(S,k,S.$,t,"norm",[6,48,0,2])}else{var f;if(G=="FrgC")f=C.Nx;else if(G=="BckC")f=C.ZN;
else if(G=="Blck")f=0;else if(G=="Wht")f=16777215;else if(G=="Gry")f=8421504;else if(G=="Clr"){var X=l.X.gN(e.Clr.v);
f=X.I<<16|X.z<<8|X.S}var n=f>>16&255,L=f>>8&255,a=f>>0&255;this.iL(S,k,S.$,n,L,a,Math.round(255*V),R,[2,3])}if(i&&k){k.add.lspf=d==null?0:d}}else if(v.CE=="delete"){var h=r<0?1:k.E_,M=S.$,ay;
if(M==null)return;var b=r<0?S.Xz[-r-1]:h<=0?null:h==1?k.sd():k.ws(S).v,W=h<=0?k.rect:b.rect,E=h<=0?M.rect.o9(W):M.rect.clone();
if(E.Ov())return;var f0=E.Z();if(h<=0){ay=l.U(f0*4);l.pY(k.buffer,k.rect,ay,E)}else{ay=l.U(f0);b.extend(E);
l.Ju(b.channel,b.rect,ay,E)}if(0<=r&&k.Cs(S,M)){if(h<=0){l._z(ay,0);l.pY(k.rl.rK,k.rl.P5,ay,E)}else{ay.fill(255);
l.Ju(k.rl.rK,k.rl.P5,ay,E)}}else{if(h<=0){var p=l.U(ay.length>>2);l.NK(ay,p,3);l.a.AJ(l.Td(M.rect.Z()),M.rect,p,E,M.channel,E,1);
l.cN(p,ay,3)}else{var eo=l.U(M.rect.Z()),n=C.ZN>>>16&255,L=C.ZN>>8&255,a=C.ZN>>0&255;eo.fill(Math.round(l.dA(n,L,a)));
l.a.AJ(eo,M.rect,ay,E,M.channel,E,1)}}this.A3(S,!0,[2,2],r,h,E,ay)}}if(Z.d=="stroke"){var co=Z.ao1,M=S.$;
if(M==null){M={rect:k.rect.clone(),channel:l.U(k.rect.Z())};l.NK(k.buffer,M.channel,3)}var c5=aK.zx(co),he=g.nJ.pN(M,Math.ceil(c5[0]),Math.ceil(c5[1])),f=l.X.gN(co.Clr.v),n=Math.round(f.I),L=Math.round(f.z),a=Math.round(f.S);
this.iL(S,k,he,n,L,a,Math.round(255*co.Opct.v.val/100),d1.Pi(co.Md.v.BlnM),[14,9])}if(Z.d=="fillBMP"){this.rL(S,k,S.$,Z.X9,Z.o6,Z.fm)}if(Z.d=="draw"){var hU=Z.xw,aB=hU.rect;
this.Co(S);var ep=S.g[S._[0]];if(Z.amQ&&ep&&ep.E_<=0&&S.tp.length==0){aB=g.dW.eG(hU,S);ep.buffer=hU.buffer.slice(0);
ep.rect=aB.clone()}else{var aO=this.Et.bmode;this.Et.bmode="norm";this.Zr(S,"draw",hU.buffer,aB,aB.o9(new bq(0,0,S.e,S.n)));
this.Et.bmode=aO}this.G(S,aB);S.jU=!0;this.finish(S,aB,Z.fm,Z.amQ)}};g.T1.prototype.iL=function(Z,m,S,B,C,u,r,k,v){var e=S==null?new bq(0,0,Z.e,Z.n):S.rect,j=r<<24|u<<16|C<<8|B<<0,$=l.U(e.Z()*4);
l._z($,j);this.rL(Z,m,S,$,k,v)};g.T1.prototype.rL=function(Z,m,S,B,C,u){var r=Z.tp.length!=0?-1-Z.tp[0]:Z._[0],k=r<0?1:m.E_,v=r<0?Z.Xz[-1-r]:k<=0?null:k==1?m.sd():m.ws(Z).v,e=k<=0?m.rect:v.rect,j=S==null?new bq(0,0,Z.e,Z.n):S.rect,$=S==null?l.fH(Z.e*Z.n):S.channel,U=j.Z(),H,z=null;
if(k<=0){H=l.U(U*4);l.pY(m.buffer,m.rect,H,j)}else{H=l.U(U);v.extend(j);l.Ju(v.channel,v.rect,H,j)}if(S!=null)l.K7($,B);
if(k>0){z=l.U(U);l.Iy(B,z)}if(0<=r&&S&&m.Cs(Z,S)){var f=m.rl.Di,D=m.rl.Di.slice(0);if(k<=0)l.Yx(B,D);
else l.Yx(z,D);var n=new h8([2,3],this);n.data={d:"drawtemp",i:Z._[0],Hl:k,anF:f,amP:D};Z.oF(n);this.gE(n.data,Z)}else{if(k<=0){var L;
if(m.YL(0)){L=l.U(j.Z());l.NK(H,L,3)}l.a.qn(C,B,j,H,j,j,1);if(m.YL(0))l.cN(L,H,3)}else l.a.AJ(z,j,H,j,$,j,1);
this.A3(Z,!0,u,r,k,j,H)}};g.T1.prototype.ar=function(Z){if(iZ.WK.indexOf(Z)!=-1)return!0;return!1};g.T1.prototype._s=function(Z,m,S,B){var C=this.Et.brush,u=B.j(iZ.__),r=u!=this.VO,k=g.T1.N7(C,B);
if(k!=null)this.IY(k);if(!B.j(iZ.Sx)&&B.CX()!=-1){var v=iZ.eq(Math.round(this.Et.opacity*100),B.CX())/100;
this.cX({opacity:v},m)}if(this.id==g.DC&&r&&Z!=null){var e=this.Et.qsmode;if(e==2)e=Z.$==null?0:1;else e=2;
this.cX({qsmode:e},m)}this.VO=u;if(r){if(Z)this.Yc=Z.s.R;this.i9(S,B)}};g.T1.N7=function(Z,m){var S=Z.Brsh.v.Dmtr.v.val,B=Z.Brsh.v.Hrdn!=null?Z.Brsh.v.Hrdn.v.val:-1,C=S,u=B,r=m.j(iZ.nQ);
if(m.j(iZ._V)){if(r)B=25*Math.floor((B-1)/25);else{if(S<=10)S--;else if(S<=50)S=5*Math.floor((S-1)/5);
else if(S<=100)S=10*Math.floor((S-1)/10);else if(S<=200)S=25*Math.floor((S-1)/25);else if(S<=400)S=50*Math.floor((S-1)/50);
else S=100*Math.floor((S-1)/100)}}if(m.j(iZ.S_)){if(r)B=25*Math.ceil((B+1)/25);else{if(S<10)S++;else if(S<50)S=5*Math.ceil((S+1)/5);
else if(S<100)S=10*Math.ceil((S+1)/10);else if(S<200)S=25*Math.ceil((S+1)/25);else if(S<400)S=50*Math.ceil((S+1)/50);
else S=100*Math.ceil((S+1)/100)}}S=Math.max(1,S);B=Math.max(0,Math.min(100,B));if(u==-1)B=-1;if(S!=C||B!=u){var k=JSON.parse(JSON.stringify(Z));
k.Brsh.v.Dmtr.v.val=S;if(u!=-1)k.Brsh.v.Hrdn.v.val=B;return k}return null};g.T1.prototype.i9=function(Z,m,S,B){if(Z.yf.list.length==0)return;
var C=this.id,u;if((C==g.te||C==g.bY||C==g._4||C==g.G4)&&(m!=null&&m.j(iZ.__)||this.Et.alt[0]))u="crosshair";
else{var r=this.Yc,k=this.Et.brush;if((C==g.te||C==g.bY)&&S&&this.eV&&this.eV.length==this.EN.Z()*4){var v=S.s.tr(B.x,B.y),e=this.QE(v),j=this.eV,$=this.EN,U=new bq($.x+e.x,$.y+e.y,$.e,$.n),H=fK.E$(k,Z.yf.VV,r),z=H[0],f=H[1],D=Math.ceil(f.e/r),n=new bq(Math.round(v.x-D/2),Math.round(v.y-D/2),D,D),L=l.U(n.Z()*4),a,F;
l.pY(j,U,L,n);if(r==1){a=L;F=n}else{var A=new ht(r,0,0,r,0,0),T=g.Q.zr([L,n],A,!0);F=f.clone();F.x=T.rect.x;
F.y=T.rect.y;if(F.Qu(T.rect))a=T.buffer;else{a=l.U(F.Z()*4);l.pY(T.buffer,T.rect,a,F)}}var P=this.Et.opacity/255;
for(var q=0;q<a.length;q+=4)a[q+3]=P*(z[q+3]*a[q+3]);fK.aqM(new Uint32Array(a.buffer),F,4278190080,4294967295);
u={dk:a,pe:F,n3:new aS(F.e/2,F.n/2)}}else u=fK.kv(k,Z.yf.VV,r,C==g.V$)}var Y=new eY(_.E.W,!0);Y.data={d:_.B.tC,l4:u};
if(this.caller)this.caller.c(Y)};g.T1.prototype.enable=function(Z,m,S,B){this._q=S;this.caller=m;this.IY(JSON.parse(JSON.stringify(this.Et.brush)));
if(Z&&Z.s.R!=0)this.Yc=Z.s.R;this.i9(S,B)};g.T1.prototype.C7=function(Z,m){if(m==bo.iF){this.Et.brush=Z.yf.dS;
this.i9(Z)}};g.T1.prototype._F=function(Z,m,S,B,C){for(var u in Z)this.Et[u]=Z[u];if(this.Et.alt[0])this.i9(C,B,S)};
g.T1.prototype.JQ=function(Z){var m=Z.tp.length!=0?-1-Z.tp[0]:Z._[0],S=Z.g[m],B=m<0?1:S.E_,C=m<0?Z.Xz[-m-1]:B<=0?null:B==1?S.sd():S.ws(Z).v,u=C?C.channel:S.buffer,r=(C?C.rect:S.rect).clone();
return[S,B,C,u,r]};g.T1.prototype.Co=function(Z,m){this.s6=Z.$==null?null:{rect:Z.$.rect.clone(),channel:Z.$.channel.slice(0)};
var S=this.JQ(Z),B=S[0],C=S[1],u=S[2];this.ZM=S[3];this.eK=S[4];var r=new bq(0,0,Z.e,Z.n),k=r.j3(this.eK);
if((this.wS()&&C<=0||k.Qu(this.eK))&&m!=!0)this.ZM=this.ZM.slice(0);else{if(u)u.extend(k);else B.extend(k)}};
g.T1.prototype.hr=function(Z,m){var S=this.JQ(Z),B=S[1],C=S[3],u=S[4],r=[C,u],k=m!=null?m:this.Et.sfrom;
if(B<=0&&k!=0){r[1]=new bq(0,0,Z.e,Z.n);r[0]=Z.Jy(k==1&&Z._[0]!=Z.g.length-1?Z._[0]:null).slice(0)}this.EN=r[1].clone();
this.eV=r[0].slice(0)};g.T1.prototype.TU=function(Z,m,S){if(Z.j(iZ.__)){var B=new eY(_.E.Y,!0);B.b=g.ps;
B.data={d:"pickhere",ahk:S};m.c(B);return!0}return!1};g.T1.prototype.oE=function(Z,m,S,B,C,u){if(this.id!=g.DC&&!Z.t9(this.caller)){this.Qk=null;
return}if(this.id!=g.DC&&this.Qk)return;this.Co(Z);var r=new bq(0,0,Z.e,Z.n),k=null;if(u!=null){var v=Z.tp.length!=0?-1-Z.tp[0]:Z._[0],e=Z.g[v],j=v<0?Z.Xz[-v-1]:e.E_<=0?null:e.E_==1?e.sd():e.ws(Z).v;
k=l.U(r.Z()*4);if(j)g.T1.mM(this.ZM,this.eK,j.color,k,r);else l.pY(this.ZM,this.eK,k,r)}var $=this.Et;
if(this.Qk&&this.id==g.DC&&$.qsmode!=0&&Z.$!=null){}else{var U=m.Nx,H=m.ZN;if(this.yM=="erase"){var z=U;
U=H;H=z}var f=this.id==g.DC?this.eK:r;this.Qk=new fK($.brush,m.yf.VV,m.yf.Km,{Qp:C,dT:u,aqe:$.smth*50/Z.s.R,hj:this.id==g.G4||$.emode==1,Rp:$.prsr},U,H,f,k)}if(this.id==g.DC){this.Qk.a7Q($.brush,$.qsmode==2?0:16777215)}var D=Z.s.tr(B.x,B.y);
if(S.j(iZ.nQ)&&this.wL){var n=this.wL;this.Qk.moveTo(n.x,n.y,B.ee);this.Qk.lineTo(.001*n.x+.999*D.x,.001*n.y+.999*D.y,B.ee);
this.Qk.lineTo(D.x,D.y,B.ee)}else this.Qk.moveTo(D.x,D.y,B.ee);this.wL=D;this.u_=D.clone();this.W1=new gA(D,Z.s.Zo)};
g.T1.prototype.fz=function(Z,m,S){if(Z&&Z.s.R!=0&&Z.s.R!=this.Yc){this.Yc=Z.s.R;this.i9(S)}};g.T1.prototype.mz=function(Z,m,S,B){if(this.Qk==null)return;
var C=Z.g[Z._[0]],u=Z.s.tr(B.x,B.y),r=this.W1.U4(u,S);if(r.Qu(this.wL))return 1;this.Qk.lineTo(r.x,r.y,B.ee);
this.wL=r;if(this.id==g.te||this.id==g.bY){var k=this.Vk(),v=11;k=Z.s.o5(u.x-k.x,u.y-k.y);var e=v>>>1,j=new bq(Math.round(k.x)-e,Math.round(k.y)-e,v,v),$=l.U(j.Z()*4);
l._z(16777215);for(var q=0;q<v;q++)$[(q*v+e)*4+3]=$[(v*e+q)*4+3]=255;Z.D.vC=[[$,j]];Z.tV=!0}};g.T1.prototype.Ll=function(Z,m,S,B){if(S.th!=this.id)return;
if(this.id!=g.DC||Z==null)return;if(Z.$==null||Z._[0]!=this.a2T){this.a2T=Z._[0];this.cX({qsmode:0},m)}};
g.T1.prototype.G=function(Z,m){if(Z.tp.length!=0){Z.tV=!0;return}var S=Z.g[Z._[0]];if(m==null){m=this.Qk.XW();
if(this.wS()&&S.E_<=0)m=m.o9(this.eK)}if(m.Ov())return;if(S.E_<=0){S.G(m)}if(S.E_==1){S.sd().ZZ=!0;S.T3(Z)}if(S.E_==3){S.G()}Z.G(Z.root.JO(m,Z,Z._[0],!0))};
g.T1.prototype.qB=function(Z,m,S,B,C){if(this.Qk==null)return;this.Qk.finish();if(this.id!=g.LM&&this.id!=g.bY&&this.id!=g.DC)this.Sf(Z);
if(this.id==g.te||this.id==g.bY){Z.D.vC=[];Z.tV=!0}if(this.id==g.DC){var u=Z.$;Z.$=this.s6;var r=new eY(_.E.Y,!0);
r.data={d:"setsel",fm:this.name,$:u};r.b=g.Ml;m.c(r);if(this.Et.qsmode==0)this.cX({qsmode:1},m)}else{this.finish(Z,this.Qk.hE());
this.Qk=null;this.bl=null}this.dir=0};g.T1.prototype.cX=function(Z,m){for(var S in Z)this.Et[S]=Z[S];
var B=new eY(_.E.W,!0);B.data={d:_.B.lL,b:this.id,MK:Z};m.c(B)};g.T1.prototype.wS=function(){var Z=this.id;
return Z==g.DC||Z==g.ms||Z==g.VK||Z==g.IR||Z==g.xH||Z==g.Zu};g.T1.prototype.finish=function(Z,m,S,B,C){var u=Z.tp.length!=0?-1-Z.tp[0]:Z._[0],r=Z.g[u],k=u<0?1:r.E_,v=u<0?Z.Xz[-u-1]:k<=0?null:k==1?r.sd():r.ws(Z).v,e=v?v.rect:r.rect,U;
if(this.wS()||!e.Qu(this.eK)){if(v==null){if(this.wS())r.t6();else{var j=m.j3(this.eK),$=l.U(j.Z()*4);
l.pY(r.buffer,r.rect,$,j);r.buffer=$;r.rect=j}}else v.t6();this.G(Z,e)}if(k<=0){U=l.U(m.Z()*4);l.pY(this.ZM,this.eK,U,m)}else{U=l.U(m.Z());
U.fill(v.color);l.Ju(this.ZM,this.eK,U,m)}this.A3(Z,!1,S?S:this.name,u,k,m,U,B,C)};g.T1.prototype.A3=function(Z,m,S,B,C,u,r,k,v){var e=r;
if(C>0){e=l.U(u.Z()*4);g.T1.mM(r,u,0,e,u)}var j=new h8(S,this);j.data=[{i:B,Hl:C,pe:u,aP:e}];if(k)j.data.kM=[Z.$,null];
if(v)j.data.kM=[this.s6,Z.$];Z.oF(j);if(m)this.gE(j.data,Z);else if(k)Z.$=null;g.YP.hq(Z,j.data)};g.T1.prototype.Jm=function(Z,m){this.xM(Z,m,!1)};
g.T1.prototype.gE=function(Z,m){this.xM(Z,m,!0)};g.T1.prototype.xM=function(Z,m,S){if(Z.d=="drawtemp"){var B=S?Z.amP:Z.anF,C=m.g[Z.i];
C.rl.Di=B;C.vj(m,0,0,m.$);C.G();m.jU=!0}else{g.YP.de(m,Z);if(Z.kM){m.$=Z.kM[S?1:0];m.DW=!0}}m.G()};g.T1.prototype.Sf=function(Z){this.Zr(Z,this.yM,this.Qk.yY(),this.Qk.Cp(),this.Qk.XW());
this.G(Z)};g.T1.prototype.Zr=function(Z,m,S,B,C){var u=this.Et,r=Z.g[Z._[0]],k=Z.tp.length!=0?Z.Xz[Z.tp[0]]:r.E_<=0?null:r.E_==1?r.sd():r.ws(Z).v,v=l.U(C.Z()*4),e,j=r.YL(0);
if(k==null){if(this.id==g.k1&&m=="heal")l.pY(r.buffer,r.rect,v,C);else l.pY(this.ZM,this.eK,v,C);if(j){e=l.U(C.Z());
l.NK(v,e,3)}}else{g.T1.mM(this.ZM,this.eK,k.color,v,C)}if(Z.$&&m!="qselect"){var $=C.o9(Z.$.rect),U=l.U($.Z()*4);
if(m=="copy"){var H=l.U($.Z());l.Ju(Z.$.channel,Z.$.rect,H,$);l.pY(v,C,U,$);l.a.yb(S,B,U,$,H,$,0,$,1,!1)}else{l.pY(S,B,U,$);
l.bc(Z.$.channel,Z.$.rect,U,$)}S=U;B=$}function z(n,aO){var fo=Math.max(aO.x,Math.min(aO.x+aO.e-1,n.x)),bb=Math.max(aO.y,Math.min(aO.y+aO.n-1,n.y));
return new aS(fo,bb)}if(m=="idraw"||m=="ierase"){if(this.bl==null)this.bl=l.U(this.eK.Z());var f=this.Et.samp,D=this._q.ZN,n=z(this.wL,C),L=f==0?n:this.u_,a=L.x,F=L.y,A=g.vA.Ro(this.ZM,this.eK,[L,new aS(a-2,F),new aS(a+2,F),new aS(a,F-2),new aS(a,F+2)]);
if(f==2)A=[[D>>>16&255,D>>>8&255,D>>>0&255,255]];var T=g.vA.BE(v,C,n,A,this.Et.wconf),P=l.U(C.Z());l.Ju(this.bl,this.eK,P,C);
l.aS.j3(T,P,P);l.Ju(P,C,this.bl,this.eK);l.bc(P,C,S,B);m=m.slice(1)}if(m=="erase"&&(g.YP.u0(Z)!=16777215||k))m="draw";
if(m=="draw")l.a.qn(u.bmode,S,B,v,C,C,u.opacity);else if(m=="erase"){var Y=l.U(C.Z()*4);l.pY(S,B,Y,C);
if(k==null){var Q=l.U(C.Z());l.NK(Y,Q,3);l.WQ(Q,u.opacity);l.Yy(Q);l.bc(Q,C,v,C)}else{l._z(Y,0,4278190080);
l.a.qn("norm",Y,C,v,C,C,u.opacity)}}else if(m=="clone"||m=="heal"){var o=this.Vk(),I=this.EN.clone();
I.offset(o.x,o.y);var c=C.clone();c.QW(1,1);var y=l.U(c.Z()*4),i=l.U(c.Z());l.pY(S,B,y,c);l.NK(y,i,3);
l._z(y,0);if(k==null){l.pY(this.eV,I,y,c);var d=l.U(c.Z());l.NK(y,d,3);l.n5(d,i)}else g.T1.mM(this.eV,I,k.color,y,c);
if(m=="clone"){l.cN(i,y,3);l.a.qn(u.bmode,y,c,v,C,C,u.opacity)}if(m=="heal"){var V=i.slice(0);l.round(V,20);
var R=l.U(c.Z()*4);if(k==null)l.pY(this.ZM,this.eK,R,c);else g.T1.mM(this.ZM,this.eK,k.color,R,c);l.a.yb(y,c,R,c,V,c,0,c,1,!1);
l.mI.Zi(R,V,c);l.a.yb(R,c,v,C,i,c,0,C,1,!1)}}else if(m=="dodge"||m=="burn"){var y=l.U(C.Z()*4),O=1,K=0,W=0,t=0;
l.pY(S,B,y,C);var G=C.Z()*4,M=g.T1.yQ;if(this.VO){if(m=="dodge")m="burn";else m="dodge"}var X=u.rng;
if(m=="dodge"){K=[1-O/2,1,1+O][X];W=[1,1/(1+O),1][X];t=[O/2,0,0][X]}if(m=="burn"){K=[1/(1-O/2),1,1-O/2][X];
W=[1,1+O,1][X];t=[-(O/2)/(1-O/2),0,0][X]}for(var q=0;q<G;q+=4){var h=y[q+3];v[q+0]=M(v[q+0],K,W,t,h);
v[q+1]=M(v[q+1],K,W,t,h);v[q+2]=M(v[q+2],K,W,t,h)}}else if(m=="sponge"||m=="redeye"){var y=l.U(C.Z()*4),i=l.U(C.Z());
l.pY(S,B,y,C);l.NK(y,i,3);l.Yx(v,y);var b=u.smode;if(this.VO)b=1-b;var E=bS.ej("hue2");if(m=="sponge")iL.$H(E,0,[0,[-50,46][b],[6,5][b]]);
else iL.$H(E,1,{XO:[265,305,25,55],ZX:[0,-90,-70]});var f0=e$.kA("hue2",E);e$.Yb(f0,y,y,C);l.a.yb(y,C,v,C,i,C,0,C,1,!1)}else if(m=="copy")l.pY(S,B,v,C);
else if(m=="sheal"){var y=l.U(C.Z()*4),i=l.U(C.Z());l.pY(S,B,y,C);l.NK(y,i,3);y.fill(0);var ay=this.eV,p=this.EN;
if(k){ay=l.U(p.Z()*4);g.T1.mM(this.eV,p,0,ay,p)}var eo=l.Zn.Zi(ay,p,i,y,C);if(eo!=0)l.pY(ay,p,y,C);if(this.Et.sfrom==0)l.pY(y,C,v,C);
else{l.pY(this.ZM,this.eK,v,C);l.cN(i,y,3);l.a.qn("norm",y,C,v,C,C,1)}}else if(m=="qselect"){var co=this.eK,c5=co.e,he=co.n,hU=c5*he,aB=this.Qk.yY(),A=this.ZM,ep=g.nJ.Iz,i=ep.H8;
i.fill(128);for(var q=0;q<hU;q++){var aO=aB[q<<2],f$=aB[(q<<2)+3];if(f$==255&&(aO==0||aO==255))i[q]=aO}i[0]=i[c5-1]=0;
i[(he>>>1)*c5]=i[(he>>>1)*c5+c5-1]=0;g.nS.K_(ep,!0);Z.$={rect:co,channel:ep.$.slice(0)};Z.DW=!0}if(k==null){if(j)l.cN(e,v,3);
l.pY(v,C,r.buffer,r.rect)}else g.T1.pz(v,C,k)};g.T1.Vk=function(){return null};g.T1.yQ=function(Z,m,S,B,C){var u=Z*(1/255),r=B+m*Math.pow(u,S),k=Math.round(r*C+u*(255-C));
return Math.max(0,Math.min(255,k))};g.T1.mM=function(Z,m,S,B,C){var u=l.U(C.Z());u.fill(S);l.Ju(Z,m,u,C);
B.fill(255);l.Dc(u,B)};g.T1.pz=function(Z,m,S){var B=l.U(m.Z());l.Iy(Z,B);l.Ju(B,m,S.channel,S.rect)};
g.nJ=function(Z,m,S){g.cd.call(this,Z,m,S);this.Et={binop:0,feat:0,cstr:{aU:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.oM=new aS(-1,-1);this.cl=new aS(-1,-1);this._b="default";this.CF=null;this.auN=!0;this.O3=!1;this.iN=new di;
this.pR=!1;this.RY=null;this.sG=null;this.Bx=!1;this.Av=!1};g.nJ.prototype=new g.cd;g.nJ.prototype.asR=function(){var Z=this.Et,m=[Z.binop,Z.feat];
if(this.id==g.p7)m.push(Z.wconf);return m};g.nJ.prototype.a2r=function(Z,m,S){var B=this.Et;B.binop=Z[0];
B.feat=Z[1];B.wconf=Z[2];var C=new eY(_.E.W,!0);C.data={d:_.B.lL,b:this.id,Et:B};S.c(C)};g.nJ.Iz={key:""};
g.nJ.y8=function(Z,m,S){var B={CE:Z,Oz:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(m)B.Oz.T=m;if(S!=null)B.Oz.AntA={t:"bool",v:S};return B};g.nJ.Tp=function(Z,m,S){return g.nJ.y8("set",{t:"Objc",v:{classID:Z,Top:{t:"UntF",v:{type:"#Pxl",val:m.y}},Left:{t:"UntF",v:{type:"#Pxl",val:m.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:m.y+m.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:m.x+m.e}}}},S)};
g.nJ.lH=function(Z,m,S){var B=[],C=[],r="set";for(var q=0;q<Z.length;q+=2){B.push(Z[q]);C.push(Z[q+1])}var u={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:B},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:C}]}}}};
if(m)r=["set","addTo","subtractFrom","interfaceWhite"][m];return g.nJ.y8(r,u,S)};g.nJ.a36=function(Z,m,S){var B={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:Z.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:Z.y}}}},C=g.nJ.y8("set",B);
C.Oz.Tlrn={t:"long",v:m[0]};C.Oz.AntA={t:"bool",v:m[1]};C.Oz.Cntg={t:"bool",v:m[2]};if(S==!0)C.Oz.Mrgd={t:"bool",v:S};
return C};g.nJ.r_=function(Z){return g.nJ.y8("set",{t:"enum",v:{Ordn:Z?"Al":"None"}})};g.nJ.a1c=function(Z,m,S){var B={classID:"null"};
if(Z!="border")B.selectionModifyEffectAtCanvasBounds={t:"bool",v:S};var C={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[Z[0]];
B[C]={t:"UntF",v:{type:"#Pxl",val:m}};return{CE:Z,Oz:B}};g.nJ.BH=function(Z,m,S){var B={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},C={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:m}}]};
if(S)C.v.push({t:"name",v:{classID:"Lyr",val:S}});var u=[{classID:"null",null:B,T:C},{classID:"null",null:C,T:B},{classID:"null",null:C,From:B},{classID:"null",null:C,With:B}],r=["set","add","subtract","interfaceIconFrameDimmed"];
return{CE:r[Z],Oz:u[Z]}};g.nJ.pr=function(Z,m){var S=new eY(_.E.W,!0);S.data={d:_.B.L8,Lh:bo.P7};if(!m.cb)Z.c(S);
S.data={d:_.B.L8,Lh:bo.PM};if(!m.Zd.et)Z.c(S)};g.nJ.prototype.W2=function(Z,m,S,B,C){g.nJ.pr(m,C);this.CF=m;
var u=Z.d,r,k,v=new bq(0,0,S.e,S.n),el=!1,iJ,aC,cr,bN;if(u=="fromAction"){var e=Z.KT,j=e.CE,$=e.Oz,U=$?$.selectionModifyEffectAtCanvasBounds:null,H=U&&U.v;
if(j=="colorRange"){if($.Clrs){var z=$.Clrs.v.Clrs,f=0,D=255,n=["Shdw","Mdtn","Hghl"].indexOf(z),A=.4;
if(n==0)D=60;else if(n==1){f=100;D=150}else f=190;var L=["shadows","midtones","highlights"][n],a=$[L+"LowerLimit"],F=$[L+"UpperLimit"];
if(a)f=a.v;if(F)D=F.v;var T=$[L+"Fuzziness"];if(T)A=T.v/100;r=g.nJ.Gc(S,f,D,A,!0)}else{var f=$.Mnm.v,D=$.Mxm.v,A;
f={Ma:f.Lmnc.v,AQ:f.A.v,S:f.B.v};D={Ma:D.Lmnc.v,AQ:D.A.v,S:D.B.v};A=$.Fzns.v/200;r=g.nJ.Gc(S,f,D,A)}k=[7,8]}else if(j=="inverse"){if(S.$==null){alert("No selection!");
return}r={channel:l.U(v.Z()),rect:v};l.Ju(S.$.channel,S.$.rect,r.channel,r.rect);l.Yy(r.channel);k=[7,2]}else if(j=="expand"){var P=$.By.v.val,Y=S.$.rect.clone();
Y.QW(P,P);var Q=l.U(Y.Z()),o=l.U(Y.Z());l.Ju(S.$.channel,S.$.rect,o,Y);l.style.stroke(o,Q,Y,P);r={channel:Q,rect:Y};
k=[7,4]}else if(j=="contract"){var P=$.By.v.val,I=S.$.rect.clone();I.QW(1,1);if(!H)I=I.o9(v);var o=l.U(I.Z()),c=l.U(o.length);
l.Ju(S.$.channel,S.$.rect,o,I);l.Yy(o);l.style.stroke(o,c,I,P);l.Yy(c);r={channel:c,rect:I};l.t6(r);
k=[7,5]}else if(j=="border"){var P=$.Wdth.v.val;r=g.nJ.pN(S.$,P/2,P/2);k=[7,9]}else if(j=="feather"||j=="smoothness"){var P=$.Rds.v.val;
r=g.nJ.Wx(S.$,P,j=="smoothness",v,H);k=j=="feather"?[7,6]:[19,3,0]}else{var y=$.null.v,i=$.AntA!=null&&$.AntA.v;
function d(hc){var g7=hc.Top.v.val,jG=hc.Left.v.val;return new bq(jG,g7,hc.Rght.v.val-jG,hc.Btom.v.val-g7)}function V(hc){var g7=hc[0].arr,b4=hc[1].arr,eC={t:[],C:[]};
for(var q=0;q<g7.length;q++){eC.C.push(q==0?"M":"L");eC.t.push(g7[q],b4[q])}eC.C.push("Z");return eC}var R=["set","addTo","subtractFrom","interfaceWhite"].indexOf(j),G=$.T?$.T.v:null;
if(G&&G.classID=="Elps"){r=this.sm(g.VC.aO(d(G)));k=[10,4]}else if(G&&G.classID=="Rctn"){var M=d(G);
r={channel:l.U(M.Z()),rect:M.clone()};r.channel.fill(255);k=[10,15]}else if(G&&G.classID=="ObSl"){var M=d(G),O=g.nJ.Iz,K=O.rect,W=O.H8,t=K.e,X=K.n,h=M.x-K.x,b=h+M.e-1,E=Math.max(h,Math.min(b,h+b>>>1)),f0=M.y-K.y,ay=f0+M.n-1,p=Math.max(f0,Math.min(ay,f0+ay>>>1)),eo=Math.max(h,0),co=Math.min(b,t),c5=Math.max(f0,0),he=Math.min(ay,X);
W.fill(128);if(0<=f0)for(var hU=eo;hU<co;hU++)W[f0*t+hU]=0;if(ay<X)for(var hU=eo;hU<co;hU++)W[ay*t+hU]=0;
if(0<=h)for(var aB=c5;aB<he;aB++)W[aB*t+h]=0;if(b<t)for(var aB=c5;aB<he;aB++)W[aB*t+b]=0;var ep=g.HW.EX,aO=Math.round(M.e*ep),f$=Math.round(M.n*ep);
for(var hU=Math.max(0,E-aO);hU<Math.min(t,E+aO);hU++)W[p*t+hU]=255;for(var aB=Math.max(0,p-f$);aB<Math.min(X,p+f$);
aB++)W[aB*t+E]=255;g.nS.K_(O,!0);r={channel:O.$.slice(0),rect:K.clone()};k=[10,44]}else if(G&&G.classID=="Plgn"){r=this.sm(V(G.Pts.v.arr));
k=[10,9]}else if(G&&G.classID=="Pnt"){r=g.vA._N(S,new aS(G.Hrzn.v.val,G.Vrtc.v.val),[$.Tlrn.v,i,$.Cntg==null||$.Cntg.v],$.Mrgd?$.Mrgd.v:!1);
k=[10,12]}else if(G&&G.Ordn=="None"){r=null;k=[7,1]}else if(G&&G.Ordn=="Al"){var fo=v;if(S._.length!=0){var bb=S.root.Hr(S._[0]);
while(bb.parent&&bb.parent.parent)bb=bb.parent;if(bb.i.add.artb)fo=bb.i.u1()}r={channel:l.U(fo.Z()),rect:fo};
r.channel.fill(255);k=[7,0]}else if(G&&G[0]&&G[0].v.keyID=="WrPt"){var jl={d:"frompath",ZT:[-1,0,0]};
this.W2(jl,m,S,B,C);return}else{var e0=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(j),gI=j=="set"?G:y,d4=gI[0].v.enum,jl;
if(d4=="Trsp"||d4=="Msk"||d4=="vectorMask"||d4=="Trgt"){var ab=S._[0];if(gI.length==2)ab=hX.Ee(S,gI[1]);
var c3=["Trsp","Msk","vectorMask"].indexOf(d4);if(d4=="Trgt"&&S.g[ab].E_==1)c3=1;jl={d:"fromlayer",ZT:[ab,c3,e0]}}else{if(gI[0].t=="name"){var ab=0;
for(var q=0;q<S.Xz.length;q++)if(S.Xz[q].name==gI[0].v.val)ab=q;jl={d:"fromchannel",ZT:[-5-ab,0,e0]}}else{var gr=["RGB","Rd","Grn","Bl"].indexOf(d4);
jl={d:"fromchannel",ZT:[-1-gr,0,e0]}}}this.W2(jl,m,S,B,C);return}if(!i&&r)l.round(r.channel);if($.Fthr)r=g.nJ.Wx(r,$.Fthr.v.val,!1);
if(j!="set"&&S.$!=null)r=l.aS.BV(r,S.$,R)}if(j=="expand"||j=="contract")if(!H&&!v.contains(r.rect)){var a2=r.rect.o9(v),aL=l.U(a2.Z());
l.Ju(r.channel,r.rect,aL,a2);r.channel=aL;r.rect=a2}}if(u=="qmask"){el=!0;var hf=S.Lj(),cV=new bq(0,0,S.e,S.n);
if(hf){r=hf.rect.Qu(cV)&&l.em(hf.channel,255)?null:{rect:hf.rect.clone(),channel:hf.channel.slice(0)};
iJ=hf}else{r=null;aC=new w.Ga;aC.color=0;aC.name="Quick Mask";aC.m5=!0;if(S.$){aC.rect=S.$.rect.clone();
aC.channel=S.$.channel.slice(0)}else{aC.rect=cV;aC.channel=l.U(aC.rect.Z());aC.channel.fill(255)}}k=[6,6,1];
S.jU=!0}if(u=="setsel"){r=Z.$;k=Z.fm}if(u=="crange"){var f=Z.fI,D=Z.MC;r=g.nJ.Gc(S,f,D,Z.Lc);k=[7,8]}if(u=="fromlayer"||u=="fromchannel"||u=="frompath"){var ez=Z.ZT[0],c3=Z.ZT[1],R=Z.ZT[2];
if(u=="fromlayer"){if(ez==null)ez=S._[0];var jG=S.g[ez];if(c3==0){var jw=jG.rect,dw=jG.buffer;if(jw.Ov())return;
var cb=l.U(dw.length>>>2);l.NK(dw,cb,3);r={channel:cb,rect:jw.clone()}}else{if(jG.v==null)jG.T3(S);var cz=c3==1?jG.sd():jG.v;
r=g.nJ.LX(cz,v)}this.track(g.nJ.BH(R,["Trsp","Msk"][c3],jG.getName()))}else if(u=="frompath"){var jq=S.Nu(),dU=jq[1],jq=jq[0];
if(ez==null)if(jq.length==0||dU.length==0)return;var ge=jq[dU[0]];if(ez!=null)for(var q=0;q<jq.length;
q++)if(jq[q].lU==ez)ge=jq[q];var cz=ge.add.vmsk.sd(),al=cz.Cp();if(al.Z()==0)return;var cb=cz.JE();if(Z.ZT[3]!=null)this.auN=Z.ZT[3];
if(this.auN){cb=cb.slice(0);l.round(cb)}cr=[JSON.stringify(S.yI),JSON.stringify(S.ap)];bN=["[]","[]"];
S.yI=[];S.ap=[];r={channel:cb,rect:al}}else{if(ez==null)ez=g.nJ.Fm(S);r=g.nJ.YN(S,ez)}if(R!=0&&S.$)r=l.aS.BV(r,S.$,R);
k=[14,11]}if(r!=null&&l.em(r.channel,0)){r=null;k=[7,1]}if(r)l.t6(r);var a_=new h8(k,this);a_.data={d:"changesel",s6:S.$,DA:r,Lj:el,amh:iJ,adp:aC,QQ:cr,afQ:bN};
S.oF(a_);this.gE(a_.data,S)};g.nJ.Fm=function(Z){var m=0;if(Z.tp.length!=0)m=-5-Z.tp[0];else if(JSON.stringify(Z.s.U1)=="[1,1,1]")m=-1;
else m=-2-Z.s.U1.indexOf(1);return m};g.nJ.YN=function(Z,m){var S,B=new bq(0,0,Z.e,Z.n);if(-5<m&m<0){var C=-m-1,u=Z.Jy(),r=l.U(B.Z());
if(C==0)l.Iy(u,r);else l.NK(u,r,C-1);S={channel:r,rect:B.clone()}}if(m<-4){S=g.nJ.LX(Z.Xz[-m-5],B)}return S};
g.nJ.LX=function(Z,m){var S,B;if(Z.gN()==0){B=Z.Cp().clone();if(B.Z()==0)return;S=Z.JE()}else{B=m;S=l.U(B.Z());
Z.fR(B,S)}return{channel:S,rect:B}};g.nJ.prototype.oU=function(Z){return this.pR||Z.vs&&this.id!=g.r0};
g.nJ.prototype.mG=function(Z,m,S){var B=new eY(m,!0);B.data=S;Z.c(B)};g.nJ.prototype.Ks=function(Z,m){var S=new eY(_.E.W,!0);
S.data={d:_.B.tC,l4:m};Z.c(S)};g.nJ.prototype.Cp=function(Z,m,S){m=Z.$==null||this.iN.QO(1)||this.iN.nT(1)?m:null;
var B=this.oM,C=this.cl;if(S){B.x=Math.max(0,Math.min(Z.e,B.x));B.y=Math.max(0,Math.min(Z.n,B.y));C.x=Math.max(0,Math.min(Z.e,C.x));
C.y=Math.max(0,Math.min(Z.n,C.y))}var u=g.h_.C$(B,C,m,!0,this.Et.cstr),r=u[0].x,k=u[0].y;return new bq(r,k,u[1].x-r,u[1].y-k)};
g.nJ.prototype.kV=function(Z,m,S,B,C){this.Av=!0;if(this.dw())return;this.CF=m;this.O3=!1;this.iN.kV(B);
this.oM=Z.s.tr(C.x,C.y);this.oM=g.ho._E(Z,this.oM,S);if(this.sj(Z,this.oM,B)){this.pR=!0;this.RY=Z.$.rect.clone();
return}this.y6(Z,S,B,C);Z.s.Jv=new bq};g.nJ.prototype.sj=function(Z,m,S){var B=S.j(iZ.nQ),C=S.j(iZ.__);
if(Z.$&&!B&&!C&&this.Et.binop==0)return l.vS(m,Z.$.channel,Z.$.rect);return!1};g.nJ.prototype.hJ=function(Z,m,S,B,C){this.CF=m;
if(this.Bx)return;var u=Z.s.tr(C.x,C.y);if(aS.qa(this.oM,u)*Z.s.R>5){this.O3=!0;this.iN.hJ()}if(B.j(iZ.MO)){if(this.sG==null)this.sG=new aS(u.x-this.oM.x,u.y-this.oM.y);
this.oM.x=u.x-this.sG.x;this.oM.y=u.y-this.sG.y}else this.sG=null;this.cl=u;if(!this.pR)this.cl=g.ho._E(Z,this.cl,S);
if(this.sj(Z,this.cl,B))this.Ks(m,"move");else this.Ks(m,this._b);if(this.pR){var r=this.RY.clone();
r.x+=this.cl.x-this.oM.x;r.y+=this.cl.y-this.oM.y;var k=g.ho.Dt(Z,r,S);Z.$.rect.x=Math.round(this.cl.x-this.oM.x+this.RY.x+k[0]);
Z.$.rect.y=Math.round(this.cl.y-this.oM.y+this.RY.y+k[1]);Z.DW=!0;g.ho.QY(Z,r,k);return}this.hI(Z,S,B,C);
if(Z.s.Jv)Z.s.Jv=this.Cp(Z,B)};g.nJ.prototype.dw=function(){return!1};g.nJ.prototype.qB=function(Z,m,S,B,C,u){var r=this.Av;
this.Av=!1;if(u||!r)return;Z.s.Jv=null;this.cl=Z.s.tr(C.x,C.y);this.cl=g.ho._E(Z,this.cl,S);if(this.pR){this.pR=!1;
if(Z!=null&&Z.D.D4){Z.D.D4=null;Z.tV=!0}if(this.cl.Qu(this.oM)&&this.RN()==0){this.mG(m,_.E.lX,g.nJ.r_());
return}this.x_(Z,this.RY,Z.$.rect.clone());return}this.v4(Z,S,B,C);g.nJ.pr(m,S);this.iN.qB();this.DL(m)};
g.nJ.prototype.x_=function(Z,m,S){var B=Z.rX();if(B!=null&&B.b==this&&B.data.d=="movesel"){}else{B=new h8([7,7],this);
B.data={d:"movesel",nM:m};Z.oF(B)}B.data.mp=S;this.gE(B.data,Z)};g.nJ.prototype.dm=function(Z,m,S,B,C){this.Bx=!0};
g.nJ.prototype.L0=function(Z,m,S,B,C){var u=new eY(_.E.W,!0);u.data={d:_.B.lL,b:this.id,Pq:C,tt:Z,YS:S};
m.c(u);this.Bx=!1};g.nJ.prototype._s=function(Z,m,S,B){this.iN._s(B);if(Z!=null&&Z.$!=null){var C=B.Wr();
if(C.x!=0||C.y!=0){var u=Z.$.rect.clone();u.x+=C.x;u.y+=C.y;this.x_(Z,Z.$.rect.clone(),u)}}this.DL(m)};
g.nJ.prototype.DL=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.lL,b:this.id,iq:this.RN()};Z.c(m)};
g.nJ.prototype.RN=function(){var Z=this.iN.QO(0),m=this.iN.nT(0);return g.nJ.U7(this.Et.binop,Z,m)};
g.nJ.U7=function(Z,m,S){if(m)Z=1;if(S)Z=2;if(m&&S)Z=3;return Z};g.nJ.prototype.finish=function(Z,m,S,B){var C=Z.$,u=this.getSelection(Z,m,S,B);
if(u==null)u=g.nJ.r_();else{var r=this.Et.feat,k=this.RN();if(r!=0)u.Oz.Fthr={t:"UntF",v:{type:"#Pxl",val:r}};
if(k!=0&&k!=4)u.CE=["","addTo","subtractFrom","interfaceWhite",""][k]}this.mG(this.CF,_.E.lX,u);this.oM.r8(-1,-1);
this.cl.r8(-1,-1)};g.nJ.prototype.getSelection=function(Z,m,S,B){return null};g.nJ.prototype.y6=function(Z,m,S,B){};
g.nJ.prototype.hI=function(Z,m,S,B){};g.nJ.prototype.v4=function(Z,m,S,B){};g.nJ.prototype.Jm=function(Z,m){var S=Z.d;
if(S=="changesel")m.$=Z.s6;if(S=="movesel")m.$.rect=Z.nM;if(Z.Lj){if(Z.amh){m.tp=[m.Xz.length];m.Xz.push(Z.amh)}else{m.Xz.pop();
m.tp=[]}}if(Z.QQ){m.yI=JSON.parse(Z.QQ[0]);m.ap=JSON.parse(Z.QQ[1])}m.DW=!0};g.nJ.prototype.gE=function(Z,m){var S=Z.d;
if(S=="changesel")m.$=Z.DA;if(S=="movesel")m.$.rect=Z.mp;if(Z.Lj){if(Z.adp){m.tp=[m.Xz.length];m.Xz.push(Z.adp)}else{m.Xz.pop();
m.tp=[]}}if(Z.QQ){m.yI=JSON.parse(Z.afQ[0]);m.ap=JSON.parse(Z.afQ[1])}m.DW=!0};g.nJ.prototype._F=function(Z){this.Et=Z.Et};
g.nJ.prototype.sm=function(Z){var m=l.H.pa(Z.t);if(m.Ov())return null;var S=l.Df(m.e,m.n);S.save();S.beginPath();
S.translate(-m.x,-m.y);Typr.U.pathToContext({cmds:Z.C,crds:Z.t},S);S.closePath();S.fill();S.restore();
var B=l.U(m.Z()),C=S.getImageData(0,0,m.e,m.n);l.NK(C.data,B,3);return{rect:m,channel:B}};g.nJ.Wx=function(Z,m,S,B,C){if(S)m=Math.round(m*.7);
var u=Math.ceil(2.6*m),r=Z.rect.clone();r.QW(u,u);if(B&&!C)r=r.o9(B);var k=l.U(r.Z()),v=l.U(k.length);
l.Ju(Z.channel,Z.rect,v,r);l.EE.HY(v,k,r,m);if(S){var e=k.length;for(var q=0;q<e;q++){var j=(k[q]-128)*m*2.5;
k[q]=Math.max(0,Math.min(255,Math.round(128+j)))}}return{channel:k,rect:r}};g.nJ.pN=function(Z,m,S){var B=Math.max(1,Math.ceil(S)),C=Z.rect.clone();
C.QW(B,B);var u=C.Z(),r={channel:l.U(u),rect:C},k=l.U(u);l.Ju(Z.channel,Z.rect,k,r.rect);if(S!=0)l.style.stroke(k,r.channel,r.rect,S);
else l.Yx(k,r.channel);var v=l.U(u);l.Yy(k);if(m!=0)l.style.stroke(k,v,r.rect,m);else l.Yx(k,v);l.aS.o9(r.channel,v,r.channel);
return r};g.nJ.Gc=function(Z,m,S,B,C){var u=new bq(0,0,Z.e,Z.n),r=Z.Jy();if(Z.$){var k=Z.$.rect.o9(u),v=l.U(k.Z()*4);
l.pY(r,u,v,k);u=k;r=v}var e=u.Z(),j=l.U(e),$=1/B;if(C){if(m>=S)m=S-1;var U=m*(1-B),H=m,z=S,f=S+(255-S)*B,D=U==H?0:1/(H-U),n=z==f?0:1/(f-z);
for(var q=0;q<e;q++){var L=q<<2,a=l.dA(r[L],r[L+1],r[L+2]),F=0;if(a<U)F=0;else if(a<H)F=(a-U)*D;else if(a<=z)F=1;
else if(a<=f)F=1-(a-z)*n;else F=0;j[q]=r[L+3]*F*F}}else for(var q=0;q<e;q++){var L=q<<2,A=l.W6(r[L],r[L+1],r[L+2]),F=l.bv(A,m,S,B,$);
j[q]=r[L+3]*F}return{rect:u,channel:j}};g.ir=function(){g.T1.call(this,[10,18],g.Ax,"tools/blur");this.yM="copy"};
g.ir.prototype=new g.T1;g.ir.prototype.kV=function(Z,m,S,B,C){var u=B.j(iZ.__)?fK.i3:fK.Ax;this.oE(Z,S,B,C,this.Et.strn,u);
if(this.Qk==null)return;this.Sf(Z)};g.ir.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);if(this.Xw)this.Ej(Z,S,C);
if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.Kw=function(){g.T1.call(this,[10,0],g._4,"tools/brush");
this.yM="draw"};g.Kw.prototype=new g.T1;g.Kw.prototype.kV=function(Z,m,S,B,C){if(this.TU(B,m,C))return;
this.oE(Z,S,B,C,this.Et.flow);if(this.Qk==null)return;this.Sf(Z)};g.Kw.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);
if(this.Xw)this.Ej(Z,S,C);if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.BU=function(){g.T1.call(this,[10,42],g.V$,"tools/crepl");
this.yM="idraw";this.Et.bmode="hue "};g.BU.prototype=new g.T1;g.BU.prototype.kV=function(Z,m,S,B,C){if(this.TU(B,m,C))return;
this.oE(Z,S,B,C,this.Et.flow);if(this.Qk==null)return;this.Sf(Z)};g.BU.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);
if(this.Xw)this.Ej(Z,S,C);if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.xy=function(){g.T1.call(this,[10,43],g.Zu,"tools/redeye");
this.Et.smode=0;this.yM="redeye"};g.xy.prototype=new g.T1;g.xy.prototype.kV=function(Z,m,S,B,C){this.oE(Z,S,B,C,this.Et.flow);
if(this.Qk==null)return;this.Sf(Z)};g.xy.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);if(this.Xw)this.Ej(Z,S,C);
if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.oG=function(){g.T1.call(this,[10,38],g.G4,"tools/pencil");
this.yM="draw"};g.oG.prototype=new g.T1;g.oG.prototype.kV=function(Z,m,S,B,C){if(this.TU(B,m,C))return;
this.oE(Z,S,B,C,this.Et.flow);if(this.Qk==null)return;this.Sf(Z)};g.oG.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);
if(this.Xw)this.Ej(Z,S,C);if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.uS=function(){g.T1.call(this,[10,22],g.IR,"tools/burn");
this.yM="burn"};g.uS.prototype=new g.T1;g.uS.prototype.kV=function(Z,m,S,B,C){this.oE(Z,S,B,C,this.Et.expo/Math.E);
if(this.Qk==null)return;this.Sf(Z)};g.uS.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);if(this.Xw)this.Ej(Z,S,C);
if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.Hq=function(Z,m,S){g.T1.call(this,Z==""?null:Z?Z:[10,1],m?m:g.te,S?S:"tools/clone");
this.yM="clone";this.mS=null;this.r=null};g.Hq.prototype=new g.T1;g.Hq.prototype.kV=function(Z,m,S,B,C){var u=this.Et,r=u.alt[0];
if(B.j(iZ.__)||B.j(iZ.D3)||r){this.mS=Z.s.tr(C.x,C.y);this.r=null;if(r)this.cX({alt:[!1]},m);this.hr(Z);
this.i9(S,B,Z,C);return}if(this.mS==null){alert(iD.get([15,7,0]));return}this.i9(S,B);this.oE(Z,S,B,C,this.Et.flow);
if(this.Qk==null)return;this.r=this.QE(Z.s.tr(C.x,C.y));this.Sf(Z)};g.Hq.prototype.QE=function(Z){var m=this.r;
if(m==null||!this.Et.algnd)m=new aS(Math.round(Z.x-this.mS.x),Math.round(Z.y-this.mS.y));return m};g.Hq.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);
if(this.Xw)this.Ej(Z,S,C);if(this.Qk==null){if(this.mS!=null)this.i9(S,B,Z,C);return}if(!C.vs||this.mS==null)return;
this.mz(Z,S,B,C);this.Sf(Z)};g.Hq.prototype.Vk=function(){return this.r};g.Gt=function(Z,m,S){g.cd.call(this,Z,m,S);
this.V_={HG:{aU:0,x:0,y:0},ko:!1};this.ti=!1;this.wE=null;this.cursor=null;this.amn=0;this.fn=null;this.oM=null;
this._$=null;this.kc=!1};g.Gt.prototype=new g.cd;g.Gt.prototype.nE=function(){return this.wE!=null};
g.Gt.prototype.oU=function(Z){return this.oM!=null||this.wE&&this.wE.c0()};g.Gt.prototype.kV=function(Z,m,S,B,C){this.fn=C;
var u=Z.s.tr(C.x,C.y);u.x=Math.round(u.x);u.y=Math.round(u.y);var r=this.V_.HG,k=r.aU!=0?r.x/r.y:null,v=this.kc;
this.kc=!1;if(this.wE){var e=this.wE.Zt(u,Z.s.R);if(v&&e==null){this.wE.clear(Z);this.wE=null}else{this.wE.kV(Z,S,B,u,k,!1,C);
return}}this.oM=g.ho._E(Z,u,S)};g.Gt.prototype.MN=function(Z,m,S){if(S==null)S=[Z.x,Z.y,Z.x+Z.e,Z.y,Z.x+Z.e,Z.y+Z.n,Z.x,Z.y+Z.n];
return new j8(S,!0,!1,this.id==g.R7,!0,m,this.id==g.R7?2:0,this.id==g.R7?4:3)};g.Gt.prototype.i9=function(Z){var m=new eY(_.E.W,!0);
m.data={d:_.B.tC,l4:this.cursor};Z.c(m)};g.Gt.prototype.enable=function(Z,m,S,B){this.CF=m;this.cursor="crosshair";
this.i9(m);if(Z!=null&&this.wE==null){var C=Z.$?{BT:"cropby",a1q:3}:{BT:"config",V_:this.V_,al5:!0};
this._F(C,m,Z,B,S);if(Z.$==null&&this.V_.HG.aU==0)this.kc=!0}};g.Gt.prototype.hJ=function(Z,m,S,B,C){this.fn=C;
var u=Z.s.tr(C.x,C.y);if(!C.vs){var r="crosshair";if(this.wE){var k=this.wE.Zt(u,Z.s.R,null,C);if(k)r=k;
else r="default"}if(r!=this.cursor){this.cursor=r;this.i9(m)}}if(this.wE)this.wE.hJ(Z,S,B,u);else if(this.oM){if(this.ti){Z.D.pC={C:["M","L"],t:[this.oM.x,this.oM.y,u.x,u.y]}}else{var v=g.h_.C$(this.oM,g.ho._E(Z,u,S),B,!0,this.V_.HG),e=v[0].x,j=v[0].y,$=this._$=new bq(e,j,v[1].x-e,v[1].y-j);
Z.D.pC=l.H.ez($);g.cd.gR(C,$,Z,S)}Z.tV=!0}};g.Gt.a3U=function(Z,m,S){var B,C,k,v;if(m<=S){B=m;C=S}else{B=S;
C=m}var u=Z-Math.floor((Z+Math.PI)/(2*Math.PI))*2*Math.PI;u=Math.abs(u);if(u>Math.PI/2)u=Math.PI-u;var r=B/(C*Math.sin(u)+B*Math.cos(u));
if(m<=S){k=B*r;v=C*r}else{k=C*r;v=B*r}return{OU:k,Vi:v}};g.Gt.prototype.qB=function(Z,m,S,B,C){this.fn=C;
var u=Z.s.tr(C.x,C.y);if(this.wE==null){var r=this._$;if(this.oM&&(r||this.ti)){if(this.ti){var k=this.oM,v=u;
if(k.x>v.x){var e=k;k=v;v=e}var k=Math.atan2(-(v.y-k.y),v.x-k.x),j=g.Gt.a3U(k,Z.e,Z.n),$=[0,0,j.OU,0,j.OU,j.Vi,0,j.Vi],U=new ht;
U.translate(-j.OU/2,-j.Vi/2);U.rotate(k);U.translate(Z.e/2,Z.n/2);l.H.A($,U,$);this.wE=this.MN(r,!1,$);
Z.D.pC=null;this.ti=!1}else{var H=this.V_.HG;this.wE=this.MN(r,H.aU!=0)}this.wE.zj(Z,S);this._$=null;
this.mG(m,_.E.W,{d:_.B.lL,b:this.id,jZ:!0});this.oM=null;Z.D.vC=[];Z.tV=!0}return}this.wE.qB(Z,S,B,u);
this.mG(m,_.E.W,{d:_.B.lL,b:this.id,jZ:!0});var $=this.wE.uo();if(Math.abs($[0]-$[4])<2&&Math.abs($[1]-$[5])<2){this.disable(Z,m,null,B);
return}if(Date.now()-this.amn<200&&this.wE.R3(u)){this.iE(Z,S);this.disable(Z,m,S,B);return}this.amn=Date.now()};
g.Gt.prototype._s=function(Z,m,S,B){var C=this.wE;if(C==null||this.fn&&this.fn.vs)return;if(B.j(iZ.Z6)){this.iE(Z,S);
this.disable(Z,m,S,B)}else if(B.j(iZ.xU)){this.disable(Z,m,S,B)}else C._s(Z,S,B)};g.Gt.Cz=function(Z,m,S){var B={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:Z[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:Z[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:Z[1]+Z[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:Z[0]+Z[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:m!=null?m:0}},Dlt:{t:"bool",v:S!=null?S:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{CE:"crop",Oz:B}};g.Gt.v6=function(Z,m){if(m==null)m=[!0,!0,!0,!0];var S={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][Z]}}},B=["Top","Left","Btom","Rght"];
for(var q=0;q<4;q++)S[B[q]]={t:"bool",v:m[q]};return{CE:"trim",Oz:S}};g.Gt.HL=function(Z,m,S,B){var C={classID:"null"};
if(B!=null){C.Wdth={t:"UntF",v:{type:"#Pxl",val:Z}};C.Hght={t:"UntF",v:{type:"#Pxl",val:m}};C.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][B]}}}if(S!=null)C.Rslt={t:"UntF",v:{type:"#Rsl",val:S}};
return{CE:"imageSize",Oz:C}};g.Gt.xn=function(Z,m,S){if(S==null)S=4;var B=Math.floor(S/3),C=S%3;return{CE:"canvasSize",Oz:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:Z}},Hght:{t:"UntF",v:{type:"#Pxl",val:m}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][C]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][B]}}}}};
g.Gt.prototype.W2=function(Z,m,S,B,C){var u=new bq(0,0,S.e,S.n),r=[11,3],k=S.wd,v=S.e/2,e=S.n/2,j=1,h,b;
if(Z.d=="fromAction"){var $=Z.KT,U=$.CE,H=$.Oz,z=S.e/S.n,f=H.Wdth?H.Wdth.v.val:-1,D=H.Hght?H.Hght.v.val:-1,k=H.Rslt?H.Rslt.v.val:null,n=H.Wdth?H.Wdth.v.type:H.Hght?H.Hght.v.type:-1,L=1,a;
if(n=="#Prc"){if(f!=-1)f=Math.round(S.e*f/100);if(D!=-1)D=Math.round(S.n*D/100)}if(U=="imageSize"){if(H.Intr){if(H.Intr.v.Intp=="Nrst")L=0;
if(H.Intr.v.Intp=="bicubicSharper")L=2;if(f==-1&&D==-1){var F=k/S.wd;f=Math.round(S.e*F);D=Math.round(S.n*F)}if(H.CnsP&&H.CnsP.v){if(f==-1)f=Math.round(D*z);
if(D==-1)D=Math.round(f/z)}}else{if(n=="#Prc")k=Math.round(S.wd*(S.e/f));else if(n==-1)k=Math.round(k);
else throw"e";f=S.e;D=S.n}a={d:"imgsize",vm:f,cB:D,i8:k,Cf:L}}else if(U=="canvasSize"){if(f==-1)f=S.e;
if(D==-1)D=S.n;if(H.Rltv&&H.Rltv.v==!0){if(H.Wdth)f+=S.e;if(H.Hght)D+=S.n}var A=H.Vrtc?H.Vrtc.v.VrtL:"Cntr",T=H.Hrzn?H.Hrzn.v.HrzL:"Cntr";
a={d:"canvsize",vm:f,cB:D,GB:3*["Top","Cntr","Btom"].indexOf(A)+["Left","Cntr","Rght"].indexOf(T)}}else if(U=="revealAll"){a={d:"revealAll"}}else if(U=="trim"){var P={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[H.trimBasedOn.v.trimBasedOn];
if(P==null)throw"e";var Y=["Top","Left","Btom","Rght"],Q=[!0,!0,!0,!0];for(var q=0;q<4;q++)if(H[Y[q]])Q[q]=H[Y[q]].v;
a={d:"trim",ap3:P,xN:Q}}else if(U=="crop"){var o,I,c,y;if(H.T){var i=H.T.v,o=Math.round(i.Left.v.val),I=Math.round(i.Top.v.val),c=Math.round(i.Rght.v.val)-o,y=Math.round(i.Btom.v.val)-I}else{var d=S.g[S._[0]],V=d.rect;
V=V.o9(new bq(0,0,S.e,S.n));o=V.x;I=V.y;c=V.e;y=V.n}a={d:"canvsize",vm:c,cB:y,r:new aS(o,I),apO:H.Dlt!=null&&H.Dlt.v}}else console.log($);
if(a)this.W2(a,m,S,B,C);return}else if(Z.d=="imgsize"){u=new bq(0,0,Z.vm,Z.cB);if(Z.i8)k=Z.i8;j=Z.Cf}else if(Z.d=="canvsize"){var R=Z.GB!=null?Z.GB:0;
u=new bq(0,0,Z.vm,Z.cB);var G=S.e-Z.vm,M=S.n-Z.cB,O=Math.round(G/2),K=Math.round(M/2);if(R==1||R==4||R==7)u.x=O;
if(R==2||R==5||R==8)u.x=G;if(R==3||R==4||R==5)u.y=K;if(R==6||R==7||R==8)u.y=M;if(Z.r){u.x=Z.r.x;u.y=Z.r.y}}else if(Z.d=="rot"&&(Z.k+2*Math.PI)%(Math.PI/2)!=0){var W=l.H.ez(u).t,t=new ht;
t.translate(-v,-e);t.rotate(Z.k);t.translate(v,e);l.H.A(W,t,W);u=l.H.pa(W)}else if(Z.d=="rot"&&Z.k!=Math.PI&&Z.k!=-Math.PI){u=new bq(v-S.n/2,e-S.e/2,S.n,S.e);
if((S.e+S.n&1)==1){v=Math.floor(v);e=Math.floor(e);u=new bq(v-Math.floor(S.n/2),e-Math.floor(S.e/2),S.n,S.e);
if((S.e&1)==1&&Z.k!=-Math.PI/2)u.y--;if((S.n&1)==1&&Z.k==-Math.PI/2)u.x--}}else if(Z.d=="trim"){r=[11,12,0];
var X=S.Jy(),V=new bq(0,0,S.e,S.n);u=l.Ag(X,V,Z.ap3,Z.xN);if(u.Ov())u=V}else if(Z.d=="cropbysel"){r=[11,12,1];
u=S.$.rect.clone()}else if(Z.d=="revealAll"){r=[11,12,2];u=S.root.Cp(S,!0)}var E=Z.d=="canvsize"&&Z.apO;
if(Z.d=="imgsize"||Z.d=="rot"||Z.d=="scl"||E){var f0=new ht;if(Z.d=="imgsize"){r=[11,10];f0.scale(Z.vm/S.e,Z.cB/S.n)}else if(E){}else{f0.translate(-v,-e);
if(Z.d=="rot")f0.rotate(Z.k);if(Z.d=="scl")f0.scale(Z.k.x,Z.k.y);f0.translate(v,e);r=Z.fm}b=l.N.No(f0);
h=this.De(S,C,!0,b,j,E?u:null)}else if(Z.d=="auto-align"){if(S._.length<2){alert("Select two or more layers.");
return}var ay=[];for(var q=0;q<S._.length;q++){var d=S.g[S._[q]];if(!d.JB()&&d.add.SoLd==null){alert("Unsupported layer selected.");
return}if(d.rect.Ov()){alert("Empty layer selected.");return}ay.push([d.buffer,d.rect])}var p=l.WV.Gu(ay,0);
if(p==null){alert("No similarity found.");return}b=p[1];var eo=S._;S._=S._.slice(1);h=this.De(S,C,!1,p.slice(1),j);
S._=eo;u=S.root.Cp(S,!0);r=[2,10,1]}var co=new bq(0,0,S.e,S.n);if(!u.Ov()&&(!u.Qu(co)||h!=null)){var c5=new h8(r,this);
c5.data={au9:S.wd,i8:k,wH:h,VH:b,ia:g.Gt.xg(S,u,co,h!=null)};g.Gt.y$(S,c5.data,u);S.oF(c5);this.gE(c5.data,S)}};
g.Gt.xg=function(Z,m,S,B){if(Z.Wv.length==0)return null;var C=JSON.stringify(Z.Wv),u=JSON.parse(C);g.UX.a6T(u,m,S,B);
u=JSON.stringify(u);return[C,u]};g.Gt.prototype.De=function(Z,m,S,B,C,u){var r={g:[],f0:null,zY:null};
if(S){for(var q=0;q<Z.g.length;q++)r.g.push(q);for(var q=0;q<Z.px.length;q++)r.g.push(-1-q);for(var q=0;
q<Z.Xz.length;q++)r.g.push(-1e3-q)}else r.g=Z._.slice(0);r.f0=g.Q.H$(Z,r.g,!0);g.Q.j0(Z,m,r.g,r.f0,C,B,null,!0,u);
r.zY=g.Q.H$(Z,r.g,!0);return r};g.Gt.prototype.gE=function(Z,m){if(Z.i8)m.wd=Z.i8;if(Z.ia)m.Wv=JSON.parse(Z.ia[1]);
if(Z.wH){g.Gt.uR(m,l.N.aY(Z.VH));g.Q.Xs(m,Z.wH.g,Z.wH.zY)}g.Gt.v3(m,Z)};g.Gt.prototype.Jm=function(Z,m){if(Z.au9)m.wd=Z.au9;
if(Z.ia)m.Wv=JSON.parse(Z.ia[0]);g.Gt.nL(m,Z);if(Z.Tn)m.s.r.my(Z.Tn);m.atp();if(Z.wH){var S=l.N.aY(Z.VH).clone();
S.Yy();g.Gt.uR(m,S);g.Q.Xs(m,Z.wH.g,Z.wH.f0)}};g.Gt.uR=function(Z,m){for(var q=0;q<Z.g.length;q++){var S=Z.g[q];
if(S.add.artb==null)continue;var B=l.H.ez(S.u1()).t;l.H.A(B,m,B);var C=l.H.pa(B);S.Ea(C)}};g.Gt.j8=function(Z){var m=new bq,S=0,B=Z.root.children.length;
for(var q=0;q<B;q++){var C=Z.root.children[q].i;if(C.add.artb==null)continue;m=m.j3(C.u1());S++}var u=new bq(0,0,Z.e,Z.n);
if(!m.Ov()&&!u.Qu(m)&&B==S)return m;return null};g.Gt.NT=function(Z){var m=g.Gt.j8(Z);if(m)g.Gt.ko(Z,m,!0);
return m};g.Gt.ko=function(Z,m,S){var B=Z.e,C=Z.n,u=m.e,r=m.n,k=m.x==0&&m.y==0;if(k&&B==u&&C==r)return;
Z.e=u;Z.n=r;var v=[];for(var q=0;q<Z.g.length;q++)v.push(q);if(!k)g.ho.Kf(Z,v,null,-m.x,-m.y);for(var q=0;
q<Z.g.length;q++){Z.g[q].T3(Z)}Z.atp();if(S){var e=Z.s.r,j=Z.s.R;e.x+=Math.round((m.x+(u-B)/2)*j);e.y+=Math.round((m.y+(r-C)/2)*j)}else Z.s.r.r8(0,0);
if(Z.$)Z.$.rect.offset(-m.x,-m.y);var $=Z.dM();for(var U=0;U<$[0].length;U++)if($[1][U]==-1){var H=Z.Ua[U];
H[1]-=H[0]==0?m.x:m.y}for(var q=0;q<Z.Xz.length;q++)Z.Xz[q].rect.offset(-m.x,-m.y)};g.Gt.prototype._F=function(Z,m,S,B,C){if(Z.BT=="commit"){this.iE(S,C);
this.disable(S,m,null,B)}else if(Z.BT=="cancel"){this.disable(S,m,null,B)}var u=null,r=new bq(0,0,S.e,S.n),k=this.V_.HG;
if(Z.BT=="config"){this.V_=Z.V_;k=this.V_.HG;if(S==null||!Z.al5)return;u=r;if(k.aU==1){var v=k.x/k.y;
if(u.e/v<u.n)u.n=Math.round(u.e/v);else u.e=Math.round(u.n*v)}if(k.aU==2){u.e=k.x;u.n=k.y}u.x=Math.round((S.e-u.e)/2);
u.y=Math.round((S.n-u.n)/2)}if(Z.BT=="straighten"){alert("Draw a line in the image.");this.ti=!0}if(Z.BT=="cropby"){if(S==null)return;
var e=Z.a1q,u;if(e==0)u=S.root.Cp(S,!0);if(e==1){if(S._.length==0)alert("No layer is selected.");else{var j=S.root.Hr(S._[0]);
u=j.Cp(S,!0)}}if(e==2){if(S._.length==0)alert("No layer is selected.");else{u=l.Ag(S.Jy(),r,0);if(u.Ov())u=r.clone()}}if(e==3){if(S.$!=null)u=S.$.rect;
else alert("There is no selection.")}if(e==4){u=new bq(0,0,S.e,S.n)}}if(u&&u.Ov())u=null;if(u!=null){this.wE=this.MN(u,k.aU!=0);
this.wE.zj(S,C);this.mG(m,_.E.W,{d:_.B.lL,b:this.id,jZ:!0})}};g.Gt.prototype.iE=function(Z,m){var S=this.wE.uo(),B=l.H.pa(S),C=this.a01(Z,S),u=!1,r=this.V_.HG,k=this.V_.ko,v=r.x,e=r.y,U;
if(this.id==g.Ug&&r.aU==2&&C.Z()!=v*e){C=new bq(C.x,C.y,v,e);u=!0}var j=l.N.Eh(S,C);j=l.N.Yy(j);var $=l.N.lG(j),H=Math.atan2(j[3],j[0]);
if(Math.abs(H)>1e-9||!$||u||k)U=this.De(Z,m,!0,j,1,B);var z=new h8(this.name,this),f=new bq(0,0,Z.e,Z.n);
z.data={wH:U,VH:j,Tn:Z.s.r.clone(),ia:g.Gt.xg(Z,C,f,!1)};g.Gt.y$(Z,z.data,C);Z.oF(z);this.gE(z.data,Z);
this.track(g.Gt.Cz([B.x,B.y,B.e,B.n],null,k))};g.Gt.y$=function(Z,m,S){if(S==null)return;m.nM=new bq(0,0,Z.e,Z.n);
m.mp=S};g.Gt.v3=function(Z,m){if(m.mp==null)return;g.Gt.ko(Z,m.mp)};g.Gt.nL=function(Z,m){if(m.mp==null)return;
var S=m.nM.clone();S.offset(-m.mp.x,-m.mp.y);g.Gt.ko(Z,S)};g.Gt.prototype.a01=function(Z,m){var S=l.N.Eh(m),B=l.N.lG(S),C=l.N.aY(S),u=C.s9,r=C.ku,k=Math.atan2(C.S,C.AQ);
C.rotate(k);var v=new bq(u,r,C.AQ,C.uw);if(!B){function e(a,q,F){var A=a[q]-a[F],T=a[q+1]-a[F+1];return Math.sqrt(A*A+T*T)}var j=e(m,0,2),$=e(m,4,6),U=Math.max(j,$),H=e(m,2,4),z=e(m,6,0),f=Math.max(H,z),D=g.Gt.agT(m,Z.e/2,Z.n/2),n,L;
if(isNaN(D)||D==Infinity||D==-Infinity||Math.min(D,1/D)<.1)D=(j+$)/(H+z);if(U/f>D){n=U*1;L=n/D}else{L=f*1;
n=L*D}v.e=n;v.n=L}v.x=Math.round(v.x);v.y=Math.round(v.y);v.e=Math.round(v.e);v.n=Math.round(v.n);return v};
g.Gt.agT=function(Z,m,S){var B=Z[0]-m,C=Z[1]-S,u=Z[2]-m,r=Z[3]-S,k=Z[6]-m,v=Z[7]-S,e=Z[4]-m,j=Z[5]-S,$=((C-j)*k-(B-e)*v+B*j-C*e)/((r-j)*k-(u-e)*v+u*j-r*e),U=((C-j)*u-(B-e)*r+B*j-C*e)/((v-j)*u-(k-e)*r+k*j-v*e),H=-((U*v-C)*($*r-C)+(U*k-B)*($*u-B))/((U-1)*($-1));
function z(D){return D*D}var f=Math.sqrt((z($-1)+z($*r-C)/H+z($*u-B)/H)/(z(U-1)+z(U*v-C)/H+z(U*k-B)/H));
if($==1&&U==1)f=Math.sqrt((z(r-C)+z(u-B))/(z(v-C)+z(k-B)));return f};g.Gt.prototype.disable=function(Z,m,S,B){if(Z==null)return;
if(this.wE)this.wE.clear(Z);this.wE=null;this.mG(m,_.E.W,{d:_.B.lL,b:this.id,jZ:!1})};g.Gt.prototype.mG=function(Z,m,S,B){var C=new eY(m,!0);
C.data=S;if(B)C.b=B;Z.c(C)};g.Dm=function(){g.Gt.call(this,[10,2],g.Ug,"tools/rcrop")};g.Dm.prototype=new g.Gt;
g.qD=function(){g.Gt.call(this,[10,39],g.R7,"tools/pcrop")};g.qD.prototype=new g.Gt;g.zh=function(){g.T1.call(this,[10,21],g.VK,"tools/dodge");
this.yM="dodge"};g.zh.prototype=new g.T1;g.zh.prototype.kV=function(Z,m,S,B,C){this.oE(Z,S,B,C,this.Et.expo/Math.PI);
if(this.Qk==null)return;this.Sf(Z)};g.zh.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);if(this.Xw)this.Ej(Z,S,C);
if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.qf=function(){g.T1.call(this,[10,3],g.ms,"tools/eraser");
this.yM="erase"};g.qf.prototype=new g.T1;g.qf.prototype.kV=function(Z,m,S,B,C){this.oE(Z,S,B,C,this.Et.flow);
if(this.Qk==null)return;this.Sf(Z)};g.qf.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);if(this.Xw)this.Ej(Z,S,C);
if(this.Qk==null)return;if(!C.vs)return;var u=this.mz(Z,S,B,C);this.Sf(Z)};g.OA=function(){g.T1.call(this,[10,45],g.ak2,"tools/beraser");
this.yM="ierase"};g.OA.prototype=new g.T1;g.OA.prototype.kV=function(Z,m,S,B,C){if(this.TU(B,m,C))return;
this.oE(Z,S,B,C,this.Et.flow);if(this.Qk==null)return;this.Sf(Z)};g.OA.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);
if(this.Xw)this.Ej(Z,S,C);if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.ZD=function(){g.nJ.call(this,[10,15],g.Ml,"tools/rselect");
this._b="crosshair"};g.ZD.prototype=new g.nJ;g.ZD.prototype.hI=function(Z,m,S,B){if(!B.vs||!this.O3)return;
var C=this.Cp(Z,S,!0);Z.D.pC=l.H.ez(C);Z.tV=!0;g.cd.gR(B,C,Z,m)};g.ZD.prototype.v4=function(Z,m,S,B){Z.D.pC=null;
Z.D.vC=[];Z.tV=!0;this.finish(Z,m,S,B)};g.ZD.prototype.getSelection=function(Z,m,S,B){if(this.oM.Qu(this.cl)||!this.O3)return null;
var C=this.Cp(Z,S,!0);if(C.Ov())return null;return g.nJ.Tp("Rctn",C,this.Et.anta)};g.VC=function(){g.nJ.call(this,[10,4],g.aaY,"tools/eselect");
this._b="crosshair"};g.VC.prototype=new g.nJ;g.VC.prototype.hI=function(Z,m,S,B){if(!B.vs||!this.O3)return;
var C=this.Cp(Z,S);Z.D.pC=g.VC.aO(C);Z.tV=!0;g.cd.gR(B,C,Z,m)};g.VC.prototype.v4=function(Z,m,S,B){Z.D.pC=null;
Z.D.vC=[];Z.tV=!0;this.finish(Z,m,S,B)};g.VC.prototype.getSelection=function(Z,m,S,B){if(this.oM.Qu(this.cl)||!this.O3)return null;
var C=this.Cp(Z,S);if(!C.df(new bq(0,0,Z.e,Z.n)))return null;return g.nJ.Tp("Elps",C,this.Et.anta)};
g.VC.aO=function(Z){var m=Z.x,S=Z.y,B=Z.x+Z.e,C=Z.y+Z.n,u=(m+B)/2,r=(S+C)/2,k=(m-B)/2,v=(S-C)/2,e=.5522848,j={t:[u,r-v],C:["M","C","C","C","C"]};
j.t.push(u+e*k,r-v,u+k,r-e*v,u+k,r);j.t.push(u+k,r+e*v,u+e*k,r+v,u,r+v);j.t.push(u-e*k,r+v,u-k,r+e*v,u-k,r);
j.t.push(u-k,r-e*v,u-e*k,r-v,u,r-v);return j};g.u9=function(Z){g.cd.call(this,[10,5],Z?g.Xu:g.ps,"tools/eyedropper");
this.Aj=null;this.Hu=0;this.rz=null;this.Zx=1;this.oN=2;this.a3r=!0;this.fe=!1};g.u9.prototype=new g.cd;
g.u9.prototype.oU=function(Z){return Z.vs};g.u9.prototype.W2=function(Z,m,S,B,C){if(Z.d=="pickhere")this.gv(S,m,C,null,Z.ahk);
if(Z.d=="supertool")this.Aj=Z.b};g.u9.prototype.kV=function(Z,m,S,B,C){var u=this.Aj;if(u){u.kV(Z,m,S,B,C);
return}this.Hu=S.Nx;this.rz=C;var r=this.gv(Z,null,S,B,C);this.i9(Z,m,r,C)};g.u9.prototype.hJ=function(Z,m,S,B,C){var u=this.Aj;
if(u){u.hJ(Z,m,S,B,C);return}var r=this.rz;if(r){var k=C.x-r.x,v=C.y-r.y,e=1,j=new aS(r.x+k*e,r.y+v*e),$=this.gv(Z,null,S,B,j);
this.i9(Z,m,$,j,new aS(k*(1-e),v*(1-e)))}};g.u9.prototype.i9=function(Z,m,S,B,C){var u=this.a3r,r=this.fe,e=12,j=11;
if(Z.s.R>4)r=!1;if(!r&&!u)return;if(C==null)C=new aS(0,0);var k=new bq(0,0,Z.e,Z.n),v=Z.Jy(),$=(e*2+1)*j,U=new aS($/2,$/2),H=new bq(0,0,$,$),z=l.U(H.Z()*4),f=Z.s.tr(B.x,B.y),D=Math.floor(f.x),n=Math.floor(f.y),L=new ht;
L.scale(1/j,1/j);L.translate(D-e,n-e);if(r)l.scale.vK(v,k,L,z,H);var a=(e-3.4)*j,F=(e-1.7)*j,A=e*j;for(var T=0;
T<$;T++)for(var P=0;P<$;P++){var Y=aS.qa(new aS(P,T),U);if(Y>a){if(u){var Q=Math.max(0,a-Y+1),o=(T*$+P)*4,I=z[o+3]<<24|z[o]<<16|z[o+1]<<8|z[o+2],c=255<<24|(T<A+j*.5?S:this.Hu);
if(Y>F){Q=Math.max(0,F-Y+1);I=c;c=4286611584}else if(!r){I=c&16777215}z[o+0]=(1-Q)*(c>>>16&255)+Q*(I>>>16&255);
z[o+1]=(1-Q)*(c>>>8&255)+Q*(I>>>8&255);z[o+2]=(1-Q)*(c>>>0&255)+Q*(I>>>0&255);z[o+3]=(1-Q)*(c>>>24&255)+Q*(I>>>24&255)}if(Y>A){z[(T*$+P)*4+3]=Math.max(0,255*(A-Y+1))}}}function y(q){var b=q<<2;
z[b]=0;z[b+1]=0;z[b+2]=0;z[b+3]=255}function i(q){var b=q<<2;z[b]=255;z[b+1]=255;z[b+2]=255;z[b+3]=255}var d=this.Zx*j+2,V=$-d>>>1,R=V+d-1;
if(r&&d<$)for(var q=0;q<d;q++){var G=V*$+V+q,M=R*$+V+q,O=(V+q)*$+V,K=(V+q)*$+R;y(G);y(M);y(O);y(K);if(q!=0&&q!=d-1){i(G+$);
i(M-$);i(O+1);i(K-1)}}if(!r)for(var q=-9;q<=9;q++){if(-3<q&&q<3)continue;var W=$>>>1,P=W*$+W+q,T=(W+q)*$+W;
i(P-$);y(P);i(P+$);i(T-1);y(T);i(T+1)}var t=g.cd.Md(0,0,["#"+l.L5(S),"RGB "+(S>>>16&255)+","+(S>>>8&255)+","+(S>>>0&255)]),k=t[1];
k.y=0;k.x=$-k.e>>>1;l.pY(t[0],k,z,H);var X={dk:z,pe:H,n3:new aS(U.x+C.x,U.y+C.y)},h=new eY(_.E.W,!0);
h.data={d:_.B.tC,l4:X};m.c(h)};g.u9.prototype.qB=function(Z,m,S,B,C,u){this.gv(Z,m,S,B,C);var r=this.Aj;
if(r){r.qB(Z,m,S,B,C);return}if(this.rz){this.rz=null;if(u)this.gv(Z,m,S,B,C,this.Hu);var k=new eY(_.E.W,!0);
k.data={d:_.B.tC,l4:"default"};m.c(k)}};g.u9.prototype.gv=function(Z,m,S,B,C,u){if(u==null)u=g.u9.Ux(Z,C,this.Zx,this.oN);
var r=new eY(_.E.W);r.data={d:_.B.L8,Lh:bo.HA,hN:B&&B.j(iZ.__)?1:0,k:u};if(m)m.c(r);return u};g.u9.Ux=function(Z,m,S,B){if(B==null)B=2;
var C=Z.s.tr(m.x,m.y),u,r,k=Z._.length==1&&Z.g[Z._[0]].E_>0,v=Z.tp.length!=0,F=0,A=0,T=0;if(k||v){var e;
if(v)e=Z.Xz[Z.tp[0]];else{var j=Z.g[Z._[0]];e=j.E_==1?j.sd():j.asa()}r=e.Cp();if(!r.hV(C))return e.color==0?0:16777215;
u=l.U(r.Z()*4);u.fill(255);var $=e.JE();l.Dc($,u)}else if(B==0&&Z._.length!=0){var j=Z.g[Z._[0]];u=j.buffer;
r=j.rect}else{u=B==2?Z.Jy():Z.Jy(Z._[0]);r=new bq(0,0,Z.e,Z.n)}var U=Math.floor(C.x)-r.x,H=Math.floor(C.y)-r.y,z=(S-1)/2,f=Math.max(0,U-z),D=Math.max(0,H-z),n=Math.min(r.e,U+z+1),L=Math.min(r.n,H+z+1),a=(n-f)*(L-D);
for(var U=f;U<n;U++)for(var H=D;H<L;H++){var q=4*(H*r.e+U);F+=u[q];A+=u[q+1];T+=u[q+2]}F=Math.round(F/a);
A=Math.round(A/a);T=Math.round(T/a);return F<<16|A<<8|T};g.u9.prototype._F=function(Z){var m=Z.Et;this.Zx=[1,3,5,11,31][m[0]];
this.oN=m[1];this.a3r=m[2];this.fe=m[3]};g.eN=function(){g.cd.call(this,[10,6],g.a3c,"tools/gradient");
this.Et={X:JSON.parse(fp.p5.a0W).v,lS:"Lnr",DK:!1,a9u:!1,a9i:"norm",Qp:1};this.ns=!1;this.T7=null};g.eN.prototype=new g.cd;
g.eN.prototype.enable=function(Z,m,S,B){var C=new eY(_.E.W,!0);C.data={d:_.B.tC,l4:"default"};m.c(C)};
g.eN.prototype._F=function(Z){this.Et=Z.Lh};g.eN.prototype.kV=function(Z,m,S,B,C){if(!Z.t9())return;
this.T7=Z.s.tr(C.x,C.y);this.T7=g.ho._E(Z,this.T7,S);this.ns=!0};g.eN.prototype.hJ=function(Z,m,S,B,C){if(!this.ns)return;
var u=Z.s.tr(C.x,C.y);u=g.ho._E(Z,u,S);if(B.j(iZ.nQ))u=g.eN.ab(this.T7,u);Z.D.pC={t:[this.T7.x,this.T7.y,u.x,u.y],C:["M","L"]};
Z.D.dx=[this.T7.x,this.T7.y,u.x,u.y];Z.tV=!0};g.eN.prototype.qB=function(Z,m,S,B,C){if(!this.ns)return;
var u=Z.g[Z._[0]],r=Z.s.tr(C.x,C.y);r=g.ho._E(Z,r,S);if(B.j(iZ.nQ))r=g.eN.ab(this.T7,r);var k=r.Vf(this.T7),v=aS.zu(this.T7,r,.5),e=Math.atan2(k.y,k.x),j=aS.qa(this.T7,r),$=Math.sin(e),U=Math.cos(e);
if(j>2){var H;if(Z.$)H=Z.$.rect;else H=new bq(0,0,Z.e,Z.n);var z=l.U(H.Z()*4),f=this.Et,D=f.lS;if(D!="Lnr"){j*=2;
v=this.T7}l.X.pp(f.X,z,H,[U*1/j,$*1/j,-$*1/j,U*1/j],v.x,v.y,f.DK,fp.X.types.indexOf(D),S.Nx,S.ZN,null,f.a9u);
var n=Math.round(f.Qp*256),L=z.length;if(n!=256)for(var q=0;q<L;q+=4)z[q+3]=z[q+3]*n>>>8;var a=new eY(_.E.Y);
a.b=g.ms;a.data={d:"fillBMP",X9:z,o6:f.a9i,fm:this.name};m.c(a)}Z.D.pC=null;Z.D.dx=[];Z.tV=!0;this.ns=!1};
g.eN.ab=function(Z,m){if(Z.Qu(m))return Z;var S=m.x-Z.x,B=m.y-Z.y,C=Math.abs(S),u=Math.abs(B);if(C>u)u=C/2>u?0:C;
if(u>C)C=u/2>C?0:u;C=S>0?C:-C;u=B>0?u:-u;var r=Math.sqrt(S*S+B*B)/Math.sqrt(C*C+u*u);return new aS(Z.x+C*r,Z.y+u*r)};
g.eN.bW=function(Z,m,S,B,C,u,r){if(r==null)r=document.createElement("canvas");var k=r.getContext("2d");
r.width=m;r.height=S;var v=new bq(0,0,m,S),e=l.U(m*S*4);l.AN(e,m,S,4);var j=Math.sin(B),$=Math.cos(B),U=l.U(m*S*4);
l.X.pp(Z,U,v,[$*1/m,j*1/m,-j*1/S,$*1/S],m/2,S/2,!1,0,C,u);l.a.qn("norm",U,v,e,v,v,1);var H=k.getImageData(0,0,m,S);
l.Yx(e,H.data);k.putImageData(H,0,0);return r.toDataURL()};g.eN.a8H=function(Z,m,S){var B=JSON.parse(JSON.stringify(Z));
if(B.Clrs)for(var q=0;q<B.Clrs.v.length;q++){var C=B.Clrs.v[q].v,u=C.Type.v.Clry;if(u=="UsrS")continue;
var r=u=="FrgC"?m:S;C.Type.v.Clry="UsrS";C.Clr={t:"Objc",v:l.X.M1({I:r>>16&255,z:r>>8&255,S:r&255})}}return B};
g.Ed=function(){g.cd.call(this,[10,7],g.Yz,"tools/hand");this.rz=new aS(0,0);this.Kj=null;this.Sc=0};
g.Ed.prototype=new g.cd;g.Ed.prototype.W2=function(Z,m,S,B,C){var u=Z.d;if(u=="setcls"){S.s.U1=Z.U1;
S.tV=!0;S.SW=!0}if(u=="scroll"&&!B.j(iZ.__)){if(B.j(iZ.Sx))g.Ed.sg(S,S.s.r.x-Z.Wm.y,S.s.r.y-Z.Wm.x);
else g.Ed.sg(S,S.s.r.x-Z.Wm.x,S.s.r.y-Z.Wm.y)}};g.Ed.prototype.enable=function(Z,m,S,B){this.Kj=null;
var C=new eY(_.E.W,!0);C.data={d:_.B.tC,l4:"grab"};m.c(C);if(Z&&Date.now()-this.Sc<300){C.type=_.E.Y;
C.b=g.ky;C.data={d:"adapt",k:"fitscr"};m.c(C)}this.Sc=Date.now()};g.Ed.prototype.kV=function(Z,m,S,B,C){this.Kj=Z.s.r.clone();
this.rz.r8(C.x,C.y)};g.Ed.prototype.hJ=function(Z,m,S,B,C){if(!C.vs)return;if(this.Kj==null)this.kV(Z,m,S,B,C);
g.Ed.sg(Z,this.Kj.x+(C.x-this.rz.x),this.Kj.y+(C.y-this.rz.y))};g.Ed.prototype.qB=function(Z,m,S,B,C){this.Kj=null};
g.Ed.sg=function(Z,m,S){var B=Z.s.R,C=Z.s.ma,u=C.e,r=C.n,k=Z.e*B,v=Z.n*B,e=k<u&&v<r,j=u/2+k/2-64,$=r/2+v/2-64;
Z.s.r.r8(Math.max(-j,Math.min(j,m)),Math.max(-$,Math.min($,S)));Z.SW=!0};g._6=function(){g.cd.call(this,[10,47],g.ahY,"tools/rview");
this.rz=new aS(0,0);this.wL=null;this.a3G=null;this.Sc=0};g._6.prototype=new g.cd;g._6.prototype.enable=function(Z,m,S,B){this.Kj=null;
var C=new eY(_.E.W,!0);C.data={d:_.B.tC,l4:"grab"};m.c(C);if(Z&&Date.now()-this.Sc<300&&Z.s.Zo!=0){Z.s.Zo=0;
Z.tV=!0}this.Sc=Date.now();if(Z)this.ln(Z,m)};g._6.prototype.disable=function(Z,m,S,B,C){if(Z)this.ln(Z,m)};
g._6.prototype.Qw=function(Z,m,S,B){if(Z)this.ln(Z,m)};g._6.prototype.kV=function(Z,m,S,B,C){this.rz.r8(C.x,C.y);
var u=Z.s;this.wL=u.tr(u.ma.e/2,u.ma.n/2);this.a3G=u.gr()};g._6.prototype.hJ=function(Z,m,S,B,C){if(!C.vs)return;
var u=Z.s,r=this.wL,k=this.rz,v=new aS(u.ma.e/2,u.ma.n/2),e=Math.atan2(C.y-v.y,C.x-v.x),j=Math.atan2(k.y-v.y,k.x-v.x);
this.S7(Z,m,this.a3G.clone(),r,e-j)};g._6.prototype._F=function(Z,m,S,B){this.S7(S,m,null,null,Z.i7-S.s.Zo);
S.s.Zo=Z.i7};g._6.prototype.S7=function(Z,m,S,B,C){var u=Z.s;if(S==null)S=u.gr();if(B==null)B=u.tr(u.ma.e/2,u.ma.n/2);
S.translate(-B.x,-B.y);S.rotate(C);S.translate(B.x,B.y);u.amB(S);if(Z.e*u.R<u.ma.e&&Z.n*u.R<u.ma.n)u.r.r8(0,0);
Z.tV=!0;this.ln(Z,m)};g._6.prototype.ln=function(Z,m){var S=new eY(_.E.W,!0);S.data={d:_.B.lL,b:this.id,i7:Z.s.Zo};
m.c(S)};g.Nc=function(){g.Hq.call(this,[10,25],g.bY,"tools/hbrush")};g.Nc.prototype=new g.Hq("");g.Nc.prototype.qB=function(Z,m,S,B,C){if(this.Qk==null)return;
this.Zr(Z,"heal",this.Qk.yY(),this.Qk.Cp(),this.Qk.hE());this.G(Z,this.Qk.hE());g.T1.prototype.qB.call(this,Z,m,S,B,C);
if(!this.Et.algnd)this.r=null};g.VX=function(Z){g.cd.call(this,Z?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],Z?g.H6:g.WH,Z?"tools/vtype":"tools/htype");
this.dE=[];this.OB=null;this.YS=null;this.caller=null;this.WS=1;this.kn=null;this.alc=0;this.Mz=0;this.a3g=null;
this.pP=null;this.yl=null;this.V4=null;this.uc=null;this.X8=null;this.auz=null;this.qk=null;this.wE=null;
this.aq=null;this.afX=null;this.MZ=!1;this.kQ=!1;this._r=!1;this.uJ=null;this.Cd=null;this.ai9=null;
this.qp=!1;this.P$=!1;this.aj=-1;this.uB=-1;this.X6=document.createElement("textarea");this.X6.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.X6.addEventListener("input",this.PJ.bind(this),!1);this.X6.addEventListener("keydown",this.amO.bind(this),!1);
this.X6.addEventListener("keyup",this.a95.bind(this),!1);var m=function(S){S.stopPropagation()};this.X6.addEventListener("keydown",m,!1);
this.X6.addEventListener("keyup",m,!1)};g.VX.prototype=new g.cd;g.VX.prototype.oU=function(Z){return Z.vs};
g.VX.prototype.Ll=function(Z,m,S,B){if(this.yl!=null||this.id==g.H6)return;this.caller=m;this.OB=Z;var C=this.rD(Z);
if(C.length!=0){var u=null,r=[],k=[];for(var q=0;q<C.length;q++){var v=Z.g[C[q]],e=v.add.TySh,j=0,$=e6.xu(e.e7).length-2,U=e6.yH(e.e7,j,$);
e6.lc(U,g.Q.l_(e.A));if(U.n1.Font!=null)U.n1.Font=U.wb[U.n1.Font].Name;u=U.wb;r.push(U.n1);k.push(U.Q0)}var U={wb:u,n1:e6.n_(r),Q0:e6.n_(k)};
if(U.n1.Font!=null)e6.VR(U,U.n1.Font);this.P6(m,U,e)}};g.VX.prototype.rD=function(Z){var m=[];for(var q=0;
q<Z._.length;q++)if(Z.g[Z._[q]]&&Z.g[Z._[q]].add.TySh)m.push(Z._[q]);return m};g.VX.prototype.W2=function(Z,m,S,B,C){var u=Z.d=="insertGlyph";
if((u||Z.d=="insertText")&&this.yl){var r=u?String.fromCharCode(65533):Z.k,k=this.X6,v=k.value,e=k.selectionStart,j=k.selectionEnd;
k.value=v.slice(0,e)+r+v.slice(j);k.selectionStart=k.selectionEnd=e+r.length;this.PJ(null,u?Z.k:null);
k.focus()}if(Z.d=="updateStyles"){if(this.yl==null){var $=this.rD(S),U=!1;if($.length!=0){this.xF(S,m,C,$);
for(var q=0;q<$.length;q++){var H=S.g[$[q]],z=H.add.TySh;e6.tg(z,this.WS);this.yl=H;var f=e6.xu(z.e7);
this.aj=0;this.uB=f.length-1;e6.rj(z.e7,this.aj,this.uB,this.K0(C,z));var D=this.A8(S,C);if(D==!1)U=!0}if(U){this.qp=!0;
return}this.ER(S,m)}return}this.hP(C)}if(Z.d.startsWith("warp")){var n=this.P$;if(Z.d=="warp"||Z.d=="warpCancel"){if(this.yl==null)return;
if(Z.d=="warp")this.yl.add.TySh.qO=Z.BF;else this.yl.add.TySh.qO=this.auz;var S=this.OB;this.A8(S,C);
if(!n)this.aT(S)}if(Z.d!="warp")this.X6.focus();if((Z.d=="warpConfirm"||Z.d=="warpCancel")&&n){this.P$=!1;
if(Z.d=="warpConfirm")this.ER(S,m);else this.Tj(S,m)}}if(Z.d=="editCurr"){if(C.th!=g.WH){this.kn=C.th;
var L=new eY(_.E.W,!0);L.data={d:_.B.uv,b:g.WH};m.c(L)}if(this.yl!=null)this.disable(S,m,C,B);this.OB=S;
this.YS=C;this.caller=m;this.xF(S,m,C,[Z._y]);var f=e6.xu(this.yl.add.TySh.e7);this.aj=0;this.uB=f.length-1;
this.aT(S);this.Gs();this.X6.focus()}if(Z.d=="switchPntPrgr"){if(this.yl)return;var H=S.g[S._[0]],z=H.add.TySh,a=z.A.l_(),F=JSON.parse(JSON.stringify(z.e7)),A=e6.w0(F),T=A==1?e6.fG(F):[0,0,Math.round(H.rect.e*1.05/a),Math.round(H.rect.n*1.25/a)],P=e6.yH(F,0,0),Y=P.wb[P.n1.Font].Name,Q=C.Pl.TO(Y),o=[0,T[2],T[2]/2][P.Q0.Justification%3],I=Q?jN.gp(Q,Y,P.n1):P.n1.FontSize*.8;
e6.xx(F,1-A);if(A==0){o=-o;I=-I;e6.Y8(F,[0,0,T[2],T[3]])}var c=new ht(1,0,0,1,o,I);c.concat(z.A);this.W2({rs:S._[0],d:"newED",_v:F,A:c,apI:[16,3,A==1?0:1]},m,S,B,C)}if(Z.d=="newED"){var H=S.g[Z.rs],z=H.add.TySh,y=this.h3(S,[Z.rs]);
z.e7=Z._v;if(Z.A)z.A=Z.A;var i=new jN(z.e7,C.Pl),d=d7.fs(i,z);H.rect=d.pe;H.buffer=d.MW;H.G();S.G();
var V=new h8(Z.apI?Z.apI:this.name,this);V.data={Ip:y,fh:this.h3(S,[Z.rs])};S.oF(V)}if(Z.d=="fromAction"){var R=Z.KT.Oz.Usng.v,G=R.TxtC.v,M=[];
for(var q=0;q<2;q++){var O=G[q==0?"Hrzn":"Vrtc"].v,r=O.val;if(O.type=="#Prc")r=(q==0?S.e:S.n)*(r/100);
M[q]=r}this.B9(S,m,C,B,S.s.o5(M[0],M[1]));var H=S.g[S._[0]],z=H.add.TySh,K=z.e7,v=e6.xu(K);e6.$R(K,0,v.length-1);
e6.Hd(K,0,R.Txt.v.replace(/\r/g,"\n"));v=e6.xu(K);for(var A=0;A<2;A++){var W=R[A==0?"Txtt":"paragraphStyleRange"].v;
for(var q=0;q<W.length;q++){var t=W[q].v,e=t.From.v,j=Math.min(t.T.v-1,v.length-1);t=t[A==0?"TxtS":"paragraphStyle"].v;
var X=e6.yH(K,e,j),h=A==0?X.n1:X.Q0;for(var b in t){var E=t[b].v;if(b=="Sz")h.FontSize=Math.round(E.val);
else if(b=="fontPostScriptName")e6.VR(X,E);else if(b=="Algn")h.Justification={Left:1,Cntr:2}[E.Alg];
else if(b=="leading")h.Leading=t[b].v.val;else if(b=="baselineShift")h.BaselineShift=t[b].v.val;else if(b=="autoLeading")h.AutoLeading=t[b].v;
else if(b=="syntheticBold")h.FauxBold=t[b].v;else if(b=="syntheticItalic")h.FauxItalic=t[b].v;else if(b=="Trck")h.Tracking=t[b].v;
else if(b=="verticalScale")h.VerticalScale=t[b].v/100;else if(b=="horizontalScale")h.HorizontalScale=t[b].v/100;
else if(b=="Clr")h.FillColor={Type:1,Values:[1,E.Rd.v/255,E.Grn.v/255,E.Bl.v/255]}}e6.rj(K,e,j,X)}}var i=new jN(z.e7,C.Pl),d=d7.fs(i,z);
H.rect=d.pe;H.buffer=d.MW;H.G();S.G();this.ER(S,m)}};g.VX.prototype.hP=function(Z){var m=Math.min(this.aj,this.uB),S=Math.max(this.aj,this.uB),B=this.yl.add.TySh;
e6.tg(B,this.WS);e6.rj(B.e7,m,S-1,this.K0(Z,B));var C=this.OB,u=this.A8(C,Z);if(u)this.aT(C);if(document.activeElement.tagName.toLowerCase()!="input")this.X6.focus()};
g.VX.prototype.ar=function(Z){return this.dE.indexOf(Z)!=-1};g.VX.prototype.enable=function(Z,m,S,B){var C=this.X6;
m.m.appendChild(C);this.qk="default";this.i9(m)};g.VX.prototype.nE=function(){return this.yl!=null};
g.VX.wk=function(Z,m){for(var q=Z.g.length-1;q>=0;q--){var S=Z.g[q];if(S.add.TySh&&S.rect.hV(m)&&Z.af_(q)){var B=S.YL(2)||S.YL(31);
return B?-2:q}}return-1};g.VX.prototype.kV=function(Z,m,S,B,C){this.OB=Z;this.YS=S;this.caller=m;var u=Z.s.tr(C.x,C.y),r=this.yl==null;
if(r){var k=g.VX.wk(Z,u);if(k==-2){alert(iD.get([6,57,0]));return}if(k>=0&&!B.j(iZ.nQ)){if(!d7.w$(Z.g[k].add.TySh,S.Pl,m)){alert("Fonts not loaded yet");
return}this.xF(Z,m,S,[k])}else{this._r=!0;this.uJ=C;return}}var v=r?-1:e6.w0(this.yl.add.TySh.e7),e=this.aq?this.aq:this.wE;
if(e&&e.kV(Z,S,B,u,null,null,C)&&l.BF.xB(this.yl.add.TySh.qO)||!r&&l.H.D$(u,this.yl.rect)>20/Z.s.R&&(v==0||v==1)){this.MZ=!0;
this.Cd=u;this.ai9=this.yl.add.TySh.A.clone();if(this.aj==-1&&this.uB==-1)this.aj=this.uB=this.ot(u)}else{if(this.uc==null){alert("Fonts not loaded yet");
return}this.kQ=!0;this.aj=this.uB=this.ot(u);var j=Date.now();if(j-this.alc>300)this.Mz=0;this.Mz++;
this.alc=j;if(this.Mz==2)this.aqn();if(this.Mz==3)this.aqR();if(this.Mz>1){this.kQ=!1}}this.Gs();this.aT(Z)};
g.VX.prototype.xF=function(Z,m,S,B){var C=Z.g[B[0]];this.yl=C;this.mG(m,_.E.W,{d:_.B.lL,b:this.id,BT:"showactive"});
this.V4=B;Z._=B.slice(0);Z.Yr();Z.B3=!0;this.X8=this.h3(Z,B);this.qX(C.add.TySh);this.A8(Z,S)};g.VX.prototype.qX=function(Z){if(e6.w0(Z.e7)!=1)return;
var m=e6.fG(Z.e7);m=new bq(0,0,m[2]-m[0],m[3]-m[1]);var S=[m.x,m.y,m.x+m.e,m.y,m.x+m.e,m.y+m.n,m.x,m.y+m.n];
l.H.A(S,Z.A,S);this.wE=new j8(S,!1,!1,!1,!0)};g.VX.prototype.aqn=function(){var Z=e6.xu(this.yl.add.TySh.e7);
this.aj=this.II(Z,this.aj);this.uB=this.jK(Z,this.aj)};g.VX.prototype.II=function(Z,m){var S=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",B=[];
for(var q=0;q<S.length;q++)B.push(S.charAt(q));var C=B.indexOf(Z[m])==-1?!0:!1;for(var q=m-1;q>=0;q--)if(B.indexOf(Z.charAt(q))!=-1==C)return q+1;
return 0};g.VX.prototype.jK=function(Z,m){var S=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",B=[];for(var q=0;
q<S.length;q++)B.push(S.charAt(q));var C=B.indexOf(Z[m])==-1?!0:!1;for(var q=m+1;q<Z.length;q++)if(B.indexOf(Z.charAt(q))!=-1==C)return q;
return Z.length-1};g.VX.prototype.aqR=function(){var Z=this.uc.ahh(this.aj);this.aj=Z[0];this.uB=Z[1]};
g.VX.prototype.i9=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.tC,l4:this.qk};Z.c(m)};g.VX.prototype.hJ=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y),r=this.yl;
if(!C.vs){var k="default",v=this.wE,e=this.aq?this.aq:v;if(e&&l.BF.xB(r.add.TySh.qO)){var j=e.Zt(u,Z.s.R,null,C);
if(j)k=j;else if(e==v&&v.R3(u))k="text"}else if(r&&l.H.D$(u,r.rect)>20/Z.s.R)k="move";else if(g.VX.wk(Z,u)>=0)k="text";
if(k!=this.qk){this.qk=k;this.i9(m)}}var $=this.uJ;if(this._r&&Math.min(C.x-$.x,C.y-$.y)>4/Z.s.R){this._r=!1;
this.B9(Z,m,S,B,C);r=this.yl;this.MZ=!0;this.wE=new j8(null,!1,!1,!1,!0);var U=Z.s.tr(this.uJ.x,this.uJ.y);
U.x=Math.round(U.x);U.y=Math.round(U.y);this.wE.kV(Z,S,B,U,null,null,C)}if(this.MZ){var H=r.add.TySh;
if(this.aq){this.aq.hJ(Z,S,B,u);var z=l.N.aY(l.N.Eh(this.aq.uo(),this.afX));H.A=z;this.A8(Z,S);e6.jN(H)}else if(this.wE){this.wE.hJ(Z,S,B,u);
var f=H.A.clone(),D=Math.atan2(f.S,f.AQ);f.rotate(D);var z=l.N.aY(l.N.Eh(this.wE.uo())),n=Math.atan2(z.S,z.AQ);
z.rotate(n);if(!isNaN(z.AQ)&&z.AQ*z.uw-z.S*z.mw!=0){var L=new bq(0,0,z.AQ/f.AQ,z.uw/f.uw),a=Math.round(L.e),F=Math.round(L.n),A=H.e7.Curve;
if(A){var T=e6.fG(H.e7),P=new ht(a/T[2],0,0,F/T[3],0,0);l.H.A(A.Points,P,A.Points);e6.jN(H)}e6.Y8(H.e7,[0,0,a,F]);
H.A=l.N.aY(l.N.Eh(this.wE.uo(),L));this.A8(Z,S);e6.jN(H)}}else{var Y=u.x-this.Cd.x,Q=u.y-this.Cd.y;H.A=this.ai9.clone();
var o=new aS(H.A.s9+Y,H.A.ku+Q);o=g.ho._E(Z,o,S);H.A.s9=o.x;H.A.ku=o.y;this.A8(Z,S)}}if(this.kQ)this.uB=this.ot(u);
if(this.MZ||this.kQ)this.aT(Z)};g.VX.prototype.B9=function(Z,m,S,B,C){var u=Z.Nu(),r=u[0],k=u[1],v=Z.AB();
v.add.lnsr="rend";var e=Z.g.slice(0);v.Se("Text layer "+e.length);this.yl=v;var j=Z._.length==0?Z.g.length-1:Z._[Z._.length-1],$=j+1;
if(e[j].add.lsct==jf.AH)$--;this.X8={Tl:e.slice(0),s6:Z._.slice(0)};e.splice($,0,v);Z._=[$];this.aj=this.uB=0;
Z.H_(e);this.X8.Gb=e.slice(0);this.X8.DA=Z._.slice(0);this.mG(m,_.E.W,{d:_.B.lL,b:this.id,BT:"showactive"});
var U=Z.s.tr(C.x,C.y),H=S.E7;console.log(H);if(this.id==g.H6){H=JSON.parse(JSON.stringify(H));H.n1.BaselineDirection=1}v.add.TySh=e6.WL(U.x,U.y,H);
var z=v.add.TySh,f=z.e7;if(this.id==g.H6)f._LineOrientation=2;e6.tg(z,this.WS);if(C.vs)e6.xx(f,1);else{e6.xx(f,0);
var D=r[k.pop()],n=D?D.add.vmsk:null;if(n&&!B.j(iZ.nQ)){n=n.clone();var L=n.u,F,A;for(var q=0;q<L.length;
q++)if(L[q].QZ!=null)L[q].QZ=0;var a=5/Z.s.R;F=l.q.vS(n.u,U,!0,a);if(F.lU==-1)F=l.q.vS(n.u,U);if(F.lU!=-1){e6.xx(f,1);
var T=l.q.jw(L,F.lU),P=l.q.SD(L,F.lU)-1;L=n.u=L.slice(0,2).concat(L.slice(T,T+P+1));n._=[];z.add={vmsk:n,vogk:w.VZ(L)};
f.Curve={};e6.Rz(z);if(F.Np!=null){var Y=jN.i$(f.Curve);l.H.A(Y[0],z.A,Y[0]);var Q=l.H.Ox(Y[0],U.x,U.y),o=S.E7.Q0.Justification;
if(o==2||o==5){var I=(Y[2][Q]+Y[3]*.5)%Y[3];Q=jN.nV(I,Y[2])}var c=Y[1][Q];c=c%P;n.Bp=[c,c];e6.Rz(z)}else this.qX(z)}}}return v};
g.VX.prototype.qB=function(Z,m,S,B,C,u){if(u){this._r=!1;return}if(this.yl==null&&!this._r)return;var r=Z.s.tr(C.x,C.y),k=this._r;
if(this._r){this._r=!1;this.B9(Z,m,S,B,C);this.kQ=!0}if(this.MZ||this.kQ){this.aT(Z);this.Gs();if(k)this.hP(S)}if(this.MZ&&this.wE)this.wE.qB(Z,S,B,r);
this.MZ=this.kQ=!1;this.X6.focus()};g.VX.prototype.Gs=function(){var Z=this.yl.add.TySh,m=Math.min(this.aj,this.uB),S=Math.max(this.aj,this.uB),B,C;
if(m==S){var u=e6.xu(Z.e7);if(m==0||u.charAt(m-1)=="\n")B=C=m;else B=C=m-1}else{B=m;C=S-1}var r=e6.yH(Z.e7,B,C);
e6.lc(r,g.Q.l_(Z.A));this.P6(this.caller,r,Z)};g.VX.prototype.P6=function(Z,m,S){this.mG(Z,_.E.W,{d:_.B.L8,Lh:bo.Vs,E7:m});
var B=this.WS=e6.f9(S);this.mG(this.caller,_.E.W,{d:_.B.lL,b:this.id,BT:"changeAA",sk:B})};g.VX.prototype.Cr=function(){var Z=this.yl;
if(Z&&!this.MZ&&this.aq!=null){this.aq.qB(this.OB,this.YS,null,null);this.aq=null;this.qX(Z.add.TySh);
this.aT(this.OB)}};g.VX.prototype.disable=function(Z,m,S,B){var C=this.yl;this.ER(Z,m)};g.VX.prototype._F=function(Z,m,S,B,C){if(this.P$)return;
if(Z.BT=="commit")this.ER(S,m);if(Z.BT=="cancel")this.Tj(S,m);if(Z.BT=="changeAA"){this.WS=Z.sk;if(S!=null)this.W2({d:"updateStyles"},m,S,B,C)}if(Z.BT=="showwarp"){if(S==null)return;
if(this.yl==null){var u=S.g[S._[0]],r=u.add.TySh;if(r==null)return;this.xF(S,m,C,[S._[0]]);this.X6.focus();
this.P$=!0}this.auz=this.yl.add.TySh.qO;var k=new eY(_.E.W,!0);k.data={d:_.B.Me,ct:"textwarp"};m.c(k)}};
g.VX.prototype.C7=function(Z,m){if(m!=bo.Hw)return;if(this.qp){this.qp=!1;var S=this.OB,B=this.V4;for(var q=0;
q<B.length;q++){this.yl=S.g[B[q]];this.A8(S,Z)}this.ER(S,this.caller);return}if(this.yl)this.hP(Z)};
g.VX.prototype.K0=function(Z,m){var S=JSON.parse(JSON.stringify(Z.E7));e6.lc(S,1/g.Q.l_(m.A));return S};
g.VX.prototype.gE=function(Z,m){if(Z.Ip!=null)this.na(m,Z.fh);else this.FF(m,Z.Gb,Z.DA)};g.VX.prototype.Jm=function(Z,m){if(Z.Ip!=null)this.na(m,Z.Ip);
else this.FF(m,Z.Tl,Z.s6)};g.VX.prototype.na=function(Z,m){for(var q=0;q<m.length;q++){var S=m[q],B=S.rs,C=Z.g[B];
C.buffer=S.aP;C.rect=S.pe.clone();C.G();var u=C.add.TySh;u.qO=S.BF;u.sq=S.sq.clone();u.A=S.A.clone();
u.e7=JSON.parse(JSON.stringify(S.e7));C.Ph()}Z.G()};g.VX.prototype.h3=function(Z,m){var S=[];for(var q=0;
q<m.length;q++){var B=m[q],C=Z.g[B],u=C.add.TySh;S.push({rs:B,A:u.A.clone(),BF:JSON.parse(JSON.stringify(u.qO)),sq:u.sq.clone(),e7:JSON.parse(JSON.stringify(u.e7)),aP:C.buffer.slice(0),pe:C.rect.clone()})}return S};
g.VX.prototype.FF=function(Z,m,S){Z._=S;Z.H_(m);Z.G();Z.jU=!0};g.VX.prototype.A8=function(Z,m,S){if(S==null)S=!1;
var B=this.yl.add.TySh;if(!d7.w$(B,m.Pl,this.caller))return!1;this.uc=new jN(B.e7,m.Pl);if(!S){var C=e6.xu(B.e7);
this.X6.value=C.slice(0,C.length-1)}var u=d7.fs(this.uc,B);if(l.BF.xB(B.qO))B.sq=new bq;else{if(e6.w0(B.e7)==1){var r=e6.fG(B.e7),gY=u.sq.y;
B.sq=new bq(0,gY,r[2]-r[0],r[3]-r[1]-gY)}else{B.sq=u.sq}}var k=this.yl.rect;this.yl.rect=u.pe;this.yl.buffer=u.MW;
this.yl.G();Z.fa();Z.G(Z.root.JO(u.pe.j3(k),Z,Z.g.indexOf(this.yl)));return!0};g.VX.prototype.PJ=function(Z,m){if(this.yl==null||this.P$)return;
var S=this.X6.selectionStart,B=this.yl.add.TySh,C=e6.xu(B.e7),u=this.X6.value+"\n",r=Math.min(this.aj,this.uB),k=Math.max(this.aj,this.uB),U=!1;
this.aj=Math.min(S,r);if(u.length-S<C.length-this.uB)this.uB=C.length-u.length+S;if(C!=u){while(this.aj>0&&C.charAt(this.aj-1)!=u.charAt(this.aj-1))this.aj--}var v=C.substring(0,this.aj),e=C.substring(this.uB,C.length),j=u.substring(this.aj,u.length-e.length);
e6.$R(B.e7,this.aj,this.uB);e6.Hd(B.e7,this.aj,j);if(m!=null)e6.apD(B.e7,this.aj,m);var $=this.K0(this.YS,B),H=-1,z=Array.from(j);
for(var q=0;q<z.length;q++)H=Math.max(H,z[q].codePointAt(0));if(H!=-1&&H>128&&H!=65533&&$.n1.Font!=null){var f=$.wb[$.n1.Font].Name,D=this.YS.Pl.RW(H,f,$.wb);
if(f!=D){e6.VR($,D);U=!0}}if(this.pP!=null&&j==this.pP){var n=JSON.parse(this.a3g);$.n1=n.n1;$.wb=n.wb;
U=!0}e6.rj(B.e7,this.aj,this.aj+j.length-1,$);this.aj=this.uB=v.length+j.length;var L=this.OB,a=this.A8(L,this.YS,!0);
if(a)this.aT(L,!0);if(U)this.Gs()};g.VX.prototype.a95=function(Z){if(!Z.ctrlKey)this.Cr()};g.VX.prototype.amO=function(Z){if(this.yl==null||this.P$)return;
if(this.yl==null)return;if(this.aq==null&&Z.ctrlKey){var m=this.yl.add.TySh,S=e6.w0(m.e7),B;if(S==1){B=e6.fG(m.e7);
B=new bq(0,0,B[2]-B[0],B[3]-B[1])}else B=this.uc.rn();var C=[B.x,B.y,B.x+B.e,B.y,B.x+B.e,B.y+B.n,B.x,B.y+B.n];
l.H.A(C,m.A,C);this.aq=new j8(C,!0,!0,!1,!1);this.afX=B;this.aT(this.OB)}var u=iZ,r=0,k=0,F=!1;if(u.tH(Z.code,u.$Z))r=1;
if(u.tH(Z.code,u.Ia))r=-1;if(u.tH(Z.code,u.Dz))k=-1;if(u.tH(Z.code,u.m9))k=1;var v=Z.ctrlKey||Z.metaKey,e=u.tH(Z.code,iZ.a5T),j=u.tH(Z.code,iZ.aif);
if(u.tH(Z.code,iZ.Z6)&&v){this.ER(this.OB,this.caller);return}if(u.tH(Z.code,iZ.xU)){this.Tj(this.OB,this.caller);
return}if(u.tH(Z.code,iZ.zS)){Z.preventDefault();var $=this.X6,U=$.value,H=$.selectionStart,z=$.selectionEnd;
$.value=U.substring(0,H)+"\t"+U.substring(z);$.selectionStart=$.selectionEnd=H+1;this.PJ(null);return}if((u.tH(Z.code,u.v9)||u.tH(Z.code,u.hn))&&v){var f=this.aj,D=this.uB;
if(f>D){var n=f;f=D;D=n}var m=this.yl.add.TySh,L=e6.xu(m.e7);if(f!=D){this.pP=L.slice(f,D);this.a3g=JSON.stringify(this.YS.E7)}}var a=e6.xu(this.yl.add.TySh.e7);
if(r!=0||k!=0||e||j){Z.preventDefault();var A=this.aj;if(r!=0){if(v&&r==-1)A=this.II(a,this.aj-1);else if(v&&r==1)A=this.jK(a,this.aj);
else{var $=this.X6,U=$.value;A=this.aj+r;if(A!=0&&U.codePointAt(A-1)>65535)A+=r}}else if(k!=0){var T=this.uc.ok(this.aj);
if(k==-1&&T.Xl==0)A=0;else if(k==1&&T.Xl==this.uc.afa()-1)A=99999999999;else A=this.uc.aqv(new aS(T.pe.x+T.pe.e/2,0),T.Xl+k)}else if(e){var P=this.aj-1;
while(P>0&&a.charCodeAt(P)!=10)P--;A=P==0?0:P+1}else if(j){var P=this.aj;while(P<a.length-1&&a.charCodeAt(P)!=10)P++;
A=P}A=Math.max(0,Math.min(a.length-1,A));if(Z.shiftKey)this.aj=A;else this.aj=this.uB=A;F=!0}if(u.tH(Z.code,iZ.B)&&v){this.aj=0;
this.uB=a.length-1;F=!0}if(F){this.Gs();this.aT(this.OB)}};g.VX.a7m=function(Z,m){var S=Z.length;if(S!=m.length)return!1;
for(var q=0;q<S;q++)if(Z[q].rs!=m[q].rs)return!1;return!0};g.VX.prototype.ER=function(Z,m){if(this.yl==null)return;
this.yl.Ph();var S=this.X8;if(S instanceof Array){var B=this.h3(Z,this.V4),C=Z.rX();if(C!=null&&C.b==this&&C.data.Ip&&g.VX.a7m(C.data.Ip,S))C.data.fh=B;
else{var u=new h8(this.name,this);u.data={Ip:S,fh:B};Z.oF(u)}}else{var u=new h8(this.name,this);u.data={Tl:S.Tl,Gb:S.Gb,s6:S.s6,DA:S.DA};
Z.oF(u)}this.escape(Z,m)};g.VX.prototype.Tj=function(Z,m){if(this.yl==null)return;if(this.X8 instanceof Array){this.na(Z,this.X8);
if(this.yl)e6.jN(this.yl.add.TySh)}else{Z._=this.X8.s6;Z.H_(this.X8.Tl)}Z.G();this.escape(Z,m)};g.VX.prototype.escape=function(Z,m){this.Cr();
this.yl=null;this.V4=null;this.uc=null;this.wE=null;this.X6.blur();Z.D.pC=null;Z.D.Vy=null;Z.D.dx=[];
Z.tV=!0;this.MZ=!1;this.kQ=!1;this.aj=this.uB=-1;this.mG(m,_.E.W,{d:_.B.lL,b:this.id,BT:"hideactive"});
if(this.kn){var S=new eY(_.E.W,!0);S.data={d:_.B.uv,b:this.kn};m.c(S);this.kn=null}};g.VX.prototype.mG=function(Z,m,S,B){var C=new eY(m,!0);
C.data=S;if(B)C.b=B;Z.c(C)};g.VX.prototype.ot=function(Z){var m=this.yl.add.TySh,S=this.uc,B=m.A.clone();
B.Yy();var C=B.xf(Z),u=e6.Cp(m,S),r=l.BF.f8(m.qO,u),k=l.oI.a4Y(r,C);if(k==null)k=new Float64Array(2);
C=new aS(u.x+k[0]*u.e,u.y+k[1]*u.n);if(S.ih){var v=S.ih.clone();v.Yy();C=v.xf(C)}var e=S.aqv(C);return e};
g.VX.prototype.aT=function(Z,m){if(m==null)m=!1;var S=this.yl.add.TySh,B=e6.w0(S.e7),C=this.uc,u=C?e6.Cp(S,C):null;
Z.D.dx=[];Z.D.pC=null;Z.D.Vy=null;var r=this.aq?this.aq:this.wE;if(r){r.zj(Z,this.YS,!l.BF.xB(S.qO));
var k=S.A.clone();k.Yy();if(C&&C.ih&&C.If==1){var v=C.ih.clone();v.Yy();k.concat(v)}l.H.A(Z.D.dx,k,Z.D.dx);
l.H.A(Z.D.pC.t,k,Z.D.pC.t);if(C&&C.ih==null&&C.a2p()){var e=u.e-20,j=u.n+8;Z.D.pC.t.push(e,j,e+10,j,e+5,j-5,e+5,j+5);
Z.D.pC.C.push("M","L","M","L")}}else if(B==0)this.aiM(Z,S,C);else Z.D.pC={t:[],C:[]};var $=Math.min(this.aj,this.uB),U=Math.max(this.aj,this.uB);
if(!m){this.X6.selectionStart=$;this.X6.selectionEnd=U}if(C!=null){var H=function(r,F){var A=r.x,T=r.y+r.n,P=new ht;
P.translate(-A,-T);P.rotate(-F);P.translate(A,T);r.y+=r.n*.27;var a=l.H.ez(r);l.H.A(a.t,P,a.t);return a};
if($==U){$=Math.max($,0);var z=C.ok($);if(z){var f=z.pe,D=this.YS.E7.n1.FontSize;if(D!=null&&D!=0){D/=S.A.l_();
f.y+=f.n-D;f.n=D}var n=C.aiu($);if(n!=null&&n.Qi==1)f.x+=f.e;var L=H(f,z.Zo).t;Z.D.pC.C.push("M","L");
Z.D.pC.t.push(L[0],L[1]-1,L[6],L[7]-1)}}else{Z.D.Vy={t:[],C:[]};for(var q=$;q<U;q++){var z=C.ok(q),a=H(z.pe,z.Zo);
l.H.concat(Z.D.Vy,a)}}}Z.D.pC=d7.fk(Z.D.pC,S,C);Z.D.Vy=d7.fk(Z.D.Vy,S,C);Z.D.dx=d7.fk({t:Z.D.dx},S,C).t;
Z.tV=!0};g.VX.prototype.aiM=function(Z,m,S){if(S==null)return;Z.D.dx.push(0,0);if(Z.D.pC==null)Z.D.pC={C:[],t:[]};
for(var q=0;q<S.Q0.length;q++){var B=S.Q0[q];for(var C=0;C<B.BG.length;C++){var u=B.BG[C],r=B.mF.x+u.mF.x+u.pe.x,k=B.mF.y+u.mF.y+u.pe.y+u.pe.n;
Z.D.pC.C.push("M","L");Z.D.pC.t.push(r,k,r+u.pe.e,k)}}Z.tV=!0};g.jj=function(){g.VX.call(this,!0)};g.jj.prototype=new g.VX;
g.UR=function(){g.nJ.call(this,[10,9],g.r0,"tools/lasso");this._b="crosshair";this.A0=null;this.NL=null;
this.Cd=null};g.UR.prototype=new g.nJ;g.UR.prototype.y6=function(Z,m,S,B){this.A0=this.oM;this.NL={t:[this.A0.x,this.A0.y],C:["M"]}};
g.UR.prototype.hI=function(Z,m,S,B){this.Cd=B;var C=this.NL;if(C==null)return;if(!B.vs){if(this.NL!=null&&this.fS>1&&S.j(iZ.__)){C.t.pop();
C.t.pop();C.t.push(this.cl.x,this.cl.y);Z.D.pC=C;Z.tV=!0}return}C.C.push("L");C.t.push(this.cl.x,this.cl.y);
this.A0=this.cl;if(this.O3){Z.D.pC=C;Z.tV=!0}};g.UR.prototype.nE=function(){return this.NL!=null};g.UR.prototype.dw=function(){return this.NL!=null};
g.UR.prototype._s=function(Z,m,S,B){g.nJ.prototype._s.call(this,Z,m,S,B);if(this.NL&&this.fS>1&&this.Cd&&!this.Cd.vs&&!B.j(iZ.__))this.jV(Z,S,B)};
g.UR.prototype.v4=function(Z,m,S,B){this.Cd=B;var C=this.NL;if(C==null)return;if(this.fS>1&&S.j(iZ.__)){C.C.push("L");
C.t.push(this.cl.x,this.cl.y);return}this.jV(Z,m,S)};g.UR.prototype.jV=function(Z,m,S){this.finish(Z,m,S,this.Cd);
this.NL=null;Z.D.pC=null;Z.tV=!0};g.UR.prototype.getSelection=function(Z,m,S,B){if(this.oM.Qu(this.cl)||!this.O3)return null;
return g.nJ.lH(this.NL.t,null,this.Et.anta)};g.ho=function(){g.cd.call(this,[10,11],g.Ta,"tools/move");
this.n9=new aS(0,0);this.N0=new aS(0,0);this.O9=null;this.W1=null;this.Nb=new aS(0,0);this.r7=null;this._q=null;
this.CF=null;this.Sc=0;this.CL=null;this.VD=[];this.U6=null;this.Qe=null;this.ns=!1;this.d=0;this.Wb=null;
this.r3=null;this.CM=null;this.pc=!1;this.Et={$L:!1,an:!1,MT:!1};this.abz=!1;this.auI=!1;this.wE=null;
this.yR=null;this.afN=null;var Z=[];for(var q=0;q<l.Zv._C.length;q++)Z.push({name:l.Zv._C[q],K:function(m,S,B){return{IH:S.Zd.Dj==B}}});
this.JA=new am(Z);this.JA.h("select",this.H5,this)};g.ho.prototype=new g.cd;g.cd.prototype.oU=function(Z){return this.ns&&this.d!=2};
g.ho.prototype.dY=function(){return this.ns&&this.d==0};g.ho.prototype.Qw=function(Z,m,S,B){this.B8(Z,-this.Nb.x,-this.Nb.y);
this.Nb.r8(0,0);this.Gj(Z,null,S);this.v7(Z)};g.ho.prototype.Jf=function(){var Z=this.Et;return[Z.$L?1:0,Z.an?1:0,Z.MT?1:0]};
g.ho.prototype.UM=function(Z,m,S){var B=this.Et;if(Z&&Z[0]!=null)B.$L=Z[0]==1;if(Z&&Z[1]!=null)B.an=Z[1]==1;
if(Z&&Z[2]!=null)B.MT=Z[2]==1;var C=new eY(_.E.W,!0);C.data={d:_.B.lL,b:this.id,xe:B,agA:m};S.c(C)};
g.ho.jb=function(Z,m,S,B,C,u,r){if(r==null)r=[!1,!0];var k=Z.fO(null,C,!0),v,e;if(Z.add.artd&&Z._.length==1&&Z.g[Z._[0]].add.artb){var j=Z.g[Z._[0]].u1();
v=Z.I6(k,j,j)[0]}else{var $=new bq(0,0,Z.e,Z.n),v=Z.I6(k,r[0]?$:null,r[1]?null:$)[0],e=v.add.artd;if(e){for(var q=0;
q<v.g.length;q++)delete v.g[q].add.artb;delete v.add.artd}if(r[1]){var U=l.Ag(v.Jy(),new bq(0,0,v.e,v.n),2);
g.Gt.ko(v,U)}}if(S!=1){var H=new bq(0,0,Math.round(v.e*S),Math.round(v.n*S));g.Gt.ko(v,H);var z=[];for(var q=0;
q<v.g.length;q++)z.push(q);var f=g.Q.H$(v,z,!0);g.Gt.uR(v,new ht(S,0,0,S,0,0));g.Q.j0(v,B,z,f,1,l.N.No(new ht(S,0,0,S,0,0)),null,!0);
v.dK()}else if(e){v.G();v.dK()}var D=[];for(var q=0;q<m.length;q++)if(v.e*v.n!=0)D.push(e2.$c(v,m[q].toUpperCase(),null,null,u?u[q]:null,B));
return D};g.ho.prototype.Yp=function(Z,m,S,B,C){if(Z==null||Z._.length==0)return;var u=g.ho.jb(Z,[m],S,B,null)[0],r=new eY(_.E.W,!0);
r.data={d:_.B.u2,data:u,name:Z.g[Z._[0]].getName()+(S==1?"":"@"+S+"x")+"."+m};C.c(r)};g.ho.prototype._F=function(Z,m,S,B,C){if(Z.hN=="getPNG"){this.Yp(S,"png",Z.si,C,m)}else if(Z.hN=="getSVG"){this.Yp(S,"svg",Z.si,C,m)}if(Z.hN=="prms"){this.Et=Z;
this.v7(S)}};g.ho.a2X=function(Z){var gY=Z.length,S=0;Z.sort(function(u,r){return u[0]+u[1]/2-(r[0]+r[1]/2)});
var m=Z[gY-1][0]+Z[gY-1][1]-Z[0][0];for(var q=0;q<gY;q++)S+=Z[q][1];var B=Math.round((m-S)/(gY-1)),C=Z[0][0];
for(var q=0;q<gY;q++){Z[q][0]=C;C+=Z[q][1]+B}};g.ho.prototype.W2=function(Z,m,S,B,C){var u=Z.d;if(u=="trsl"){var r=Math.round(Z.V1),k=Math.round(Z.h7);
this.Nb.r8(r,k);this.rR(S,m,B,C,!1,Z.i);this.B8(S,r,k);this.Gj(S,null,C)}else if(u=="fcmy"){var u=new h8(["RGB","CMYK"][Z.k]+" Color",this);
u.data={d:Z.d,RL:S.add.fcmy==null?0:S.add.fcmy,sk:Z.k};S.oF(u);this.gE(u.data,S)}else if(u=="lockguides"){if(S)S.N6=!S.N6}else if(u=="gids"||u=="gidsFromLayer"){var v=Z.r3,e,j;
if(v==null)v=S.dM();if(u=="gids"){e=Z.ib;var $=v[0].length,U=e[0].length;j=$==U?[23,2]:$>U?[23,3]:[23,4];
if(U==0)j=[11,15,0]}else if(u=="gidsFromLayer"){var H=[],z=[],f=S.Ys();for(var q=0;q<S._.length;q++){var D=S.g[S._[q]].rect;
if(D.Ov())continue;H.push([0,D.x],[1,D.y],[0,D.x+D.e],[1,D.y+D.n]);z.push(f,f,f,f)}j=[11,15,1];e=S.dM();
g.ho.SI(e,[H,z])}if(JSON.stringify(v)==JSON.stringify(e))return;var u=new h8(j,this);u.data={d:2,r3:v,ib:e};
S.oF(u);this.gE(u.data,S)}else if(u=="algn"){var n=Z.k;if(S==null)return;if(S._.length<2&&!(S.$!=null&&n!=3&&n!=7)){alert(iD.get([15,7,5]));
return}var L=S.$;S.$=null;var D=L?L.rect:g.Q.Cp(S);this.rR(S,m,B,C,!1);if(!this.ns)return;var a=this.CL,F={},A=[],T=[],P=[];
for(var q=0;q<a.length;q++){var Y=a[q];while(S.g[Y].getName()=="</Layer group>")Y++;var Q=S.root.Hr(Y),o=Q;
while(Q.parent!=null){Q=Q.parent;if(a.indexOf(Q.index)!=-1)o=Q}var I=T.indexOf(o.index);if(I==-1){I=T.length;
T.push(o.index)}A[q]=I}var c=[],y=[],i=[];for(var q=0;q<T.length;q++){var d=g.Q.Cp(S,S.fO(!0,T[q]));
i.push(d);var V=n==3?[d.y,d.n]:[d.x,d.e];c[q]=V;y.push(V)}g.ho.a2X(y);for(var q=0;q<T.length;q++){var d=i[q],R=d.x,G=d.y;
if(n==0)R=D.x;if(n==1)R=D.x+(D.e-d.e)/2;if(n==2)R=D.x+(D.e-d.e);if(n==3)G=c[q][0];if(n==4)G=D.y;if(n==5)G=D.y+(D.n-d.n)/2;
if(n==6)G=D.y+(D.n-d.n);if(n==7)R=c[q][0];P.push(Math.round(R-d.x),Math.round(G-d.y))}var M=[];for(var q=0;
q<a.length;q++){var O=A[q];M[2*q]=P[2*O];M[2*q+1]=P[2*O+1]}this.B8(S,0,0,null,M);var K=n==3||n==7?[20,4,6]:[20,4,n<3?n:n-1];
this.Gj(S,null,C,M,K);S.$=L}else if(u=="disabAuto"){this.UM([!1],null,m)}};g.ho.SI=function(Z,m){for(var q=0;
q<m[0].length;q++){var S=m[0][q],B=m[1][q],C=!1;for(var u=0;u<Z[0].length;u++){var r=Z[0][u],k=Z[1][u];
if(S[0]==r[0]&&S[1]==r[1]&&B==k)C=!0}if(!C){Z[0].push(S.slice(0));Z[1].push(B)}}};g.ho.prototype.enable=function(Z,m,S,B,C){this._q=S;
this.CF=m;this.pc=C?!0:!1;this.v7(Z);this.i9("default",m)};g.ho.prototype.disable=function(Z,m,S,B){this.tw(Z)};
g.ho.prototype.tw=function(Z){if(Z==null)return;if(this.wE){this.wE.clear(Z);this.wE=null}if(Z.D.MT){Z.D.MT=null;
Z.tV=!0}if(Z.D.D4){Z.D.D4=null;Z.tV=!0}if(Z.D.FO[this.id]){delete Z.D.FO[this.id];Z.tV=!0}if(Z.D.vC.length!=0){Z.D.vC=[];
Z.tV=!0}};g.ho.prototype.Ll=function(Z,m,S,B){if(S.th!=this.id)return;this.v7(Z)};g.ho.prototype.v7=function(Z,m){if(Z==null)return;
var S=this.Et;this.tw(Z);if(!this.pc){var B;if(S.an||S.MT)B=l.H.oq(g.Q.Cp(Z));if(S.an&&!B.Ov()){this.wE=new j8([B.x,B.y,B.x+B.e,B.y,B.x+B.e,B.y+B.n,B.x,B.y+B.n],!0);
this.wE.zj(Z,this._q)}if(S.MT){var C=null,j=null,$=!1;if(Z.Ys()!=-1)C=Z.g[Z.Ys()].u1();else C=new bq(0,0,Z.e,Z.n);
Z.D.MT={ly:[B],Jj:[]};var u=Z.D.MT.Jj,r=B.x+B.e,k=B.y+B.n,v=B.x+Math.floor(B.e/2),e=B.y+Math.floor(B.n/2);
if(m){var U=Z.root.vS(new aS(Math.floor(m.x),Math.floor(m.y)));if(U){j=l.H.oq(U.i.SJ(Z));if(j.df(B)){$=(j.wZ(B)||B.wZ(j))&&!B.Qu(j);
if(!$)j=null}}}this.we(B,u);if(j!=null){Z.D.MT.ly.push(j);var H=j.x+j.e,z=j.y+j.n,f=j.x+Math.floor(j.e/2),D=j.y+Math.floor(j.n/2);
if($){var n=v,L=e;if(B.wZ(j)){n=f;L=D}u.push(B.x,L,j.x,L);u.push(r,L,H,L);u.push(n,B.y,n,j.y);u.push(n,k,n,z)}else{this.we(j,u);
var a=k<j.y||z<B.y,F=r<j.x||H<B.x;if(r<j.x)u.push(r,e,j.x,e);if(H<B.x)u.push(H,e,B.x,e);if(k<j.y)u.push(v,k,v,j.y);
if(z<B.y)u.push(v,z,v,B.y);if(a&&!F){if(B.x<j.x)u.push(B.x,D,j.x,D);if(j.x<B.x)u.push(j.x,e,B.x,e)}}}else{if(B.y>C.y)u.push(v,C.y,v,B.y);
if(k<C.y+C.n)u.push(v,k,v,C.y+C.n);if(B.x>C.x)u.push(C.x,e,B.x,e);if(r<C.x+C.e)u.push(r,e,C.x+C.e,e)}Z.tV=!0}}if(this.d==2&&this.ns){var A=new bq(0,0,Z.e,Z.n),T=Z.Ys();
if(T!=-1){var P=Z.dM(),Y=P[1][this.CL];if(Y==-1)Y=T;A=Z.g[Y].u1()}var Q=Z.Ua[this.CL],o=Q[0],I=(o==0?"X":"Y")+": "+l.Zv.Fn(Q[1]-(o==0?A.x:A.y),Z.wd,this._q,o==0?A.e:A.n,!0);
g.cd.Md(Math.round(this.O9.x)+10,Math.round(this.O9.y)-10,[I],Z);Z.tV=!0}if(this.d==3&&this.ns){var c=l.H.ez(this.Wb);
Z.D.FO[this.id]={pC:c};Z.tV=!0}};g.ho.prototype.we=function(Z,m){var S=Z.e,B=Z.n,C=Z.x+Math.floor(S*.2),u=Z.y+Math.floor(B*.2);
m.push(C,Z.y,C,Z.y+B);m.push(Z.x,u,Z.x+S,u)};g.ho.prototype.i9=function(Z,m){var S={d:_.B.tC,l4:Z},B=new eY(_.E.W,!0);
B.data=S;m.c(B)};g.ho.prototype.Fv=function(Z){var m=this.yR.jr()[0],S=this.r7,B=this.afN[m];this.vz(S,B)};
g.ho.prototype.H5=function(Z){var m=JSON.parse(JSON.stringify(this._q.Zd));m.Dj=this.JA.jr()[0];var S=new eY(_.E.W,!0);
S.data={d:_.B.L8,Lh:bo.Hf,sk:m};this.CF.c(S)};g.ho.prototype.L0=function(Z,m,S,B,C){if(this.ns)this.qB(Z,m,S,B,C);
this.r7=Z;this._q=S;this.CF=m;var u=Z.s.tr(C.x,C.y),r;if(g.ho.ge(S,C,Z.s)){r=this.JA}else{if(this.yR)this.yR.removeEventListener("select",this.Fv);
var k=[];Z.root.vS(u,k);if(k.length==0)return;var v=[];this.afN=k;for(var q=0;q<k.length;q++)v.push({name:Z.g[k[q]].getName()});
r=this.yR=new am(v);r.h("select",this.Fv,this)}r.parent=m;r.w();r.update(Z,S);var e=new eY(_.E.W,!0);
e.data={d:_.B.HM,Xg:r,x:C.PA+2,y:C.ec+1};m.c(e)};g.ho.prototype.zB=function(Z,m,S,B,C){var u=g.ho.AY(Z,C);
return u!=-1||g.ho.ge(S,C,Z.s)};g.ho.AY=function(Z,m){if(Z==null||Z.add.artd==null)return-1;var S=Z.s.tr(m.x,m.y),B=12*g.F()/Z.s.R;
for(var q=0;q<Z.g.length;q++){var C=Z.g[q];if(!C.tm()||C.add.artb==null)continue;var u=C.u1(),r=new bq(u.x,u.y-1.7*B,B*C.getName().length*.5,B);
if(r.hV(S))return q}return-1};g.ho.prototype.kV=function(Z,m,S,B,C){var u=g.ho.AY(Z,C),r=g.ho.Sh(Z,Z.s.tr(C.x,C.y));
if(u!=-1){Z._=[u];if(S.th==g.Ta){var k=new eY(_.E.W);k.data={d:_.B.uv,b:g.h6};m.c(k)}return}if(r!=-1){Z.s.sM=r;
Z.SW=!0;var k=new eY(_.E.W,!0);k.data={d:_.B.Bn,ct:cn.kI.a7B};m.c(k);return}this.O9=C;this.n9.r8(C.x,C.y);
this.N0=Z.s.tr(C.x,C.y);this.W1=new gA(this.N0);this.rR(Z,m,B,S,!0)};g.ho.ge=function(Z,m,S,B){var C=l.Zv.Uo,u=S.ma.n;
return Z.bj&&(0<m.x&&m.x<C||0<m.y&&m.y<C||B&&0<m.x&&m.x<4*C&&u-C<m.y&&m.y<u)};g.ho.prototype.rR=function(Z,m,S,B,C,u){var r,k=this.N0,v=!1;
if(C){var e=B.cb&&B.Zd.Ua;if(g.ho.ge(B,this.n9,Z.s)){r=Z.dM();var j=Z.dM(),$=null;if(this.n9.x<l.Zv.Uo){$=[0,k.x]}if(this.n9.y<l.Zv.Uo){$=[1,k.y]}j[0].push($);
j[1].push(Z.Ys());Z.JD(j);if(!e){var U=new eY(_.E.W);if(!B.Zd.Ua){U.data={d:_.B.L8,Lh:bo.h4};m.c(U)}if(!B.cb){U.data={d:_.B.L8,Lh:bo.P7};
m.c(U)}e=!0}}var H=this.gL(Z,k);if(e&&H!=null&&!Z.N6){this.d=2;this.r3=r?r:Z.dM();this.CL=H;this.ns=!0;
this.Qe=g.Q.Cp(Z);return}if(Z.tp.length!=0){this.d=4;this.Qe=Z.Xz[Z.tp[0]].rect.clone();this.ns=!0;return}if(this.wE&&this.wE.Zt(k,Z.s.R,!0,this.O9)!=null){var U=new eY(_.E.W);
U.data={d:_.B.uv,b:g.zp,a9v:!0};m.c(U);return}if(Z.$&&Z.$.rect.hV(k)){var z=Math.round(k.x),f=Math.round(k.y),D=Z.$.rect;
v=Z.$.channel[(f-D.y)*D.e+z-D.x]>128}if(!v&&(!this.pc&&this.Et.$L||this.pc&&this.Et.$L&&(S.j(iZ.nQ)||Z._.length<2))){var n=this.a64(Z,k,S);
if(!n){Z._=[];Z.ap=null;Z.jU=Z.rJ=!0;this.d=3;this.Wb=new bq;this.ns=!0;return}}if(S.j(iZ.__)&&!v){var L=new eY(_.E.Y);
L.b=g.vJ;L.data={d:w.lD,akG:!0};m.c(L)}}if(Z.tp.length!=0){this.d=4;this.Qe=Z.Xz[Z.tp[0]].rect.clone();
this.ns=!0;return}this.CL=Z.fO(u==null,u,null,!0);for(var q=0;q<this.CL.length;q++){var a=Z.g[this.CL[q]];
if(a.YL(2)||a.YL(31)){alert(iD.get([6,57,0]));return}}if(Z.add.artd&&C){var F=this.CL,A=!1;for(var q=0;
q<F.length;q++)if(Z.g[F[q]].add.artb)A=!0;if(!A){this.U6=[Z,Z.g.slice(0),Z._.slice(0),-1];this.CL.sort(function(y,i){return y-i})}}this.VD=g.ho.ajf(Z,this.CL);
this.d=0;if(Z.$&&(!C||v)&&Z._.length==1&&Z.t9(!1)){if(!Z.arx()){this.ns=!1;return}var T=Z.g[Z._[0]],P=S.j(iZ.__);
this.d=1;var Y=Z.history[Z.qA];if(Y.b==this&&Y.data.d==1&&Y.data.i==Z._[0]&&T.E_==T.rl.E_&&!P){this.CM=Y}else{var Q=T.rl,o=!1,I;
if(!T.Cs(Z,Z.$)||P){o=!0;T.PK(Z,Z.$,P)}if(T.rl.E_<=0){I=l.U(T.rl.Di.length>>2);l.NK(T.rl.Di,I,3)}else I=Z.$.channel.slice(0);
var c={rect:T.rl.cr.clone(),channel:I};this.CM=new h8(P?[12,53]:[12,54],this);this.CM.data={d:1,i:Z._[0],rl:T.rl,oK:Q,GQ:o,s6:Z.$,DA:c,uw:new aS(0,0)};
Z.oF(this.CM);Z.$=c;Z.DW=!0}}this.ns=!0;this.Qe=g.Q.Cp(Z)};g.ho.prototype.a64=function(Z,m,S){var B=Z.root.vS(new aS(Math.floor(m.x),Math.floor(m.y)));
if(B){if(B.i.add.vmsk)Z.tV=!0;var C=Z.g.indexOf(B.i);if(S.j(iZ.nQ)){var u=Z._.indexOf(C);if(u==-1)Z._.push(C);
else if(Z._.length>1)Z._.splice(u,1)}else if(Z._.indexOf(C)==-1){this.vz(Z,C)}}return B!=null};g.ho.prototype.vz=function(Z,m){Z.g[m].E_=0;
Z._=[m];Z.ap=null;Z.Yr();Z.B3=!0;Z.jU=!0};g.ho.Sh=function(Z,m){var S=Z.add.Anno;if(S==null||S.length==0)return-1;
var B=30/Z.s.R;for(var q=0;q<S.length;q++)if(new bq(S[q][0],S[q][1],B,B).hV(m))return q;return-1};g.ho.prototype.hJ=function(Z,m,S,B,C){this.O9=C;
var u=Z.s.tr(C.x,C.y),H,z;if(this.W1&&this.d<2)u=this.W1.U4(u,B);if(!this.ns){if(S.cb&&S.Zd.Ua&&Z&&!Z.N6){var r=this.gL(Z,u),k="default",v=g.ho.AY(Z,C);
if(r!=null)k=["col-resize","row-resize"][Z.Ua[r][0]];else if(this.wE){var e=this.wE.Zt(u,Z.s.R,null,C);
if(e)k=e}else if(v!=-1||g.ho.Sh(Z,u)!=-1){k="pointer"}this.i9(k,m)}this.v7(Z,u);return}var j=this.N0,$=Math.round(u.x-j.x)-this.Nb.x,U=Math.round(u.y-j.y)-this.Nb.y;
if(this.Qe){if(this.d==2){var f=[];if(Z.$)f.push(Z.$.rect);if(this.Qe)f.push(this.Qe);if(Z.s.Jv)f.push(Z.s.Jv);
u=g.ho._E(Z,u,S,[!1,f,!0])}else{z=this.Qe.clone();z.offset(this.Nb.x+$,this.Nb.y+U);H=g.ho.Dt(Z,z,S);
$+=Math.round(H[0]);U+=Math.round(H[1])}}this.Nb.x+=$;this.Nb.y+=U;var D=this.U6;if(D&&Z==D[0]){Z.H_(D[1]);
Z._=D[2].slice(0);D[3]=-1}this.B8(Z,$,U,u,null,B.j(iZ.nQ));if(D&&Z==D[0]){var n=this.Qe.clone();n.offset(this.Nb.x,this.Nb.y);
var L=new aS(n.x+n.e/2,n.y+n.n/2),v=Z.Ys(),a=-1;for(var q=0;q<Z.g.length;q++){var F=Z.g[q];if(!F.tm()||F.add.artb==null)continue;
var A=F.u1();if(A.hV(L))a=q}if(a!=-1&&a!=v){var T=g.dW.oL(Z,this.CL,a,!0,null,!1);Z.H_(T[0]);Z._=T[1];
D[3]=a}}this.v7(Z,u);if(H)g.ho.QY(Z,z,H)};g.ho.prototype.gL=function(Z,m){var S=g.MH(Z,this.O9);m=[m.x,m.y];
var B=Z.dM(),C=Z.Ys();for(var q=0;q<B[0].length;q++){var u=B[0][q],r=B[1][q];if(r!=-1&&r!=C)continue;
if(Math.abs(u[1]-m[u[0]])<S)return q}return null};g.ho.prototype.B8=function(Z,m,S,B,C,u){if(this.d==0){if(C)g.ho.IW(Z,this.CL,this.VD,C);
else g.ho.Kf(Z,this.CL,this.VD,m,S)}else if(this.d==1){var r=this.CM.data;r.uw.offset(m,S);g.ho.Oe(Z,r.i,m,S)}else if(this.d==2){var k=1e-5;
if(u)k=Z.s.R<=1?10:1;else if(Z.s.R<=1)k=1;var v=k*Math.round(B.x/k),e=k*Math.round(B.y/k),j=[v,e],$=Z.Ua[this.CL];
$[1]=j[$[0]]}else if(this.d==3){var U=this.N0,H=l.H.pa([U.x,U.y,B.x,B.y]);this.Wb=H;var z=[];Z.root.akH(H,z);
if(JSON.stringify(Z._)!=JSON.stringify(z)){Z._=z;Z.jU=Z.rJ=!0}}else if(this.d==4){for(var q=0;q<Z.tp.length;
q++)Z.Xz[Z.tp[q]].rect.offset(m,S);Z.tV=!0}};g.ho.Oe=function(Z,m,S,B){var C=Z.g[m];Z.$.rect.offset(S,B);
C.vj(Z,S,B,Z.$);Z.DW=!0;Z.G()};g.ho.prototype.qB=function(Z,m,S,B,C,u){this.Gj(Z,C,S);this.v7(Z);if(Date.now()-this.Sc<300&&!u){var r=g.VX.wk(Z,Z.s.tr(C.x,C.y));
if(g.ho.ge(S,C,Z.s,!0)){var k=new eY(_.E.W);if(C.y>Z.s.ma.n-20){k.data={d:_.B.Me,ct:"doczoom",RL:Z.s.R*100,Qd:{T:_.E.Y,b:g.ky,V:{d:"pzoom"}}}}else{k.data={d:_.B.Me,ct:"preferences"}}m.c(k)}else if(r>=0){var v=new eY(_.E.Y,!0);
v.b=g.WH;v.data={d:"editCurr",_y:r};m.c(v)}}this.Sc=Date.now();g.Gt.NT(Z)};g.ho.prototype.Gj=function(Z,m,S,B,C){if(!this.ns)return;
this.ns=!1;if(this.d==0){if(B){this.zV(Z,null,B,C)}else{if(this.Nb.x==0&&this.Nb.y==0)return;this.zV(Z,this.Nb.clone())}Z.SW=!0}else if(this.d==2){var u=0;
m=[m.x,m.y];var r=this.CL,k=Z.Ua[r],eV=this.r3[0].length,v=Z.Ua.length;if(S.bj&&m[k[0]]<l.Zv.Uo){var e=Z.dM();
e[0].splice(r,1);e[1].splice(r,1);Z.JD(e);u=1;if(eV==v-1)return}if(eV<v)u=2;var j=new h8([[23,2],[23,3],[23,4]][u],this);
j.data={d:2,r3:this.r3,ib:Z.dM()};Z.oF(j)}else if(this.d==4){var j=new h8([12,54],this);j.data={d:4,_:Z.tp.slice(0),r:this.Nb.clone()};
Z.oF(j)}this.Nb.r8(0,0)};g.ho.prototype._s=function(Z,m,S,B){var C=B.Wr();if(Z!=null&&(C.x!=0||C.y!=0)){if(B.j(iZ.__)&&Z.$==null){var u=new eY(_.E.Y);
u.b=g.vJ;u.data={d:w.lD,akG:!0};m.c(u)}this.Nb.r8(C.x,C.y);this.rR(Z,m,B,S,!1);if(!this.ns)return;this.B8(Z,C.x,C.y);
this.Gj(Z,null,S);this.v7(Z)}var r=B.j(iZ.Sx);if(!this.pc&&this.auI!=r){if(r){this.abz=this.Et.$L;this.Et.$L=!0}else{this.Et.$L=this.abz}this.auI=r;
var k=new eY(_.E.W,!0);k.data={d:_.B.lL,b:this.id,xe:this.Et};m.c(k)}};g.ho.prototype.Jm=function(Z,m){if(Z.d==0){var S=Z.V7;
if(S){m.H_(S.Tl);m._=S.Oc.slice(0);m.G();m.jU=!0}g.ho.IW(m,Z._,Z.uE,Z.Jt,!0);g.Gt.NT(m)}else if(Z.d=="fcmy"){if(Z.RL==0)delete m.add.fcmy;
else m.add.fcmy=Z.RL;m.tV=!0}else if(Z.d==2){m.JD(Z.r3);m.tV=!0}else if(Z.d==4){for(var q=0;q<Z._.length;
q++)m.Xz[Z._[q]].rect.offset(-Z.r.x,-Z.r.y);m.tV=!0}else{var B=m.g[Z.i];if(Z.GQ){B.kS(m,Z.oK);m.$=Z.s6;
m.DW=!0;m.G();B.G()}else{g.ho.Oe(m,Z.i,-Z.uw.x,-Z.uw.y)}}};g.ho.prototype.gE=function(Z,m){if(Z.d==0){g.ho.IW(m,Z._,Z.uE,Z.Jt);
var S=Z.V7;if(S){m.H_(S.Gb);m._=S.RU.slice(0);m.G();m.jU=!0}g.Gt.NT(m)}else if(Z.d=="fcmy"){if(Z.sk==0)delete m.add.fcmy;
else m.add.fcmy=Z.sk;m.tV=!0}else if(Z.d==2){m.JD(Z.ib);m.tV=!0}else if(Z.d==4){for(var q=0;q<Z._.length;
q++)m.Xz[Z._[q]].rect.offset(Z.r.x,Z.r.y);m.tV=!0}else{var B=m.g[Z.i];if(Z.GQ){B.rl=Z.rl;m.$=Z.DA;g.ho.Oe(m,Z.i,0,0);
B.G()}else{g.ho.Oe(m,Z.i,Z.uw.x,Z.uw.y)}}};g.ho.prototype.zV=function(Z,m,S,B){if(S){var C=!0;for(var q=0;
q<S.length;q++)if(S[q]!=0)C=!1;if(C)return}var u=Z.history[Z.qA],r=this.U6,k=r!=null&&r[3]!=-1&&r[0]==Z;
if(!k&&S==null&&u.data&&u.b==this&&u.data.d==0&&JSON.stringify(u.data._)==JSON.stringify(this.CL)&&JSON.stringify(u.data.uE)==JSON.stringify(this.VD)){var v=u.data.Jt,e=u.data.aaX.Oz.T.v;
e.Hrzn.v.val+=m.x;e.Vrtc.v.val+=m.y;for(var q=0;q<v.length;q+=2){v[q]+=m.x;v[q+1]+=m.y}}else{if(m==null)m=new aS(S[0],S[1]);
var j={CE:"move",Oz:{classID:"null",null:hX.NN("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:m.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:m.y}}}}}},$=null;
if(k)$={Tl:r[1],Oc:r[2],Gb:Z.g.slice(0),RU:Z._.slice(0)};this.U6=null;var U=new h8(B?B:[12,54],this);
if(S)U.data={d:0,_:this.CL,uE:this.VD,V7:$,Jt:S};else U.data={d:0,_:this.CL,uE:this.VD,V7:$,Jt:g.ho.Ne(this.CL,m.x,m.y)};
U.data.aaX=j;Z.oF(U);this.track(j)}};g.ho.Ne=function(Z,m,S){var B=[];for(var q=0;q<Z.length;q++)B.push(m,S);
return B};g.ho.Kf=function(Z,m,S,B,C){g.ho.IW(Z,m,S,g.ho.Ne(m,B,C))};g.ho.IW=function(Z,m,S,B,C){if(m.length==0)return;
if(S==null){S=[];for(var q=0;q<m.length;q++){S.push(Z.g[m[q]].Kx(Z,!0))}}var u=new bq,r=new bq(0,0,Z.e,Z.n);
for(var q=0;q<m.length;q++){var k=B[2*q],v=B[2*q+1];if(C){k=-k;v=-v}var e=Z.g[m[q]],j=S[q];if(e.add.fxrp&&(j.indexOf(0)!=-1||e.Ie()))e.add.fxrp.offset(k,v);
for(var $=0;$<j.length;$++){var U=j[$];if(U==0){e.rect.offset(k,v);if(e.vI()&&e.ws(Z))e.ws(Z).rect.offset(k,v);
if(e.add.artb){var H=e.u1();H.offset(k,v);e.Ea(H);var z=e.add.artb.guideIndeces;z=z?z.v:[];for(var f=0;
f<z.length;f++){var D=Z.Ua[z[f].v];D[1]+=D[0]==0?k:v}}if(e.add.TySh){e.add.TySh.A.translate(k,v);if(e.add.TySh.add){e.add.TySh.add.vmsk.offset(k,v)}}if(e.add.SoLd){var n=new ht(1,0,0,1,k,v),L=e.add.SoLd,a=g.Q.wG(L.Trnf),F=g.Q.wG(L.nonAffineTransform);
l.H.A(a,n,a);l.H.A(F,n,F);L.Trnf=g.Q.T5(a);L.nonAffineTransform=g.Q.T5(F);g.Q.CG(L,n)}}if(U==1)e.sd().rect.offset(k,v);
if(U==2){e.add.vmsk.offset(k,v);if(e.add.vogk)l.Ka.A(e.add.vogk,[1,0,k,0,1,v,0,0],[])}if(U==3){e.ws(Z).v.rect.offset(k,v);
if(j.length==1)e.G()}}if(j.length>0){var A=e.add.GdFl;if(A==null)A=e.add.PtFl;if(e.Ie()&&!e.ZB()&&e.add.vmsk!=null&&l.q.Lq(e.add.vmsk.u)&&e.add.vmsk.h2==255&&(A==null||A.Algn&&A.Algn.v)){e.rect.offset(k,v)}else e.T3(Z);
var T=Z.root.JO(e.SJ(Z),Z,m[q]);if(e.add.artb)T=T.j3(e.u1());u=u.j3(T);T.offset(-k,-v);u=u.j3(T);if(e.bX()&&e.v&&e.v.color==255)u=u.j3(r);
e.mV()}}Z.G(l.H.oq(u))};g.ho.ajf=function(Z,m){var S=[];for(var q=0;q<m.length;q++){var B=Z.g[m[q]];
S.push(B.Kx(Z))}return S};g.ho.QY=function(Z,m,S){var B=Z.D.D4={t:[],C:[]},C=m.x+S[0],u=m.y+S[1];if(S[2]!=1e9){B.C.push("M","L");
B.t.push(S[2],u,S[2],u+m.n)}if(S[3]!=1e9){B.C.push("M","L");B.t.push(C,S[3],C+m.e,S[3])}Z.tV=!0};g.ho._E=function(Z,m,S,B){var C=g.ho.Sb(Z,[[m.x],[m.y]],S,B);
return new aS(m.x+C[0],m.y+C[1])};g.ho.Dt=function(Z,m,S,B,C){var u=C==!0?1:.5,r=g.ho.Sb(Z,[[m.x,m.x+Math.round(m.e*u),m.x+m.e],[m.y,m.y+Math.round(m.n*u),m.y+m.n]],S,B);
return r};g.ho.Sb=function(Z,m,S,B){if(B==null)B=[!0,null,!0];var C=[0,0,1e9,1e9];if(!S.pT)return C;
var u=JSON.parse(JSON.stringify(m));for(var r=0;r<2;r++){var k=1e9,v=m[r],e=0;for(var j=0;j<v.length;
j++){var $=g.ho.at_(Z,v[j],u[1-r][j],r,S,B);if($!=1e9)u[r][j]=$;if($!=1e9&&Math.abs($-v[j])<Math.abs(k)){k=$-v[j];
e=$}}if(k!=1e9){C[r]=k;C[r+2]=e}}return C};g.ho.at_=function(Z,m,S,B,C,u){var r=1e9,k=C.Q1,v=C.Zd,e=[Z.root];
while(e.length!=0&&k[2]){var j=e.pop(),$=j.i,U=$.rect;if(!$.tm())continue;if(j.children)for(var q=0;
q<j.children.length;q++)e.push(j.children[q]);if(Z._.indexOf(j.index)!=-1||U.Ov())continue;if(B==0){var H=U.e,z=H>>>1;
if(Math.abs(U.x-m)<Math.abs(r-m))r=U.x;if(Math.abs(U.x+z-m)<Math.abs(r-m))r=U.x+z;if(Math.abs(U.x+H-m)<Math.abs(r-m))r=U.x+H}else{var f=U.n,D=f>>>1;
if(Math.abs(U.y-m)<Math.abs(r-m))r=U.y;if(Math.abs(U.y+D-m)<Math.abs(r-m))r=U.y+D;if(Math.abs(U.y+f-m)<Math.abs(r-m))r=U.y+f}}if(u[0]&&k[0]&&v.Ua&&C.cb){var n=Z.dM(),L=n[0],a=n[1],F=Z.Ys();
for(var q=0;q<L.length;q++)if((a[q]==-1||a[q]==F)&&L[q][0]==B&&Math.abs(L[q][1]-m)<Math.abs(r-m))r=L[q][1]}if(k[1]&&v.sF&&C.cb){var A=Math.round(l.Zv.Vj(v.UQ,Z.wd,Z.e,v.Uf));
if(B==1&&v.gP==1){var T=S*.5*Math.sqrt(4/3),P;A*=Math.sqrt(4/3);P=Math.round((m-T)/A)*A+T;if(Math.abs(P-m)<Math.abs(r-m))r=P;
P=Math.round((m+T)/A)*A-T;if(Math.abs(P-m)<Math.abs(r-m))r=P}else{var P=Math.round(m/A)*A;if(Math.abs(P-m)<Math.abs(r-m))r=P}}var Y=Z.Wv;
if(k[3]&&v.Wv&&C.cb&&Y.length!=0){for(var q=0;q<Y.length;q++){if(!u[2]&&Z.$y.indexOf(q)!=-1)continue;
var Q=g.UX.z_(Y,q);for(var o=0;o<3;o+=2)if(Q[o+B]!=m&&Math.abs(Q[o+B]-m)<Math.abs(r-m))r=Q[o+B]}}if(u[1])for(var I=0;
I<u[1].length;I++){var U=u[1][I],H=U.e,f=U.n,c=[U.x,U.y,U.x+(H>>>1),U.y+(f>>>1),U.x+H,U.y+f];for(var q=0;
q<6;q+=2)if(Math.abs(c[q+B]-m)<Math.abs(r-m))r=c[q+B]}if(k[4]){var U=new bq(0,0,Z.e,Z.n),F=Z.Ys();if(F!=-1)U=Z.g[F].u1();
var H=U.e,f=U.n,c=[U.x,U.y,U.x+(H>>>1),U.y+(f>>>1),U.x+H,U.y+f];for(var q=0;q<6;q+=2)if(Math.abs(c[q+B]-m)<Math.abs(r-m))r=c[q+B]}var y=Math.abs(r-m)<=4*g.F()/Z.s.R?r:1e9;
return y};g.vA=function(){g.nJ.call(this,[10,12],g.p7,"tools/mwand")};g.vA.prototype=new g.nJ;g.vA.prototype.Jf=g.nJ.prototype.asR;
g.vA.prototype.UM=g.nJ.prototype.a2r;g.vA.prototype.y6=function(Z,m,S,B){this.finish(Z,m,S,B)};g.vA.prototype.getSelection=function(Z,m,S,B){var C=this.cl,u=g.nJ.a36(new aS(Math.floor(C.x),Math.floor(C.y)),this.Et.wconf,this.Et.sall);
return u};g.vA._N=function(Z,m,S,B,C){if(Z._.length!=1){alert("More than one layer selected.");return null}var u=Z.g[Z._[0]],r=null,k;
if(C)r=u.E_<=0?null:u.E_==1?u.sd():u.ws(Z).v;if(r==null&&u.add.lsct!=null&&u.add.lsct!=jf.Ae){alert("No layer selected.");
return null}if(m.x<0||m.x>Z.e||m.y<0||m.y>Z.n)return null;var v=new bq(0,0,Z.e,Z.n);if(B){k=Z.Jy()}else if(r==null&&v.Qu(u.rect))k=u.buffer;
else{k=l.U(v.Z()*4);if(r==null)l.pY(u.buffer,u.rect,k,v);else g.T1.mM(r.channel,r.rect,r.color,k,v)}var e=g.vA.BE(k,v,m,null,S),j=l.cg(e,v),$=l.U(j.Z());
l.Ju(e,v,$,j);return{rect:j,channel:$}};g.vA.Ro=function(Z,m,S){var B=m.e,C=m.n,r=0,k=0,v=0,e=0;Z=new Uint32Array(Z.buffer);
var u=[],j=S.length;for(var q=0;q<j;q++){var $=S[q],U=Math.round($.x-.5-m.x),H=Math.round($.y-.5-m.y);
U=Math.max(0,Math.min(B-1,U));H=Math.max(0,Math.min(C-1,H));var z=H*B+U,f=Z[z];u.push([f&255,f>>8&255,f>>16&255,f>>>24])}return u};
g.vA.BE=function(Z,m,S,B,C){Z=new Uint32Array(Z.buffer);var u=m.e,r=m.n,k=u*r;if(B==null)B=g.vA.Ro(Z,m,[S]);
var v=Math.round(S.x-.5-m.x),e=Math.round(S.y-.5-m.y),j=e*u+v,$=Date.now(),U=l.U(u*r),H=C[0],z=1/H,f=C[1]&&H>0?255:0;
if(C[2]){var D=l.U(U.length),n=new Uint32Array(k),L=1;n[0]=v<<16|e;D[j]=1;while(L>0){var a=n[L-1];L--;
var F=a>>>16,A=a&65535,q=A*u+F,T=g.vA.Tf(Z[q],B);if(T>H){var P=f*(1-Math.max(0,Math.min(1,(T-H)*z)));
U[q]=~~P}else{U[q]=255;if(A!=r-1&&D[q+u]==0){n[L++]=F<<16|A+1;D[q+u]=1}if(A!=0&&D[q-u]==0){n[L++]=F<<16|A-1;
D[q-u]=1}if(F!=u-1&&D[q+1]==0){n[L++]=F+1<<16|A;D[q+1]=1}if(F!=0&&D[q-1]==0){n[L++]=F-1<<16|A;D[q-1]=1}}}}else{for(var q=0;
q<k;q++){var T=g.vA.Tf(Z[q],B);if(T<=H)U[q]=255}for(var A=0;A<r;A++)for(var F=0;F<u;F++){var q=A*u+F;
if(U[q]==0&&(F>0&&(U[q-1]==255||A>0&&U[q-u-1]==255||A<r-1&&U[q+u-1]==255)||F<u-1&&(U[q+1]==255||A>0&&U[q-u+1]==255||A<r-1&&U[q+u+1]==255)||A>0&&U[q-u]==255||A<r-1&&U[q+u]==255)){var T=g.vA.Tf(Z[q],B),P=f*(1-Math.max(0,Math.min(1,(T-H)*z)));
U[q]=~~P}}}return U};g.vA.Tf=function(Z,m){var S=m.length,B=g.vA.FS(Z,m[0]),q=1;while(q!=S){B=Math.min(B,g.vA.FS(Z,m[q]));
q++}return B};g.vA.FS=function(Z,m){var S=Z&255,B=Z>>>8&255,C=Z>>>16&255,u=Z>>>24&255;if(m[3]==0)return u<5?0:255;
var r=Math.max(Math.abs(S-m[0]),Math.max(Math.abs(B-m[1]),Math.abs(C-m[2])));return u==0?255:r};g.tS=function(Z,m){if(m)g.T1.call(this);
else if(Z)g.T1.call(this,[10,49],g.k1,"tools/camove");else g.T1.call(this,[10,26],g.ZS,"tools/patch");
this.A0=null;this.NL=null;this.r=null;this.mF=null;this.Ko=new aS;this.lA=null;this.ix=null};g.tS.prototype=new g.T1;
g.tS.prototype.kV=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y);if(Z.$&&l.vS(u,Z.$.channel,Z.$.rect)){var r=new bq(0,0,Z.e,Z.n),k=r.o9(Z.$.rect);
if(!Z.t9()||k.Ov())return;if(!0){var v=l.U(k.Z());l.Ju(Z.$.channel,Z.$.rect,v,k);Z.$={channel:v,rect:k}}this.Co(Z);
this.hr(Z);this.mF=u;this.Ko=new aS(u.x-Z.$.rect.x,u.y-Z.$.rect.y);this.ix=l.U(Z.$.rect.Z()*4);this.ix.fill(255);
if(this.Et.patch==1){var e=Z.g[Z._[0]];e.PK(Z,Z.$,!0);if(e.rl==null)this.mF=null}this.lA=Z.$.rect.clone()}else{this.NL={t:[u.x,u.y],C:["M"]};
this.A0=u}};g.tS.prototype.hJ=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y);if(this.mF){if(this.Et.patch==1){if(Z.tp.length==0){var r=Z.g[Z._[0]].rl,k=u.x-this.Ko.x,v=u.y-this.Ko.y;
g.ho.Oe(Z,Z._[0],Math.round(k-r.cr.x),Math.round(v-r.cr.y))}}else this.M5(Z,u,"clone")}if(this.A0){this.NL.C.push("L");
this.NL.t.push(u.x,u.y);this.A0=u;Z.D.pC=this.NL;Z.tV=!0}};g.tS.prototype.qB=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y);
if(this.mF){var r=Z.$.rect.clone();if(this.id==g.k1){var k=Z.g[Z._[0]];k.kS(Z,k.rl);Z.$.rect=this.lA.clone();
var v=l.U(Z.$.rect.Z()*4);l.cN(Z.$.channel,v,3);this.Zr(Z,"sheal",v,Z.$.rect,Z.$.rect);Z.$.rect=r;r=r.j3(this.lA)}this.M5(Z,u,"heal");
this.finish(Z,r,null,null,!0);Z.G(r);this.mF=null}if(this.A0){var e=g.nJ.U7(this.Et.setop,B.j(iZ.nQ),B.j(iZ.__)),j=new eY(_.E.lX,!0);
if(this.NL.t.length<=4)j.data=g.nJ.r_();else j.data=g.nJ.lH(this.NL.t,e);m.c(j);this.A0=null;Z.D.pC=null;
Z.tV=!0}};g.tS.prototype.Vk=function(){return this.r};g.tS.prototype._F=function(Z,m,S,B,C){g.T1.prototype._F.call(this,Z,m,S,B,C);
this.i9(C,B)};g.tS.prototype.i9=function(Z,m){var S="auto;";if(m!=null&&m.j(iZ.nQ)&&!m.j(iZ.__)||this.Et.setop=="union")S="copy";
var B=new eY(_.E.W,!0);B.data={d:_.B.tC,l4:S};if(this.caller)this.caller.c(B)};g.tS.prototype.M5=function(Z,m,S){var B=new aS(Math.round(this.mF.x-m.x),Math.round(this.mF.y-m.y));
if(this.Et.patch==1)B.r8(-B.x,-B.y);this.r=B;this.Zr(Z,S,this.ix,Z.$.rect,Z.$.rect);this.G(Z,Z.$.rect)};
g.Mt=function(){g.tS.call(this,!0);this.Et.patch=1};g.Mt.prototype=new g.tS(!0,!0);g.x$=function(){g.T1.call(this,[10,13],g.aaP,"tools/pbucket");
this.HH=!1};g.x$.prototype=new g.T1;g.x$.prototype.enable=function(Z,m,S,B){var C=new eY(_.E.W,!0);C.data={d:_.B.tC,l4:"default"};
m.c(C)};g.x$.prototype.C7=function(Z,m){};g.x$.prototype.kV=function(Z,m,S,B,C){this.HH=!0};g.x$.prototype.qB=function(Z,m,S,B,C,u){var r=this.HH;
this.HH=!1;if(!r||u)return;if(this.TU(B,m,C))return;if(!Z.t9())return;var k=Z.s.tr(C.x,C.y),v=g.vA._N(Z,k,this.Et.wconf,this.Et.sall,!0);
if(v==null)return;var e=l.U(v.rect.Z()*4);l._z(e,(S.Nx&255)<<16|(S.Nx>>8&255)<<8|(S.Nx>>16&255)<<0);
l.cN(v.channel,e,3);this.Co(Z);this.Zr(Z,"draw",e,v.rect,v.rect);this.G(Z,v.rect);this.finish(Z,v.rect)};
g.Q5=function(){g.nJ.call(this,[10,14],g.a1_,"tools/plasso");this._b="crosshair";this.dE=[];this.Pd=null;
this.NL=null;this.afz=0};g.Q5.prototype=new g.nJ;g.Q5.prototype.disable=function(Z,m,S,B){this.lp(Z)};
g.Q5.prototype.y6=function(Z,m,S,B){this.dE=[iZ.bK,iZ.cE]};g.Q5.prototype.ar=function(Z){return this.dE.indexOf(Z)!=-1};
g.Q5.prototype.oU=function(Z){return this.NL!=null};g.Q5.prototype.dw=function(){return this.NL!=null};
g.Q5.prototype.nE=function(){return this.NL!=null};g.Q5.prototype.hI=function(Z,m,S,B){if(this.NL==null)return;
var C=this.NL,u=C.t,r=u.length-2,k=this.cl;if(this.iN.nT(1)&&S.j(iZ.__)&&B.vs){u.push(0,0);C.C.push("L");
r+=2}else if(S.j(iZ.nQ))k=g.eN.ab(new aS(u[r-2],u[r-1]),k);u[r]=k.x;u[r+1]=k.y;Z.D.pC=C;Z.tV=!0};g.Q5.prototype.v4=function(Z,m,S,B){var C=Date.now();
if(this.NL==null)this.NL={t:[this.cl.x,this.cl.y,this.cl.x,this.cl.y],C:["M","L"]};else{this.hI(Z,m,S,B);
if(C-this.afz<250||aS.qa(this.cl,new aS(this.NL.t[0],this.NL.t[1]))<g.MH(Z,B)){this.Pd=this.NL;this.finish(Z,m,S,B);
this.lp(Z);return}this.NL.C.push("L");this.NL.t.push(this.cl.x,this.cl.y)}this.afz=C;Z.D.pC=this.NL};
g.Q5.prototype.lp=function(Z){this.NL=null;this.dE=[];if(Z!=null){Z.D.pC=null;Z.tV=!0}};g.Q5.prototype._s=function(Z,m,S,B){g.nJ.prototype._s.call(this,Z,m,S,B);
if(B.j(iZ.xU)&&this.NL==null&&this.Pd&&Z.$!=null){var C=new eY(_.E.Y);C.b=g.C5;C.data={d:"h_stepbck"};
m.c(C);this.y6(Z,S,B,null);this.NL=this.Pd;return}if(this.NL==null)return;if(B.j(iZ.bK)||B.j(iZ.cE)){this.NL.t.pop();
this.NL.t.pop();this.NL.C.pop();this.hI(Z,S,B)}if(B.j(iZ.Z6)){if(this.NL.t.length>4){this.Pd=this.NL;
this.finish(Z,S,B)}this.NL=null}if(B.j(iZ.xU)){this.NL=null}Z.D.pC=this.NL;Z.tV=!0};g.Q5.prototype.getSelection=function(Z,m,S,B){return g.nJ.lH(this.NL.t,null,this.Et.anta)};
g.Eb=function(){g.nJ.call(this,[10,10],g.aqS,"tools/mlasso");this._b="crosshair";this.dE=[];this.u=[];
this.yK=[];this.BG=[];this.$V=null;this.H1=null;this.AX=null;this.Sc=0;this.or=0};g.Eb.prototype=new g.nJ;
g.Eb.prototype.disable=function(Z,m,S,B){this.clear(Z)};g.Eb.prototype.oU=function(Z){return this.u.length!=0};
g.Eb.prototype.nE=function(){return this.u.length!=0};g.Eb.prototype.ar=function(Z){return this.dE.indexOf(Z)!=-1};
g.Eb.prototype.y6=function(Z,m,S,B){this.dE=[iZ.bK,iZ.cE];var C=this.IE(this.oM,Z);if(this.u.length!=0&&(aS.qa(C,this.u[0])<g.MH(Z,B)||Date.now()-this.Sc<300)){this.PO(Z,this.u[0]);
this.finish(Z,m,S);this.clear(Z);return}this.Sc=Date.now();if(this.u.length!=0)C=this.UT(C,Z);else{var u=Z.e,r=Z.n,k=l.U(u*r),v=Z.Jy(),e=u*r*4;
for(var q=0;q<e;q+=4)k[q>>>2]=~~(.5+l.dA(v[q],v[q+1],v[q+2])*(v[q+3]*(1/255)));this.$V=l.vM.a56(k,u,r);
this.AX=new Uint16Array(k.length)}this.PO(Z,C);this.or=S.j(iZ.__)?1:0;this.os(Z)};g.Eb.prototype.PO=function(Z,m){var S=this.u;
this.yK[S.length]=this.BG.length;if(S.length!=0){l.vM.as(this.H1,m.y*Z.e+m.x);var B=this.We(Z,m);B.reverse();
var C=g.Eb.Eg(Z,B);this.BG=this.BG.concat(C)}S.push(m);this.gi(Z)};g.Eb.prototype.gi=function(Z){var m=this.u[this.u.length-1],S=m.y*Z.e+m.x;
this.H1=l.vM.ahD(this.$V.xX,this.$V.bN,S);this.AX.fill(0)};g.Eb.prototype.IE=function(Z,m){return new aS(Math.floor(Math.max(0,Math.min(m.e-1,Z.x))),Math.floor(Math.max(0,Math.min(m.n-1,Z.y))))};
g.Eb.prototype.clear=function(Z){this.BG=[];this.u=[];this.yK=[];this.$V=null;this.H1=null;this.AX=null;
if(Z!=null){Z.D.pC=null;Z.D.dx=[];Z.tV=!0}this.dE=[]};g.Eb.prototype.hI=function(Z,m,S,B){var C=this.u,u=C.length;
if(u==0)return;var r=this.UT(this.IE(this.cl,Z),Z),k=this.We(Z,r);for(var q=0;q<k.length;q++){var v=k[q],e=new aS(v%Z.e,Math.floor(v/Z.e));
if(this.AX[v]>30&&aS.qa(e,C[u-1])>20){this.PO(Z,e);return}this.AX[v]++}if(this.or==1&&B.vs)this.PO(Z,r);
this.os(Z)};g.Eb.prototype.os=function(Z){var m=this.u;if(m.length!=0){var S=this.UT(this.IE(this.cl,Z),Z),B=this.We(Z,S);
B.reverse();var C=g.Eb.Eg(Z,B),u=this.BG.concat(C),r=Z.D.pC={t:u,C:["M"]};for(var q=2;q<u.length;q+=2)r.C.push("L")}Z.D.dx=[];
for(var q=0;q<m.length;q++)Z.D.dx.push(m[q].x+.5,m[q].y+.5);Z.tV=!0};g.Eb.prototype.v4=function(Z,m,S,B){};
g.Eb.prototype._s=function(Z,m,S,B){if(this.u.length==0)return;if(B.j(iZ.bK)||B.j(iZ.cE)){this.u.pop();
this.BG=this.BG.slice(0,this.yK[this.u.length]);this.yK.pop();if(this.u.length==0)this.clear(Z);else this.gi(Z);
this.os(Z)}if(B.j(iZ.Z6)){var C=this.IE(this.cl,Z);this.PO(Z,C);this.finish(Z,S,B);this.clear(Z)}if(B.j(iZ.xU)){this.clear(Z)}};
g.Eb.prototype.getSelection=function(Z,m,S,B){return g.nJ.lH(this.BG,null,this.Et.anta)};g.Eb.prototype.We=function(Z,m){var S=this.u[this.u.length-1],B=S.y*Z.e+S.x,C=m.y*Z.e+m.x;
if(this.or==1)return[C,B];var u=[C];while(C!=B){C=this.H1.z6[C];u.push(C);if(u.length>5e3){console.log(u);
throw"e"}}return u};g.Eb.Eg=function(Z,m){var S=[],B=Z.e;for(var q=0;q<m.length;q++){var C=m[q];S.push(C%B+.5,Math.floor(C/B)+.5)}return S};
g.Eb.prototype.UT=function(Z,m){var S=m.e,B=m.n,C=Z.clone(),r=3;l.vM.as(this.H1,Z.y*S+Z.x);var u=this.H1.yn[Z.y*S+Z.x];
for(var k=-r+1;k<r;k++)for(var v=-r+1;v<r;v++){var e=Z.x+v,j=Z.y+k;if(e<0||e>=S||j<0||j>=B)continue;
l.vM.as(this.H1,j*S+e);if(this.H1.yn[j*S+e]<u)C.r8(e,j)}return C};g.R0=function(){g.cd.call(this,[10,36],g.sW,"tools/ruler");
this.Bp=null;this.uI=null;this.aE=null;this.bP=null;this.Fj=null};g.R0.prototype=new g.cd;g.R0.prototype.oU=function(Z){return Z.vs};
g.R0.prototype.enable=function(Z,m,S,B){g.cd.prototype.enable.call(this,Z,m,B,S);if(Z)this.v7(Z)};g.R0.prototype.disable=function(Z,m,S,B){if(Z)this.lp(Z)};
g.R0.prototype.W2=function(Z,m,S,B,C){this.Bp=this.aE=null;this.v7(S)};g.R0.prototype.kV=function(Z,m,S,B,C){var u=g.MH(Z,C),r=Z.s.tr(C.x,C.y);
r.x=Math.round(r.x);r.y=Math.round(r.y);var k=this.Bp;this.uI=k?k.slice(0):null;var v=k&&aS.qa(r,k[0])<u,e=k&&aS.qa(r,k[1])<u,j=k&&k[2]&&aS.qa(r,k[2])<u;
if(v||e||j){if(B.j(iZ.__)&&k.length==2){if(e){var $=k[0];k[0]=k[1];k[1]=$}k[2]=k[0].clone();this.aE=[2]}else this.aE=[v?0:e?1:2]}else if(k&&g.R0.arT(k[0],k[1],r)<u&&Math.min(k[0].x,k[1].x)-5<=r.x&&r.x<=Math.max(k[0].x,k[1].x)+5&&Math.min(k[0].y,k[1].y)-5<=r.y&&r.y<=Math.max(k[0].y,k[1].y)+5){this.aE=[];
this.Fj=[];for(var q=0;q<k.length;q++){this.aE.push(q);this.Fj.push(k[q].clone())}this.bP=r}else{this.Bp=[r.clone(),r.clone()];
this.aE=[1]}};g.R0.prototype.hJ=function(Z,m,S,B,C){if(this.aE==null)return;var u=this.Bp,r=this.aE,k=Z.s.tr(C.x,C.y);
k.x=Math.round(k.x);k.y=Math.round(k.y);if(r.length>1){var v=k.x-this.bP.x,e=k.y-this.bP.y;for(var q=0;
q<u.length;q++){u[q]=this.Fj[q].clone();u[q].offset(v,e)}}else{u[r[0]].r8(k.x,k.y);if(B.j(iZ.nQ)){u[r[0]]=g.eN.ab(u[1-r[0]],u[r[0]])}}this.v7(Z);
this.mG(m,_.E.W,{d:_.B.lL,b:this.id,alU:u[0],RR:u[1],Tx:u[2],wd:Z.wd,adm:Z.e});Z.s.Jv=l.H.pa([u[0].x,u[0].y,u[1].x,u[1].y]);
console.log(Z.s.Jv)};g.R0.prototype.qB=function(Z,m,S,B,C,u){this.aE=null;if(u){this.Bp=this.uI.slice(0);
this.v7(Z)}};g.R0.prototype.mG=function(Z,m,S){var B=new eY(m,!0);B.data=S;Z.c(B)};g.R0.prototype.v7=function(Z){var m=this.Bp;
if(m==null)this.lp(Z);else{var S=[m[1].x,m[1].y,m[0].x,m[0].y],B=["M","L"];if(m.length>2){S.push(m[2].x,m[2].y);
B.push("L")}Z.D.pC={C:B,t:S};Z.D.dx=S}Z.tV=!0};g.R0.prototype.lp=function(Z){Z.D.pC=null;Z.D.dx=[]};
g.R0.arT=function(Z,m,S){var B=m.x-Z.x,C=m.y-Z.y,u=Math.abs(C*S.x-B*S.y+m.x*Z.y-m.y*Z.x),r=Math.sqrt(B*B+C*C);
return r==0?0:u/r};g.Vm=function(){g.T1.call(this,[10,19],g.RE,"tools/sharpen");this.yM="copy"};g.Vm.prototype=new g.T1;
g.Vm.prototype.kV=function(Z,m,S,B,C){var u=this.Et.pdetail?fK.i3:fK.RE;if(B.j(iZ.__))u=fK.Ax;this.oE(Z,S,B,C,this.Et.strn,u);
if(this.Qk==null)return;this.Sf(Z)};g.Vm.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);if(this.Xw)this.Ej(Z,S,C);
if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.IC=function(){g.T1.call(this,[10,24],g.LM,"tools/shbrush");
this.yM="draw";this.Et.opacity=.5};g.IC.prototype=new g.T1;g.IC.prototype.kV=function(Z,m,S,B,C){this.oE(Z,S,B,C,1);
if(this.Qk==null)return;this.hr(Z);this.Sf(Z)};g.IC.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);
if(this.Xw)this.Ej(Z,S,C);if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.IC.prototype.qB=function(Z,m,S,B,C){if(this.Qk==null)return;
this.Zr(Z,"sheal",this.Qk.yY(),this.Qk.Cp(),this.Qk.hE(),null);this.G(Z,this.Qk.hE());g.T1.prototype.qB.call(this,Z,m,S,B,C)};
g.Zh=function(){g.T1.call(this,[10,20],g.AU,"tools/smudge");this.yM="copy"};g.Zh.prototype=new g.T1;
g.Zh.prototype.kV=function(Z,m,S,B,C){this.oE(Z,S,B,C,this.Et.strn,fK.AU);if(this.Qk==null)return;this.Sf(Z)};
g.Zh.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);if(this.Xw)this.Ej(Z,S,C);if(this.Qk==null)return;
if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.ki=function(){g.T1.call(this,[10,23],g.xH,"tools/sponge");
this.yM="sponge"};g.ki.prototype=new g.T1;g.ki.prototype.kV=function(Z,m,S,B,C){this.oE(Z,S,B,C,this.Et.flow);
if(this.Qk==null)return;this.Sf(Z)};g.ki.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);if(this.Xw)this.Ej(Z,S,C);
if(this.Qk==null)return;if(!C.vs)return;this.mz(Z,S,B,C);this.Sf(Z)};g.Ol=function(){g.cd.call(this,[10,17],g.ky,"tools/zoom");
this.Yy=!1;this.FE=!0;this.ZA=0;this.wg=null;this.T7=null;this.lb=0;this.Tn=null;this.EV=0;this.JA=new am([{name:[8,0],Xi:"Ctrl + +"},{name:[8,1],Xi:"Ctrl + -",Jb:!0},{name:[20,3],Xi:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],Xi:"Ctrl + 1"}],[{T:_.E.Y,b:g.ky,V:{d:"zoom",FE:!0}},{T:_.E.Y,b:g.ky,V:{d:"zoom",FE:!1}},{T:_.E.Y,b:g.ky,V:{d:"adapt",k:"fitscr"}},{T:_.E.Y,b:g.ky,V:{d:"adapt",k:"pixel"}}])};
g.Ol.prototype=new g.cd;g.Ol.prototype.L0=function(Z,m,S,B,C){var u=this.JA;u.w();u.parent=m;u.update(Z,S);
var r=new eY(_.E.W,!0);r.data={d:_.B.HM,Xg:u,x:C.PA+2,y:C.ec+1};m.c(r)};g.Ol.prototype.enable=function(Z,m,S,B){this.AK(m,B);
if(Z&&Date.now()-this.ZA<300)this.W2({d:"adapt",k:"pixel"},m,Z,B,S);this.ZA=Date.now()};g.Ol.prototype.kV=function(Z,m,S,B,C){this.T7=new aS(C.x,C.y);
this.lb=Z.s.R;this.Tn=Z.s.r.clone()};g.Ol.prototype.hJ=function(Z,m,S,B,C){if(this.T7==null)return;var u=Math.exp(Math.log(this.lb)+(C.x-this.T7.x)/64);
u=Math.max(.02,Math.min(g.Ol.UI[0],u));Z.s.R=this.lb;Z.s.r=this.Tn.clone();this.W2({d:"zoom",R:u,O9:this.T7},m,Z,B,S)};
g.Ol.prototype.qB=function(Z,m,S,B,C){if(aS.qa(this.T7,C)<4){var u=this.$v(B);this.W2({d:"zoom",FE:u,O9:C},m,Z,B,S)}this.T7=null};
g.Ol.UI=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
g.Ol.LS=function(Z,m,S,B){var C=1;while(Z*C*1/2>S||m*C*1/2>B)C*=1/2;if(Z*C*2/3>S||m*C*2/3>B)C*=1/2;else if(Z*C>S||m*C>B)C*=2/3;
return C};g.Ol.sb=function(Z,m){var S=g.Ol.a4l(Z);if(m&&S==0)return Z;if(!m&&S==g.Ol.UI.length-1)return Z;
return g.Ol.UI[m?S-1:S+1]};g.Ol.a4l=function(Z){var m=0;while(g.Ol.UI[m]>Z)m++;return m};g.Ol.IF=function(Z,m,S,B){var C=Z.OB;
if(B==0||B==null){B=g.Ol.sb(Z.R,S);if(B==Z.R)return}var u=Z.tr(m.x,m.y);if(C.e*B<=Z.ma.e&&C.n*B<=Z.ma.n){Z.r.r8(0,0);
Z.R=B}else{var r=Z.gr(),k=Z.R/B;r.translate(-u.x,-u.y);r.scale(k,k);r.translate(u.x,u.y);Z.amB(r)}};
g.Ol.prototype.W2=function(Z,m,S,B,C){if(Z.d=="pzoom"){if(typeof Z.k=="string")return;Z={d:"zoom",R:Z.k/100}}var u=0,r=!1,k=null;
if(Z.d=="adapt"){var v=0;if(Z.k=="pixel")v=1;if(Z.k=="fitscr"){var v=0,e=S.s.ma.e,j=S.s.ma.n,$=C.bj?l.Zv.Uo+4:8;
v=Math.min((e-$*2)/S.e,(j-$*2)/S.n)}k=new aS(Math.round(S.s.ma.e/2),Math.round(S.s.ma.n/2));u=v;g.Ol.IF(S.s,k,r,u);
S.SW=!0}if(Z.d.startsWith("multi")){function U(P){var Y=P[0].x-P[1].x,Q=P[0].y-P[1].y;return Math.sqrt(Y*Y+Q*Q)}function H(P){return new aS((P[0].x+P[1].x)/2,(P[0].y+P[1].y)/2)}var z=Z.tA,f=H(z);
if(Z.d=="multidown"){this.wg=[z,S.s.R,S.s.tr(f.x,f.y)]}else{var D=g.Ol.UI;u=this.wg[1]*U(z)/U(this.wg[0]);
u=Math.max(D[D.length-1],Math.min(D[0],u));if(u!=S.s.R)g.Ol.IF(S.s,f,r,u);var n=this.wg[2],L=S.s.o5(n.x,n.y),a=S.s.r;
a.x=Math.round(a.x+f.x-L.x);a.y=Math.round(a.y+f.y-L.y);S.SW=!0}}if(Z.d=="scroll"){k=Z.O9;this.EV+=Z.Wm.y;
var F=14;if(this.EV<-F){r=!0;this.EV=Math.max(this.EV+F,-(F-1))}else if(this.EV>F){r=!1;this.EV=Math.min(this.EV-F,F-1)}else return;
g.Ol.IF(S.s,k,r,u);S.SW=!0}if(Z.d=="zoom"){k=Z.O9?Z.O9:new aS(Math.round(S.s.ma.e/2),Math.round(S.s.ma.n/2));
if(Z.R!=null)u=Z.R;else r=Z.FE;g.Ol.IF(S.s,k,r,u);S.SW=!0}if(Z.d=="mskView"){var A=S.g[S._[0]];if(A.E_<=0){A.E_=1;
S.jU=!0}var T=A.E_==3?A.ws(S).v:A.sd();if(Z.k==0){S.s.U1=[1,1,1];T.m5=!1}if(Z.k==1){S.s.U1=[1,1,1];T.m5=!0}if(Z.k==2){S.s.U1=[0,0,0];
T.m5=!0}for(var q=0;q<S.Xz.length;q++)S.Xz[q].m5=!1;S.tp=[];S.tV=!0}};g.Ol.prototype._s=function(Z,m,S,B){if(this.Yy!=B.j(iZ.__)){this.Yy=B.j(iZ.__);
var C={d:_.B.lL,b:this.id,Yy:this.Yy},u=new eY(_.E.W,!0);u.data=C;m.c(u);this.AK(m,B)}};g.Ol.prototype.AK=function(Z,m){var S=new eY(_.E.W,!0),B=this.$v(m);
S.data={d:_.B.tC,l4:B?"zoom-in":"zoom-out"};Z.c(S)};g.Ol.prototype._F=function(Z,m,S,B){this.FE=Z.FE;
this.AK(m,B)};g.Ol.prototype.$v=function(Z){var m=this.FE;if(Z.j(iZ.MO)&&Z.j(iZ.Sx))m=!0;if(this.Yy)m=!m;
return m};g.Ol.Qn=function(Z,m){if(Z.j(iZ.ni)||Z.j(iZ.a5Z)){m.b=g.ky;m.data={d:"zoom",FE:!0}}if(Z.j(iZ.Kq)){m.b=g.ky;
m.data={d:"zoom",FE:!1}}if(Z.j(iZ.$o)){m.b=g.ky;m.data={d:"adapt",k:"fitscr"}}if(Z.j(iZ.JR)){m.b=g.ky;
m.data={d:"adapt",k:"pixel"}}};g.X$=function(Z,m,S){g.cd.call(this,Z,m,S);this.kg=null;this._q=null;
this.CF=null;this.aeF=0};g.X$.prototype=new g.cd;g.X$.Fu=function(Z){var m={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},S=Z==0?{classID:"null",null:m,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:m,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{CE:Z==0?"fill":"stroke",Oz:S}};g.X$.prototype.enable=function(Z,m,S,B,C){this._q=S;var u=new eY(_.E.W,!0);
u.data={d:_.B.tC,l4:"default"};m.c(u)};g.X$.prototype.L0=function(Z,m,S,B,C){var u=Z.Nu(),r=u[0],k=u[1];
if(k.length==0)return;var v=r[k[0]],e=v.add.vmsk,j=Z.s.tr(C.x,C.y),$=4*g.F()/Z.s.R,U=new bq(j.x-$,j.y-$,$*2,$*2),H=l.q.jQ(e.u,U)[0];
if(H.length!=0){e.N2=H;Z.tV=!0}var z=l.q.vS(e.u,j).lU;if(z!=-1){e._=[z];Z.tV=!0}var f=new eY(_.E.W,!0);
f.data={d:_.B.lL,b:this.id,Pq:C,tt:Z,YS:S};m.c(f)};g.X$.prototype.nb=function(Z,m){var S=new eY(_.E.W,!0);
S.data={d:_.B.L8,Lh:bo.P7};if(!m.cb)Z.c(S);S.data={d:_.B.L8,Lh:bo.XZ};if(!m.Zd.px)Z.c(S)};g.X$.prototype.Ll=function(Z,m,S,B){if(S.th!=this.id)return;
if(Z._.length==0)return;var C=Z.g[Z._[0]],u=C.add.vmsk,r=C.add.vstk,k=g.X$.ur(Z,Z._[0]);this.kg=Z;this.CF=m;
if(C.Ie()&&u!=null&&(JSON.stringify(r)!=JSON.stringify(S.z$)||JSON.stringify(k)!=JSON.stringify(S.nw))){this.aeF=Date.now();
var v=new eY(_.E.W,!0);v.data={d:_.B.L8,Lh:bo.fF,k:k};m.c(v);v.data={d:_.B.L8,Lh:bo._P,k:r};m.c(v)}};
g.X$.prototype.C7=function(Z,m){if(this.kg==null)return;if(m==bo.LE||m==bo.fF||m==bo._P){if(Date.now()-this.aeF<50)return;
var S=m==bo.fF,B=this.kg,C=S?Z.nw:Z.z$,u=[],r=B._;for(var q=0;q<r.length;q++){var k=r[q],v=B.g[k];if(!v.Ie()||v.add.vmsk==null)continue;
u.push(k)}var e=new eY(_.E.Y,!0);e.b=g.vJ;e.data={d:w.OF,q0:u,Z1:S,k:C};if(u.length!=0)this.CF.c(e)}};
g.X$.prototype.auL=function(Z){if(typeof Z=="number"){var m=new eY(_.E.lX,!0);m.data=g.h_.GZ(0);m.data.Oz.Usng.v.Type.v.Clr.v=l.X.M1({I:Z>>>16&255,z:Z>>>8&255,S:Z>>>0&255});
this.CF.c(m)}};g.X$.prototype.W2=function(Z,m,S,B,C){this.CF=m;if(Z.d=="newfill"){if(Z.If==0){var u=new eY(_.E.W,!0);
u.data={d:_.B.Me,ct:"colorpicker",rF:C.Nx,mm:this.auL.bind(this)};m.c(u)}}else if(Z.d=="pathedit"){var r=Z.hN,k="",v=S.px.slice(0),e=S.yI.slice(0),j=S.px.slice(0),$=S.yI.slice(0);
if(r=="rnm"){var U=-1-Z.lU,H=v[U],z=fl.YE(Z.name,H.add);if(U!=0)j[U]=z;else{$=[j.length];j.push(z);j[0]=fl.YE("Work Path")}k="Rename"}else if(r=="new"){var z=fl.YE("Path "+v.length);
if(Z.a6D){var f=S.Nu(),D=f[0],n=f[1],L=D[n[0]];z.add.vmsk=L.add.vmsk.clone();z.add.vogk=JSON.parse(JSON.stringify(L.add.vogk));
if(L.lU==-1){var a=j[$[0]]=fl.YE("Path "+v.length);a.name=L.name;a.lU=L.lU}}j.push(z);$=[j.length-1];
k="New"}else if(r=="del"){if($.length==0)return;$.sort(function(y,W){return y-W});if($[0]==0){j[0]=fl.YE(v[0].name);
$=$.slice(1)}var F=0;while($.length!=0){j.splice($[0]-F,1);$=$.slice(1);F++}k="Delete"}else if(r=="fromsel"){var A=j[0]=fl.YE("Work Path");
$=[0];if(S.$==null)return;var T=S.$.channel.slice(0);for(var q=0;q<T.length;q++)T[q]=T[q]>128?2:1;var P=S.$.rect.clone();
P.QW(1,1);var Y=l.U(P.Z());l.Ju(T,S.$.rect,Y,P);var Q=fE.Au(Y,P.e,P.n,Math.round(P.Z()*5e-4)),D=fE.Nu(Q),o=new ht(1,0,0,1,-1+S.$.rect.x,-1+S.$.rect.y);
for(var q=0;q<D.length;q++)l.H.A(D[q].path.t,o,D[q].path.t);for(var q=0;q<D.length;q++){var I=D[q];if(I.color==1&&I.parent==-1)continue;
var c=l.H.Ah(D[q].path,!1);A.add.vmsk.u=A.add.vmsk.u.concat(c.slice(2))}A.add.vogk=w.VZ(A.add.vmsk.u);
k="Selection to"}var y=new h8(k+" Path",this);y.data={uI:v,M_:e,a6s:j,Ut:$};if(r=="fromsel"){y.data.s6=S.$;
y.data.DA=null}S.oF(y);this.gE(y.data,S)}else{var i=Z.fm,f=S.Nu(Z.d=="append"),D=f[0],n=f[1],A=D[n[0]],d=A.add.vmsk,V=A.add.vogk,G=d.clone(),M=d.clone(),O=JSON.stringify(V);
if(Z.d=="remove"){if(Z.EL&&M.N2.length!=0){M.u=l.q.adG(M.u,M.N2,V);var K=l.q.Ei(M.u);for(var q=0;q<M._.length;
q++)if(M._[q]>=K){M._.splice(q,1);q--}M.N2=[];i="Delete Anchors"}else{if(M._.length==0)return;var F=0;
for(var q=0;q<M._.length;q++){V.splice(M._[q]+F,1);F--}M.u=l.q.adz(M.u,M._);M._=[];M.N2=[];if(i==null)i="Delete Paths"}}if(Z.d=="append"){g.X$.R_(Z.asU,M,V)}this.W8(S,A.lU,M,V);
this.kz(S,i,A.lU,G,M.clone(),null,O,JSON.stringify(V))}};g.X$.KR=function(Z,m){var S=l.q.agU(Z.u,Z._),B=[];
for(var q=0;q<Z._.length;q++)B.push(JSON.parse(JSON.stringify(m[Z._[q]])));return[S,B]};g.X$.R_=function(Z,m,S){var B=l.q.Ei(m.u),C=l.q.Ei(Z[0]);
m.u=m.u.concat(Z[0].slice(2));m._=[];for(var q=0;q<C;q++)m._.push(B+q);for(var q=0;q<C;q++)S.push(JSON.parse(JSON.stringify(Z[1][q])))};
g.X$.prototype.ar=function(Z,m){if(m==null)return!1;var S=m.Nu(),B=S[0],C=S[1];if(C.length==0)return!1;
var u=B[C[0]],r=u.add.vmsk;if(r&&r._.length+r.N2.length!=0)return[iZ.bK,iZ.cE].indexOf(Z)!=-1};g.X$.prototype._s=function(Z,m,S,B){if(Z==null)return;
var C=Z.Nu(),u=C[0],r=C[1];if(r.length==0)return;var k=u[r[0]],v=k.add.vmsk;if(B.j(iZ.xU)||B.j(iZ.Z6)){v.N2=[];
Z.tV=!0}if(v._.length!=0){var e=B.Wr();if(e.x!=0||e.y!=0){var j=v.clone(),$=v.clone(),U=new ht(1,0,0,1,e.x,e.y),H=k.add.vogk,z=JSON.stringify(H);
l.q.uA($.u,U,$._);l.Ka.A(H,l.N.No(U),$._);this.W8(Z,k.lU,$,H);this.kz(Z,"Move Paths",k.lU,j,$.clone(),!0,z,JSON.stringify(H))}if(B.j(iZ.bK)||B.j(iZ.cE))this.W2({d:"remove",EL:this.id==g.Cb},m,Z,B,S)}};
g.X$.prototype.kz=function(Z,m,S,B,C,u,r,k){var v=new h8(m,this);v.data={J0:S,CK:B,OL:C,agw:u,a7D:r,p$:k};
Z.oF(v)};g.X$.prototype.gE=function(Z,m){if(Z.J0!=null)this.W8(m,Z.J0,Z.OL.clone(),JSON.parse(Z.p$));
else{m.px=Z.a6s.slice(0);m.yI=Z.Ut.slice(0);m.tV=m.jU=!0}if(Z.s6||Z.DA){m.$=Z.DA;m.DW=!0}};g.X$.prototype.Jm=function(Z,m){if(Z.J0!=null)this.W8(m,Z.J0,Z.CK.clone(),JSON.parse(Z.a7D));
else{m.px=Z.uI.slice(0);m.yI=Z.M_.slice(0);m.tV=m.jU=!0}if(Z.s6||Z.DA){m.$=Z.s6;m.DW=!0}};g.X$.prototype.W8=function(Z,m,S,B){var C=m<0?Z.px[-1-m]:m<1e6?Z.g[m]:Z.g[m-1e6].add.TySh,u=C.add.vmsk;
u.channel=null;u.ZZ=!0;if(u.Hi){u.Hi.channel=null;u.Hi.ZZ=!0}C.add.vmsk=S;C.add.vogk=B;if(1e6<=m){e6.Rz(C);
var r=Z.g[m-1e6],k=C,v=this._q,e=new jN(k.e7,v.Pl),j=d7.fs(e,k);r.rect=j.pe;r.buffer=j.MW;r.G();Z.G()}else if(0<=m){S.ZZ=!0;
C.T3(Z);Z.G()}Z.tV=Z.jU=!0};g.X$.ur=function(Z,m){var S=Z.g[m],B=S.add.vstk,C=null;if(B&&!B.fillEnabled.v)C={lE:0};
else if(S.add.SoCo)C={lE:1,aI:S.add.SoCo};else if(S.add.GdFl)C={lE:2,aI:S.add.GdFl};else if(S.add.PtFl)C={lE:3,aI:S.add.PtFl};
return C};g.X$._t=function(Z,m){var S=Z.add.vmsk,B=Z.add.vstk,C=m.lE;if(B)B.fillEnabled.v=C!=0;if(C>0){var u=["SoCo","GdFl","PtFl"][C-1];
for(var q=0;q<3;q++)delete Z.add[["SoCo","GdFl","PtFl"][q]];Z.add[u]=m.aI}};g.h_=function(Z,m,S,B){g.X$.call(this,Z,m,S);
this.Et={shape:go.ej(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{aU:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ap6=B;this.DV=null;this.C8=null;this.Lm=null;this.iN=new di};g.h_.prototype=new g.X$;g.h_.prototype.oU=function(Z){return Z.vs&&this.id!=g._k};
g.h_.prototype.enable=function(Z,m,S,B,C){this._q=S;var u=new eY(_.E.W,!0);u.data={d:_.B.tC,l4:"crosshair"};
m.c(u)};g.h_.prototype._s=function(Z,m,S,B){g.X$.prototype._s.call(this,Z,m,S,B);this.iN._s(B);this.DL(m,S)};
g.h_.prototype.DL=function(Z,m){var S=new eY(_.E.W,!0);S.data={d:_.B.lL,b:this.id,iq:this.RN(m)};Z.c(S)};
g.h_.prototype.RN=function(Z){var m=this.iN.QO(0),S=this.iN.nT(0),B=g.nJ.U7(this.Et.binop,m,S);if(Z.Q2==1&&B==0)B=1;
return B};g.h_.prototype.rP=function(Z,m,S,B){};g.h_.prototype.kV=function(Z,m,S,B,C){var u=S.Q2;if(u!=2)this.nb(m,S);
if(u==2&&!Z.t9())return;var r=Z.s.tr(C.x,C.y);r=g.ho._E(Z,r,S);this.Lm=[r.x,r.y];this.DV=r;this.C8=new aS(0,0);
this.iN.kV(B)};g.h_.prototype.HP=function(Z,m,S){var B=[this.DV.clone(),m.clone()];S=this.iN.QO(1)||this.iN.nT(1)?S:null;
if(this.ap6)B=g.h_.C$(B[0],B[1],S,!0,this.Et.cstr);if(Z)Z.s.Jv=new bq(B[0].x,B[0].y,B[1].x-B[0].x,B[1].y-B[0].y);
return this.rP(B[0],B[1],this.iN.QO(1)&&S.j(iZ.nQ),this.Lm)};g.h_.prototype.gf=function(Z,m,S){var B=Z.s.tr(m.x,m.y),C=this.Et.cstr;
if(C.aU==2){var u=new bq(B.x-C.x,B.y-C.y,C.x,C.y),r=g.ho.Dt(Z,u,S);B.x+=r[0];B.y+=r[1];g.ho.QY(Z,u,r)}else B=g.ho._E(Z,B,S);
return B};g.h_.prototype.hJ=function(Z,m,S,B,C){if(this.DV==null)return;var u=this.Lm,r=u.length,k=C?this.gf(Z,C,S):new aS(u[r-2],u[r-1]);
if(B.j(iZ.MO))this.DV=k.Vf(this.C8);else this.C8=k.Vf(this.DV);u.push(k.x,k.y);if(this.Et.shape==null)this.Et.shape=S.Tz[0];
var v=this.HP(Z,k,B)[0],e=l.H.Rl(v);Z.D.pC=e;if(this.id!=g._k&&this.id!=g.d1&&this.id!=g.OX)g.cd.gR(C,Z.s.Jv,Z,S);
Z.tV=!0;this.iN.hJ()};g.h_.prototype.amH=function(Z,m,S,B){var C=Z[4].clone();if(B){C.x-=m/2;C.y-=S/2}var u=this.rP(C,new aS(C.x+m,C.y+S),!1,this.Lm);
this.L3(Z[0],Z[1],Z[2],u)};g.h_.prototype.L3=function(Z,m,S,B){var C=new eY(_.E.lX,!0);C.data=g.h_.lB(B[1],S);
m.c(C);if(B[1].v.classID=="customShape"&&B[1].v.Nm.v.startsWith("--")){var u=Z.Nu(),r=u[0],k=u[1],v=r[k.pop()],e=v.add.vmsk,j=v.add.vogk,$=e.clone();
$.u=B[0];this.W8(Z,v.lU,$,j)}};g.h_.prototype.qB=function(Z,m,S,B,C,u){if(this.DV==null)return;var r=this.gf(Z,C,S),k=this.RN(S),v=S.Q2,e=this.Lm,j=e.length;
if(this.id==g._k&&j<=4){}else if(j<=4){r.x=Math.round(r.x);r.y=Math.round(r.y);var $=new eY(_.E.W);$.data={d:_.B.Me,ct:"createshape",ajm:this.amH.bind(this),amu:this.name,aq8:[Z,m,S,B,r]};
if(!u)m.c($)}else if(j!=2){var U=this.HP(Z,r,B),H=U[0],z=Z.Nu(!0),f=z[0],D=z[1],n=D.length-1;if(v==1&&H.length>2||v==0&&k!=0&&n!=-1&&f[D[n]].lU>=0){H[2].QZ=[1,2,3,0][k-1];
var L=f[D.pop()],a=L.add.vmsk,F=L.add.vogk,A=a.clone(),T=a.clone(),P=JSON.stringify(F);T.u=T.u.concat(H.slice(2));
T._=[l.q.Ei(T.u)-1];var Y=l.Ka.wo(U[1]);F.push(Y?Y:l.Ka.Td());this.W8(Z,L.lU,T,F);this.kz(Z,this.name,L.lU,A,T,null,P,JSON.stringify(F))}else if(v==0){this.L3(Z,m,S,U)}else if(v==2){var T=new w.r6;
T.u=T.u.concat(H.slice(2));var Q=T.sd();if(!this.Et.anta)l.round(Q.channel);var o=l.U(Q.rect.Z()*4);
l._z(o,(S.Nx&255)<<16|(S.Nx>>8&255)<<8|(S.Nx>>16&255)<<0);l.cN(Q.channel,o,3);var I=new eY(_.E.Y,!0);
I.b=g._4;I.data={d:"draw",xw:{buffer:o,rect:Q.rect.clone()},fm:this.name};m.c(I)}}this.DV=null;Z.D.pC=null;
Z.D.D4=null;Z.D.vC=[];Z.s.Jv=null;Z.tV=!0;this.iN.qB();this.DL(m,S)};g.h_.prototype._F=function(Z,m,S,B,C){for(var S in Z)this.Et[S]=Z[S]};
g.h_.C$=function(Z,m,S,B,C){var u=Z.x,r=Z.y,k=m.x,v=m.y;if(C&&C.aU==2){if(B){k=Math.round(k);v=Math.round(v)}u=k-C.x;
r=v-C.y}else{var e=0;if(C&&C.aU==1)e=C.y/C.x;else if(S&&S.j(iZ.nQ))e=1;if(e!=0){if(B){if(u<k)u=Math.floor(u);
else u=Math.ceil(u);if(r<v)r=Math.floor(r);else r=Math.ceil(r)}var j=Math.abs(k-u),$=Math.abs(v-r),U=j;
if($/j<e)U*=$/j/e;k=k>u?u+U:u-U;v=v>r?r+U*e:r-U*e}if(S&&S.j(iZ.__)){u-=k-u;r-=v-r}}var Z=new aS(u,r),m=new aS(k,v);
if(B)g.h_.acB(Z,m);return[Z,m]};g.h_.acB=function(Z,m){if(Z.x>m.x){var S=Z.x;Z.x=m.x;m.x=S}if(Z.y>m.y){var S=Z.y;
Z.y=m.y;m.y=S}Z.x=Math.floor(Z.x);Z.y=Math.floor(Z.y);m.x=Math.ceil(m.x);m.y=Math.ceil(m.y)};g.h_.an3=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
g.h_.GZ=function(Z,m){var S=g.h_.an3();if(m==null)m=JSON.parse(JSON.stringify(fp.wv[Z]));g.dW.Vp(m,S.Usng.v.Type.v,Z);
return{CE:"make",Oz:S}};g.h_.lB=function(Z,m){var S=m.nw,B=JSON.parse(JSON.stringify(m.z$));if(S.lE==0)B.fillEnabled.v=!1;
var C=g.h_.GZ(Math.max(0,S.lE-1),S.aI);C.Oz.Usng.v.Shp=Z;C.Oz.Usng.v.strokeStyle={t:"Objc",v:B};return C};
g.sz=function(){g.X$.call(this,[10,29],g.Cb,"tools/pen");this.Z2=null;this.Wi=null;this.wI=null;this.as4=0;
this.dg=null;this.j_=!1;this.jL=!1;this.av=!1;this.JZ=!1};g.sz.prototype=new g.X$;g.sz.prototype.oU=function(Z){return this.Wi!=null};
g.sz.prototype._s=function(Z,m,S,B){g.X$.prototype._s.call(this,Z,m,S,B);if(!B.j(iZ.__))this.av=!1};
g.sz.prototype.kV=function(Z,m,S,B,C){this.Z2=C;this.nb(m,S);var u=Z.s.tr(C.x,C.y),f,D;u.x=Math.round(u.x);
u.y=Math.round(u.y);var r=g.ho._E(Z,u,S),k=S.Q2,v=this.as4;if(k==2)k=0;var e=Z.Nu(k==1),j=e[0],$=e[1],U=j[$.pop()],H=U?U.add.vmsk:null;
if(k==0&&v!=0&&U&&U.lU>=0)k=1;var z=g.MH(Z,C);if(H)f=l.q.vS(H.u,u,!0,z);var n=B.j(iZ.__);if(k==0&&(H==null||H.N2.length==0&&f.lU==-1)){var L=new eY(_.E.lX,!0),a=l.Ka.bZ("customShape",[0,0,1,1],null,null,null,"--");
L.data=g.h_.lB(a,S);m.c(L);this.JZ=!0;e=Z.Nu(!0);j=e[0];$=e[1];U=j[$.pop()];H=U.add.vmsk;H.u=H.u.slice(0,2)}var F=U.add.vogk;
this.Wi=H.clone();this.wI=JSON.stringify(F);var A=H.u,T=l.q.Ei(A);D=l.q.jQ(H.u,new bq(u.x-z,u.y-z,z*2,z*2),H.N2);
f=l.q.vS(H.u,u,!0,z);var P=D[0].length+D[1].length+D[2].length;if(f.lU!=-1&&D[0].length==0){var Y=l.q.jw(A,f.lU);
while(A[Y].length<=f.Np){f.Np-=A[Y].length;Y+=A[Y].length+1}A[Y].length++;A.splice(Y+2+f.Np,0,{type:4,H0:r.clone(),M:r.clone(),XX:r.clone()});
H.N2=[Y+2+f.Np]}else if(P!=0&&n){var Q=0;for(var q=0;q<3;q++)if(D[q].length!=0){Q=D[q][0];this.jL=q==1;
break}if(D[0].length!=0){var o=H.u.length-1,I=H.u[Q];I.XX=I.M.clone();var c=I.type>=3?3:0;if(Q!=o){I.H0=I.M.clone();
I.type=c+1;this.av=!0}else I.type=c+2}H.N2=[Q]}else if(D[0].length==1&&A[D[0][0]-1]&&A[D[0][0]-1].QZ==null){var Q=D[0][0],Y=l.q.ds(A,Q);
Y=l.q.jw(A,Y);var y=Y+A[Y].length;if(Q!=y){A[Y].length--;A.splice(Q,1);y--}H.N2=[y]}else{var i=0;if(H.N2.length!=1){H._=[T];
A.push({type:3,length:1,QZ:[1,2,3,0][Math.max(0,v-1)],Fw:0,Mm:0,oz:0});i=A.length;F.push(l.Ka.Td())}else{var d=H.N2[0],V=l.q.ds(A,d),Y=l.q.jw(A,V);
d=Y+A[Y].length;if(aS.qa(u,A[Y+1].M)<z){A[Y].type=0;H.N2=[Y+1];this.dg=r;this.j_=!0;this.W8(Z,U.lU,H,F);
Z.tV=!0;return}A[Y].length++;i=d+1;if(d==Y+1&&A[Y].length!=2)i=Y+1}if(B.j(iZ.nQ)&&A[i-1]&&A[i-1].M)r=g.eN.ab(A[i-1].M,r);
A.splice(i,0,{type:4,H0:r.clone(),M:r.clone(),XX:r.clone()});H.N2=[i];this.dg=r}this.W8(Z,U.lU,H,F);
Z.tV=!0};g.sz.prototype.hJ=function(Z,m,S,B,C){if(this.Wi==null)return;var u=this.Z2;if(u&&aS.qa(u,C)<g.MH({s:{R:1}},C))return;
this.Z2=null;var r=Z.s.tr(C.x,C.y),k=g.ho._E(Z,r,S),v=Z.Nu(S.Q2==1),e=v[0],j=v[1],$=e[j.pop()],U=$.add.vmsk,H=U.u,z=H[U.N2[0]];
if(B.j(iZ.MO)){if(B.j(iZ.nQ))k=g.eN.ab(this.dg,k);var f=z.M.Vf(z.XX),D=z.H0.Vf(z.M);z.XX=k;z.M=k.add(f);
z.H0=z.M.add(D)}else{if(B.j(iZ.nQ))k=g.eN.ab(z.M,k);if(this.jL){var n=z.H0;z.H0=z.XX;z.XX=n}if(this.j_){var L=aS.qa(z.M,k),a=L==0?0:aS.qa(z.M,z.XX)/L;
z.XX.x=z.M.x+a*(k.x-z.M.x);z.XX.y=z.M.y+a*(k.y-z.M.y)}else z.XX=k;if(B.j(iZ.__)&&!this.av)z.type=5;else{z.type=4;
z.H0=z.M.add(z.M.Vf(k))}this.dg=k;if(this.jL){var n=z.H0;z.H0=z.XX;z.XX=n}}this.W8(Z,$.lU,U,$.add.vogk);
Z.tV=!0};g.sz.prototype.qB=function(Z,m,S,B,C){if(this.Wi==null)return;var u=Z.Nu(S.Q2==1),r=u[0],k=u[1],v=r[k.pop()],e=v.add.vmsk,j=v.add.vogk;
if(this.j_){e.N2=[];this.W8(Z,v.lU,e,v.add.vogk)}var $=this.Wi.u.length,U=e.u.length;if(!this.JZ)this.kz(Z,this.j_?"Close Path":($==U?"Move":$<U?"Add":"Delete")+" Anchor Point",v.lU,this.Wi,e.clone(),null,this.wI,JSON.stringify(j));
this.JZ=!1;this.j_=!1;this.jL=!1;this.av=!1;this.Wi=null};g.sz.prototype._F=function(Z,m,S,B,C){this.as4=Z.binop};
g.dN=function(){g.h_.call(this,[10,30],g._k,"tools/fpen",!1)};g.dN.prototype=new g.h_;g.dN.prototype.rP=function(Z,m,S,B){return[l.q.DZ(B,this.Et.tolr),l.Ka.bZ("customShape",[0,0,1,1],null,null,null,"--")]};
g.W0=function(){g.X$.call(this,[10,27],g.bO,"tools/pselect");this.KH=null;this.YG=!1;this.NL=null;this.Wi=null;
this.zQ=null;this.wI=null;this.lk=null;this.Qe=null;this.cI=null;this.W1=null};g.W0.prototype=new g.X$;
g.W0.prototype.oU=function(Z){return Z.vs};g.W0.prototype.kV=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y),r=Z.Nu(),k=r[0],v=r[1],e,j;
for(var q=0;q<v.length;q++){var $=k[v[q]],U=$.add.vmsk,H=l.q.vS(U.u,u).lU;if(H!=-1){this.NL=e=$;j=H}for(var z=0;
z<U.Bp.length;z++){var f=l.q.P1(U.u,U.Bp[z]);if(f==null)continue;var D=aS.qa(f,u);if(D<4*g.F()/Z.s.R){var n=Z.g[$.lU-1e6].add.TySh,L=n.e7.Curve,a=n.A,F=L.Reversed;
L.Reversed=!1;var L=jN.i$(n.e7.Curve);L.Reversed=F;l.H.A(L[0],a,L[0]);this.cI=[L,z,a.AQ*a.uw-a.S*a.mw];
this.NL=e=$;j=0}}if(this.cI)break}if(e!=null){var U=e.add.vmsk;U.N2=[];var A=U._.indexOf(j);if(B.j(iZ.nQ)){if(A==-1){U._.push(j);
this.YG=!0}else U._.splice(A,1)}else{if(A==-1)U._=[j];this.YG=!0}this.Qe=l.q.Go(U.u,U._)}this.KH=u;this.W1=new gA(u);
Z.jU=!0;Z.tV=!0};g.W0.prototype.hJ=function(Z,m,S,B,C){if(this.KH==null)return;var u=Z.s.tr(C.x,C.y);
if(this.YG){u=this.W1.U4(u,B);var r=this.NL;if(this.Wi==null){this.Wi=this.zQ=r.add.vmsk.clone();this.wI=this.lk=JSON.stringify(r.add.vogk);
if(B.j(iZ.__)){var k=this.Wi.clone(),v=JSON.parse(this.wI),e=g.X$.KR(k,v);g.X$.R_(e,k,v);this.zQ=k;this.lk=JSON.stringify(v)}}var k=this.zQ.clone(),v=JSON.parse(this.lk);
if(this.cI){var j=this.cI,$=j[0][0],U=l.H.Ox($,u.x,u.y);k.Bp[j[1]]=j[0][1][U];var H=$[U*2],z=$[U*2+1],f=($[U*2+2]-H)*(u.y-z)-($[U*2+3]-z)*(u.x-H);
if(j[2]<0)f=-f;k.DK=f>0}else{var D=this.Qe.clone(),n=D.x,L=D.y;D.offset(u.x-this.KH.x,u.y-this.KH.y);
D.x=Math.round(D.x);D.y=Math.round(D.y);var a=g.ho.Dt(Z,D,S),F=new ht(1,0,0,1,D.x-n+a[0],D.y-L+a[1]);
l.q.uA(k.u,F,k._);l.Ka.A(v,l.N.No(F),k._);g.ho.QY(Z,D,a)}this.W8(Z,r.lU,k,v)}else{var A=this.KH;Z.D.pC=l.H.ez(new bq(A.x,A.y,u.x-A.x,u.y-A.y));
Z.tV=!0}};g.W0.prototype.qB=function(Z,m,S,B,C){if(this.KH==null)return;var u=Z.s.tr(C.x,C.y),r=this.NL,k=r?r.add.vmsk:null;
if(this.YG){var v=JSON.stringify(r.add.vogk);if(!this.KH.Qu(u))this.kz(Z,"Move Paths",r.lU,this.Wi,k,null,this.wI,v);
if(Z!=null&&Z.D.D4){Z.D.D4=null;Z.tV=!0}}else{if(k){var e=this.KH,j=new bq(e.x,e.y,u.x-e.x,u.y-e.y),$=l.q.akz(k.u,j);
if(B.j(iZ.nQ)){for(var q=0;q<$.length;q++)if(k._.indexOf($[q])==-1)k._.push($[q])}else k._=$}Z.D.pC=null;
Z.tV=!0}this.KH=null;this.Wi=null;this.cI=null;this.YG=!1;this.W1=null};g.W0.prototype.Ll=function(Z,m,S,B){g.X$.prototype.Ll.call(this,Z,m,S,B);
if(S.th!=this.id)return;if(Z._.length==0)return;var C=Z.Nu(),u=C[0],r=C[1];if(r.length==0)return;var k=u[r[0]],v=k.add.vmsk,e=k.add.vstk,j=k.add.vogk,$=new eY(_.E.W,!0);
$.data={d:_.B.lL,b:this.id,BT:"main",kH:v?v:null,Ka:j};m.c($)};g.W0.prototype._F=function(Z,m,S,B,C){var u=Z.ZT;
if(u.kH){var r=S.Nu(),k=r[0],v=r[1];if(v.length==0)return;var e=k[v[0]],j=e.add.vmsk.clone(),$=JSON.stringify(e.add.vogk),U=u.kH;
this.W8(S,e.lU,U,u.Ka);var H=[18,5];if(j.u.length==U.u.length)H=j._[0]==U._[0]?"Fill Rule":"Path Order";
this.kz(S,H,e.lU,j,U,null,$,JSON.stringify(u.Ka))}};g.wc=function(){g.X$.call(this,[10,28],g.Y0,"tools/dselect");
this.$X=-1;this.cq=-1;this._e=null;this.KH=null;this.NL=null;this.Wi=null;this.wI=null;this.kg=null;
this.Sc=0;this.a6e={psnap:!1};this.W1=null};g.wc.prototype=new g.X$;g.wc.prototype.oU=function(Z){return Z.vs};
g.wc.prototype._F=function(Z){this.a6e=Z};g.wc.prototype.W2=function(Z,m,S,B,C){if(Z.d=="crnr"){if(S==null)return;
var u=S.Nu(),r=u[0],k=u[1];if(k.length==0){alert("No paths selected");return}var v=r[k[0]],e=v.add.vmsk;
if(e.N2.length==0){alert("No corners selected");return}for(var q=0;q<e.N2.length;q++){var j=e.u[e.N2[q]];
if(!j.M.Qu(j.XX)||!j.M.Qu(j.H0)){alert("Only sharp corners can be rounded");return}}if(this.Wi==null){this.Wi=v.add.vmsk.clone();
this.wI=JSON.stringify(v.add.vogk);this.NL=v;this.kg=S}var $=new eY(_.E.W,!0);$.data={d:_.B.Me,ct:"cornerradius",RL:5,AZ:this.a7_.bind(this)};
m.c($)}else g.X$.prototype.W2.call(this,Z,m,S,B,C)};g.wc.prototype.a7_=function(Z){if(Z=="confirm"){var m=this.kg,S=this.NL,B=S.add.vmsk,C=S.add.vogk;
this.kz(m,[12,94,0],S.lU,this.Wi,B,null,this.wI,JSON.stringify(C));this.lp();return}var B=this.Wi.clone(),C=JSON.parse(this.wI),u=B.N2;
if(Z=="cancel"){}else{var r=[];for(var q=0;q<u.length;q++){var k=u[q],v=l.q.ds(B.u,k,!0),$=0;if(r.indexOf(v)!=-1)continue;
r.push(v);var e=l.q.jw(B.u,v,!0),j=B.u[e].length,U=[];for(var H=0;H<j;H++){var z=B.N2.indexOf(e+H+1)==-1?0:Z;
U.push(z);if(z!=0)$++}l.q.Dy(B.u,e,U);for(var H=0;H<u.length;H++)if(u[H]>e+j)u[H]+=$}this.KP(B,C);B.N2=[]}this.W8(this.kg,this.NL.lU,B,C);
if(Z=="cancel")this.lp()};g.wc.prototype.disable=function(Z,m,S,B){this.lw(Z)};g.wc.prototype.kV=function(Z,m,S,B,C){this.lw(Z);
var u=Z.s.tr(C.x,C.y),$,U,H;this._e=u.clone();var r=Z.Nu(),k=r[0],v=r[1];if(v.length==0)return;var e=g.MH(Z,C),j=new bq(u.x-e,u.y-e,e*2,e*2);
for(var z=0;z<v.length;z++){$=this.NL=k[v[z]];U=$.add.vmsk;H=l.q.jQ(U.u,j);if(H[0].length+H[1].length+H[2].length!=0)break}var f=[!1,!1,!1];
for(var q=0;q<3;q++){for(var D=0;D<H[q].length;D++){var n=H[q][D];if(U.N2.indexOf(n)!=-1||q==1&&U.N2.indexOf(n-1)!=-1||q==2&&U.N2.indexOf(n+1)!=-1){H[q]=[n];
f[q]=!0;break}}}if(H[0].length!=0&&(f[0]||!f[1]&&!f[2])){var L=H[0][0],a=U.N2.indexOf(L);if(B.j(iZ.nQ)){if(a==-1)U.N2.push(L);
else{U.N2.splice(a,1);Z.tV=!0;return}}else if(a==-1)U.N2=[L];this.$X=L;this.cq=0}else if(H[1].length!=0&&f[1]){this.$X=H[1][0];
this.cq=1}else if(H[2].length!=0&&f[2]){this.$X=H[2][0];this.cq=2}else{var F=l.q.vS(U.u,u,!0,e);if(F.lU==-1)this.KH=u;
else{U._=[F.lU];U.N2=[]}}if(this.Wi==null){this.Wi=$.add.vmsk.clone();this.wI=JSON.stringify($.add.vogk)}this.W1=new gA(u);
Z.tV=!0};g.wc.prototype.hJ=function(Z,m,S,B,C){if(Z==null)return;var u=Z.s.tr(C.x,C.y),r=this.NL;if(this.$X!=-1){var k=this.Wi.clone(),v=r.add.vogk,e=k.u[this.$X];
e=[e.M,e.H0,e.XX][this.cq];if(B.j(iZ.nQ)){if(this.cq==0){u=this.W1.U4(u,B);u.x+=e.x-this._e.x;u.y+=e.y-this._e.y}else u=g.eN.ab(k.u[this.$X].M,u)}else{if(this.a6e.psnap){u.x=Math.round(u.x);
u.y=Math.round(u.y)}u=g.ho._E(Z,u,S)}if(this.cq==0){var j=new ht(1,0,0,1,u.x-e.x,u.y-e.y);l.q.uA(k.u,j,null,k.N2)}else{var $=k.u[this.$X],U=$.H0,H=$.XX;
if(this.cq==2){U=$.XX;H=$.H0}if(B.j(iZ.__)&&($.type==1||$.type==4))$.type++;U.r8(u.x,u.y);if($.type==1||$.type==4){var z=aS.qa(U,$.M),f=aS.qa(H,$.M);
if(f!=0){H.x=$.M.x-(U.x-$.M.x)*(f/z);H.y=$.M.y-(U.y-$.M.y)*(f/z)}}}this.KP(k,v);this.W8(Z,r.lU,k,v)}else if(this.KH!=null){var D=this.KH;
Z.D.pC=l.H.ez(new bq(D.x,D.y,u.x-D.x,u.y-D.y));Z.tV=!0}else{var n=Z.Nu(),L=n[0],a=n[1],r,k,T;if(a.length==0)return;
var F=g.MH(Z,C),A=new bq(u.x-F,u.y-F,F*2,F*2);for(var P=0;P<a.length;P++){r=L[a[P]];k=r.add.vmsk;T=l.q.jQ(k.u,A);
if(T[0].length+T[1].length+T[2].length!=0)break}this.lw(Z);for(var q=0;q<3;q++){for(var Y=0;Y<T[q].length;
Y++){var Q=T[q][Y],o=k.u[Q];o=q==0?o.M:q==1?o.H0:o.XX;Z.D.Dn.push(Z.D.bm.length>>>1);Z.D.bm.push(o.x,o.y);
Z.tV=!0}}}};g.wc.prototype.lw=function(Z){if(Z&&Z.D.bm.length!=0){Z.D.bm=[];Z.D.Dn=[];Z.tV=!0}};g.wc.prototype.qB=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y),r=this.NL,k=r?r.add.vmsk:null,v=r?r.add.vogk:null;
if(this.$X!=-1){if(Date.now()-this.Sc<300){var e=k.u[this.$X],j=this.cq,$=null;if(j==0){var U=e.H0.Qu(e.M),H=e.XX.Qu(e.M);
if(!U&&!H){$="Anchor Type";if(e.type==1||e.type==4)e.type++;else{e.type--;e.XX=e.M.add(e.M.Vf(e.H0))}}else{$="Add Handles";
if(U&&H){e.H0.x-=30;e.XX.x+=30}else if(U)e.H0=e.M.add(e.M.Vf(e.XX));else if(H)e.XX=e.M.add(e.M.Vf(e.H0))}}else{$="Remove Handle";
if(j==1)e.H0.my(e.M);else e.XX.my(e.M)}this.KP(k,v);this.W8(Z,r.lU,k,v);this.kz(Z,$,r.lU,this.Wi,k,null,this.wI,JSON.stringify(v))}else if(!this._e.Qu(u)){this.kz(Z,"Drag Anchors",r.lU,this.Wi,k,null,this.wI,JSON.stringify(v))}this.Sc=Date.now()}else if(this.KH!=null){var z=this.KH,f=new bq(z.x,z.y,u.x-z.x,u.y-z.y);
if(f.e<0)f.x+=f.e;if(f.n<0)f.y+=f.n;f.e=Math.abs(f.e);f.n=Math.abs(f.n);var D=l.q.jQ(k.u,f);k.N2=D[0].concat(B.j(iZ.nQ)?k.N2:[]);
Z.D.pC=null}this.lp();Z.tV=!0};g.wc.prototype.lp=function(){this.NL=null;this.Wi=null;this.KH=null;this.$X=this.cq=-1;
this.W1=null};g.wc.prototype.KP=function(Z,m){for(var q=0;q<Z.N2.length;q++){var S=l.q.ds(Z.u,Z.N2[q]);
l.Ka.uQ(m,S)}};g.wc.prototype._s=function(Z,m,S,B){if(Z==null)return;var C=Z.Nu(),u=C[0],r=C[1];if(r.length==0)return;
var k=u[r[0]],v=k.add.vmsk;if(v==null||v.N2.length==0)return;var e=k.add.vogk,j=JSON.stringify(e),$=B.Wr();
if($.x!=0||$.y!=0){var U=v.clone(),H=v.clone(),z=new ht(1,0,0,1,$.x,$.y);l.q.uA(H.u,z,null,H.N2);this.KP(H,e);
this.W8(Z,k.lU,H,e);this.kz(Z,"Move Anchors",Z._[0],U,H.clone(),!0,j,JSON.stringify(e))}if(B.j(iZ.bK)||B.j(iZ.cE))this.W2({d:"remove",EL:!0},m,Z,B,S)};
g.wc.prototype.kz=function(Z,m,S,B,C,u,r,k){var v=Z.rX();if(u&&v!=null&&v.b==this&&v.data.agw&&v.data.J0==S&&JSON.stringify(v.data.CK.N2)==JSON.stringify(B.N2)){v.data.OL=C;
v.data.p$=k}else{var v=new h8(m,this);v.data={J0:S,CK:B,OL:C,agw:u,a7D:r,p$:k};Z.oF(v)}};g.Rect=function(){g.h_.call(this,[10,32],g.bu,"tools/rect",!0)};
g.Rect.prototype=new g.h_;g.Rect.prototype.rP=function(Z,m,S){var B=this.Et.crad,C=m.x-Z.x,u=m.y-Z.y;
return[l.q.eF.Rect(Z.x,Z.y,C,u,B),l.Ka.bZ("Rctn",[Z.x,Z.y,m.x,m.y],[B,B,B,B])]};g.cP=function(){g.h_.call(this,[10,33],g.PW,"tools/ellipse",!0)};
g.cP.prototype=new g.h_;g.cP.prototype.rP=function(Z,m,S){var B=m.x-Z.x,C=m.y-Z.y;return[l.q.eF.cP(Z.x,Z.y,B,C),l.Ka.bZ("Elps",[Z.x,Z.y,m.x,m.y])]};
g.Jd=function(){g.h_.call(this,[10,34],g.d1,"tools/pshape",!1);this.Et.aopts=[!1,!0,50,100,0]};g.Jd.prototype=new g.h_;
g.Jd.prototype.rP=function(Z,m,S){var B=this.Et.pshape,C=this.Et.crad,u=this.Et.irad/100,r=this.Et.sides,k=this.Et.width,v=this.Et.aopts,e=this.Et.length,D;
m=m.clone();var j=Z.x,$=Z.y,U=m.x,H=m.y,z=Math.sqrt((U-j)*(U-j)+(H-$)*(H-$)),f=Math.atan2(-H+$,U-j);
if(S)f=Math.round(f*180/Math.PI/15)*15*Math.PI/180;if(B==0)D=l.q.eF.AW(j,$,z,f,r,C);if(B==1)D=l.q.eF.wO(j,$,z,f,r,C,u);
if(B==2)D=l.q.eF.gS(Z.x,Z.y,m.x,m.y,k,v);if(B==3)D=l.q.eF.ap8(j,$,z,f,e);return[D,l.Ka.bZ("customShape",[Z.x,Z.y,m.x,m.y],null,null,null,"--")]};
g.Jd.prototype._s=function(Z,m,S,B){g.h_.prototype._s.call(this,Z,m,S,B);var C=B.Wr(),u=this.Et,r,k;
if(C.y!=0){var v=-C.y,e=u.pshape;if(e<2){r="sides";k=Math.max(3,Math.min(100,u.sides+v))}else if(e==2){r="width";
k=Math.max(1,Math.min(100,u.width+v))}else if(e==3){r="length";k=Math.max(4,Math.min(40,u.length+v))}}if(C.x!=0){r="pshape";
k=Math.max(0,Math.min(3,u.pshape+C.x))}if(r){var j=new eY(_.E.W,!0),$={};$[r]=k;u[r]=k;j.data={d:_.B.lL,b:this.id,hN:"vals",aqD:$};
m.c(j);this.hJ(Z,m,S,B)}};g.LV=function(){g.h_.call(this,[10,35],g.OX,"tools/line",!1)};g.LV.prototype=new g.h_;
g.LV.prototype.rP=function(Z,m,S){var B=this.Et.width,C=this.Et.aopts;m=m.clone();if(S){m=g.eN.ab(Z,m)}return[l.q.eF.gS(Z.x,Z.y,m.x,m.y,B,C),l.Ka.bZ("Ln",null,null,[Z.x,Z.y,m.x,m.y],B,null,C)]};
g.S4=function(){g.h_.call(this,[10,31],g.A9,"tools/cshape",!0)};g.S4.prototype=new g.h_;g.S4.prototype.rP=function(Z,m,S){var B=this.Et.shape,C=B.rK.e/B.rK.n,u=w.r6.Vu(B.u);
m=m.clone();var r=m.x-Z.x,k=m.y-Z.y;l.q.uA(u,new ht(r,0,0,k,Z.x,Z.y));return[u,l.Ka.bZ("customShape",[Z.x,Z.y,m.x,m.y],null,null,null,B.Nv)]};
g.Q=function(Z,m,S){g.cd.call(this,Z,m,S);this.Je=0;this.g=null;this.iz=null;this.YS=null;this.Cf=1;
this.qI=!1;this.cursor=null;this.oK=null;this.s6=null;this.GQ=!1;this.f0=null;this.ar$=0;this.ZW=null;
this.or=0;this.nM=null;this.wE=null;this.Aw=null;this.L$=null;this.a3e=null;this.oy=null};g.Q.prototype=new g.cd;
g.Q.$g=function(Z,m){var S={classID:"null",null:hX.NN("Dcmn",!0)};if(Z)S.Angl={t:"UntF",v:{type:"#Ang",val:m}};
else S.Axis={t:"enum",v:{Ornt:m}};return{CE:Z?"rotateEventEnum":"flip",Oz:S}};g.Q.prototype.L0=function(Z,m,S,B,C){var u=new eY(_.E.W,!0);
u.data={d:_.B.lL,b:this.id,Pq:C,tt:Z,YS:S};m.c(u);this.Bx=!1};g.Q.prototype.oU=function(Z){return this.wE&&this.wE.c0()};
g.Q.prototype.W2=function(Z,m,S,B,C){this.YS=C;if(Z.d=="again"&&this.ZW==null)return;if(!this.Cu(S,C))return;
if(this.wE){this.cy(Z,this.wE.rd());this.Rf(S,C,0,!0);this.fl(S);return}this.vb(S,Z.i==null,Z.i);this.xs(S);
this.cy(Z);this.ER(S,m,Z.fm,!1)};g.Q.prototype.cy=function(Z,m){var S=this.nM;if(m==null){var B=Z.GB!=null?Z.GB:4;
m=this.wE.ajY()[B]}var C=m.x,u=m.y;if(Z.d=="rot"&&Z.k!=Math.PI&&(S.e+S.n&1)==1){C=Math.floor(C);u=Math.floor(u)}var r=new ht;
r.translate(-C,-u);if(Z.d=="rot")r.rotate(Z.k);if(Z.d=="scl")r.scale(Z.k.x,Z.k.y);if(Z.d=="mat")r.concat(Z.k);
r.translate(C,u);if(Z.d=="again")r=this.ZW;var k=this.wE.uo();l.H.A(k,r,k);this.wE.Cj(k)};g.Q.prototype.nE=function(){return!0};
g.Q.prototype.Cu=function(Z,m){if(Z==null)return!1;if(this.id==g.Zz)return Z.$!=null;var S=Z.fO(!0,null,null,!0);
if(this.id==g.yj&&Z.g[S[0]].rect.Ov()){alert("Layer is empty.");return!1}for(var q=0;q<S.length;q++){var B=Z.g[S[q]];
if(B.YL(2)||B.YL(31)){alert(iD.get([6,57,0]));return!1}if(B.add.artb){alert("You can not transform the whole artboard");
return!1}if(B.add.TySh)if(!d7.w$(B.add.TySh,m.Pl))return!1;if(B.add.SoLd){if(S.length==1&&!l.BF.xB(B.add.SoLd.warp.v)&&(B.sd()&&B.sd().ie||B.add.vmsk&&B.add.vmsk.ie)){alert("Unlink masks before transforming Smart Object");
return!1}if(!Z.aer(B.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+Z.cc(B.add.SoLd.Idnt.v).qw+")");
return!1}}}if(Z.$==null)return!0;if(!Z.t9())return!1;return Z.arx()};g.Q.prototype.kV=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y);
if(this.or==1){var r=l.N.Yy(l.N.Eh(this.wE.uo(),this.nM));u=l.N.Q4(r,u)}var k=this.or==0?this.wE:this.Aw;
this.qI=k.kV(Z,S,B,u,null,null,C);if(this.qI&&k.R3(u)){if(Date.now()-this.ar$<250)this.ER(Z,m,null,!0);
this.ar$=Date.now()}};g.Q.prototype.i9=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.tC,l4:this.cursor};
Z.c(m)};g.Q.prototype.hJ=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y);if(this.or==1){var r=l.N.Yy(l.N.Eh(this.wE.uo(),this.nM));
u=l.N.Q4(r,u)}var k=this.or==0?this.wE:this.Aw;if(!C.vs){var v="default";if(k){var e=k.Zt(u,Z.s.R,null,C);
if(e)v=e}if(v!=this.cursor){this.cursor=v;this.i9(m)}}if(!this.qI)return;k.hJ(Z,S,B,u);this.Rf(Z,S,0,!0);
this.fl(Z);this.Om(m)};g.Q.prototype.qB=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y);this.wE.qB(Z,S,B,u);
this.qI=!1};g.Q.prototype._s=function(Z,m,S,B){if(B.j(iZ.Z6))this.ER(Z,m,null,!0);else if(B.j(iZ.xU))this.Tj(Z,m);
else{var C=this.wE._s(Z,S,B);if(C){this.Rf(Z,S,0,!0);this.Om(m)}}};g.Q.prototype._F=function(Z,m,S,B){if(Z.BT=="commit")this.ER(S,m,null,!0);
else if(Z.BT=="cancel")this.Tj(S,m);else if(Z.BT=="switchWarp"){this.or=1-this.or;this.aoE();this.fl(S);
this.Om(m)}else if(Z.BT=="wrp"){this.Aw.ff(Z.TE);this.fl(S);this.Rf(S,this.YS,0,!0)}else if(Z.BT=="ctyp"){this.wE.a5H(Z.K9);
this.fl(S);this.Om(m)}else if(Z.BT=="cen"){this.wE.apo(Z.n3);this.fl(S);this.Rf(S,this.YS,0,!0);this.Om(m)}else if(Z.BT=="trn"){var C=l.N.No(Z.zU),u=this.nM,r=l.N.Eh(this.wE.uo(),this.nM);
C[6]=r[6],C[7]=r[7];var k=[u.x,u.y,u.x+u.e,u.y,u.x+u.e,u.y+u.n,u.x,u.y+u.n];l.N.A(C,k);this.Cf=Z.Cf;
this.wE.Cj(k);this.fl(S);this.Rf(S,this.YS,0,!0)}};g.Q.prototype.fl=function(Z){if(this.or==0)this.wE.zj(Z,this.YS);
else{this.Aw.zj(Z);var m=l.N.Eh(this.wE.uo(),this.nM);l.N.A(m,Z.D.pC.t);l.N.A(m,Z.D.dx)}};g.Q.prototype.ER=function(Z,m,S,B){this.Rf(Z,this.YS,this.Cf);
var C=new h8(S?S:this.name,this);if(this.Je==0)C.data={type:this.Je,g:this.g,f0:this.iz,zY:g.Q.H$(Z,this.g)};
else if(this.Je==1){var u=Z.g[this.g[0]],r;if(u.rl.E_<=0){r=l.U(u.rl.cr.Z());l.NK(u.rl.Di,r,3)}else r=Z.$.channel;
var k={rect:u.rl.cr.clone(),channel:r};C.data={type:this.Je,i:this.g[0],s6:this.s6,DA:k,oK:this.oK,GQ:this.GQ,rl:u.rl,f0:this.f0,zY:{pe:u.rl.cr,aP:u.rl.Di}}}else if(this.Je==2){C.data={type:this.Je,s6:this.s6,DA:{rect:Z.$.rect.clone(),channel:Z.$.channel.slice(0)}}}Z.oF(C);
var v=this.nM,e=new aS(v.x+v.e/2,v.y+v.n/2),j=l.N.Eh(this.wE.uo(),v),$=l.N.aY(j),U=new ht;U.translate(e.x,e.y);
U.concat($);U.translate(-e.x,-e.y);$=U.clone();var H=-Math.atan2(-$.S,$.AQ),z=new ht;z.rotate(H);$.concat(z);
function f(L,a){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][a],val:L}}}var D=hX.NN("Lyr",!0);if(this.id==g.Zz)D.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var n={classID:"null",null:D,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:f(U.s9,0),Vrtc:f(U.ku,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:f(Math.atan($.mw)*180/Math.PI,2),Vrtc:f(0,2)}},Wdth:f($.AQ*100,1),Hght:f($.uw*100,1),Angl:f(H*180/Math.PI,2)};
this.CF=m;this.track({CE:"transform",Oz:n});this.escape(Z,m,B)};g.Q.prototype.Tj=function(Z,m){if(this.Je==0)g.Q.Xs(Z,this.g,this.iz);
else if(this.Je==1){var S=Z.g[this.g[0]];Z.$=this.s6;if(!this.GQ){S.rl.cr=this.f0.pe;S.rl.Di=this.f0.aP;
S.vj(Z,0,0,Z.$)}else{S.kS(Z,this.oK)}Z.G();Z.DW=!0}else if(this.Je==2){Z.$=this.s6;Z.DW=!0}this.escape(Z,m,!0)};
g.Q.prototype.escape=function(Z,m,S){this.wE.clear(Z);this.wE=null;this.Aw=null;this.oy=null;this.or=0;
if(S)this.mG(m,_.E.W,{d:_.B.yS})};g.Q.prototype.gE=function(Z,m){if(Z.type==0)g.Q.Xs(m,Z.g,Z.zY);else{if(Z.type==1){var S=m.g[Z.i];
if(Z.GQ){S.rl=Z.rl}else{S.rl.cr=Z.zY.pe;S.rl.Di=Z.zY.aP}S.vj(m,0,0,m.$);m.G()}m.$={rect:Z.DA.rect.clone(),channel:Z.DA.channel.slice(0)};
m.DW=!0}};g.Q.prototype.Jm=function(Z,m){if(Z.type==0)g.Q.Xs(m,Z.g,Z.f0);else{if(Z.type==1){var S=m.g[Z.i];
if(Z.GQ){S.kS(m,Z.oK)}else{S.rl.cr=Z.f0.pe;S.rl.Di=Z.f0.aP;S.vj(m,0,0,m.$)}m.G()}m.$=Z.s6;m.DW=!0}};
g.Q.prototype.vb=function(Z,m,S){Z.Nu();var B=[];if(S==null)for(var q=0;q<Z.yI.length;q++)if(Z.px[Z.yI[q]].add.vmsk.u.length>2)B.push(-1-Z.yI[q]);
var C=[],u=Z.s.U1;if(u[0]+u[1]+u[2]==3)if(S!=null||B.length==0||Z.ap!=null&&Z.ap.length!=0){if(Z._.length==1){var r=Z.g[Z._[0]];
if(r.O1()&&r.aX)C=[Z._[0]]}if(C.length==0)C=Z.fO(m,S,null,!0)}C=C.concat(B);for(var q=0;q<Z.tp.length;
q++)C.push(-1e3-Z.tp[q]);this.g=C};g.Q.prototype.enable=function(Z,m,S,B,C,u){if(this.cursor==null)this.cursor="default";
this.i9(m);if(this.wE)return;this.YS=S;this.vb(Z,!0);this.xs(Z,u&&u.PC!=null&&u.PC!=-1?u.PC:null);this.Om(m);
this.fl(Z);if(u&&u.PC==-1)this._F({BT:"switchWarp"},m,Z,B)};g.Q.prototype.Om=function(Z){var m={d:_.B.lL,b:this.id};
if(this.or==0){var S=l.N.Eh(this.wE.uo(),this.nM),B=l.N.aY(S);m.zU={TZ:B,K9:this.wE.aqr(),n3:this.wE.rd(),pe:this.nM.clone()}}else{m.TE=this.Aw.u$()}m.a5A=this.Aw!=null;
this.mG(Z,_.E.W,m)};g.Q.prototype.xs=function(Z,m){var S=this.id==g.Zz,B=!0,C=this.g[0],u=Z.g[C],k=null,v=null;
if(S){this.Je=2;this.s6=Z.$}else if(Z.$&&this.g.length==1&&C>=0&&!u.rect.Ov()){this.Je=1;this.s6=Z.$;
this.oK=u.rl;this.GQ=!1;if(!u.Cs(Z,Z.$)){this.GQ=!0;u.PK(Z,Z.$,!1)}this.f0={aP:u.rl.Di,pe:u.rl.cr}}else{this.Je=0;
this.iz=g.Q.H$(Z,this.g,null);for(var q=0;q<this.iz.length;q++)if(this.iz[q][3]!=null)B=!1}var r=this.Je==1;
if(this.iz&&this.iz.length==1){var e=this.iz[0];if(e[2]!=null&&e[2].Ka){var j=e[2].kH._;if(j.length<2){v=e[2].Ka[j.length==0?0:j[0]].v;
if(!l.Ka.x7(v))v=null}}if(e[3]==null)r=!0;if(e[4]!=null){k=Z.g[this.g[0]].add.SoLd;if(e[1]||e[2])r=!1}}var $=S?Z.$.rect.clone():g.Q.Cp(Z,this.g);
this.nM=$;if(!S&&k){var U=g.Q.wG(k.nonAffineTransform);this.nM=l.H.su(l.BF.f8(k.warp.v));if(r)this.Aw=new cv(k.warp.v);
this.L$=l.N.Eh(U,this.nM);this.wE=new j8(U,!0,!0,B,!1,!1,m)}else{if(r||S)this.Aw=new cv(l.BF.U(this.nM));
this.L$=[1,0,0,0,1,0,0,0];if(this.id==g.yj)m=3;this.wE=new j8([$.x,$.y,$.x+$.e,$.y,$.x+$.e,$.y+$.n,$.x,$.y+$.n],!0,!0,B,!1,!1,m)}this.a3e=[1,0,0,0,1,0,0,0];
if(this.id==g.yj){var H,z;if(this.iz){var f=this.iz[0][0],D=f.BS;H=D[0];z=D[1]}else if(this.f0){H=this.f0.aP;
z=this.f0.pe}this.oy=l.Yu.aq9(H,z.e,z.n)}};g.Q.Cp=function(Z,m){if(m==null)m=Z.fO(!0,null,null,!0);var S=new bq,B=new bq;
if(Z.$&&m.length==1&&m[0]>=0)S=Z.$.rect.clone();else for(var q=0;q<m.length;q++){var C=m[q],u=0<=C?Z.g[C]:-1e3<C?Z.px[-1-C]:Z.Xz[-1e3-C],r=u.add?u.add.vmsk:null,k=0<=C?u.SJ(Z,m.length==1,!1,!0):-1e3<C?l.q.Go(r.u,m.length==1&&r._.length!=0?r._:null):u.rect.clone();
S=S.j3(k);if(C>0&&u.add.artb)B=B.j3(u.u1())}return!B.Ov()?B:S};g.Q.prototype.mG=function(Z,m,S,B){var C=new eY(m,!0);
C.data=S;if(B)C.b=B;Z.c(C)};g.Q.H$=function(Z,m,S){var B=[];for(var q=0;q<m.length;q++){var C=m[q],u,r;
if(C>=0){u=Z.g[C];r=u.Kx(Z,S,!0)}else if(C>-1e3){u=Z.px[-1-C];r=[2]}else{B.push([null,null,null,null,null,null,null,Z.Xz[-1e3-C].clone()]);
continue}var k=[];if(r.indexOf(0)!=-1){var v={BS:[u.buffer.slice(0),u.rect.clone()]};k.push(v);if(u.vI()){var e=u.ws(Z);
v.a3i=e.buffer.slice(0);v.a5C=e.rect.clone()}}else k.push(null);if(r.indexOf(1)!=-1)k.push(u.sd().clone());
else k.push(null);if(r.indexOf(2)!=-1)k.push({kH:u.add.vmsk.clone(),Rw:u.add.vstk?JSON.parse(JSON.stringify(u.add.vstk)):null,aI:u.add.vstk?g.X$.ur(Z,C):null,Ka:u.add.vogk?JSON.parse(JSON.stringify(u.add.vogk)):null});
else k.push(null);if(u.add.TySh&&k[0]){e6.Rz(u.add.TySh);k.push(u.add.TySh.A.clone())}else k.push(null);
if(u.add.SoLd&&k[0])k.push(JSON.parse(JSON.stringify(u.add.SoLd)));else k.push(null);if(r.indexOf(3)!=-1)k.push(u.ws(Z).v.clone());
else k.push(null);if(u.add.lmfx)k.push(JSON.stringify(u.add.lmfx));else k.push(null);B.push(k)}return B};
g.Q.Xs=function(Z,m,S){for(var q=0;q<m.length;q++){var B=m[q],C=0<=B?Z.g[B]:-1e3<B?Z.px[-1-B]:Z.Xz[-1e3-B],u=S[q];
if(u[0]){C.rect=u[0].BS[1].clone();C.buffer=u[0].BS[0].slice(0);if(C.vI()){var r=C.ws(Z);r.buffer=u[0].a3i.slice(0);
r.rect=u[0].a5C.clone()}}if(u[1]){C.sd().channel=u[1].channel.slice(0);C.sd().rect=u[1].rect.clone();
C.sd().ZZ=!0}if(u[2]){C.add.vmsk=u[2].kH.clone();if(u[2].aI)g.X$._t(C,u[2].aI);if(u[2].Rw)C.add.vstk=JSON.parse(JSON.stringify(u[2].Rw));
if(u[2].Ka)C.add.vogk=JSON.parse(JSON.stringify(u[2].Ka))}if(u[3]){C.add.TySh.A=u[3].clone();e6.jN(C.add.TySh)}if(u[4]){C.add.SoLd=JSON.parse(JSON.stringify(u[4]))}if(u[5]){var k=C.ws(Z).v;
k.channel=u[5].channel.slice(0);k.rect=u[5].rect.clone()}if(u[6]){C.add.lmfx=JSON.parse(u[6])}if(u[7]){C.channel=u[7].channel.slice(0);
C.rect=u[7].rect.clone();C.ZZ=!0}if(0<=B){C.T3(Z);C.G()}}Z.G()};g.Q.l_=function(Z){var m=Z.clone(),S=Math.atan2(-m.S,m.AQ),B=new ht;
B.rotate(-S);m.concat(B);return(Math.abs(m.AQ)+Math.abs(m.uw))/2};g.Q.j0=function(Z,m,S,B,C,u,r,k,v,e){if(typeof u[0]=="number"){var j=[];
for(var q=0;q<S.length;q++)j[q]=u;u=j}for(var q=0;q<S.length;q++){var $=u[q],U=l.N.aY($),H=g.Q.l_(U),z=S[q],f=0<=z?Z.g[z]:-1e3<z?Z.px[-1-z]:Z.Xz[-1e3-z],D=B[q];
if(f.add.lmfx&&k)aK.SC(f.add.lmfx,H);if(D[0]&&!D[3]&&!D[4]&&!D[5]){var n=D[0].BS;if(v){var L=v.clone(),a=l.U(L.Z()*4);
l.pY(n[0],n[1],a,L);n=[a,L]}var F=g.Q.tR(n,C,$,r,C==0?f.buffer.buffer:null,null,null,e);if(F){f.rect=F.rect;
f.buffer=F.buffer}}if(D[1]){var A=f.sd();g.Q.rm(Z,D[1],A,C,$,r);if(v){var L=f.rect.o9(v),T=l.U(L.Z());
l.Ju(A.channel,A.rect,T,L);A.channel=T;A.rect=L}}if(D[2]){var P=r&&!l.BF.xB(r),Y=D[2].kH.clone(),Q=S.length==1&&Y._.length!=0,o=S.length==1&&Y.N2.length>1;
if(o)Q=!1;var I=Q?Y._:null,c=o?Y.N2:null;if(P){var y=l.BF.f8(r);l.N.A($,y);l.q.ajL(Y.u,y,I,c)}else l.q.ag6(Y.u,$,I,c);
if(f.add.vstk&&k){f.add.vstk.strokeStyleLineWidth.v.val=D[2].Rw.strokeStyleLineWidth.v.val*H;var i=D[2].aI;
if(i&&i.lE==3){i=JSON.parse(JSON.stringify(i));var d=i.aI.phase.v;i.aI.Scl.v.val=Math.round(i.aI.Scl.v.val*H);
d.Hrzn.v=Math.round(d.Hrzn.v*H);d.Vrtc.v=Math.round(d.Vrtc.v*H);g.X$._t(f,i)}}if(f.add.vogk){f.add.vogk=JSON.parse(JSON.stringify(D[2].Ka));
if(P||o)l.Ka.aka(f.add.vogk);else l.Ka.A(f.add.vogk,$,S.length>1?[]:Y._,k)}Y.hC*=H;f.add.vmsk=Y;if(f.add.vogk)l.Ka.oY(f.add.vogk,f.add.vmsk)}if(D[3]){var V=D[3].clone();
V.concat(U);f.add.TySh.A=V;e6.jN(f.add.TySh);var R=new jN(f.add.TySh.e7,m.Pl),G=d7.fs(R,f.add.TySh);
f.rect=G.pe;f.buffer=G.MW}if(D[4]){var M=f.add.SoLd,O=g.Q.wG(D[4].nonAffineTransform);l.N.A($,O);var K=l.H.pa(O);
if(j8.pw(O)){if(r){var W=l.H.su(l.BF.f8(D[4].warp.v)),T=l.N.Eh(O,W),t=l.H.su(l.BF.f8(r));O=[t.x,t.y,t.x+t.e,t.y,t.x+t.e,t.y+t.n,t.x,t.y+t.n];
l.N.A(T,O);M.warp.v=r}var X=l.N.Eh(O),h=O;if(!l.N.lG(X)){X[6]=X[7]=0;h=[0,0,1,0,1,1,0,1];l.N.A(X,h)}M.Trnf=g.Q.T5(h);
M.nonAffineTransform=g.Q.T5(O);if(M.filterFX)M.filterFX=JSON.parse(JSON.stringify(D[4].filterFX));g.Q.CG(M,U);
f.l8(Z,C==0)}}if(D[5])g.Q.rm(Z,D[5],f.ws(Z).v,C,$,r);if(D[7])g.Q.rm(Z,D[7],f,C,$,r);if(0<=z){if(C!=0)f.t6();
f.T3(Z);f.G()}}Z.G()};g.Q.zr=function(Z,m,S,B,C,u){if(S==null)S=!1;return g.Q.tR(Z,S?0:1,l.N.No(m),null,B,C,u,S)};
g.Q.tR=function(Z,m,S,B,C,u,r,k){if(k==null)k=!1;if(k&&r)throw"e";var v={},U=0,H=.3;if(B&&!l.BF.xB(B)){var e=l.BF.f8(B);
l.N.A(S,e);v.rect=l.H.pa(e);v.buffer=l.U(v.rect.Z()*4);l.oI.drawImage(e,Z[0],Z[1].e,Z[1].n,v.buffer,v.rect,m==0);
return v}l.io(Z);var j=Z[0],$=Z[1],z=$.Z()*g.Q.l_(l.N.aY(S));if(k&&z>4e6)H=z>8e6?2.2:1.2;while(U+3<Z.length&&Z[U+3].Z()>16&&l.N.lG(S)&&g.Q.l_(l.N.aY(S))<H){U+=2;
var f=Z[U],D=Z[U+1],n=$.e/D.e,L=$.n/D.n;S=l.N.n_(S,[1,0,$.x,0,1,$.y,0,0]);S=l.N.n_(S,[n,0,0,0,L,0,0,0]);
S=l.N.n_(S,[1,0,-$.x,0,1,-$.y,0,0]);$=D;j=f}var a=l.N.n_(S,l.N.No(new ht($.e,0,0,$.n,$.x,$.y))),F=[0,0,1,0,1,1,0,1];
l.N.A(a,F);v.rect=l.H.pa(F);if(r)v.rect=v.rect.o9(r);if(k){while((v.rect.e&3)!=0)v.rect.e++;while((v.rect.n&3)!=0)v.rect.n++}if(!j8.pw(F)||v.rect.e>1e5||v.rect.n>1e5||v.rect.Z()>3e4*3e4)return null;
var A=v.rect.Z()*4;if(C&&C.byteLength>=A&&A>=C.byteLength>>2){v.buffer=new Uint8Array(C)}else{v.buffer=l.U(A)}l.N.drawImage(a,j,$.e,$.n,v.buffer,v.rect,m==0,u,k);
if(m==2&&v.buffer){var T=v.rect.e,P=v.rect.n,Y;Y=[0,-1,0,-1,16,-1,0,-1,0];Y=l.Jc.lz(Y);var Q=v.buffer.slice(0);
l.Jc.$d(Q,v.buffer,T,P,Y,255,!1,!0)}if(v.buffer)return v};g.Q.rm=function(Z,m,S,B,C,u){if(m.color==255)l.Yy(m.channel);
var r=m.rect,k=l.U(r.Z()*4);l.cN(m.channel,k,3);var v=g.Q.tR([k,r],B,C,u);if(v){S.rect=v.rect;S.channel=l.U(v.rect.Z());
l.NK(v.buffer,S.channel,3);S.ZZ=!0}if(m.color==255){l.Yy(m.channel);if(v)l.Yy(S.channel)}};g.Q.CG=function(Z,m){var S=Z.filterFX;
if(S)S=S.v.filterFXList;if(S)S=S.v;if(S)for(var B=0;B<S.length;B++){var C=S[B].v.Fltr;if(C==null||C.v.classID!="rigidTransform")continue;
C=C.v;console.log(C);var u=[];for(var r=0;r<4;r++)u.push(C["PuX"+r].v,C["PuY"+r].v);l.H.A(u,m,u);for(var r=0;
r<4;r++){C["PuX"+r].v=u[r*2];C["PuY"+r].v=u[r*2+1]}var k=["PinP","posFinalPins"],v=["originalVertexArray","deformedVertexArray"],e=C.puppetShapeList.v;
for(var j=0;j<e.length;j++){var $=e[j].v;for(var U=0;U<k.length;U++){var H=g.Q.wG($[k[U]]);l.H.A(H,m,H);
$[k[U]]=g.Q.T5(H);var z=new Uint8Array($[v[U]].v),f=new Float32Array(z.buffer);l.H.A(f,m,f);var D=[];
for(var n=0;n<z.length;n++)D[n]=z[n];$[v[U]].v=D}}}};g.Q.wG=function(Z){var m=[],S=Z.v.length;for(var q=0;
q<S;q++)m.push(Z.v[q].v);return m};g.Q.T5=function(Z){var m={t:"VlLs",v:[]},S=Z.length;for(var q=0;q<S;
q++)m.v.push({t:"doub",v:Z[q]});return m};g.Q.prototype.aoE=function(){var Z=l.H.su(l.BF.f8(this.Aw.u$())),m=l.N.Eh(this.wE.uo(),this.nM),S=[Z.x,Z.y,Z.x+Z.e,Z.y,Z.x+Z.e,Z.y+Z.n,Z.x,Z.y+Z.n];
l.N.A(m,S);this.wE.Cj(S);this.nM=Z};g.Q.prototype.Rf=function(Z,m,S,B){var C=l.N.Eh(this.wE.uo(),this.nM);
C=l.N.n_(C,l.N.Yy(this.L$));var u=this.Aw?this.Aw.u$():null;if(this.Je==0){var r=this.ZW=l.N.aY(C);if(this.id==g.yj){var k=this.iz[0][0],v=k.BS,e=v[1],j=~~(e.e*Math.max(0,r.AQ)),$=~~(e.n*Math.max(0,r.uw)),U=new bq(Math.round(r.AQ*e.x+r.s9),Math.round(r.uw*e.y+r.ku),j,$),H=l.Yu.A(this.oy,U),z=Z.g[this.g[0]];
z.buffer=H;z.rect=U;z.G();Z.G()}else g.Q.j0(Z,m,this.g,this.iz,S,C,u,null,null,B)}else if(this.Je==1){var f=Z.g[this.g[0]],e=this.f0.pe;
if(f.E_<=0){var D=this.f0.aP,n=this.s6,L=null;if(u&&!l.BF.xB(u)&&!n.rect.Qu(e)){var H=l.U(n.rect.Z()*4);
l.pY(D,e,H,n.rect);D=H;e=n.rect}if(this.id==g.yj){var r=this.ZW=l.N.aY(C),j=~~(e.e*Math.max(0,r.AQ)),$=~~(e.n*Math.max(0,r.uw)),U=new bq(Math.round(r.AQ*e.x+r.s9),Math.round(r.uw*e.y+r.ku),j,$),H=l.Yu.A(this.oy,U);
L={buffer:H,rect:U}}else L=g.Q.tR([D,e],S,C,u);if(L){f.rl.Di=L.buffer;f.rl.cr=L.rect;var a=l.U(L.rect.Z());
l.NK(f.rl.Di,a,3);Z.$={channel:a,rect:f.rl.cr.clone()}}}else{var F=l.U(e.Z()*4);l.cN(this.f0.aP,F,3);
var L=g.Q.tR([F,e],S,C,u);if(L){f.rl.Di=l.U(L.rect.Z());l.NK(L.buffer,f.rl.Di,3);f.rl.cr=L.rect}this.TD(Z,S,C,u)}f.vj(Z,0,0,Z.$);
if(S!=0){f.t6();l.t6(Z.$)}Z.DW=!0;Z.G()}else if(this.Je==2)this.TD(Z,S,C,u)};g.Q.prototype.TD=function(Z,m,S,B){var C=this.s6.rect,u=l.U(C.Z()*4);
l.cN(this.s6.channel,u,3);var r=g.Q.tR([u,C],m,S,B),k=l.U(r.rect.Z());l.NK(r.buffer,k,3);Z.$={channel:k,rect:r.rect};
Z.DW=!0};g.Q.prototype.disable=function(Z,m,S,B){if(this.wE)this.ER(Z,m,null,!0)};g.OZ=function(){g.Q.call(this,[10,16],g.zp,"tools/transform")};
g.OZ.prototype=new g.Q;g.bA=function(){g.Q.call(this,[7,10],g.Zz,"tools/transform")};g.bA.prototype=new g.Q;
g.Zm=function(){g.Q.call(this,[10,48],g.yj,"tools/transform")};g.Zm.prototype=new g.Q;g.ex=function(Z,m,S){g.cd.call(this,[10,46],g.CZ,"tools/transform");
this.X5=[1,1,2,!0];this.wm="rigidTransform";this.u3=null;this.aoU=null;this.Ht=null;this.XQ=null;this.Cd=null;
this.fN=null;this.DO=[]};g.ex.prototype=new g.cd;g.ex.prototype.nE=function(){return!0};g.ex.PX=function(Z){if(Z==null)return!1;
if(Z._.length!=1)return!1;var m=Z.g[Z._[0]];return m.add.SoLd||Z.t9(!1)};g.ex.prototype.Cu=function(Z,m){return g.ex.PX(Z)};
g.ex.prototype.enable=function(Z,m,S,B,C,u,r){this.aoU=u.l7;var k=u.l7,v,f=null;if(k){var e=Z.g[k.i];
if(e.add.SoLd.filterFX!=null){var j=e.add.SoLd.filterFX.v.filterFXList.v;if(j[k.index])v=JSON.parse(JSON.stringify(j[k.index].v.Fltr.v))}}var $=v==null,e=Z.g[Z._[0]],U=e.buffer,H=e.rect,z=e.add.SoLd;
if(z){var D=z.nonAffineTransform.v;f=[];for(var q=0;q<4;q++)f.push(D[q*2].v,D[q*2+1].v);if($)this.UD("edit",m);
var n=e.ws(Z);U=n.buffer;H=n.rect}this.u3={buffer:U.slice(0),rect:H.clone(),a9$:f};if($)v=g.ex.s0(this.u3,this.X5);
this.Ht=v;this.XQ=g.ex.G_(this.Ht,this.X5);this.mQ();this.v7(Z);if($)this.Hk(m);var L=new eY(_.E.W,!0);
L.data={d:_.B.lL,b:this.id,Lh:this.X5};m.c(L);L.data={d:_.B.tC,l4:"default"};m.c(L)};g.ex.prototype.disable=function(Z,m,S,B){if(this.XQ)this.ER(Z,m,!0)};
g.ex.prototype.mQ=function(Z){var m=this.XQ;this.DO=[];for(var q=0;q<m.length;q++){var S=m[q];for(var B=0;
B<S._.length;B++)this.DO.push([q,S._[q]]);S.ad=l.Ay.Ul(S);if(Z)l.Ay.NS(S)}};g.ex.prototype._F=function(Z,m,S,B){if(Z.BT=="commit")this.ER(S,m,!0);
else if(Z.BT=="cancel")this.Tj(S,m,!0);else if(Z.BT=="prm"){var C=!1;for(var q=0;q<3;q++)if(this.X5[q]!=Z.Lh[q])C=!0;
this.X5=Z.Lh;if(C){this.Ht=g.ex.s0(this.u3,this.X5,this.Ht);this.XQ=g.ex.G_(this.Ht,this.X5);this.mQ(!0);
this.Hk(m)}this.v7(S)}else if(Z.BT=="moveDepth"){var u=this.XQ;for(var r=0;r<u.length;r++){var k=u[r];
for(var q=0;q<k._.length;q++){var v=k._[q];k.YB[v]+=Z.ai_?1:-1}}this.Hk(m)}};g.ex.prototype.ar=function(Z,m){return Z==iZ.bK||Z==iZ.cE};
g.ex.prototype._s=function(Z,m,S,B){var C=B.Wr();if(B.j(iZ.Z6))this.ER(Z,m,!0);else if(B.j(iZ.xU))this.Tj(Z,m,!0);
else if(B.j(iZ.bK)||B.j(iZ.cE)){var u=this.XQ;for(var r=0;r<u.length;r++){var k=u[r];k._.sort(function(j,$){return $-j});
for(var q=0;q<k._.length;q++){var v=k._[q],e=v*2;k.YB.splice(v,1);k.tW.splice(v,1);k.JJ.splice(v,1);
k.bn.splice(v,1);k.hG.splice(e,2);k.ta.splice(e,2)}k._=[];if(k.bn.length==0){k.$B=k.lt.slice(0);k.pm=k.lt.slice(0)}}this.mQ(!0);
this.Hk(m);this.v7(Z)}else if(C.x!=0||C.y!=0){this.q7(Z,C.x,C.y,m);this.iD=null}};g.ex.prototype.ER=function(Z,m,S){this.UD("confirm",m);
this.escape(Z,m,S)};g.ex.prototype.Tj=function(Z,m,S){this.UD("cancel",m);this.escape(Z,m,S)};g.ex.prototype.escape=function(Z,m,S){Z.D.pC=null;
Z.D.bm=[];Z.tV=!0;this.XQ=null;var B=new eY(_.E.W,!0);B.data={d:_.B.yS};if(S)m.c(B)};g.ex.prototype.kV=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y),r=u.x,k=u.y,v=this.XQ,e=null,j=[0,2,4,1.2,1.2,1.2],$=-1,U=g.MH(Z,C);
for(var q=0;q<v.length;q++){var H=v[q],z=l.H.Ox(H.ta,r,k,U);if(z!=-1)e=[q,z];if($==-1&&l.Ay.eW.al$(H.pm,H.E2,r,k))$=q}if(e==null&&$!=-1){var H=v[$];
g.ex.OR(H,r,k,r,k,0);e=[$,H.bn.length-1];H.ad=l.Ay.Ul(H)}this.Cd=u;if(e){var f=v[e[0]]._.indexOf(e[1])!=-1;
if(B.j(iZ.nQ)&&!f){v[e[0]]._.push(e[1]);this.DO.push(e)}else if(!f){v[e[0]]._=[e[1]];this.DO=[e]}}this.v7(Z)};
g.ex.OR=function(Z,m,S,B,C,u){var r=l.H.Ox(Z.pm,m,S);Z.bn.push(r);Z.ta.push(B,C);Z.hG.push(Z.pm[r*2]-m,Z.pm[r*2+1]-S);
Z.JJ.push(0);Z.tW.push(!1);Z.YB.push(u)};g.ex.prototype.hJ=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y),r=this.Cd;
if(r)this.q7(Z,u.x-r.x,u.y-r.y,m)};g.ex.prototype.q7=function(Z,m,S,B){var C={},u=this.DO,r=this.XQ;
if(this.iD==null){this.iD=[];for(var q=0;q<r.length;q++)this.iD.push(r[q].ta.slice(0))}for(var q=0;q<u.length;
q++){var k=this.DO[q],v=k[0],e=r[k[0]],j=k[1]*2;e.ta[j+0]=this.iD[v][j+0]+m;e.ta[j+1]=this.iD[v][j+1]+S;
C[v]=v}for(var v in C)l.Ay.NS(this.XQ[C[v]]);this.v7(Z);this.Hk(B)};g.ex.prototype.UD=function(Z,m){var S=new eY(_.E.Y,!0);
S.b=g.Ny;S.data={d:Z,l7:this.aoU,wm:this.wm,jA:this.Ht};m.c(S)};g.ex.prototype.qB=function(Z,m,S,B,C){this.Cd=null;
this.iD=null};g.ex.prototype.Hk=function(Z){g.ex.gC(this.XQ,this.X5,this.Ht);this.UD("edit",Z)};g.ex.prototype.v7=function(Z){var m=this.XQ,S=this.Ht;
Z.D.pC={t:[],C:[]};Z.D.bm=[];Z.D.Dn=[];for(var q=0;q<m.length;q++){var B=m[q];for(var C=0;C<B._.length;
C++)Z.D.Dn.push((Z.D.bm.length>>>1)+B._[C]);Z.D.bm=Z.D.bm.concat(B.ta);if(this.X5[3])l.H.concat(Z.D.pC,l.H.abm(B.pm,B.E2))}Z.tV=!0};
g.ex.s0=function(Z,m,S){var B=Z.buffer,C=Z.rect,u=Z.a9$,r=bS.ej("rigidTransform");if(u)for(var q=0;q<4;
q++){r["PuX"+q].v=u[q*2];r["PuY"+q].v=u[q*2+1]}var k=r.puppetShapeList.v,v=l.Ay.a3X(B,C.e,C.n,m[1],m[2]),e=[];
for(var j=0;j<v.length;j++){var $={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
$.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var U=v[j];k.push({t:"Objc",v:$});var H=U.lt.slice(0);l.H.A(H,new ht(1,0,0,1,C.x,C.y),H);var z=U.E2;
for(var q=0;q<z.length;q+=3){var f=z[q+1];z[q+1]=z[q+2];z[q+2]=f}e.push({E2:z,lt:H,$B:H,pm:H,bn:[],hG:[],ta:[],ad:null,_:[],JJ:[],tW:[],YB:[]})}if(S){var D=g.ex.G_(S,[]),n=e[0];
for(var q=0;q<D.length;q++){var L=D[q];for(var a=0;a<L._.length;a++)n._.push((n.ta.length>>>1)+L._[a]);
for(var a=0;a<L.bn.length;a++){var F=L.bn[a]*2,A=L.lt[F]-L.hG[a*2],T=L.lt[F+1]-L.hG[a*2+1];g.ex.OR(n,A,T,L.ta[a*2],L.ta[a*2+1],L.YB[a])}}}g.ex.gC(e,m,r);
return r};g.ex.G_=function(Z,m){var S=g.Q.wG,B=Z.puppetShapeList.v,C=[];for(var u=0;u<B.length;u++){var r=B[u].v;
m[0]=r.meshRigidity.v-1;m[1]=r.meshQuality.v-1;m[2]=r.meshExpansion.v;var k=r.pinVertexIndices.v.length,v=r.meshBoundaryPath.v.pathComponents.v;
if(v.length!=0){var e=v[0].v.SbpL.v[0].v.Pts;e.v=[]}var j=new Uint32Array(new Uint8Array(r.indexArray.v).buffer),$=new Float32Array(new Uint8Array(r.originalVertexArray.v).buffer),U=new Float32Array(new Uint8Array(r.deformedVertexArray.v).buffer),H=[],z=[],f=[];
for(var q=0;q<j.length;q++)H.push(j[q]);for(var q=0;q<$.length;q++){z.push($[q]);f.push(U[q])}var D=S(r.pinVertexIndices),n=S(r.pinOffsets),L=S(r.posFinalPins),a=S(r.PnRt),F=S(r.PnOv),A=S(r.PnDp),T=S(r.selectedPin);
C.push({E2:H,lt:z,$B:f.slice(0),pm:f,bn:D,hG:n,ta:L,ad:null,JJ:a,tW:F,YB:A,_:T})}return C};g.ex.gC=function(Z,m,S){function B(U,H){var z=[];
for(var q=0;q<U.length;q++)z.push({t:H,v:U[q]});return z}function C(U,H,z){var f=new(z?Uint32Array:Float32Array)(U),D=new Uint8Array(f.buffer);
for(var q=0;q<D.length;q++)H[q]=D[q]}var u=S.puppetShapeList.v;for(var r=0;r<u.length;r++){var k=Z[r],v=u[r].v;
v.meshRigidity.v=m[0]+1;v.meshQuality.v=m[1]+1;v.meshExpansion.v=m[2];C(k.E2,v.indexArray.v,!0);C(k.lt,v.originalVertexArray.v);
C(k.pm,v.deformedVertexArray.v);var e=[];for(var q=0;q<k.bn.length;q++){var j=k.bn[q]*2,$=q*2;e[$]=k.lt[j]-k.hG[$];
e[$+1]=k.lt[j+1]-k.hG[$+1]}v.PinP.v=B(e,"doub");v.pinVertexIndices.v=B(k.bn,"long");v.pinOffsets.v=B(k.hG,"doub");
v.posFinalPins.v=B(k.ta,"doub");v.PnRt.v=B(k.JJ,"long");v.PnOv.v=B(k.tW,"bool");v.PnDp.v=B(k.YB,"doub");
v.selectedPin.v=B(k._,"long")}};g.UX=function(Z,m,S){g.cd.call(this,Z?Z:[10,40],m?m:g.dD,S?S:"tools/slice");
this.Rt=null;this.CF=null;this.Q$=null;this.aff=null;this._Q=null;this.JA=null};g.UX.prototype=new g.cd;
g.UX.vS=function(Z,m){var S=-1;for(var q=0;q<Z.length;q++){var B=g.UX.z_(Z,q);if(B[0]<=m.x&&m.x<=B[2]&&B[1]<=m.y&&m.y<=B[3]){S=q;
break}}return S};g.UX.prototype.W2=function(Z,m,S,B,C){if(S==null)return;this.ck(S);if(Z.d=="fromAction"){var u=S.dM(),r=S.Ys(),k=r==-1?new bq(0,0,S.e,S.n):S.g[r].u1(),v=[k.x,k.x+k.e],e=[k.y,k.y+k.n];
for(var q=0;q<u[0].length;q++){var j=u[0][q],$=Math.round(j[1]),U=u[1][q];if(U!=-1&&U!=r)continue;if(j[0]==0&&v.indexOf($)==-1)v.push($);
if(j[0]==1&&e.indexOf($)==-1)e.push($)}v.sort(function(P,Y){return P-Y});e.sort(function(P,Y){return P-Y});
for(var H=1;H<e.length;H++)for(var z=1;z<v.length;z++){S.Wv.push(g.UX.yq());g.UX.um(S.Wv,S.Wv.length-1,[v[z-1],e[H-1],v[z],e[H]]);
S.tV=!0}}else if(Z.d=="reorder"){if(S.$y.length==0)return;var f=S.Wv,D=S.$y;D.sort(function(P,Y){return P-Y});
console.log(D);var n=f.slice(0),L=[],a=[];for(var q=0;q<D.length;q++){var F=D[q],A=f[F];a.push(A);n.splice(n.indexOf(A),1)}var T=Math.max(0,Math.min(n.length,D[0]-Z.dir));
for(var q=0;q<a.length;q++){n.splice(T+q,0,a[q]);L.push(T+q)}S.Wv=n;S.$y=L}else if(Z.d=="delete"){var f=S.Wv.slice(0);
for(var q=0;q<S.$y.length;q++)S.Wv.splice(S.Wv.indexOf(f[S.$y[q]]),1);S.$y=[]}else if(Z.d=="deleteAll"){S.Wv=[];
S.$y=[]}else{S.Wv[S.$y[0]].v=Z;S.tV=!0}this.ce(S)};g.UX.prototype.enable=function(Z,m,S,B,C,u){g.cd.prototype.enable.call(this,Z,m,S,B,C,u);
if(!S.Zd.Wv){var r=new eY(_.E.W,!0);r.data={d:_.B.L8,Lh:bo.JK};m.c(r)}};g.UX.prototype.disable=function(){this.Rt=null;
this.CF=null};g.UX.prototype.L0=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y),r=g.UX.vS(Z.Wv,u);if(r==-1)return;
this.Rt=Z;this.CF=m;Z.$y=[r];Z.tV=!0;if(this.JA==null){this.JA=new am([{name:[5,4]},{name:[8,11,1],On:!0}]);
this.JA.h("select",this.H5,this)}var k=this.JA;k.parent=m;k.w();k.update(Z,S);var v=new eY(_.E.W,!0);
v.data={d:_.B.HM,Xg:k,x:C.PA+2,y:C.ec+1};m.c(v)};g.UX.prototype.H5=function(Z){var m=this.JA.jr()[0],S=this.Rt;
if(m==0){this.ck(S);S.Wv.splice(S.$y[0],1);S.$y=[];S.tV=!0;this.ce(S)}if(m==1){var B=new eY(_.E.W,!0);
B.data={d:_.B.Me,ct:"soptions",k:S.Wv[S.$y[0]].v};this.CF.c(B)}};g.UX.prototype.kV=function(Z,m,S,B,C){if(Z==null)return;
this.ck(Z);var u=Z.s.tr(C.x,C.y);u=g.ho._E(Z,u,S,[!0,null,!1]);u.x=Math.round(u.x);u.y=Math.round(u.y);
this._Q=u;Z.Wv.unshift(g.UX.yq());Z.$y=[0];g.UX.um(Z.Wv,0,[u.x,u.y,u.x+20,u.y+20]);Z.tV=!0};g.UX.prototype.hJ=function(Z,m,S,B,C){if(this.Q$==null)return;
var u=Z.s.tr(C.x,C.y),r=this._Q;u=g.ho._E(Z,u,S,[!0,null,!1]);u.x=Math.round(u.x);u.y=Math.round(u.y);
var k=[r.x,r.y,u.x,u.y];g.UX.wr(k);g.UX.um(Z.Wv,0,k);Z.tV=!0};g.UX.prototype.qB=function(Z,m,S,B,C){this.ce(Z);
this._Q=null};g.UX.prototype.ck=function(Z){this.Q$=JSON.stringify(Z.Wv);this.aff=JSON.stringify(Z.$y)};
g.UX.prototype.ce=function(Z){var m=JSON.stringify(Z.Wv);if(m!=this.Q$){var S=new h8(this.name,this);
S.data={f0:this.Q$,zY:m,aax:this.aff,a7r:JSON.stringify(Z.$y)};Z.oF(S)}this.Q$=null};g.UX.prototype.Jm=function(Z,m){m.Wv=JSON.parse(Z.f0);
m.$y=JSON.parse(Z.aax);m.tV=!0};g.UX.prototype.gE=function(Z,m){m.Wv=JSON.parse(Z.zY);m.$y=JSON.parse(Z.a7r);
m.tV=!0};g.UX.prototype.ar=function(Z,m){return m!=null&&m.$y.length!=0&&(Z==iZ.bK||Z==iZ.cE)};g.UX.prototype._s=function(Z,m,S,B){if(Z==null)return;
if(B.j(iZ.bK)||B.j(iZ.cE))this.W2({d:"delete"},m,Z,B,S);var C=B.Wr();if(C.x!=0||C.y!=0){this.ck(Z);g.UX.kQ(Z,C);
this.ce(Z)}};g.UX.prototype._F=function(Z,m,S,B,C){};g.UX.a6T=function(Z,m,S,B){var C=new aS(-m.x,-m.y),u=m.e/S.e,r=m.n/S.n,k=[0,0,m.e,m.n];
for(var q=0;q<Z.length;q++){var v=g.UX.z_(Z,q);if(B){v[0]=Math.round(v[0]*u);v[1]=Math.round(v[1]*r);
v[2]=Math.round(v[2]*u);v[3]=Math.round(v[3]*r)}else{g.UX.iH(v,C);g.UX.a5z(v,k)}if(v[0]>=v[2]||v[1]>=v[3]){Z.splice(q,1);
q--;continue}g.UX.um(Z,q,v)}};g.UX.kQ=function(Z,m){var S=Z.Wv;for(var q=0;q<Z.$y.length;q++){var B=g.UX.z_(S,Z.$y[q]);
g.UX.iH(B,m);g.UX.um(S,Z.$y[q],B)}};g.UX.a5z=function(Z,m){if(Z[0]<m[0])Z[0]=m[0];if(Z[1]<m[1])Z[1]=m[1];
if(m[2]<Z[2])Z[2]=m[2];if(m[3]<Z[3])Z[3]=m[3]};g.UX.iH=function(Z,m){Z[0]=Math.round(Z[0]+m.x);Z[2]=Math.round(Z[2]+m.x);
Z[1]=Math.round(Z[1]+m.y);Z[3]=Math.round(Z[3]+m.y)};g.UX.um=function(Z,q,m){var S=Z[q].v.bounds.v;S.Left.v=m[0];
S.Top.v=m[1];S.Rght.v=m[2];S.Btom.v=m[3]};g.UX.z_=function(Z,q){var m=Z[q].v.bounds.v;return[m.Left.v,m.Top.v,m.Rght.v,m.Btom.v,q]};
g.UX.wr=function(Z){if(Z[2]<Z[0]){var m=Z[0];Z[0]=Z[2];Z[2]=m}if(Z[2]==Z[0])Z[2]++;if(Z[3]<Z[1]){var m=Z[1];
Z[1]=Z[3];Z[3]=m}if(Z[3]==Z[1])Z[3]++};g.UX.su=function(Z,m){var S=1e9,B=-1e9,C=1e9,u=-1e9;for(var q=0;
q<m.length;q++){var r=g.UX.z_(Z,m[q]);S=Math.min(S,r[0]);C=Math.min(C,r[1]);B=Math.max(B,r[2]);u=Math.max(u,r[3])}return[S,C,B,u]};
g.UX.yq=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
g.pO=function(){g.UX.call(this,[10,41],g.AE,"tools/sselect");this._Q=null;this.Xc=null;this.S3=null;
this.fN=null;this.Bb=!1};g.pO.prototype=new g.UX;g.pO.prototype.kV=function(Z,m,S,B,C){if(Z==null)return;
var u=Z.s.tr(C.x,C.y),r=g.pO.Z4(u,4/Z.s.R,Z.Wv,Z.$y);r.pop();if(r.length!=0){this._Q=u;this.S3=r;this.ck(Z);
return}var k=Z.Wv,v=g.UX.vS(k,u);if(v==-1)Z.$y=[];else{var e=Z.$y.indexOf(v);if(B.j(iZ.nQ)){if(e==-1)Z.$y.push(v);
else Z.$y.splice(e,1)}else{Z.$y.sort(function(f,D){return f-D});if(e==-1)Z.$y=[v];this._Q=u;this.ck(Z);
this.Xc=g.UX.su(k,Z.$y);this.fN=[];for(var q=0;q<Z.$y.length;q++)this.fN.push(g.UX.z_(k,Z.$y[q]));if(B.j(iZ.__)){var j=k.slice(0),$=Z.$y,U=[];
for(var q=0;q<$.length;q++){var v=$[q],H=j[v],z=k.indexOf(H);U.push(z);k.splice(z,0,JSON.parse(JSON.stringify(H)))}Z.$y=U}}}Z.tV=!0};
g.pO.prototype.hJ=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y);if(this._Q==null){var r=g.pO.Z4(u,4/Z.s.R,Z.Wv,Z.$y),k=r.pop(),v=r.length==0?"default":["ew","nwse","ns","nesw"][k]+"-resize",e=new eY(_.E.W,!0);
e.data={d:_.B.tC,l4:v};m.c(e);return}if(!this.Bb&&u.Qu(this._Q))return;this.Bb=!0;var j=Z.Wv,r=this.S3;
if(r){u=g.ho._E(Z,u,S,[!0,null,!1]);var $=Math.round(u.x),U=Math.round(u.y);for(var q=0;q<r.length;q+=2){var H=g.UX.z_(j,r[q]),z=r[q+1];
H[z]=(z&1)==0?$:U;g.UX.wr(H);g.UX.um(j,r[q],H)}}else{var f=u.Vf(this._Q),D=this.Xc.slice(0);g.UX.iH(D,f);
var n=new bq(D[0],D[1],D[2]-D[0],D[3]-D[1]),L=g.ho.Dt(Z,n,S,[!0,null,!1],!0);g.ho.QY(Z,n,L);f.x+=L[0];
f.y+=L[1];for(var q=0;q<Z.$y.length;q++)g.UX.um(j,Z.$y[q],this.fN[q]);g.UX.kQ(Z,f)}Z.tV=!0};g.pO.prototype.qB=function(Z,m,S,B,C){if(this._Q==null)return;
this.ce(Z);Z.D.D4=null;Z.tV=!0;this._Q=null;this.S3=null;this.fN=null;this.Bb=!1};g.pO.Z4=function(Z,m,S,B){var C=Z.x,u=Z.y,r=[],k=-1,v=[];
for(var q=0;q<B.length;q++){var e=B[q],j=g.UX.z_(S,e),$=j[0],U=j[1],H=j[2],z=j[3];if(C<$-m||H+m<C||u<U-m||z+m<u)continue;
var f=[C<$+m,u<U+m,H-m<C,z-m<u],D=-1;for(var n=0;n<4;n++){if(f[n]&&f[n+1&3])D=1+2*(n&1);if(f[n])r.push(e,n)}if(D==-1){if(f[0]||f[2])D=0;
if(f[1]||f[3])D=2}if(D!=-1){k=D;v.push(e)}}var L=r.length;for(var q=0;q<L;q+=2){var e=r[q],a=r[q+1],A=g.UX.z_(S,e)[a];
for(var n=0;n<B.length;n++){var T=B[n];if(v.indexOf(T)!=-1)continue;var j=g.UX.z_(S,T);if(j[a&1]==A)r.push(T,a&1);
if(j[2+(a&1)]==A)r.push(T,2+(a&1))}}r.push(k);return r};g.HW=function(){g.nJ.call(this,[10,44],g.amc,"tools/oselect");
this._b="crosshair";this.a8$=0};g.HW.prototype=new g.nJ;g.HW.prototype.y6=function(Z,m,S,B){if(Math.random()<1/(1+this.a8$)){alert("The cross should be fully inside the object.",3500);
this.a8$++}};g.HW.prototype.hI=function(Z,m,S,B){g.nS.FQ(Z,g.nJ.Iz,this.CF);if(!B.vs||!this.O3)return;
var C=this.Cp(Z,S,!1),u=C.e,r=C.n,k=C.x,v=C.y,e=C.x+u,j=C.y+r,$=k+u/2,U=v+r/2,H=g.HW.EX;Z.D.pC={t:[k,v,e,v,e,j,k,j,$-u*H,U,$+u*H,U,$,U-r*H,$,U+r*H],C:"M L L L Z M L M L".split(" ")};
Z.tV=!0};g.HW.EX=.12;g.HW.prototype.v4=function(Z,m,S,B){Z.D.pC=null;Z.tV=!0;this.finish(Z,m,S,B)};g.HW.prototype.getSelection=function(Z,m,S,B){if(this.oM.Qu(this.cl)||!this.O3)return null;
var C=this.Cp(Z,S,!1),u=Z.g[Z._[0]];if(C.Ov()||!C.df(u.rect))return null;return g.nJ.Tp("ObSl",C)};g.nS=function(){g.T1.call(this,[10,37],g.DC,"tools/qselect");
this.yM="qselect"};g.nS.prototype=new g.T1;g.nS.prototype.kV=function(Z,m,S,B,C){this.oE(Z,S,B,C,1);
if(this.Qk==null)return;this.Sf(Z)};g.nS.prototype.hJ=function(Z,m,S,B,C){this.fz(Z,m,S);g.nS.FQ(Z,g.nJ.Iz,m);
if(this.Xw)this.Ej(Z,S,C);if(this.Qk==null)return;if(!C.vs)return;var u=this.mz(Z,S,B,C);if(u!=1)this.Sf(Z)};
g.nS.FQ=function(Z,m,S){if(Z&&m.key!=g.nS.MD(Z)){m.key=g.nS.MD(Z);var B=Z.g[Z._[0]].rect.Z(),u="Image Analysis ...";
if(B==0)return;var C=B>1e6,r=new eY(_.E.W,!0);r.data={d:_.B.QU,mR:u};if(C)S.c(r);setTimeout(function(){var k=g.nS.Qv(Z);
for(var v in k)m[v]=k[v];var r=new eY(_.E.W,!0);r.data={d:_.B.MF,mR:u};if(C)S.c(r)},30)}};g.nS.MD=function(Z){var m=Z._[0],S=Z.g[m],B=S.rect,C=B.e,u=B.n,r=C*u,k=S.buffer;
return[m,B.x,B.y,C,u,k[0],k[1],k[2],k[3]].join(",")};g.nS.Qv=function(Z){var m=Z._[0],S=Z.g[m],B=S.rect,C=B.e,u=B.n,r=C*u,k=S.buffer,v=Date.now(),e=l.U(r);
e.fill(128);var j=l.Yh.ZR(k,C,u);console.log(Date.now()-v);var $={key:g.nS.MD(Z),RT:k,rect:B.clone(),OU:C,Vi:u,Lc:12,ap7:!1,H8:e,aC:j,$:l.U(r),dH:null,ts:null,Qs:null};
g.nS.K_($);return $};g.nS.K_=function(Z,m){var S=Z.OU,B=Z.Vi,C=0,u=0,r=Date.now(),k=Z.dH!=null&&l.Yh.aj7(Z.aC.E2,Z.dH.E2,Z.dH.D3,Z.H8);
C=Date.now()-r;r=Date.now();if(!k&&!Z.ap7){Z.dH=l.Yh.DZ(Z.aC,S,B,Z.H8,Z.Lc);if(!l.Yh.aj7(Z.aC.E2,Z.dH.E2,Z.dH.D3,Z.H8)){Z.ap7=!0;
console.log("conflict")}Z.ts=l.Yh.a55(Z.RT,S,B,Z.dH.E2,Z.dH.D3);Z.Qs=[Z.ts[0].slice(0),[]];u=Date.now()-r;
r=Date.now()}var r=Date.now();if(m){Z.Qs[0].set(Z.ts[0]);var v=Z.ts[1],e=Z.Qs[1];for(var j=0;j<v.length;
j++)e[j]=v[j].slice(0);l.Yh.a3N(Z.dH.E2,S,B,Z.dH.D3,Z.H8,Z.$,Z.Qs)}};g.VM=function(){g.cd.call(this,[10,50],g.h6,"tools/artb");
this.G0=null;this.aj4=!1;this.wE=null;this.I7=!1;this.aal=null;this.ME=100;this.YT=null;this.Sc=0};g.VM.prototype=new g.cd;
g.VM.prototype.W2=function(Z,m,S,B,C){this.uC(S,Z.a82,m,Z.PC)};g.VM.zC=function(Z,m){var S=Z[0],B=0,C=0;
if(S==0)C=-1;else if(S==1)B=1;else if(S==2)C=1;else B=-1;return[20/m.SO,Z[1]+B*60/m.SO,Z[2]+C*60/m.SO]};
g.VM.prototype._F=function(Z,m,S,B,C){this.G0=Z.Lh;this.Sc=Date.now()};g.VM.prototype.Ll=function(Z,m,S,B){if(S.th!=this.id)return;
if(Z==null||Z._.length!=1){this.lp(Z);return}var C=Z._[0],u=Z.g[C],r=u.add.artb;if(r==null){this.lp(Z);
return}if(this.I7)return;if(Date.now()-this.Sc>50){this.G0={};var k=["artboardBackgroundType","Clr"];
for(var q=0;q<k.length;q++)if(r[k[q]])this.G0[k[q]]=JSON.parse(JSON.stringify(r[k[q]]));var v=new eY(_.E.W,!0);
v.data={d:_.B.lL,b:this.id,xe:this.G0};m.c(v)}var e=u.u1(),j=l.H.ez(e).t,$=this.wE=new j8(j,!0,!1,!1,!0,!1,3,!1);
$.zj(Z,S,!1);var U={t:[1,0],C:["M"]};for(var q=1;q<30;q++){var H=Math.PI*2*q/30;U.t.push(Math.cos(H),Math.sin(H));
U.C.push("L")}U.C.push("Z","M","L","M","L");U.t.push(-.5,0,.5,0,0,-.5,0,.5);var z=e.x+e.e/2,f=e.y+e.n/2,D=this.ME*1.1,n=this.aal=[z,e.y,e.x+e.e,f,z,e.y+e.n,e.x,f],L=[0,-D,D,0,0,D,-D,0],a=Z.root.children;
Z.D.oA=[];for(var q=0;q<4;q++){var F=new aS(n[q*2]+L[q*2],n[q*2+1]+L[q*2+1]),A=!1;for(var T=0;T<a.length;
T++){var u=a[T].i;if(u.add.artb==null)continue;var e=u.u1();if(e.hV(F))A=!0}if(A){n[q*2]=1e9;continue}Z.D.oA.push([q,n[q*2],n[q*2+1]])}};
g.VM.prototype.disable=function(Z,m,S,B,C){this.lp(Z)};g.VM.prototype.lp=function(Z){if(this.wE){this.wE.clear(Z);
this.wE=null;Z.D.oA=null}};g.VM.prototype.kV=function(Z,m,S,B,C){this.Sc=Date.now();var u=Z.s.tr(C.x,C.y),r=this.wE;
if(r){var k=new eY(_.E.Y),v=r.afj(null,u,Z,C);if(v<9){this.I7=r.kV(Z,S,B,u,null,!0,C);return}else if(r.R3(u)){k.b=g.Ta;
k.data={d:"disabAuto"};m.c(k);var e=new eY(_.E.W);e.data={d:_.B.uv,b:g.Ta,a9v:!0};m.c(e);return}else{var j=-1,$=Z.D.oA;
for(var q=0;q<$.length;q++){var U=g.VM.zC($[q],Z.s);if(aS.qa(u,new aS(U[1],U[2]))<U[0])j=$[q][0]}if(j!=-1){var H=Z.g[Z._[0]].u1(),z=H.clone(),f=(j==0||j==2?H.n:H.e)+this.ME;
if(j==0||j==3)f=-f;if(j==0||j==2)H.y+=f;else H.x+=f;if(B.j(iZ.__)){var z=new bq(0,0,Z.e,Z.n);k.b=g.vJ;
k.data={d:w.lD};m.c(k);g.ho.Kf(Z,Z.fO(null,Z._[0],null,!0),null,H.x-z.x,H.y-z.y);var H=g.Gt.NT(Z);if(H){var D=Z.rX();
D.data.nM=z;D.data.mp=H}}else this.uC(Z,H,m);return}}}this.YT=g.ho._E(Z,u,S)};g.VM.prototype.uC=function(Z,m,S,B){if(B==null)B=0;
var C=Z.g.slice(0),u=[Z.g.length+1],r=Z.AB();r.Se("Artboard "+(Z.root.children.length+1));r.add.lsct=jf.AH;
r.Ea(m);if(this.G0){var k=r.add.artb,v=this.G0;for(var e in v)k[e]=v[e]}r.E4="pass";r.Kl=24;if(B==0){if(Z.add.artd||m.o9(new bq(0,0,Z.e,Z.n)).Ov())C.push(Z.iI());
else C.unshift(Z.iI())}else{var j=Z.fO();j.sort(function(f,D){return f-D});var $=g.dW.oL(Z,j,C.length-1,!1,null,!1),U=$.pop(),H=$.pop();
C=$.pop();C.splice(Z.g.length-j.length,0,Z.iI())}C.push(r);var z=new eY(_.E.Y);z.b=g.vJ;z.data={d:w.Wn,Gb:C,DA:u,fm:"New Artboard"};
S.c(z)};g.VM.prototype.hJ=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y),r=this.wE,k=this.YT;if(r){if(this.I7){r.hJ(Z,S,B,u)}else{var v=r.Zt(u,Z.s.R,null,C);
if(v==null)v="default";var e=new eY(_.E.W,!0);e.data={d:_.B.tC,l4:v};m.c(e)}}if(k){var j=this.z_(Z,u,B,S);
Z.D.pC=l.H.ez(j);Z.tV=!0;g.cd.gR(C,j,Z,S)}};g.VM.prototype.qB=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y),r=this.YT;
if(this.I7){this.wE.qB(Z,S,B,u);this.I7=!1;var k=l.H.pa(this.wE.uo()),v=w.ZL(k),e=Z.g[Z._[0]],j=JSON.parse(JSON.stringify(e.add.artb));
j.artboardRect.v=v;var $=new eY(_.E.Y,!0);$.b=g.vJ;$.data={d:w.NU,jp:j};m.c($)}if(r){var U=this.z_(Z,u,B,S);
if(U.Z()>20)this.uC(Z,U,m);Z.D.pC=null;Z.tV=!0;this.YT=null;Z.D.vC=[]}};g.VM.prototype.z_=function(Z,m,S,B){var C=this.YT,u=g.ho._E(Z,m,B),r=g.h_.C$(C,u,S,!0);
C=r[0];u=r[1];return l.H.pa([C.x,C.y,u.x,u.y])};function j8(Z,m,S,B,C,u,r,k){this.uI=null;this.Bp=Z?Z.slice(0):null;
this.uH=4;this.cl=null;this.ys=null;this.cA=null;this.UL=-1;this.JM=null;this.a8e=!1;this.amx=[];for(var q=0;
q<8;q++)this.amx.push(e2.auD(0,PIMG.rotate,-.5,-.5,-45-q*45));this.a70=m;this.adf=S;this.a3t=B;this.a0C=C;
this.Uk=u;this.PC=r;this.ai2=k==null?1:k}j8.prototype.c0=function(){return this.UL!=-1};j8.prototype.uo=function(){return this.Bp.slice(0)};
j8.prototype.Cj=function(Z){this.Bp=Z};j8.prototype.ajY=function(){return this.S8(this.Bp)};j8.prototype.aqr=function(){return this.uH};
j8.prototype.a5H=function(Z){this.uH=Z};j8.prototype.rd=function(Z){if(Z==null)Z=this.Bp;if(this.uH==9)return this.cl;
else return this.S8(Z)[this.uH]};j8.prototype.apo=function(Z){if(this.uH==9)this.cl=Z.clone();else{var m=this.rd(),S=new ht(1,0,0,1,Z.x-m.x,Z.y-m.y);
l.H.A(this.Bp,S,this.Bp)}};j8.prototype.Zt=function(Z,m,S,B){var C=this.O0(null,Z,m,B),u;if(C==9)return"default";
if(C==10){if(S)return null;return!this.a70?"move":null}if(C==-1||C==4)return null;if(C==11){var r=this.rd().Vf(Z);
u=90-Math.atan2(r.y,r.x)*180/Math.PI;var k=Math.round(8*(u/360));k=(k+8)%8;return this.amx[k]}else{var v=this.S2(Z,this.Bp);
u=[135,90,45,180,0,0,225,270,315][C];var e=l.N.Eh(this.Bp);u+=Math.atan2(-e[3],e[0])*180/Math.PI;var j="ew nesw ns nwse ew nesw ns nwse".split(" "),k=Math.round(8*(u/360));
k=(k+8)%8;return j[k]+"-resize"}};j8.prototype.S2=function(Z,m){var S=l.N.Yy(l.N.Eh(m)),B=new Float64Array(2);
l.N.gW(Z.x,Z.y,S,B);return new aS(B[0],B[1])};j8.prototype.R3=function(Z){var m=this.S2(Z,this.Bp);return 0<=m.x&&m.x<=1&&0<=m.y&&m.y<=1};
j8.prototype.kV=function(Z,m,S,B,C,u,r){this.a8e=u;this.JM=B;var k=Z.s.R,v;if(this.Bp==null)B=g.ho._E(Z,B,m);
this.cA=B.clone();if(this.Bp==null){this.cA.offset(1,1);var e=C==null?1:1/C;this.Bp=[B.x,B.y,B.x+1,B.y,B.x+1,B.y+e,B.x,B.y+e];
v=8}else{v=this.O0(S,B,k,r);if(0<=v&&v<=8)this.cA=this.S8(this.Bp)[v];if(v==9){this.uH=9;this.cl=B.clone()}}this.uI=this.Bp.slice(0);
this.UL=v;this.zj(Z,m);this.ys=this.rd();return v!=-1};j8.prototype.afj=function(Z,m,S,B){return this.O0(Z,m,S.s.R,B)};
j8.prototype.O0=function(Z,m,S,B){var C=-1,u=this.S8(),r=[0,2,6,8,1,3,5,7],k=B?g.MH({s:{R:S}},B):6*g.F()/S;
if(C==-1)if(aS.qa(this.rd(),m)<k)C=9;if(C==-1)for(var q=0;q<r.length;q++)if(aS.qa(u[r[q]],m)<k)C=r[q];
if(C==-1&&Z&&Z.j(iZ.__))C=9;if(C==-1||this.PC==4){if(this.R3(m)){if(this.a70)C=10}else{var v=this.S2(m,this.Bp),e=new bq(0,0,1,1);
e.QW(.2,.2);C=e.hV(v)&&this.PC!=3?11:10}}return C};j8.prototype.hJ=function(Z,m,S,B){if(this.UL==-1)return;
this.JM=B;var C=S.j(iZ.nQ),u=S.j(iZ.__),r=S.j(iZ.Sx),k=Z.s.R,v=this.cA,e=this.UL,j=this.S8(),$=g.ho._E(Z,v,m),U=g.ho._E(Z,B,m),H,z;
if(e==9){var j=this.S8(),f=-1;for(var q=0;q<j.length;q++)if(aS.qa(j[q],U)*k<10)f=q;this.uH=f==-1?9:f;
this.cl=C?g.eN.ab($,U):U.clone()}else if(e==10){z=l.H.su(this.uI);var D=z.x,n=z.y;z.offset(B.x-v.x,B.y-v.y);
if(this.Sp()){z.x=Math.round(z.x);z.y=Math.round(z.y)}H=g.ho.Dt(Z,z,m);var L=new ht(1,0,0,1,z.x-D+H[0],z.y-n+H[1]);
l.H.A(this.uI,L,this.Bp)}else if(e==11){var a=this.rd(this.uI),F=a.Vf(B),A=a.Vf(v),T=Math.atan2(F.y,F.x),P=Math.atan2(A.y,A.x),L=new ht(1,0,0,1,-a.x,-a.y),Y=Math.PI/12;
if(C)L.rotate(Math.round((P-T)/Y)*Y);else L.rotate(P-T);L.translate(a.x,a.y);l.H.A(this.uI,L,this.Bp)}else{var Q,o=this.uI,I=e==0||e==2||e==6||e==8;
if(this.PC==1){if(I)C=u=r=!0}else if(this.PC==2&&I&&this.a8e!=!0)r=!0;if(this.PC==3)r=!1;if(this.a3t&&I&&r){var q=[0,0,2,0,0,0,6,0,4,0][e],c=-1,y=U.x,i=U.y;
if(C){var d=q+6&7,V=q+10&7,R=j8.k8(o[q],o[q+1],o[d],o[d+1],U.x,U.y),G=j8.k8(o[q],o[q+1],o[V],o[V+1],U.x,U.y),M=R[2]<G[2]?R:G;
y=M[0];i=M[1];if(u)c=R[2]<G[2]?d:V}else if(u)c=q+4&7;Q=o.slice(0);if(c!=-1){var O=o[c],K=o[c+1],W=(o[q]+O)/2,t=(o[q+1]+K)/2;
Q[c]=W-(y-W);Q[c+1]=t-(i-t)}Q[q]=y;Q[q+1]=i}else if(I&&u){var a=this.ys,X=a.x,h=a.y,b=$.x-X,E=$.y-h,f0=1,ay=1;
if(Math.abs(b)>=1)f0=(U.x-X)/b;if(Math.abs(E)>=1)ay=(U.y-h)/E;if(C||this.Uk)f0=ay=(f0+ay)/2;var L=new ht;
L.translate(-X,-h);L.scale(f0,ay);L.translate(X,h);Q=o.slice(0);l.H.A(Q,L,Q)}else{if(this.Sp()){U.x=Math.round(U.x);
U.y=Math.round(U.y)}var p=[0,1,2,5,8,7,6,3],eo=p[(p.indexOf(e)+4)%8],co=[];for(var q=0;q<3;q++)for(var c=0;
c<3;c++)co.push(new aS(c/2,q/2));var a=this.ys,c5=this.S2(U,o),he=this.S2(v,o),hU=u&&(this.uH==4||this.uH==9)?this.S2(a,o):co[eo],aB=new ht,ep=new ht,f0=(c5.x-hU.x)/(he.x-hU.x);
if(f0==0)f0=1e-4;var ay=(c5.y-hU.y)/(he.y-hU.y);if(ay==0)ay=1e-4;if(this.a0C){f0=Math.max(f0,0);ay=Math.max(ay,0)}if(e==0||e==2||e==6||e==8){if(C||this.Uk)aB.scale(f0,f0);
else aB.scale(f0,ay)}if(e==1||e==3||e==5||e==7){var aO=this.Uk;if(e==1||e==7)aB.scale(aO?ay:1,ay);else aB.scale(f0,aO?f0:1);
if(this.adf&&r){if(e==1||e==7)ep.mw=(c5.x-hU.x)/(c5.y-hU.y);else ep.S=(c5.y-hU.y)/(c5.x-hU.x)}}var L=new ht;
L.translate(-hU.x,-hU.y);L.concat(aB);L.concat(ep);L.translate(hU.x,hU.y);Q=[0,0,1,0,1,1,0,1];l.H.A(Q,L,Q);
var M=l.N.Eh(o);l.N.A(M,Q)}if(j8.pw(Q))this.Bp=Q}this.zj(Z,m);if(H)g.ho.QY(Z,z,H)};j8.k8=function(Z,m,S,B,C,u){var r=S-Z,k=B-m,v=C-Z,e=u-m,j=r*r+k*k,$=v*r+e*k,U=$/j,H=Z+U*r,z=m+U*k,f=C-H,D=u-z;
return[H,z,Math.sqrt(f*f+D*D)]};j8.prototype.Sp=function(){var Z=this.Bp;return Math.abs(Z[1]-Z[3])<1e-6&&Math.abs(Z[2]-Z[4])<1e-6||Math.abs(Z[0]-Z[2])<1e-6&&Math.abs(Z[3]-Z[5])<1e-6};
j8.pw=function(Z){return l.H.Qz(Z)||l.H.Qz([Z[6],Z[7],Z[4],Z[5],Z[2],Z[3],Z[0],Z[1]])};j8.prototype.qB=function(Z,m,S,B){this.UL=-1;
this.JM=null;Z.D.D4=null;Z.D.vC=[];Z.tV=!0};j8.prototype._s=function(Z,m,S){var B=S.Wr();if(B.x||B.y){var C=new ht(1,0,0,1,B.x,B.y);
l.H.A(this.Bp,C,this.Bp);this.zj(Z,m);return!0}return!1};j8.prototype.S8=function(Z){if(Z==null)Z=this.Bp;
var m=Z[6]-Z[0],S=Z[7]-Z[1],B=Z[4]-Z[2],C=Z[5]-Z[3],u=[Z[0],Z[1],Z[2],Z[3],Z[0]+m/2,Z[1]+S/2,Z[2]+B/2,Z[3]+C/2,Z[6],Z[7],Z[4],Z[5]],r=[];
for(var q=0;q<3;q++){var k=q*4,v=u[k+0],e=u[k+1],j=u[k+2],$=u[k+3];r.push(new aS(v,e));r.push(new aS(v+(j-v)/2,e+($-e)/2));
r.push(new aS(j,$))}return r};j8.prototype.zj=function(Z,m,S){if(S==null)S=!1;var B=this.S8(),C=B[0],u=B[2],r=B[6],k=B[8];
Z.D.pC={C:[],t:[]};Z.D.pC.C.push("M","L","L","L","Z");Z.D.pC.t.push(C.x,C.y,u.x,u.y,k.x,k.y,r.x,r.y);
var v=this.ai2;if(v>1){var e=u.Vf(C),j=r.Vf(C),$=k.Vf(u),U=k.Vf(r);for(var q=1;q<v;q++){Z.D.pC.C.push("M","L","M","L");
var H=q/v;Z.D.pC.t.push(C.x+e.x*H,C.y+e.y*H,r.x+U.x*H,r.y+U.y*H);Z.D.pC.t.push(C.x+j.x*H,C.y+j.y*H,u.x+$.x*H,u.y+$.y*H)}}Z.s.Jv=new bq(0,0,aS.qa(B[0],B[2]),aS.qa(B[0],B[6]));
if(this.UL!=-1&&this.UL<9&&this.JM){var z=Z.s.o5(this.JM.x,this.JM.y);g.cd.gR(z,Z.s.Jv,Z,m)}if(!S){Z.D.dx=[];
for(var q=0;q<B.length;q++)if(q!=4)Z.D.dx.push(B[q].x,B[q].y);var f=this.rd();Z.D.dx.push(f.x,f.y)}Z.tV=!0};
j8.prototype.clear=function(Z){Z.s.Jv=null;Z.D.D4=null;Z.D.pC=null;Z.D.dx=[];Z.tV=!0};function cv(Z,m){this.BF=null;
this.UL=-1;this.ff(Z)}cv.prototype.u$=function(){return JSON.parse(JSON.stringify(this.BF))};cv.prototype.ff=function(Z){this.BF=JSON.parse(JSON.stringify(Z))};
cv.prototype.R3=function(Z){return!0};cv.prototype.Zt=function(Z,m,S,B){var C=this.O0(Z,m,B);if(C==-1)return"default";
return"pointer"};cv.prototype.kV=function(Z,m,S,B,C,u,r){this.UL=this.O0(B,Z.s.R,r);return this.UL!=-1};
cv.prototype.O0=function(Z,m,S){var B=this.XV(),C=-1,u=1e6;for(var q=0;q<B.length;q++){var r=aS.qa(B[q],Z);
if(r<u){C=q;u=r}}return u<(S?g.MH({s:{R:m}},S)*2:20*g.F()/m)?C:-1};cv.prototype.hJ=function(Z,m,S,B){if(this.UL==-1)return;
var C=Z.s.R,u=this.UL,r=l.BF.f8(this.BF);r[u*2]=B.x;r[u*2+1]=B.y;l.BF.ol(r,this.BF)};cv.prototype.qB=function(Z,m,S,B){this.UL=-1;
Z.tV=!0};cv.prototype._s=function(Z,m,S){var B=S.Wr();if(B.x||B.y){var C=new ht(1,0,0,1,B.x,B.y);l.H.A(this.Bp,C,this.Bp);
this.zj(Z)}};cv.prototype.XV=function(Z){var m=l.BF.f8(this.BF),S=[];for(var q=0;q<m.length;q+=2)S.push(new aS(m[q],m[q+1]));
return S};cv.prototype.zj=function(Z){var m=this.XV();Z.D.pC={C:[],t:[]};Z.D.pC.C.push("M","C","C","C","C");
var S=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var q=0;q<S.length;q++)Z.D.pC.t.push(m[S[q]].x,m[S[q]].y);
Z.D.pC.C.push("M","L","L","M","L","L","M","L","L","M","L","L");S=[4,0,1,2,3,7,11,15,14,13,12,8];for(var q=0;
q<S.length;q++)Z.D.pC.t.push(m[S[q]].x,m[S[q]].y);Z.D.dx=[];for(var q=0;q<m.length;q++)Z.D.dx.push(m[q].x,m[q].y);
Z.tV=!0};cv.prototype.clear=function(Z){Z.D.pC=null;Z.D.dx=[];Z.tV=!0};function di(){this.yi=!1;this.OM=!1;
this.a18=!1;this.a4p=!1;this.DB=!1;this.VO=!1;this.SB=0;this.fS=0}di.prototype.kV=function(Z){this.yi=!0;
this.OM=!1;this.DB=Z.j(iZ.nQ);this.VO=Z.j(iZ.__);this.SB=this.DB?0:1;this.fS=this.VO?0:1};di.prototype._s=function(Z){var m=this.a4p=Z.j(iZ.nQ),S=this.a18=Z.j(iZ.__);
if(this.OM){if(this.SB==0&&!m)this.SB++;if(this.SB==1&&m)this.SB++;if(this.fS==0&&!S)this.fS++;if(this.fS==1&&S)this.fS++}};
di.prototype.hJ=function(){this.OM=!0};di.prototype.qB=function(){this.yi=!1};di.prototype.nT=function(q){if(q==0)return this.yi?this.VO:this.a18;
if(q==1)return this.OM?this.fS==2:!1};di.prototype.QO=function(q){if(q==0)return this.yi?this.DB:this.a4p;
if(q==1)return this.OM?this.SB==2:!1};g.History=function(){g.cd.call(this,"History",g.C5);this.N1=!0;
this.a5U=0};g.History.prototype=new g.cd;g.History.prototype.W2=function(Z,m,S,B){S.SW=!0;if(Z.d=="h_itemchange"){if(Z.index<S.qA)for(var q=S.qA;
q>Z.index;q--)this.J_(S);if(Z.index>S.qA)for(var q=S.qA;q<Z.index;q++)this.dX(S)}if(Z.d=="h_stepfwd")this.dX(S);
if(Z.d=="h_stepbck")this.J_(S);if(Z.d=="h_undoredo"){var C=this.N1||this.a5U!=S.qA;if(C){this.J_(S);
C=!1}else{this.dX(S);C=!0}this.N1=C;this.a5U=S.qA}if(Z.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
S.history=[new h8([1,0],null)];S.qA=0}else this.N1=!0};g.History.prototype.J_=function(Z){if(Z.qA==0)return;
var m=Z.history[Z.qA];m.b.Jm(m.data,Z);Z.qA--};g.History.prototype.dX=function(Z){if(Z.qA==Z.history.length-1)return;
var m=Z.history[Z.qA+1];m.b.gE(m.data,Z);Z.qA++};g.dW=function(){g.cd.call(this,"Layers",g.vJ);this.CF=null};
g.dW.prototype=new g.cd;g.dW.prototype.W2=function(Z,m,S,B,C){this.CF=m;var u=Z.d,r=Z.i!=null?Z.i:S._.length!=0?S._[0]:S.g.length-1,k=S.g[r];
S.jU=!0;var v=B.j(iZ.__),e=B.j(iZ.nQ),j=B.j(iZ.Sx);if(u==w.SK&&S.$==null&&(S._.length>1||!S.t9(!1)))u=w.lD;
if(u==w.pk){var $=new h8([6,33],this),U=k.O1()?["pass"].concat(d1.WJ):d1.WJ,H=U[Z.sk],z=Z.i!=null?[Z.i]:S._,f=JSON.stringify(z),D=[];
for(var q=0;q<z.length;q++)D.push(S.g[z[q]].E4);$.data={d:u,q0:f,sK:D,sk:H};S.oF($);this.gE($.data,S);
this.track(hX.al("Md",{t:"enum",v:{BlnM:d1.D2(H)}}))}if(u==w.pZ){var $,n=S.rX(),z=Z.i!=null?[Z.i]:S._,f=JSON.stringify(z);
if(n&&n.data&&n.data.d==u&&n.data.q0==f)$=n;else{var L=hX.al("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(L);var D=[];for(var q=0;q<z.length;q++)D.push(S.g[z[q]].opacity);$=new h8([6,32],this);$.data={d:u,q0:f,sK:D,sk:Z.sk,T8:L.Oz};
S.oF($)}$.data.sk=Z.sk;$.data.T8.T.v.Opct.v.val=Math.round(Z.sk*100/255);this.gE($.data,S)}if(u==w.xW){if(k.add.iOpa==null)k.add.iOpa=255;
var $,n=S.rX();if(n&&n.data&&n.data.d==u&&n.data.i==r)$=n;else{$=new h8("Fill Opacity Change",this);
$.data={d:u,i:r,sK:k.add.iOpa,sk:Z.sk};S.oF($)}$.data.sk=Z.sk;this.gE($.data,S)}if(u==w.Il){var a=Z.sk,F=Z.i!=null?[Z.i]:S._.slice(0),A=[],T=[],$;
for(var P=0;P<F.length;P++){var Y=S.g[F[P]];if(Y.add.lspf==null)Y.add.lspf=0;var D=Y.add.lspf,H=D;for(var q=0;
q<a[0].length;q++){var Q=a[1][q],o=1<<Q;if((H&o)==0&&a[0][q])H^=o;else if((H&o)!=0&&!a[0][q])H^=o}A.push(D);
T.push(H)}var n=S.rX(),z=JSON.stringify(F);if(n&&n.data&&n.data.d==u&&JSON.stringify(n.data.q0)==z){$=n;
$.data.sk=T}else{var $=new h8([6,57,1],this);$.data={d:u,q0:z,sK:A,sk:T};S.oF($)}this.gE($.data,S)}if(u==w.OO){var I="----",c=Z.Bt,H=null;
for(var q=0;q<fQ.c5.v8.length;q++)if(k.add[fQ.c5.v8[q]])I=fQ.c5.v8[q];var y=k.add[I];if(c=="TySh")H=e6.WL(50,50,C.E7);
var $=new h8("Layer Type",this);$.data={d:u,i:r,a2e:[I,y],Bt:[c,H]};S.oF($);this.gE($.data,S)}if(u==w.Xm){var F=[];
if(v){var i=S.rX(),d=i?i.data:null;if(i!=null&&i.b==this&&d.d==w.Xm&&d.q0.length!=1){var V=new eY(_.E.Y);
V.b=g.C5;V.data={d:"h_stepbck"};m.c(V);if(d.i==r)return}var G=S.root.Hr(r),M=S.fO(null,r);while(G.parent!=S.root){M.push(G.parent.index);
G=G.parent}for(var q=0;q<S.g.length;q++){var O=S.g[q],K=O.tm(),W=M.indexOf(q)!=-1;if(!W&&K)F.push(q);
if(q==r&&!K)F.push(q)}}else{F.push(r);var K=S.g[r].tm(),L={CE:K?"hide":"show",Oz:{classID:K?"Hd":"Shw",null:{t:"VlLs",v:[hX.NN("Lyr",!0)]}}};
this.track(L)}var $=new h8("Layer visibility",this,!0);$.data={d:u,q0:F,i:r};S.oF($);this.gE($.data,S)}if(u==w.Qg){if(C.th==g.h6){var t=new eY(_.E.W);
t.data={d:_.B.uv,b:g.Ta};m.c(t)}var X=Z.adh,h=Z.Yo,f0,escape=!1,co=!1;if(Z.alG){if(j&&(h==0||h==1||h==2)){var b=0;
if(e)b++;if(v)b+=2;var E=new eY(_.E.Y,!0);E.b=g.Ml;E.data={d:"fromlayer",ZT:[Z.i,h,b]};m.c(E);return}}var L={CE:"select",Oz:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(S.s.U1.join("")!="111"){S.s.U1=[1,1,1];S.tV=!0}for(var q=0;q<S.g.length;q++){var O=S.g[q],ay=O.add.vmsk;
if(O.vI()){var p=O.ws(S);if(p&&p.v&&p.v.m5){p.v.m5=!1;S.tV=!0}}var eo=O.sd();if(eo&&eo.m5){eo.m5=!1;
S.tV=!0}if(ay){if(ay._.length!=0)ay._=[];if(ay.N2.length!=0)ay.N2=[]}}if(B.j(iZ.Sx)||Z.anQ==0){var c5=S._.indexOf(r);
if(c5==-1)S._.push(r);else if(S._.length>1)S._.splice(c5,1);S._.sort(function($,jz){return $-jz});L.Oz.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
f0=r}else if(e&&!v&&h>0){u=h==1?w.XF:h==2?w.ZJ:w.KJ;escape=!0}else if((e||Z.anQ==1)&&S._.length>0){var he=Math.min(r,S._[0]),hU=Math.max(r,S._[S._.length-1]);
S._=[];for(var q=he;q<=hU;q++)if(S.g[q].add.lsct!=jf.vX)S._.push(q);L.Oz.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
f0=r}else{f0=r;if(r>=S.g.length)return;var O=S.g[r];if(O&&O.O1()&&Z.ajN)O.add.lsct=jf.AH;else if(S._.length==1&&S._[0]==r&&h==O.E_){co=!0}if(!co){S._=[r];
S.Yr()}}if(!co){if(f0!=null&&f0<S.g.length){L.Oz.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:S.g[f0].getName()}}]},this.track(L)}if(!escape){console.log("no escape");
if(S._.length==1){var aB=S._[0];for(var q=0;q<S.g.length;q++){if(q==aB)continue;var Y=S.g[q];Y.E_=0;
Y.aX=!1}var k=S.g[aB];if(h==2){k.aX=!k.aX;S.yI=[]}else if(k){k.E_=h<=0?0:h}}else for(var q=0;q<S.g.length;
q++){var Y=S.g[q];Y.E_=0;Y.aX=!1}S.ap=null;S.SW=!0}}if(Z.alG&&v){if((h==1||h==3)&&X!=null){var E=new eY(_.E.Y,!0);
E.b=g.ky;E.data={d:"mskView",k:X!=0?0:e?1:2};m.c(E)}else{this.W2({d:w.Wc,i:Z.i},m,S,B,C)}}}if(u==w.XF||u==w.KJ){var ep=u==w.XF,aO=ep?k.sd():k.ws(S).v;
if(aO==null)return;var $=new h8(aO.isEnabled?ep?[6,15]:[6,42]:ep?[6,14]:[6,41],this);$.data={d:u,i:r};
S.oF($);this.gE($.data,S)}if(u==w.ZJ){var aO=k.add.vmsk;if(aO==null)return;var $=new h8(aO.isEnabled?[6,17]:[6,16],this);
$.data={d:u,i:r};S.oF($);this.gE($.data,S)}if(u==w.aj0){var f$=k.add.lsct==jf.AH?jf.aa:jf.AH;if(B.j(iZ.Sx)){var fo=S.root.Hr(S.g.indexOf(k)).parent;
for(var q=0;q<fo.children.length;q++){var bb=fo.children[q].i;if(bb.O1())bb.add.lsct=f$}}else k.add.lsct=f$;
S.SW=!0}if(u==w.Wc){if(!S.zy(r))return;var $=new h8(k.GT?[6,19]:[6,18],this);$.data={d:u,i:r};S.oF($);
if(Z.sk==null||Z.sk!=k.GT)this.gE($.data,S)}if(u==w.apT){if(k.RM())k.Kl-=32;else k.Kl+=32;S.SW=!0}if(u==w.IM||u==w.r9){var $;
if(u==w.IM)$=new h8(k.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(u==w.r9)$=new h8(k.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
$.data={d:u,i:r};S.oF($);this.gE($.data,S)}if(u==w.U0||u==w.yg){var aB=Z.index,$;if(u==w.U0)$=new h8(k.add.lmfx[fp.lg[aB[0]]].v[aB[1]].v.enab.v?[6,30]:[6,29],this);
if(u==w.yg)$=new h8(k.add.SoLd.filterFX.v.filterFXList.v[aB].v.enab.v?[6,44]:[6,43],this);$.data={d:u,i:r,index:Z.index};
S.oF($);this.gE($.data,S)}if(u==w.o1){if(Z.src==Z.EF)return;var jl=S.g[Z.src],e0=S.g[Z.EF],gI=jl.add.lmfx?JSON.stringify(jl.add.lmfx):"",d4=e0.add.lmfx?JSON.stringify(e0.add.lmfx):"";
if(e0.add.lmfx==null){e0.add.lmfx=JSON.parse(fp.default);for(var q=0;q<fp.order.length;q++)e0.add.lmfx[fp.lg[q]]={t:"VlLs",v:[]}}if(Z.Ep==null){e0.add.lmfx=JSON.parse(gI);
if(!v)delete jl.add.lmfx}else{var ab=Z.Ep[0],c3=fp.lg[ab];if(fp.a5u.indexOf(fp.order[ab])==-1)e0.add.lmfx[c3].v=[];
e0.add.lmfx[c3].v.push(jl.add.lmfx[c3].v[Z.Ep[1]]);if(!v)jl.add.lmfx[c3].v.splice(Z.Ep[1],1)}var gr=jl.add.lmfx?JSON.stringify(jl.add.lmfx):"",a2=e0.add.lmfx?JSON.stringify(e0.add.lmfx):"";
if(!e0.RM())e0.Kl+=32;var $=new h8("Move Layer Styles",this);$.data={d:u,ij:Z.src,r1:Z.EF,ae6:gI,amA:d4,agB:gr,a6b:a2};
S.oF($);this.gE($.data,S)}if(u==w.nP){if(Z.src!=null)r=Z.src;var Y=S.g[r],aL=JSON.stringify(Y.add.SoLd),el=JSON.parse(aL),iJ=el.filterFX.v.filterFXList.v;
iJ.splice(Z.Ep,1);var $=new h8([6,53],this);$.data={d:w._2,uE:[{J0:r,Eq:[aL,JSON.stringify(el)]}]};S.oF($);
this.gE($.data,S)}if(u==w.av4){var aC=v,jl=S.g[Z.src],e0=S.g[Z.EF],cr=[];if(jl!=e0&&e0.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(jl==e0&&!aC&&(Z.Ep==Z.cK||Z.Ep==-1))return;var bN=jl.ws(S),aL=JSON.stringify(jl.add.SoLd),el=JSON.parse(aL),iJ=el.filterFX.v.filterFXList.v;
if(jl==e0){iJ.splice(Z.cK,0,iJ[Z.Ep]);if(!aC)iJ.splice(Z.Ep+(Z.Ep<Z.cK?0:1),1);cr.push({J0:Z.src,Eq:[aL,JSON.stringify(el)]})}else if(Z.Ep==-1){var hf=el.filterFX;
if(!aC){delete el.filterFX;cr.push({J0:Z.src,Eq:[aL,JSON.stringify(el)],b4:[bN,null]})}var cV=e0.vI()?e0.ws(S):null,ez=fl.a8X(bN),jG=JSON.stringify(e0.add.SoLd),jw=JSON.parse(jG);
jw.placed.v=ez.id;jw.filterFX=hf;cr.push({J0:Z.EF,Eq:[jG,JSON.stringify(jw)],b4:[cV,ez]})}else{var dw=iJ[Z.Ep];
if(!aC){iJ.splice(Z.Ep,1);cr.push({J0:Z.src,Eq:[aL,JSON.stringify(el)]})}var jG=JSON.stringify(e0.add.SoLd),jw=JSON.parse(jG);
if(jw.filterFX==null)jw.filterFX=bS.cL();var cb=jw.filterFX.v.filterFXList.v;cb.splice(Z.cK,0,dw);var cz={J0:Z.EF,Eq:[jG,JSON.stringify(jw)]};
if(!e0.vI()){var ez=fl.a2z(e0.add.SoLd.placed.v);cz.b4=[null,ez]}cr.push(cz)}var $=new h8([6,52],this);
$.data={d:w._2,uE:cr};S.oF($);this.gE($.data,S)}if(u==w.Y3){var aO=k.sd(),$=new h8(aO.ie?[6,26]:[6,25],this);
$.data={d:u,i:r};S.oF($);this.gE($.data,S);this.track({CE:"set",Oz:{classID:"setd",null:{t:"obj ",v:[hX.NN("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:aO.ie}}}}})}if(u==w.gd){var aO=k.add.vmsk,$=new h8(aO.ie?[6,28]:[6,27],this);
$.data={d:u,i:r};S.oF($);this.gE($.data,S)}if(u==w.HK){var jq=[],$;for(var q=0;q<S._.length;q++){var P=S._[q],O=S.g[P];
if(O.add.vogk)jq.push(P,JSON.stringify(O.add.vogk))}for(var q=0;q<S.yI.length;q++){var P=S.yI[q],O=S.px[P];
if(O.add.vogk)jq.push(-1-P,JSON.stringify(O.add.vogk))}l.Ka.amU(S,Z.k);var dU=[];for(var q=0;q<S._.length;
q++){var P=S._[q],O=S.g[P];if(O.add.vogk)dU.push(P,JSON.stringify(O.add.vogk))}for(var q=0;q<S.yI.length;
q++){var P=S.yI[q],O=S.px[P];if(O.add.vogk)dU.push(-1-P,JSON.stringify(O.add.vogk))}var n=S.rX();if(n&&n.data&&n.data.d==u){var ge=!0;
for(var q=0;q<jq.length;q+=2)if(jq[q]!=n.data.Mo[q])ge=!1;if(ge){$=n;$.data.MK=dU}}if($==null){var $=new h8([12,91,1],this);
$.data={d:u,Mo:jq,MK:dU};S.oF($)}this.gE($.data,S)}if(u==w.NU){var al=JSON.stringify(k.add.artb),a_=JSON.stringify(Z.jp),$;
S.g[r].add.artb=JSON.parse(a_);var hc=new bq(0,0,S.e,S.n),g7=g.Gt.j8(S),n=S.rX();if(n&&n.data&&n.data.d==u&&n.data.i==r){$=n;
$.data.jp=a_}if($==null){var $=new h8("Editing Artboard",this);$.data={d:u,i:r,a2s:al,jp:a_,nM:hc};S.oF($)}$.data.mp=g7;
this.gE($.data,S)}if(u==w.ph){var dU=S.Xz.slice(0),b4=S.tp.slice(0),eC=S.$,cN=S.$;if(Z.hN=="fromAction"){var i7=Z.k.CE,gC=Z.k.Oz;
if(i7=="make"||i7=="duplicate"){var h7=dU.length,hH=!1,cq=!1;if(S.Lj())h7--;var iB=new w.Ga;iB.name="Alpha "+(h7+1);
if(i7=="make"){var fd=gC.Nw.v;iB.color=255;b4=[h7];iB.m5=!0;iB.mh=fd.Opct.v;if(fd.Nm)iB.name=fd.Nm.v;
if(fd.classID=="SCch"){hH=!0;cN=null;iB.If=1}}else{var iW=gC.null.v[0].v;if(iW.keyID=="fsel")hH=!0;else{var ca=g.nJ.Fm(S);
cN=g.nJ.YN(S,ca);iB.color=0;iB.rect=cN.rect;iB.channel=cN.channel}}if(hH){iB.color=0;if(S.$){iB.rect=S.$.rect.clone();
iB.channel=S.$.channel.slice(0)}if(cq){iB.color=255-iB.color;l.Yy(iB.channel)}}dU.splice(h7,0,iB)}else if(i7=="delete"){if(k&&k.sd()&&k.E_==1){this.W2({d:w.CS},m,S,B,C);
return}var M=S.tp;M.sort(function($,jz){return jz-$});if(M.length==0)return;for(var q=0;q<M.length;q++)dU.splice(M[q],1);
b4=[]}else if(i7=="hide"){dU[b4[0]]=dU[b4[0]].clone();dU[b4[0]].m5=!1}}if(Z.hN=="rnm"){dU[Z.lU]=dU[Z.lU].clone();
dU[Z.lU].name=Z.name}var $=new h8("Channel Edit",this);$.data={d:u,Mo:S.Xz.slice(0),M_:S.tp.slice(0),MK:dU,Ut:b4,s6:eC,DA:cN};
this.gE($.data,S);S.oF($)}if(u==w.Wn){var f9=new bq(0,0,S.e,S.n),$=new h8(Z.fm,this);$.data={d:w.Wn,Tl:S.g.slice(0),Gb:Z.Gb,Oc:S._.slice(0),RU:Z.DA};
S.oF($);this.gE($.data,S);var bt=g.Gt.NT(S);if(bt){$.data.nM=f9;$.data.mp=bt}}if(u==w.G7){var dO=S.fO(null,Z.i),c0=1e10;
if(dO.length==0)return;if(S.g.length==dO.length){alert("Project must have at least 1 layer");return}var ea=[];
for(var q=0;q<S.g.length;q++)if(dO.indexOf(q)==-1)ea.push(S.g[q]);for(var q=0;q<dO.length;q++)c0=Math.min(c0,dO[q]);
c0=Math.max(c0-1,0);while(ea[c0].name=="</Layer group>")c0++;this.track({CE:"delete",Oz:{classID:"Dlt",null:hX.NN("Lyr",!0)}});
var $=new h8([6,31],this);$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:[c0]};S.oF($);this.gE($.data,S)}if(u==w.vu){if(!B.j(iZ.nQ))return;
var $=new h8("Switch Layer Link",this);$.data={d:u,i:Z.i};S.oF($);this.gE($.data,S)}if(u==w.eB){var M=Z.ai8?Z.ai8:S._,i_=0,bJ=!1;
if(M.length==0)return;if(M.length==1&&S.g[M[0]].KI==0){alert(iD.get([15,7,5]));return}var aV=[];for(var q=0;
q<S.g.length;q++){var aQ=S.g[q].KI;aV.push(aQ);i_=Math.max(i_,aQ)}var e9=-1,cC=-1;for(var q=0;q<M.length;
q++){var aQ=S.g[M[q]].KI;if(aQ==0)bJ=!0;else if(e9==-1||e9==aQ)e9=aQ;else cC=aQ}if(!bJ)for(var q=0;q<M.length;
q++)S.g[M[q]].KI=0;else if(e9!=-1&&cC==-1)for(var q=0;q<M.length;q++)S.g[M[q]].KI=e9;else for(var q=0;
q<M.length;q++)S.g[M[q]].KI=i_+1;var ef=[];for(var q=0;q<S.g.length;q++){var aQ=S.g[q].KI;if(ef[aQ]==null)ef[aQ]=0;
ef[aQ]++}for(var q=0;q<S.g.length;q++){var aQ=S.g[q].KI;if(ef[aQ]==1)S.g[q].KI=0}var b5=aV;aV=[];for(var q=0;
q<S.g.length;q++){var aQ=S.g[q].KI;aV.push(aQ);i_=Math.max(i_,aQ)}var $=new h8(bJ?[6,54,0]:[6,54,1],this);
$.data={d:w.eB,aaW:b5,ai3:aV};S.oF($);this.gE($.data,S)}if(u==w.lD&&(Z.i!=null||S._.length!=0)||u==w.Q_){var jx=S.uO(u==w.lD?Z.i:r,null,Z.akG),bf;
if(u==w.Q_){var Y=jx[0],i7=Y.add.SoLd.Idnt.v,dH=S.cc(i7).clone();Y.add.SoLd.Idnt.v=dH.Us=fl.Qm()+i7.slice(8);
S.add.lnk2.push(dH)}if(u==w.lD){var hT={CE:"duplicate",Oz:{classID:"null",null:hX.NN("Lyr",!0)}};if(Z.Jo){jx[0].Se(Z.Jo);
hT.Nm={t:"TEXT",v:Z.Jo}}this.track(hT);Z.ao6=Z.i}u=w.k4;Z.g=jx;Z.Si=S;Z.XC=S}if(u==w.k4){var je,hG,gW=Z.Si,d3=Z.XC,ip=0,iy=0,da=!1,iY=0,iX=0;
if(gW!=d3){console.log("ADDLAYERS different projs");var je=new bq(0,0,gW.e,gW.n),hG=new bq(0,0,d3.e,d3.n),jJ=[],fj=[];
for(var q=0;q<Z.g.length;q++){var Y=Z.g[q];if(Y.add.SoLd==null)continue;var i7=Y.add.SoLd.Idnt.v;if(jJ.indexOf(i7)==-1){jJ.push(i7);
fj.push(fl.Qm()+i7.slice(8))}Y.add.SoLd.Idnt.v=fj[jJ.indexOf(i7)];var bN=Y.ws(gW);if(bN){gW.zv(bN);d3.gq(bN)}}if(jJ.length>0){if(d3.add.lnk2==null)d3.add.lnk2=[];
for(var q=0;q<jJ.length;q++){var em=gW.cc(jJ[q]),dH=em.clone();dH.Us=fj[q];d3.add.lnk2.push(dH)}}}var eC=d3._.slice(0);
eC.sort(function($,jz){return $-jz});var ea=d3.g.slice(0),cN=[],jB=-1;for(var q=0;q<eC.length;q++)jB=Math.max(jB,eC[q]);
if(Z.ao6!=null)jB=Z.ao6;var dh=gW.Ys();if(Z.S$){jB=Z.S$-1;var iO=d3.g[Z.S$].u1();ip+=iO.x;iy+=iO.y}if(dh!=-1&&(gW!=d3||Z.S$)){var g0=gW.g[dh].u1();
ip-=g0.x;iy-=g0.y}var dz=d3.dM();jB++;for(var q=0;q<Z.g.length;q++){var O=Z.g[q],dj=O.add.artb;ea.splice(jB,0,O);
cN.push(jB);jB++;if(dj){var ev=dj.guideIndeces;if(ev){ev=ev.v;console.log(ev);for(var bx=0;bx<ev.length;
bx++){dz[0].push(gW.Ua[ev[bx].v].slice(0));dz[1].push(ea.indexOf(O));da=!0}}}}for(var q=0;q<Z.g.length;
q++){var O=Z.g[q];if(k.add.lsct==jf.vX){if(iY==0)iX++;iY++}else if(O.O1())iY--}if(iX==1)cN=[jB-1];var $=new h8([6,0],this);
$.data={d:w.Wn,Tl:d3.g.slice(0),Gb:ea,Oc:eC,RU:cN};if(da){$.data.Jh=[d3.dM(),dz]}d3.oF($);this.gE($.data,d3);
if(ip!=0||iy!=0)g.ho.Kf(d3,d3.fO(),null,ip,iy)}if(u==w.Yj){var ig=Z.i!=null?[Z.i]:S.fO(),ea=S.g.slice(0);
for(var q=0;q<ig.length;q++){var O=S.g[ig[q]].clone();O.MQ(S);ea.splice(ig[q],1,O)}var $=new h8([6,8],this);
$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:S._.slice(0)};S.oF($);this.gE($.data,S)}if(u==w.a0K){var ea=S.g.slice(0),O=ea[S._[0]]=ea[S._[0]].clone(),j1=O.add.lmfx,a6,iO;
delete O.add.lmfx;var gK=S._[0],bn=gK+1;if(O.O1()){var hr=S.g[S._[0]].Jw;iO=hr.aco;a6=hr.Rx;var G=S.root.Hr(gK);
gK=G.Da}else{iO=O.rect;a6=l.U(iO.Z());l.NK(O.buffer,a6,3)}var ai=aK.AS(j1,O.add.fxrp,a6,iO,S,iO).type;
for(var q=0;q<fp.order.length;q++){var c9=fp.order[q],c_=ai[c9];c_.reverse();for(var bx=0;bx<c_.length;
bx++){var hO=c_[bx],z=S.AB(),f6=q>7;if(c9=="ebbl"){if(hO.bC||hO.fC){var a9=hO.bC?hO.bC:hO.fC;if(hO.bC)delete hO.bC;
else delete hO.fC;if(hO.fC||hO.t$)bx--}else if(hO.t$||hO.HD){var a9=hO.HD?hO.HD:hO.t$;if(hO.HD){delete hO.HD;
if(hO.t$)bx--}f6=!0}hO=a9}z.E4=hO.o6;z.opacity=Math.round(255*hO.iq);z.buffer=hO.MW;z.rect=hO.Ao.clone();
z.rect.offset(iO.x,iO.y);if(c9=="FrFX"){z.buffer=z.buffer.slice(0);l.cN(hO.rr?hO.rr:hO.Ii,z.buffer,3);
if(hO.rr){f6=!0;delete hO.rr;if(hO.Ii)bx--}}z.GT=!f6;z.Se(O.getName()+"'s "+iD.get(fp.names[q]));ea.splice(f6?gK:bn,0,z);
if(f6)bn++}}var $=new h8("Styles to Layers",this);$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:[bn-1]};
S.oF($);this.gE($.data,S)}if(u==w.KE){var ig=S.fO(),ea=S.g.slice(0),h3=new bq(0,0,S.e,S.n);for(var q=0;
q<ig.length;q++){var fb=S.g[ig[q]],gi=fb.tm();fb.p0(!0);var ix=S.root.Hr(ig[q]);if(fb.O1())continue;
if(ix==null)continue;var O=fb.clone();O.MQ(S);var dI=ix.Cp(S,!0),aD=S.g;S.H_([fb]);S.G();S.dK();O.buffer=l.U(dI.Z()*4);
l.pY(S.Jy(),h3,O.buffer,dI);O.rect=dI;O.opacity=255;O.add.iOpa=255;O.E4="norm";O.G();O.Jw.Be=!0;S.H_(aD);
if(O.add.lmfx)delete O.add.lmfx;O.v=O.Hi=null;ea.splice(ig[q],1,O);O.p0(gi);fb.p0(gi)}var $=new h8([6,34],this);
$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:S._.slice(0)};S.oF($);this.gE($.data,S)}if(u==w.a0L){var ig=S.fO(),ea=S.g.slice(0);
for(var q=0;q<ig.length;q++){var O=S.g[ig[q]],fO=O.add.TySh;if(fO==null)continue;var Y=new jN(fO.e7,C.Pl),b1=l.H.V0(d7.RD(Y,fO));
for(var gB in b1){var iA=b1[gB],bb=O.clone();delete bb.add.TySh;bb.Kl=bb.Kl|1<<4;bb.add.SoCo=JSON.parse(JSON.stringify(fp.wv[0]));
var c4=bb.add.SoCo.Clr.v;c4.Rd.v=parseInt(gB.slice(1,3),16);c4.Grn.v=parseInt(gB.slice(3,5),16);c4.Bl.v=parseInt(gB.slice(5,7),16);
var hF=new w.r6;hF.u=l.H.Ah(iA,!1);if(bb.add.vmsk!=null){bb.add.vmsk.arR();hF.concat(bb.add.vmsk)}bb.add.vmsk=hF;
bb.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));bb.VZ();bb.T3(S);ea.splice(ea.indexOf(O),0,bb)}ea.splice(ea.indexOf(O),1)}var cN=S._.slice(0);
for(var q=cN.length-1;q>=0;q--)if(cN[q]>=ea.length)cN.splice(q,1);var $=new h8([6,40],this);$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:cN};
S.oF($);this.gE($.data,S)}if(u==w.a1v){var i8=S._.length;if(i8<2){alert("Select two or more layers.");
return}if(!S.Ef())return;var bb=S.g[S._[0]].clone(),ea=[];for(var q=0;q<S.g.length;q++)if(S._.indexOf(q)==-1)ea.push(S.g[q]);
ea.splice(S._[0],0,bb);for(var q=1;q<i8;q++)if(S.g[S._[q]].rect.Z()>2e6){alert("Blended areas are too large.");
return}for(var q=1;q<i8;q++){var O=S.g[S._[q]],fD=O.rect.clone();fD.QW(1,1);var jz=l.U(fD.Z()*4);l.pY(O.buffer,O.rect,jz,fD);
bb.extend(fD);var g8=l.U(fD.Z()*4);l.pY(bb.buffer,bb.rect,g8,fD);var $=l.U(fD.Z());l.NK(jz,$,3);l.round($,200);
l.cN($,jz,3);l.a.qn("norm",jz,fD,g8,fD,fD,1);l.mI.Zi(g8,$,fD);l.pY(g8,fD,bb.buffer,bb.rect)}var $=new h8([2,10,0],this);
$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:[S._[0]]};S.oF($);this.gE($.data,S)}if(u==w.pj){var ea=S.g.slice(0),b4=S._.slice(0);
for(var q=0;q<ea.length;q++){var O=ea[q],ay=O.add.vmsk;if(O.Ie()&&ay&&O.add.vstk.strokeEnabled.v&&!O.add.vstk.fillEnabled.v){var d6=ay.u,fX=0,dV=-1;
for(var bx=0;bx<d6.length;bx++){if((d6[bx].type==0||d6[bx].type==3)&&d6[bx].QZ!=-1){fX++;if(d6[bx].type==3&&dV==-1){d6[bx].Fw=d6[bx].QZ=1;
dV=bx}}}if(fX>1&&dV!=-1){console.log("separating an open path into a new layer");O=O.clone();ay=O.add.vmsk;
d6=ay.u;var z=d6[dV].length,hV=O.clone();hV.add.lyid=S.Kk();ay.u=d6.slice(0,2).concat(d6.slice(dV,dV+z+1));
ay._=[];O.T3(S);O.G();var ch=hV.add.vmsk.u;hV.add.vmsk.u=ch.slice(0,dV).concat(ch.slice(dV+z+1,ch.length));
hV.add.vmsk._=[];hV.T3(S);ea[q]=O;ea.splice(q+1,0,hV);for(var bx=0;bx<b4.length;bx++)if(b4[bx]>q)b4[bx]++;
var hi=b4.indexOf(q);if(hi!=-1){b4.splice(hi+1,0,q+1)}}}}if(ea.length!=S.g.length){var $=new h8("Splitting open paths",this);
$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:b4};S.oF($);this.gE($.data,S)}}if(u==w.T$){this.W2({d:w.pj},m,S,B,C);
var eC=S._.slice(0),aD=S.g.slice(0),ig=S.fO();if(ig.length==0)return;S.ajz(ig,!1,Z.EP);var $=new h8([6,36,0],this);
$.data={d:w.Wn,Tl:aD,Gb:S.g.slice(),Oc:eC,RU:S._.slice(0)};S.oF($);this.gE($.data,S)}if(u==w.IB){var aL=k.add.SoLd;
if(aL==null)return;var i7=aL.Idnt.v,fB=S.cc(i7);fB.Jy(!1);var iH=fB.BK[0],fD=fB.BK[1];if(l.Bl(iH)){alert("The smart object contains transparency.");
return}var b3=e2.Vh("jpg").md([[iH.buffer]],fD.e,fD.n,[90]);this.W2({d:w.Gi,OB:S,data:new Uint8Array(b3),id:i7,EP:"jpg"},m,S,B,C);
console.log(S.add);return}if(u==w.Gi){var em=Z.OB.cc(Z.id),dH=em.clone();dH.raw=Z.data;if(Z.qw)dH.qw=Z.qw;
if(Z.EP){dH.fX="    ";dH.lE="    ";dH.qw=dH.qw+"."+Z.EP}else{dH.fX="8BIM";dH.lE="8BPB";dH.qw=dH.qw+".psd"}dH.Jy(!1);
em.Jy(!1);var $=new h8([6,36,1],this);$.data={d:w.Gi,id:Z.id,QG:em,q1:dH};Z.OB.oF($);this.gE($.data,Z.OB)}if(u==w.GC){var $=new h8([6,36,4],this);
$.data={d:u,i:r,RL:k.add.SoLd.Impr.v.classID,sk:Z.sk};S.oF($);this.gE($.data,S)}if(u==w.HI){var eE,b9;
if(Z.bD){eE=Z.OB;b9=Z.bD}else{Z.OB.fa();Z.OB.mW();Z.OB.G();Z.OB.dK();Z.OB.Jy();eE=e2.Vh("PSD").md(Z.OB,0,0,[!0,!0]);
b9=Z.OB.name}if(!(eE instanceof ArrayBuffer))throw"e";eE=new Uint8Array(eE);var c5=Z._y;if(c5==null){if(S._.length==0)c5=S._.length;
else{var gm=S._[S._.length-1],z=S.g[gm];c5=z.O1()?gm:gm+1}}var ej=new bq(0,0,S.e,S.n),er=S.Ys();if(er!=-1)ej=S.g[er].u1();
var io=S.tv(eE,b9,0,0,ej),ea=S.g.slice(0);ea.splice(c5,0,io);var $=new h8([6,36,2],this);$.data={d:w.Wn,Tl:S.g.slice(),Gb:ea,Oc:S._.slice(0),RU:[ea.indexOf(io)]};
S.oF($);this.gE($.data,S)}if(u==w.c3&&Z.hN=="merge"){var fW=[],jA=S.root.children,cP=0;for(var q=0;q<jA.length;
q++){var G=jA[q],O=G.i,aq=G.children,jT=!0;if(!O.O1()||aq.length==0)continue;for(var bx=0;bx<aq.length;
bx++)if(!aq[bx].i.getName().startsWith("_a_")){jT=!1;break}if(jT)fW.push(S.g.indexOf(O))}var aF=[];for(var q=0;
q<fW.length;q++)if(S._.indexOf(fW[q])!=-1)aF.push(fW[q]);if(aF.length>=2)fW=aF;if(fW.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var g$=[];for(var q=0;q<fW.length;q++)g$.push(S.g[fW[q]].getName());var c_=[];for(var ie=0;ie<fW.length;
ie++){var G=S.root.Hr(fW[ie]),cz=[[],[],0,ie];c_.push(cz);for(var q=0;q<G.children.length;q++){var P=G.children[q].index,O=G.children[q].i,iB=O.getName(),cH=20,ey=iB.split(",");
if(ey.length>1){var bR=parseInt(ey.pop());if(!isNaN(bR)&&bR!=0)cH=bR}cz[0].push(O);cz[1].push(cH);cz[2]+=cH}}c_.sort(function($,jz){return jz[2]-$[2]});
var gu=c_[0],bZ=gu[2];for(var bG=1;bG<c_.length;bG++){var cz=c_[bG],cA=1,fU=cz[1].slice(0),iU=0;while((cA+1)*cz[2]<=gu[2]){cA++;
fU=fU.concat(cz[1])}cz[1]=fU;cz[2]*=cA;var eR=gu[2]/cz[2];for(var q=0;q<cz[1].length;q++){var id=Math.floor(cz[1][q]*eR);
cz[1][q]=id;iU+=id}while(iU<bZ){iU++;cz[1][cz[1].length-1]++}cz[2]=iU}var bv=[],j2=[],id=[];for(var q=0;
q<c_.length;q++){bv.push(0);j2.push(0)}while(cP<bZ){var iV=1e9,h7=-1;for(var q=0;q<c_.length;q++){var hq=c_[q][1],gK=bv[q];
if(gK!=hq.length&&j2[q]+hq[gK]<cP+iV){h7=q;iV=j2[q]+hq[gK]-cP}}j2[h7]+=c_[h7][1][bv[h7]];bv[h7]++;if(iV!=0){id.push(iV);
cP+=iV}}for(var q=1;q<id.length;q++){var av=id[q];if(av<16&&(id[q-1]<16||q<id.length-1&&16<=id[q+1])){id[q-1]+=av;
id.splice(q,1);q--}}var gi=[],h3=new bq(0,0,S.e,S.n);for(var q=0;q<S.g.length;q++){gi[q]=S.g[q].tm();
S.g[q].p0(!1)}var gR=S._.slice(0);S._=fW;var dO=S.fO();dO.sort(function($,jz){return $-jz});var ea=[];
for(var q=0;q<S.g.length;q++){if(dO.indexOf(q)==-1)ea.push(S.g[q])}c_.sort(function($,jz){return $[3]-jz[3]});
function jt(hq,e7){var q=0,cF=0;while(cF+hq[q]<=e7){cF+=hq[q];q++}return q}cP=0;ea.splice(dO[0],0,S.iI());
for(var hB=0;hB<id.length;hB++){var F=[];for(var q=0;q<c_.length;q++){var gK=jt(c_[q][1],cP)%c_[q][0].length,O=c_[q][0][gK];
F.push(O)}var O=S.AB();for(var q=0;q<c_.length;q++){var iw=F[q],fo=S.g[fW[q]];iw.p0(!0);fo.p0(!0)}S.G();
S.dK();var iH=S.Jy();O.rect=l.Ag(iH,h3,2);O.buffer=l.U(O.rect.Z()*4);l.pY(iH,h3,O.buffer,O.rect);for(var q=0;
q<c_.length;q++){var iw=F[q],fo=S.g[fW[q]];iw.p0(!1);fo.p0(!1)}O.p0(hB==0);O.Se("_a_frm"+hB+","+id[hB]);
ea.splice(dO[0]+1+hB,0,O);cP+=id[hB]}var O=S.AB();O.Se(g$.join(" + "));O.E4="pass";O.add.lsct=jf.aa;
O.Kl=24;ea.splice(dO[0]+1+id.length,0,O);for(var q=0;q<S.g.length;q++)S.g[q].p0(gi[q]);var $=new h8([6,12,0],this);
$.data={d:w.Wn,Tl:S.g,Gb:ea,Oc:gR,RU:[dO[0]+1+id.length]};S.oF($);this.gE($.data,S)}if(u==w.x4||u==w.$b){var jc=S._.length==1,aD=S.g.slice(0),eC=S._.slice(0),ax=!0,io,cN;
if(jc)S._=[r,r-1];if(u==w.$b){S._=[];for(var q=0;q<S.g.length;q++)if(S.g[q].tm())S._.push(q)}var ig=S.fO();
ig.sort(function($,jz){return $-jz});var fs=new bq,h3=new bq(0,0,S.e,S.n);for(var q=0;q<ig.length;q++){var P=ig[q],O=S.g[P];
ax=ax&&O.Ie()&&O.add.vmsk!=null;fs=fs.j3(S.root.Hr(P).Cp(S,!0))}if(ax){io=S.g[ig[0]].clone();var ay=io.add.vmsk;
for(var q=1;q<ig.length;q++){var z=S.g[ig[q]],ch=w.r6.Vu(z.add.vmsk.u);ay.u=ay.u.concat(ch.slice(2));
io.add.vogk=io.add.vogk.concat(JSON.parse(JSON.stringify(z.add.vogk)))}io.add.vmsk.ZZ=!0;io.T3(S)}else if(h3.wZ(fs)){io=S.AB();
io.Se(S.g[ig[ig.length-1]].getName());io.rect=fs;io.buffer=l.U(fs.Z()*4);var bu=S.Jy(ig);l.pY(bu,h3,io.buffer,fs);
io.t6();io.G()}else{S.ajz(ig,!0);io=S.g[S._[0]];S.g.splice(S._[0],1);var cG=S.cc(io.add.SoLd.Idnt.v);
S.add.lnk2.splice(S.add.lnk2.indexOf(cG),1);delete io.add.SoLd}var eT=v,en=-1;if(Z.Oz&&Z.Oz.Dplc&&Z.Oz.Dplc.v)eT=!0;
if(eT&&u==w.$b&&S.g[eC[0]].JB()&&S.g[eC[0]].rect.Ov()){en=eC[0]}if(en!=-1||jc){var dC=S.g[en!=-1?en:r-1];
io.Se(dC.getName());io.add.lclr=dC.add.lclr}var ea=[];for(var q=0;q<S.g.length;q++)if(eT||ig.indexOf(q)==-1)if(q!=en)ea.push(S.g[q]);
var j7=ig[ig.length-1],js=j7==S.g.length-1?null:S.g[j7+1],gx=js?ea.indexOf(js):ea.length;ea.splice(gx,0,io);
cN=[gx];var $=new h8([6,12,0],this);$.data={d:w.Wn,Tl:aD,Gb:ea,Oc:eC,RU:cN};S.oF($);this.gE($.data,S)}if(u==w.ak6){var bb=S.AB();
bb.rect=new bq(0,0,S.e,S.n);bb.buffer=l.U(bb.rect.Z()*4);l._z(bb.buffer,4294967295);l.a.qn("norm",S.Jy(),bb.rect,bb.buffer,bb.rect,bb.rect,1);
bb.Se("Background");bb.add.lspf=1<<2;var $=new h8([6,12,1],this);$.data={d:w.Wn,Tl:S.g.slice(),Gb:[bb],Oc:S._.slice(0),RU:[0]};
S.oF($);this.gE($.data,S)}var bM=u==w.SK||u==w.bF;if(u==w.qR||u==w.wh||u==w.rC||u==w.a4||bM){var O=bM?S.uO()[0]:S.AB(),eu=iD.get([0,3]),dQ=Z.Jo,fc=!1,iu,bj;
if(u==w.rC)eu=iD.get([12,76,1]);if(bM){if(S.$){var fb=S.g[S._[0]],fA=fb.lQ(S,S.$);if(fA==null){alert("Copied area is empty");
return}O.rect=fA.rect;O.buffer=fA.aP;O.MQ(S)}else dQ=O.getName();O.add.lspf=0;O.GT=!1;if((O.Kl&1)!=0)O.Kl--}if(u==w.a4){O.rect=g.dW.eG(Z.xw,S);
O.buffer=Z.xw.buffer.slice(0);if(Z.FB&&S.$){O.v=new w.Ga;O.v.rect=S.$.rect;O.v.color=0;O.v.channel=S.$.channel.slice(0)}}if(u==w.qR){this.track({CE:"make",Oz:{classID:"Mk",null:hX.NN("Lyr")}})}if(u==w.wh){O.Kl|=16;
var i6=Z.Oz.Usng.v,dF=i6.Type.v,ir=e$.Nn[dF.classID];eu=iD.get(e$.names[ir]);if(i6.Nm)dQ=i6.Nm.v;O.add[ir]=bS.ej(ir);
if(O.add[ir]==null)O.add[ir]={};for(var cm in dF)O.add[ir][cm]=JSON.parse(JSON.stringify(dF[cm]));O.v=g.dW.BL(S);
O.E_=1}if(u==w.rC){O.Kl|=16;var gC=Z.Oz,i6=gC.Usng.v,bF=i6.Type.v,hQ=i6.Shp;if(i6.Nm)dQ=i6.Nm.v;if(hQ==null){var hy=S.Nu(),b1=hy[0],f1=hy[1];
if(f1.length!=0&&b1[f1[0]].lU<0){var fM=b1[f1[0]].add;O.add.vmsk=fM.vmsk.clone();O.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));
O.add.vogk=JSON.parse(JSON.stringify(fM.vogk));S.yI=[]}else O.v=g.dW.BL(S)}else{console.log(i6);O.add.vmsk=new w.r6;
O.add.vstk=JSON.parse(JSON.stringify(i6.strokeStyle?i6.strokeStyle.v:fp.Rw.default));O.add.vogk=[];if(hQ){var iT=l.Ka.wo(hQ);
if(iT){O.add.vogk=[iT];O.add.vmsk.u.push({type:0,QZ:1,length:0});l.Ka.oY(O.add.vogk,O.add.vmsk)}else{hQ=hQ.v;
var gU=hQ.classID;if(gU=="Plgn"){var cg=hQ.Cntr.v,g0=hQ.corner.v;cg=new aS(cg.Hrzn.v.val,cg.Vrtc.v.val);
g0=new aS(g0.Hrzn.v.val,g0.Vrtc.v.val);O.add.vmsk.u=l.q.eF.AW(cg.x,cg.y,Math.sqrt(g0.x*g0.x+g0.y*g0.y),Math.atan2(g0.y,g0.x),hQ.sides.v,0)}else if(gU=="customShape"){var hb=l.Ka.fB(hQ),fT=hb[2]-hb[0],jr=hb[3]-hb[1],aA=C.Tz,gd,gg;
for(var q=0;q<aA.length;q++)if(aA[q].Nv==hQ.Nm.v)gd=aA[q];if(gd){gg=w.r6.Vu(gd.u);l.q.uA(gg,new ht(fT,0,0,jr,hb[0],hb[1]))}else gg=l.q.eF.Rect(hb[0],hb[1],fT,jr,0);
O.add.vmsk.u=gg}O.VZ()}}}var dr={solidColorLayer:0,gradientLayer:1,patternLayer:2}[bF.classID],iM=["SoCo","GdFl","PtFl"][dr];
O.add[iM]=JSON.parse(JSON.stringify(fp.wv[dr]));g.dW.Vp(bF,O.add[iM],dr);if(hQ==null)eu=iD.get([6,48,0,dr]);
if(iM=="PtFl"){var h4=O.add[iM].Ptrn.v,ey=aK.Vr(h4,C.jx);if(ey==null)ey=aK.Vr(h4,S.add.Patt);h4.Idnt.v=ey.id;
S.hg(ey)}O.T3(S)}var i8=g.dW.UW(S,eu+" ");O.Se(eu+" "+(i8+1));if(dQ)O.Se(dQ);var a0=S._.length==0?S.g.length-1:S._[S._.length-1],dE=S.g[a0];
if(u==w.rC&&dE.JB()&&dE.rect.Ov()){fc=!0;O.Se(dE.getName());iu=a0}else{iu=a0+(u==w.qR&&j&&!e?0:1);if(dE&&dE.add.lsct==jf.AH)iu--}if(Z.acf)iu=Math.max(0,iu-1);
var ea=S.g.slice(0);if(u==w.bF){var dc=ea[S._[0]]=ea[S._[0]].clone(),fV=S.$.channel.slice(0);l.Yy(fV);
l.bc(fV,S.$.rect,dc.buffer,dc.rect)}ea.splice(iu,fc?1:0,O);var j3=[5,2];if(u==w.qR)j3=[6,13];if(u==w.wh)j3=[6,1];
if(u==w.rC){j3=[6,48,1];var hQ=Z.Oz.Usng.v.Shp;if(hQ){var cy={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[hQ.v.classID];
if(cy)j3=cy}}if(bM){j3=[6,49,u==w.SK?0:1]}if(bM||u==w.rC||u==w.a4||u==w.wh)if(S.$)bj=[S.$,null];var $=new h8(j3,this);
$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:[iu],Y2:bj};S.oF($);this.gE($.data,S);if(u==w.rC&&hQ==null&&dr!=0||u==w.wh){var t=new eY(_.E.W);
t.data={d:_.B.Bn,ct:cn.kI.sZ};m.c(t)}}if(u==w.IV){var O=S.AB(),eu=iD.get([0,4]),i8=g.dW.UW(S,eu+" ");
O.Se(eu+" "+(i8+1));O.E4="pass";O.add.lsct=jf.AH;O.Kl=24;if(Z.Jo)O.Se(Z.Jo);if(Z.I2!=null)O.add.lclr=Z.I2;
var iQ=S.iI(),a0=r,iu=a0+(j?0:1),ea=S.g.slice(0);ea.splice(iu,0,iQ,O);var $=new h8([6,20],this);$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:[iu+1]};
S.oF($);this.gE($.data,S)}if(u==w.Kn||u==w.LN){var gN=u==w.Kn?Z.source:S._[0],ao,eF,ho=S._.indexOf(gN)!=-1,jd=v|Z.acG,i5,iV=null;
if(ho)i5=S.fO();else i5=S.UP(gN);i5.sort(function($,jz){return $-jz});if(u==w.Kn){ao=Z.target;eF=Z.z3>.5}else if(Z.target!=null){ao=Math.min(Z.target,S.g.length-1);
eF=Z.target<S.g.length;S.B3=!0}else{var dG=Z.hN;eF=dG>1;if(dG==0){ao=S.g.length-1}if(dG==1){ao=i5[i5.length-1]+1;
var z=S.UP(ao);if(z.indexOf(gN)==-1)ao+=z.length-1}if(dG==2){ao=i5[0]-1;var z=S.UP(ao);if(z.indexOf(gN)==-1)ao-=z.length-1}if(dG==3){ao=0;
if(S.g[0].add.lnsr=="bgnd")ao++}if(ao<0||ao>S.g.length-1)return;S.B3=!0}if(i5.indexOf(ao)!=-1&&!jd)return;
var fS=g.dW.oL(S,i5,ao,eF,jd?S.uO(ho?null:gN):null,u==w.Kn&&Z.z3>.8),jy=fS.pop(),b4=fS.pop(),ea=fS.pop(),aE=S._;
S._=[gN];var dh=S.Ys();S._=[ao];var dA=S.Ys();if(dA==ao&&!eF)dA=-1;S._=aE;if(gN==dh){}else if(dh!=dA){var iV=new aS(0,0);
if(dh!=-1){var fD=S.g[dh].u1();iV.x-=fD.x;iV.y-=fD.y}if(dA!=-1){var fD=S.g[dA].u1();iV.x+=fD.x;iV.y+=fD.y}}var $=new h8(jd?[6,0]:[6,35],this);
$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:b4,Ey:iV};S.oF($);this.gE($.data,S);var gC={classID:"move",null:hX.NN("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:jy+(eF?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:jd}};
this.track({CE:"move",Oz:gC})}if(u==w.K4){if(Z.cJ){if(k==null||!k.O1())return;var G=S.root.Hr(r),g3=S.g.indexOf(G.arJ),ea=S.g.slice(0);
ea.splice(r,1);ea.splice(g3,1);var b4=[];for(var q=g3;q<r-1;q++)b4.push(q);var $=new h8("Ungroup Layers",this);
$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:b4};S.oF($);this.gE($.data,S)}else{var O=S.AB(),dT=iD.get([0,4])+" ";
O.Se(dT+(g.dW.UW(S,dT)+1));O.E4="pass";if(Z.Jo)O.Se(Z.Jo);if(Z.I2!=null)O.add.lclr=Z.I2;O.add.lsct=S._.length==1?jf.AH:jf.aa;
O.Kl=24;var iQ=S.iI(),i5=S.fO();if(i5.length==0)return;i5.sort(function($,jz){return $-jz});var ea=[];
for(var q=0;q<S.g.length;q++)if(i5.indexOf(q)==-1)ea.push(S.g[q]);var a0=S._[S._.length-1]-i5.length;
ea.splice(a0+1,0,iQ);for(var q=0;q<i5.length;q++)ea.splice(a0+2+q,0,S.g[i5[q]]);ea.splice(a0+2+i5.length,0,O);
var $=new h8([6,9],this);$.data={d:w.Wn,Tl:S.g.slice(0),Gb:ea,Oc:S._.slice(0),RU:[ea.indexOf(O)]};S.oF($);
this.gE($.data,S);var L={CE:"make",ox:!0};L.Oz={classID:"Mk",null:hX.NN("layerSection"),From:hX.NN("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:O.getName()}}}};
this.track(L)}}if(u==w.afJ){if(S._.length!=1)return;var c5=S._[0],c6=v;if(S.g[c5].sd()==null&&!B.j(iZ.Sx)){u=w.Xe;
Z.PC=S.$?!c6?"RvlS":"HdSl":!c6?"RvlA":"HdAl"}else{u=w.Za;Z.abv=!0}}if(u==w.Xe){if(S._.length!=1)return;
var c5=S._[0],O=S.g[c5];if(O.add.vmsk&&O.v==null)O.T3(S);var ap=O.sd();if(ap==null||Z.abW){var $=new h8([6,21],this),gq=new w.Ga,f2=Z.PC,bl=f2=="RvlS"||f2=="HdSl";
if(f2=="RvlS"||f2=="HdAl"||f2=="Trns")gq.color=0;if(bl){gq.channel=S.$.channel.slice(0);gq.rect=S.$.rect.clone();
if(f2=="HdSl")l.Yy(gq.channel)}if(f2=="Trns"){gq.rect=O.rect.clone();gq.channel=l.U(O.rect.Z());l.NK(O.buffer,gq.channel,3)}$.data={d:w.Rj,q4:[c5,ap,gq],Y2:bl?[S.$,null]:null};
S.oF($);this.gE($.data,S);S.g[c5].E_=1;this.track({CE:"make",Oz:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:f2}}}})}}else if(u==w.a6v){var jl=S.g[Z.src],e0=S.g[Z.EF],$=new h8([6,21],this),gF=jl.sd(),cX=e0.sd(),aO=[Z.src,gF,null,Z.EF,cX,gF];
if(v||e){var iB=gF.clone();if(v)aO=[Z.EF,cX,iB];else aO[5]=iB;if(e){l.Yy(iB.channel);iB.color=255-iB.color}}$.data={d:w.Rj,q4:aO};
S.oF($);this.gE($.data,S)}if(u==w.CS){if(S._.length!=1)return;var c5=r,hY=S.g[c5].sd();if(hY!=null){var $=new h8([6,22],this);
$.data={d:w.Rj,q4:[r,hY,null]};S.oF($);this.gE($.data,S)}}if(u==w.zJ){var aD=S.g.slice(0),bb=k.clone(),eo=bb.sd();
l.bc(eo.fR(bb.rect),bb.rect,bb.buffer,bb.rect);g.dW.jk(S,bb);bb.t6();S.g[S._[0]]=bb;var $=new h8([5,8],this);
$.data={d:w.Wn,Tl:aD,Gb:S.g.slice(),Oc:S._.slice(0),RU:S._.slice(0)};S.oF($);this.gE($.data,S)}if(u==w.sE){if(S._.length!=1)return;
var c5=S._[0];if(S.g[c5].ws(S).v==null){var $=new h8([6,45],this);$.data={d:u,i:c5,v:new w.Ga};S.oF($);
this.gE($.data,S)}}if(u==w.q$){if(S._.length!=1)return;var c5=S._[0];if(S.g[c5].ws(S).v!=null){var $=new h8([6,46],this);
$.data={d:u,i:c5,v:S.g[c5].ws(S).v};S.oF($);this.gE($.data,S)}}if(u==w.$h){if(Z.src==null&&S._.length!=1)return;
if(Z.src!=null)r=Z.src;if(S.g[r].vI()){var $=new h8([6,47],this),aL=JSON.stringify(S.g[r].add.SoLd),el=JSON.parse(aL);
delete el.filterFX;$.data={d:w._2,uE:[{J0:r,Eq:[aL,JSON.stringify(el)],b4:[S.g[r].ws(S),null]}]};S.oF($);
this.gE($.data,S)}}if(u==w.Za){if(S._.length!=1)return;if(k.add.vmsk==null){var $=new h8([6,23],this),d6=S.Nu(),M=d6[1],d6=d6[0],gq,iT;
if(Z.abv&&M.length!=0){var fM=d6[M[0]].add;gq=fM.vmsk.clone();iT=fM.vogk}else{gq=new w.r6;iT=[];gq.u[1].all=Z.asH?0:1}$.data={d:u,i:r,C4:!0,v:gq,Ka:JSON.stringify(iT),Rw:null};
if(k.Ie()){$.data.Rw=JSON.stringify(fp.Rw.default)}S.oF($);this.gE($.data,S)}}if(u==w.iK){var jl=S.g[Z.src],e0=S.g[Z.EF];
if(e0.add.vmsk)return;var $=new h8([6,23],this),ay=jl.add.vmsk;$.data={i:Z.EF,C4:jl.aX,v:ay.clone(),Ka:JSON.stringify(jl.add.vogk),Rw:jl.add.vstk?JSON.stringify(jl.add.vstk):null};
if(v){$.data.d=w.Za}else{$.data.d=u;$.data.src=Z.src;$.data.EF=Z.EF}S.oF($);this.gE($.data,S)}if(u==w.vp||u==w.zK){if(S._.length!=1)return;
var O=S.g[r],ay=O.add.vmsk;if(ay!=null){var eZ=u==w.zK,$=new h8(eZ?[6,8]:[6,24],this);$.data={d:w.vp,i:r,C4:O.aX,v:ay,Ka:JSON.stringify(O.add.vogk),Rw:O.add.vstk?JSON.stringify(O.add.vstk):null};
if(eZ){$.data.Hi=ay.sd(O.add.vstk)}S.oF($);this.gE($.data,S)}}if(u==w.$Q){var $=new h8("Metadata",this);
$.data={d:u,f0:JSON.stringify(S.d_),zY:JSON.stringify(Z.zY)};S.oF($);this.gE($.data,S)}if(u==w.S5){var eL=Z.EF?Z.EF:S,hh=eL.name,dQ=Z.k+".psd";
if(hh==dQ)return;var $=new h8([6,37],this);$.data={d:u,aiV:hh,Jo:dQ};if(Z.a6O!=!0)eL.oF($);this.gE($.data,eL)}if(u==w.c3&&Z.hN.endsWith("makeframes")){var bd=[],fy=Z.hN.startsWith("make");
for(var q=0;q<S._.length;q++){var P=S._[q],O=S.g[P],gt=O.getName(),fk=gt.startsWith("_a_");if(fy==fk||O.add.lsct==jf.vX)continue;
var dL=fy?"_a_"+gt:gt.slice(3);bd.push([P,gt,dL,O.add.lnsr,null])}var $=new h8([6,37],this);$.data={d:w.k$,Lh:bd};
S.oF($);this.gE($.data,S)}if(u==w.k$){var hh=k.getName(),dQ=Z.name.substring(0,255);if(hh==dQ)return;
var $=new h8([6,37],this);$.data={d:u,Lh:[[r,hh,dQ,k.add.lnsr,null]]};S.oF($);this.gE($.data,S);this.track(hX.al("Nm",{t:"TEXT",v:dQ}))}if(u==w.gc){var aP=S.fO(),a8=[],aJ=[];
for(var q=0;q<aP.length;q++){a8.push(S.g[aP[q]].add.lclr);aJ.push(Z.af5)}var $=new h8([6,38],this);$.data={d:u,g:aP,adF:a8,I2:aJ};
S.oF($);this.gE($.data,S)}if(u==w.b_){var $=S.history[S.qA];if($!=null&&$.b==this&&$.data.d==u&&$.data.i==Z.B4&&$.data.sk.ii==Z.wp.ii)$.data.sk=Z.wp;
else{$=new h8("Mask Density / Feather",this);$.data={d:u,i:Z.B4,RL:S.g[Z.B4].b9(Z.wp.ii),sk:Z.wp};S.oF($)}this.gE($.data,S)}if(u==w.OF){var gz=JSON.stringify(Z.k),ij=JSON.parse(gz),$=S.history[S.qA];
if($!=null&&$.b==this&&$.data.d==u&&$.data.Z1==Z.Z1&&$.data.q0.join(",")==Z.q0.join(",")){for(var q=0;
q<Z.q0.length;q++)$.data.fq[q]=ij;if($.data.Oz&&ij.lE!=0)g.dW.Vp(ij.aI,$.data.Oz.T.v,ij.lE-1)}else{$=new h8([11,6],this);
$.data={d:u,q0:Z.q0,Z1:Z.Z1,aeO:[],fq:[]};var a$=!1;for(var q=0;q<Z.q0.length;q++){var P=Z.q0[q],O=S.g[P],ja=Z.Z1?g.X$.ur(S,P):JSON.parse(JSON.stringify(O.add.vstk));
$.data.aeO.push(ja);$.data.fq.push(ij);if(JSON.stringify(ja)!=gz)a$=!0}if(!a$)return;S.oF($);if(Z.Z1&&ij.lE>0){var gC=$.data.Oz={classID:"setd",null:hX.NN("contentLayer",!0),T:{t:"Objc",v:{}}},iM=["SoCo","GdFl","PtFl"][ij.lE-1];
g.dW.Vp(ij.aI,gC.T.v,ij.lE-1);this.track({CE:"set",Oz:gC})}}if(Z.Z1&&ij.lE==3)S.hg(aK.Vr(ij.aI.Ptrn.v,C.jx));
if(!Z.Z1){var ar=ij.strokeStyleContent.v;if(ar.classID==fp.Rw.lf[2])S.hg(aK.Vr(ar.Ptrn.v,C.jx))}this.gE($.data,S)}};
g.dW.oL=function(Z,m,S,B,C,u){var r=Z.g[S],k=[];if(C)k=Z.g.slice(0);else for(var q=0;q<Z.g.length;q++)if(m.indexOf(q)==-1)k.push(Z.g[q]);
var v=k.indexOf(r);if(u&&r.O1()&&r.add.lsct==jf.aa)v-=Z.UP(S).length-1;var e=[];for(var q=0;q<m.length;
q++){var j=v+(B?0:1)+q,$=C?C[q]:Z.g[m[q]];k.splice(j,0,$);e.push(j)}return[k,e,v]};g.dW.Vp=function(Z,m,S){var B=[fp.qc,fp.mc,fp.G3][S];
if(m.classID==null)m.classID=["solidColorLayer","gradientLayer","patternLayer"][S];for(var q=0;q<B.length;
q++)if(Z[B[q]])m[B[q]]=JSON.parse(JSON.stringify(Z[B[q]]))};g.dW.BL=function(Z){var m=new w.Ga;if(Z.$!=null){m.color=0;
m.channel=Z.$.channel.slice(0);m.rect=Z.$.rect.clone()}return m};g.dW.It=function(Z,m,S,B){var C=B.e/S.e,u=B.n/S.n,r=B.e/2,k=B.n/2,v=l.H.ez(B).t;
for(var q=0;q<Z.g.length;q++){var e=Z.g[q],j=e.add.SoLd;if(j==null||j.Idnt.v!=m)continue;if(C!=1||u!=1){var $=g.Q.wG(j.nonAffineTransform),U=l.N.Eh($,B),H=new ht;
H.translate(-r,-k);H.scale(C,u);H.translate(r,k);var z=l.N.n_(U,l.N.No(H)),f=v.slice(0);l.N.A(z,f);j.Trnf=g.Q.T5(f);
j.nonAffineTransform=g.Q.T5(f)}e.l8(Z)}Z.G()};g.dW.af3=function(Z,m,S){m.color=255-m.color;l.Yy(m.channel);
m.ZZ=!0;Z.T3(S);S.G()};g.dW.prototype.Jm=function(Z,m){var S=Z.d,B=m.g[Z.i];m.jU=!0;if(S==w.Gi){m.add.lnk2.splice(m.add.lnk2.indexOf(Z.q1),1,Z.QG);
g.dW.It(m,Z.id,Z.q1.BK[1],Z.QG.BK[1])}if(S==w.GC){B.add.SoLd.Impr.v.classID=Z.RL;B.l8(m)}if(S==w.pk){var C=JSON.parse(Z.q0);
for(var q=0;q<C.length;q++)m.g[C[q]].E4=Z.sK[q];m.G()}if(S==w.pZ){var C=JSON.parse(Z.q0);for(var q=0;
q<C.length;q++)m.g[C[q]].opacity=Z.sK[q];m.G()}if(S==w.Il){var C=JSON.parse(Z.q0);for(var q=0;q<C.length;
q++)if(m.g[C[q]].add.lsct!=jf.vX)m.g[C[q]].add.lspf=Z.sK[q]}if(S==w.OO){var u=Z.Bt,r=Z.a2e;delete B.add[u[0]];
if(r[0]!="----")B.add[r[0]]=r[1]}if(S==w.xW){B.add.iOpa=Z.sK;m.G()}if(S==w.Xm){for(var q=0;q<Z.q0.length;
q++){var k=m.g[Z.q0[q]];k.p0(!k.tm())}m.G()}if(S==w.XF){var v=B.sd();v.isEnabled=!v.isEnabled;B.T3(m);
m.G()}if(S==w.KJ){var v=B.ws(m).v;v.isEnabled=!v.isEnabled;B.G();m.G()}if(S==w.ZJ){var v=B.add.vmsk;
v.isEnabled=!v.isEnabled;if(!v.isEnabled){if(B.Hi){B.v=B.Hi;B.Hi=null}else B.v=null}else if(B.v){B.Hi=B.v;
B.v=null}B.T3(m);m.G()}if(S==w.Wc){B.GT=!B.GT;m.G()}if(S==w.IM){B.add.lmfx.masterFXSwitch.v=!B.add.lmfx.masterFXSwitch.v;
B.Jw.Be=!0;m.G()}if(S==w.r9){B.add.SoLd.filterFX.v.enab.v=!B.add.SoLd.filterFX.v.enab.v;B.qj(m);m.G()}if(S==w.U0){var e=Z.index,j=B.add.lmfx[fp.lg[e[0]]].v[e[1]].v;
j.enab.v=!j.enab.v;B.Jw.Be=!0;m.G()}if(S==w.o1){var $=m.g[Z.ij],U=m.g[Z.r1],H=Z.ae6,z=Z.amA;if(H=="")delete $.add.lmfx;
else $.add.lmfx=JSON.parse(H);if(z=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(z);$.Jw.Be=!0;U.Jw.Be=!0;
m.G()}if(S==w.yg){var f=B.add.SoLd.filterFX.v.filterFXList.v[Z.index].v;f.enab.v=!f.enab.v;B.qj(m);m.G()}if(S==w.adB){B.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(Z.a8E));
B.qj(m);m.G()}if(S==w.Y3){var v=B.sd();v.ie=!v.ie}if(S==w.gd){var v=B.add.vmsk;v.ie=!v.ie}if(S==w.HK){var D=Z.Mo;
for(var q=0;q<D.length;q+=2){var n=D[q],k=n>=0?m.g[n]:m.px[-1-n];k.add.vogk=JSON.parse(D[q+1]);l.Ka.oY(k.add.vogk,k.add.vmsk);
if(n>=0)k.T3(m)}m.G()}if(S==w.NU){B.add.artb=JSON.parse(Z.a2s);m.G();g.Gt.nL(m,Z)}if(S==w.ph){m.$=Z.s6;
m.Xz=Z.Mo.slice(0);m.tp=Z.M_.slice(0);m.tV=m.SW=!0}if(S==w.vu){B.N9=!B.N9}if(S==w.eB){var L=Z.aaW;for(var q=0;
q<L.length;q++)m.g[q].KI=L[q]}if(S==w.Wn){if(Z.Ey)g.ho.Kf(m,m._,null,-Z.Ey.x,-Z.Ey.y);if(Z.Oc)m._=Z.Oc;
if(Z.Y2)m.$=Z.Y2[0];m.ap=null;m.G();m.H_(Z.Tl);g.Gt.nL(m,Z);if(Z.Jh)m.JD(Z.Jh[0])}if(S==w.Rj){for(var q=0;
q<Z.q4.length;q+=3)g.dW.jk(m,m.g[Z.q4[q]],Z.q4[q+1]);if(Z.Y2){var a=Z.Y2[0];if(a==null)delete m.$;else m.$=a}}if(S==w.sE){B.ws(m).v=null;
B.G();m.G()}if(S==w.q$){B.ws(m).v=Z.v;B.G();m.G()}if(S==w._2){g.dW.wu(m,Z.uE,0)}if(S==w.Za){g.dW.tN(m,B,!0)}if(S==w.iK){g.dW.tN(m,m.g[Z.EF],Z.v.isEnabled);
g.dW.Op(m,m.g[Z.src],Z)}if(S==w.vp){if(Z.Hi)g.dW.jk(m,B,null);g.dW.Op(m,B,Z)}if(S==w.$Q){m.d_=JSON.parse(Z.f0)}if(S==w.S5){m.name=Z.aiV}if(S==w.k$){for(var q=0;
q<Z.Lh.length;q++){var F=Z.Lh[q],k=m.g[F[0]];k.Se(F[1]);if(F[3])k.add.lnsr=F[3];else delete k.add.lnsr}}if(S==w.gc){for(var q=0;
q<Z.g.length;q++)m.g[Z.g[q]].add.lclr=Z.adF[q]}if(S==w.OF){var A=Z.aeO;for(var q=0;q<Z.q0.length;q++){var k=m.g[Z.q0[q]],T=A[q];
if(!Z.Z1)k.add.vstk=JSON.parse(JSON.stringify(T));else g.X$._t(k,JSON.parse(JSON.stringify(T)));k.EQ(m)}m.G()}if(S==w.b_){B.fZ(Z.RL);
B.T3(m);m.G()}m.SW=!0};g.dW.prototype.gE=function(Z,m){var S=Z.d,B=m.g[Z.i];m.jU=!0;if(S==w.Gi){m.add.lnk2.splice(m.add.lnk2.indexOf(Z.QG),1,Z.q1);
g.dW.It(m,Z.id,Z.QG.BK[1],Z.q1.BK[1])}if(S==w.GC){B.add.SoLd.Impr.v.classID=Z.sk;B.l8(m)}if(S==w.pk){var C=JSON.parse(Z.q0);
for(var q=0;q<C.length;q++)m.g[C[q]].E4=Z.sk;m.G()}if(S==w.pZ){var C=JSON.parse(Z.q0);for(var q=0;q<C.length;
q++)m.g[C[q]].opacity=Z.sk;m.G()}if(S==w.Il){var C=JSON.parse(Z.q0);for(var q=0;q<C.length;q++)if(m.g[C[q]].add.lsct!=jf.vX)m.g[C[q]].add.lspf=Z.sk[q]}if(S==w.OO){var u=Z.a2e,r=Z.Bt;
delete B.add[u[0]];if(r[0]!="----")B.add[r[0]]=r[1]}if(S==w.xW){B.add.iOpa=Z.sk;m.G()}if(S==w.Xm){for(var q=0;
q<Z.q0.length;q++){var k=m.g[Z.q0[q]];k.p0(!k.tm())}m.G()}if(S==w.XF){var v=B.sd();v.isEnabled=!v.isEnabled;
B.T3(m);m.G()}if(S==w.KJ){var v=B.ws(m).v;v.isEnabled=!v.isEnabled;B.G();m.G()}if(S==w.ZJ){var v=B.add.vmsk;
v.isEnabled=!v.isEnabled;if(!v.isEnabled){if(B.Hi){B.v=B.Hi;B.Hi=null}else B.v=null}else if(B.v){B.Hi=B.v;
B.v=null}B.T3(m);m.G()}if(S==w.Wc){B.GT=!B.GT;m.G()}if(S==w.IM){B.add.lmfx.masterFXSwitch.v=!B.add.lmfx.masterFXSwitch.v;
B.Jw.Be=!0;m.G()}if(S==w.r9){B.add.SoLd.filterFX.v.enab.v=!B.add.SoLd.filterFX.v.enab.v;B.qj(m);m.G()}if(S==w.U0){var e=Z.index,j=B.add.lmfx[fp.lg[e[0]]].v[e[1]].v;
j.enab.v=!j.enab.v;B.Jw.Be=!0;m.G()}if(S==w.o1){var $=m.g[Z.ij],U=m.g[Z.r1],H=Z.agB,z=Z.a6b;if(H=="")delete $.add.lmfx;
else $.add.lmfx=JSON.parse(H);if(z=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(z);$.Jw.Be=!0;U.Jw.Be=!0;
m.G()}if(S==w.yg){var f=B.add.SoLd.filterFX.v.filterFXList.v[Z.index].v;f.enab.v=!f.enab.v;B.qj(m);m.G()}if(S==w.adB){B.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(Z.akF));
B.qj(m);m.G()}if(S==w.Y3){var v=B.sd();v.ie=!v.ie}if(S==w.gd){var v=B.add.vmsk;v.ie=!v.ie}if(S==w.HK){var D=Z.MK;
for(var q=0;q<D.length;q+=2){var n=D[q],k=n>=0?m.g[n]:m.px[-1-n];k.add.vogk=JSON.parse(D[q+1]);l.Ka.oY(k.add.vogk,k.add.vmsk);
if(n>=0)k.T3(m)}m.G()}if(S==w.NU){B.add.artb=JSON.parse(Z.jp);m.G();g.Gt.v3(m,Z)}if(S==w.ph){m.$=Z.DA;
m.Xz=Z.MK.slice(0);m.tp=Z.Ut.slice(0);m.tV=m.SW=!0}if(S==w.vu){B.N9=!B.N9}if(S==w.eB){var L=Z.ai3;for(var q=0;
q<L.length;q++)m.g[q].KI=L[q]}if(S==w.Wn){var a=Z.Gb,F=0,A;for(var q=0;q<a.length;q++){var k=a[q],T=k.add.lsct;
if(T==jf.vX)F++;else if(T==jf.AH||T==jf.aa)F--;if(k.add.artb&&F!=0)A="Artboards can not be inside folders."}if(A){m.history.pop();
m.qA--;alert(A);return}g.Gt.v3(m,Z);if(Z.RU)m._=Z.RU;if(Z.Y2)m.$=Z.Y2[1];m.ap=null;m.G();m.H_(Z.Gb);
if(Z.Ey)g.ho.Kf(m,m._,null,Z.Ey.x,Z.Ey.y);if(Z.Jh)m.JD(Z.Jh[1])}if(S==w.Rj){for(var q=0;q<Z.q4.length;
q+=3)g.dW.jk(m,m.g[Z.q4[q]],Z.q4[q+2]);if(Z.Y2){var P=Z.Y2[1];if(P==null)delete m.$;else m.$=P}}if(S==w.sE){B.ws(m).v=Z.v;
B.E_=0;B.G();m.G()}if(S==w.q$){B.ws(m).v=null;B.E_=0;B.G();m.G()}if(S==w._2){g.dW.wu(m,Z.uE,1)}if(S==w.Za){g.dW.Op(m,B,Z)}if(S==w.iK){g.dW.tN(m,m.g[Z.src],Z.v.isEnabled);
g.dW.Op(m,m.g[Z.EF],Z)}if(S==w.vp){g.dW.tN(m,B,Z.v.isEnabled);if(Z.Hi)g.dW.jk(m,B,Z.Hi)}if(S==w.$Q){m.d_=JSON.parse(Z.zY)}if(S==w.S5){m.name=Z.Jo}if(S==w.k$){for(var q=0;
q<Z.Lh.length;q++){var Y=Z.Lh[q],k=m.g[Y[0]];k.Se(Y[2]);if(Y[4])k.add.lnsr=Y[4];else delete k.add.lnsr}}if(S==w.gc){for(var q=0;
q<Z.g.length;q++)m.g[Z.g[q]].add.lclr=Z.I2[q]}if(S==w.OF){var Q=Z.fq;for(var q=0;q<Z.q0.length;q++){var k=m.g[Z.q0[q]],o=Q[q];
if(!Z.Z1)k.add.vstk=JSON.parse(JSON.stringify(o));else g.X$._t(k,JSON.parse(JSON.stringify(o)));k.EQ(m)}m.G()}if(S==w.b_){B.fZ(Z.sk);
B.T3(m);m.G()}m.SW=!0};g.dW.UW=function(Z,m){var S=0;for(var q=0;q<Z.g.length;q++){var B=Z.g[q].getName();
if(B.startsWith(m)){var C=B.slice(m.length).trim(),u=parseInt(C);if(!isNaN(u)&&u+""==C&&u>S)S=u}}return S};
g.dW.wu=function(Z,m,S){for(var q=0;q<m.length;q++){var B=m[q],C=Z.g[B.J0];if(B.Eq){C.add.SoLd=JSON.parse(B.Eq[S])}if(B.b4){if(B.b4[1-S]!=null)Z.zv(B.b4[1-S]);
if(B.b4[S]!=null)Z.gq(B.b4[S]);else C.E_=0}C.l8(Z)}};g.dW.eG=function(Z,m){var S=Z.eK,B=Z.rect.clone();
if(S!=null&&(S.x!=m.e||S.y!=m.n)){B.x=Math.floor((m.e-B.e)/2);B.y=Math.floor((m.n-B.n)/2)}return B};
g.dW.a3K=function(Z,m){if(m.Hi)m.Hi=null;else m.v=null;m.T3(Z);Z.G();m.E_=0};g.dW.jk=function(Z,m,S){var B=m.sd();
if(B==null&&S==null)return;if(B)g.dW.a3K(Z,m);if(S==null)return;if(m.v)m.Hi=S;else m.v=S;m.T3(Z);Z.G()};
g.dW.tN=function(Z,m,S){if(m.Hi&&S){m.v=m.Hi;m.Hi=null}else if(m.v&&S){m.v=null}delete m.add.vogk;delete m.add.vstk;
delete m.add.vmsk;m.T3(Z);m.aX=!1;Z.ap=[];Z.G()};g.dW.Op=function(Z,m,S){m.add.vogk=JSON.parse(S.Ka);
if(S.Rw)m.add.vstk=JSON.parse(S.Rw);else delete m.add.vstk;m.add.vmsk=S.v.clone();if(m.v&&m.add.vmsk.isEnabled)m.Hi=m.v;
m.T3(Z);m.aX=S.C4;Z.ap=[Z.g.indexOf(m)];Z.yI=[];Z.G()};g.w3=function(){g.cd.call(this,"Layer Styles",g.oV);
this.AG=null;this.TR=null;this.ID=null;this.kr=[];this.bh=null};g.w3.prototype=new g.cd;g.w3.prototype.W2=function(Z,m,S,B,C){var u=Z.i;
if(u==null)u=S._[0];var r=S.g[u],k=Z.lU;if(this.AG==null){this.ID=g.w3.By(S,r);this.AG=JSON.stringify(this.ID);
if(r.add.lmfx)this.TR=JSON.stringify(r.add.lmfx)}if(r.add.lmfx==null){r.add.lmfx=JSON.parse(fp.default);
for(var q=0;q<fp.order.length;q++)r.add.lmfx[fp.lg[q]]={t:"VlLs",v:[]}}if(Z.d=="scaleeffects"){if(Z.k=="confirm"||Z.k=="cancel"){this.W2({d:Z.k},m,S,B,C);
return}r.add.lmfx=JSON.parse(this.TR);aK.SC(r.add.lmfx,Z.k/100)}else if(Z.d=="changeprop"){var v=null;
if(k!=0){var e=this.kr[k[0]];if(e==null)e=fp.kr[k[0]];e=JSON.parse(e);var j=r.add.lmfx[fp.lg[k[0]]].v;
if(j[k[1]]==null)j[k[1]]={t:"Objc",v:e};v=j[k[1]].v;for(var $ in e)if(v[$]==null)v[$]=e[$]}if(Z.d=="changeprop"){if(k==0){this.ID[Z.yO].v=Z.k;
g.w3.Mk(S,r,this.ID)}else if(Z.yO=="lagl"){if(v.uglg&&v.uglg.v){S.yt(Z.k.val);this.ID.anY=S.mT()}else v[Z.yO].v=Z.k}else if(Z.yO=="Lald"){if(v.uglg.v){S.t7(Z.k.val);
this.ID.aci=S.mH()}else v[Z.yO].v=Z.k}else if((k[0]==3||k[0]==8)&&(Z.yO=="Clr"||Z.yO=="Grad")){if(Z.yO=="Clr"){v.Clr={t:"Objc",v:Z.k};
delete v.Grad}if(Z.yO=="Grad"){v.Grad={t:"Objc",v:Z.k};delete v.Clr}}else{v[Z.yO].v=Z.k}if(k!=0)this.kr[k[0]]=JSON.stringify(v)}if(k!=0)if(v.Ptrn)S.hg(aK.Vr(v.Ptrn.v,C.jx))}else if(Z.d=="setstl"){var U=Z.k.Lefx;
if(U)aK.ajr(U,S,C.jx);aK.al9(Z.k,r);this.ID=g.w3.By(S,r)}else if(Z.d=="st_dupsingle"){var H=r.add.lmfx[fp.lg[Z.$I[0]]].v;
if(H[Z.$I[1]]==null)return;var z=JSON.parse(JSON.stringify(H[Z.$I[1]]));H.splice(Z.$I[1],0,z)}else if(Z.d=="st_movsingle"){var f=Z.$I[1],H=r.add.lmfx[fp.lg[Z.$I[0]]].v;
if(H[Z.$I[1]]==null)return;var D=Math.max(0,Math.min(H.length-1,f+Z.a3S)),n=H[D];H[D]=H[f];H[f]=n}else if(Z.d=="cancel"){if(this.TR==null)delete r.add.lmfx;
else r.add.lmfx=JSON.parse(this.TR);g.w3.Mk(S,r,JSON.parse(this.AG));this.AG=null;this.TR=null}else if(Z.d=="confirm"){var L=JSON.stringify(r.add.lmfx),a=new h8([11,6],this);
a.data={g:[u],eJ:[this.TR],JS:[L],VI:[this.AG],ZP:[JSON.stringify(this.ID)]};S.oF(a);this.AG=null;this.TR=null;
if(L!=null){var F=JSON.parse(L);hR.XH(F);F.classID="Lefx";delete F.masterFXSwitch;var A=new eY(_.E.lX);
A.k0=!0;A.data={CE:"set",ox:!0};var T=hX.NN("Lyr",!0);T.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
A.data.Oz={__name:"Set",classID:"setd",null:T,T:{t:"Objc",v:F}};m.c(A)}}else if(Z.d=="st_copy"){this.bh=[this.AG,this.TR];
this.AG=null;this.TR=null}else if(Z.d=="st_paste"||Z.d=="st_clear"){if(Z.d=="st_paste"&&this.bh==null)return;
var P=Z.i!=null?[Z.i]:S._.slice(0),Y=[],Q=[],o=[],I=[];for(var q=0;q<P.length;q++){var r=S.g[P[q]],c=g.w3.By(S,r);
Y.push(r.add.lmfx?JSON.stringify(r.add.lmfx):null);o.push(JSON.stringify(c));if(Z.d=="st_paste"){Q.push(this.bh[1]);
I.push(this.bh[0])}else{Q.push(null);c.lrMd.v=0;c.Opct.v.val=100;c.iOpa.v.val=100;c.blIf={v:[]};for(var y=0;
y<10;y++)c.blIf.v.push(0,0,255,255);I.push(JSON.stringify(c))}}var a=new h8([11,6],this);a.data={g:P,eJ:Y,JS:Q,VI:o,ZP:I};
this.gE(a.data,S);S.oF(a);this.AG=null;this.TR=null}else{var i=this.ID,F=null;if(Z.d=="st_delsingle"){F=JSON.parse(this.TR);
F[fp.lg[Z.$I[0]]].v.splice(Z.$I[1],1);F=JSON.stringify(F)}if(F==null)delete r.add.lmfx;else r.add.lmfx=JSON.parse(F);
if(i!=null)g.w3.Mk(S,r,i);var a=new h8([11,6],this);a.data={g:[Z.i],eJ:[this.TR],JS:[F],VI:[this.AG],ZP:[JSON.stringify(i)]};
S.oF(a);this.AG=null;this.TR=null}r.Jw.Be=!0;S.jU=!0;S.G()};g.w3.By=function(Z,m){if(m.add.iOpa==null)m.add.iOpa=255;
if(m.add.brst==null)m.add.brst=[1,1,1];var S=m.O1()?["pass"].concat(d1.WJ):d1.WJ;return{lrMd:{v:S.indexOf(m.E4)},Opct:{v:{type:"#Prc",val:Math.round(m.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(m.add.iOpa*100/255)},t:"UntF"},blIf:{v:m.Eo.slice(0)},brst:{v:m.add.brst},anY:Z.mT(),aci:Z.mH(),O1:m.O1()}};
g.w3.Mk=function(Z,m,S){var B=m.O1()?["pass"].concat(d1.WJ):d1.WJ;m.E4=B[S.lrMd.v];m.opacity=Math.round(S.Opct.v.val*255/100);
m.add.iOpa=Math.round(S.iOpa.v.val*255/100);m.Eo=S.blIf.v.slice(0);m.add.brst=S.brst.v.slice(0);Z.yt(S.anY);
Z.t7(S.aci)};g.w3.prototype.Jm=function(Z,m){for(var q=0;q<Z.g.length;q++){var S=m.g[Z.g[q]],B=Z.eJ[q];
if(B==null)delete S.add.lmfx;else S.add.lmfx=JSON.parse(B);g.w3.Mk(m,S,JSON.parse(Z.VI[q]));S.Jw.Be=!0}m.jU=!0;
m.G()};g.w3.prototype.gE=function(Z,m){for(var q=0;q<Z.g.length;q++){var S=m.g[Z.g[q]],B=Z.JS[q];if(B==null)delete S.add.lmfx;
else S.add.lmfx=JSON.parse(B);g.w3.Mk(m,S,JSON.parse(Z.ZP[q]));S.Jw.Be=!0}m.jU=!0;m.G()};g.QH=function(){g.cd.call(this,"Layer Comps",g.iU)};
g.QH.prototype=new g.cd;g.QH.prototype.W2=function(Z,m,S,B){var C=JSON.parse(JSON.stringify(S.Z3)),u=JSON.parse(JSON.stringify(S.Z3)),r=null,k=null,v=null,e=-1,j=!1;
if(Z.d=="delLC"){var $=g.QH.dZ(S.Z3,Z.lU),U=S.Z3.lastAppliedComp?S.Z3.lastAppliedComp.v:0;u.list.v.splice($,1);
if(U==Z.lU)delete u.lastAppliedComp;r="Delete Layer Comp"}if(Z.d=="editLC"){var $=g.QH.dZ(S.Z3,Z.lU),H=u.list.v[$].v;
if(Z.Jo!=null)H.Nm.v=Z.Jo;if(Z.a5P!=null){var z=Z.a5P,f=H.capturedInfo.v,D=f&(1<<z)-1;f=f>>z;if((f&1)==1)f--;
else f++;H.capturedInfo.v=(f<<z)+D}r="Layer Comp properties"}if(Z.d=="setLC"){g.QH.Ix(S);if(Z.lU==0)delete u.lastAppliedComp;
else u.lastAppliedComp={t:"long",v:Z.lU};r="Switch Layer Comp";j=!0}if(Z.d=="updLC"){g.QH.Ix(S);k=g.QH.akh(S,Z.lU);
v=g.QH.G$(S,Z.lU);u.lastAppliedComp={t:"long",v:Z.lU};r="Update Layer Comp";e=Z.lU;j=!0}if(Z.d=="addLC"){g.QH.Ix(S);
var n=1;for(var q=0;q<u.list.v.length;q++)n=Math.max(n,u.list.v[q].v.compID.v)+1;n+=Math.floor(Math.random()*1e4);
var L={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(u.list.v.length+1)},compID:{t:"long",v:n},capturedInfo:{t:"long",v:7}}};
u.list.v.push(L);u.lastAppliedComp={t:"long",v:n};r="New Layer Comp";var a=g.QH.G$(S,n);g.QH.Xa(S,a,n)}var F=new h8(r,this);
F.data={acb:C,a44:u,afR:k,amp:v,lU:e,os:j};this.gE(F.data,S);S.oF(F)};g.QH.prototype.gE=function(Z,m){m.Z3=Z.a44;
m.jU=!0;if(Z.amp)g.QH.Xa(m,Z.amp,Z.lU);if(Z.os){var S=m.Z3.lastAppliedComp?m.Z3.lastAppliedComp.v:0,B=g.QH.dZ(m.Z3,S),C=B==-1?null:m.Z3.list.v[B].v,u=C?C.capturedInfo.v:7;
g.QH.zZ(m,S,u);m.G()}};g.QH.prototype.Jm=function(Z,m){m.Z3=Z.acb;m.jU=!0;if(Z.afR)g.QH.Xa(m,Z.afR,Z.lU);
if(Z.os){var S=m.Z3.lastAppliedComp?m.Z3.lastAppliedComp.v:0,B=g.QH.dZ(m.Z3,S),C=B==-1?null:m.Z3.list.v[B].v,u=C?C.capturedInfo.v:7;
g.QH.zZ(m,S,u);m.G()}};g.QH.Ix=function(Z){if(Z.Z3.lastAppliedComp!=null||!Z.jq)return;var m=g.QH.G$(Z,0);
g.QH.Xa(Z,m,0);Z.jq=!1};g.QH.OV=function(Z,m,S){Z.v.Hrzn.v+=m;Z.v.Vrtc.v+=S};g.QH.dZ=function(Z,m){var S=Z.list.v;
for(var q=0;q<S.length;q++)if(S[q].v.compID.v==m)return q;return-1};g.QH.ab4=function(Z){var m=Z.layerSettings.v,C=null;
if(m.length==0)return;var S="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),B=m[0].v;
if(B.enab==null)B.enab={t:"bool",v:!0};if(B.Ofst==null)B.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var q=0;q<m.length;q++){var u=m[q].v;if(C==null)C=JSON.parse(JSON.stringify(u));else for(var r=0;
r<S.length;r++){var k=S[r];if(u[k])C[k]=JSON.parse(JSON.stringify(u[k]))}m[q].v=JSON.parse(JSON.stringify(C))}};
g.QH.A$=function(Z,m){var S=Z.add.shmd.cmls,B=S.layerSettings.v;for(var C=0;C<B.length;C++){var u=B[C].v,r=u.compList.v[0].v;
if(r==m)return C}return-1};g.QH.z5=function(Z,m){var S=g.QH.A$(Z,m);return S==-1?null:Z.add.shmd.cmls.layerSettings.v[S].v};
g.QH.zZ=function(Z,m,S){for(var q=0;q<Z.g.length;q++){var B=Z.g[q],C=B.add.shmd.cmls;if(C==null)continue;
var u=C.layerSettings.v,r=g.QH.z5(B,m);if(r==null){B.p0(!1);continue}if((S&1)!=0){if(r.enab)B.p0(r.enab.v);
else B.p0(!0)}if((S&2)!=0){if(r.Ofst){var k=r.Ofst.v,v=B.SJ(Z),e=Math.round(k.Hrzn.v-v.x),j=Math.round(k.Vrtc.v-v.y);
if(e!=0||j!=0)g.ho.Kf(Z,[q],null,e,j)}}if((S&4)!=0){if(r.Lefx){var $=JSON.parse(JSON.stringify(r.Lefx.v));
hR.Rh($);if(JSON.stringify($)!=JSON.stringify(B.add.lmfx)){B.add.lmfx=$;B.Jw.Be=!0}}else delete B.add.lmfx;
if(r.blendOptions){var U=r.blendOptions.v;if(U.Opct)B.opacity=Math.round(255*U.Opct.v.val/100);if(U.fillOpacity)B.add.iOpa=Math.round(255*U.fillOpacity.v.val/100);
if(U.Md)B.E4=B.add.lsct==jf.vX?"norm":d1.Pi(U.Md.v.BlnM)}else{B.opacity=255;B.E4=B.O1()?"pass":"norm";
B.add.iOpa=255}}}};g.QH.akh=function(Z,m){var S={};for(var q=0;q<Z.g.length;q++){var B=Z.g[q];if(B.add.shmd==null||B.add.shmd.cmls==null)continue;
S["l"+B.add.lyid]=JSON.parse(JSON.stringify(g.QH.z5(B,m)))}return S};g.QH.G$=function(Z,m){var S={};
for(var q=0;q<Z.g.length;q++){var B=Z.g[q],C=B.add.lyid;S["l"+C]=g.QH.Ni(Z,B,m)}return S};g.QH.Ni=function(Z,m,S){var B=m.add.shmd?m.add.shmd.cmls:null,C={classID:"null"},u=m.SJ(Z),r={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:u.x},Vrtc:{t:"long",v:u.y}}};
C.compList={t:"VlLs",v:[{t:"long",v:S}]};C.enab={t:"bool",v:m.tm()};C.Ofst=JSON.parse(JSON.stringify(r));
C.FXRefPoint=JSON.parse(JSON.stringify(B&&B.origFXRefPoint?B.origFXRefPoint:r));C.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:d1.D2(m.E4)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*m.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:m.add.iOpa!=null?100*m.add.iOpa/255:100}}}};
if(m.add.vmsk){C.vectorMask={t:"Objc",v:{classID:"null"}};C.vectorMask.v.Ofst=JSON.parse(JSON.stringify(r))}if(m.add.lmfx){C.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(m.add.lmfx))};
hR.XH(C.Lefx.v)}return C};g.QH.anW=function(Z,m){var S=m.add.lyid;if(m.add.shmd==null)m.add.shmd={};
if(m.add.shmd.cmls==null){m.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:S},layerSettings:{t:"VlLs",v:[{t:"Objc",v:g.QH.Ni(Z,m,0)}]}}}};
g.QH.Xa=function(Z,m,S){for(var q=0;q<Z.g.length;q++){var B=Z.g[q],C=B.add.lyid;g.QH.anW(Z,B);var u=B.add.shmd.cmls,r=u.layerSettings.v,k=m["l"+C];
if(k!=null)k={t:"Objc",v:JSON.parse(JSON.stringify(k))};var v=g.QH.A$(B,S);if(v==-1){if(k==null)continue;
else r.push(k)}else{if(k==null)r.splice(v,1);else r[v]=k}}};g.QH.W$=function(Z,m){for(var q=0;q<Z.g.length;
q++){var S=Z.g[q],B=S.add.lyid;if(S.add.shmd==null||S.add.shmd.cmls==null)continue;var C=S.SJ(Z),u=Math.round(C.x),r=Math.round(C.y);
if(!m){u=-u;r=-r}var k=S.add.shmd.cmls,v=k.layerSettings.v;if(k.origFXRefPoint)g.QH.OV(k.origFXRefPoint,-u,-r);
for(var e=0;e<v.length;e++){var j=v[e].v;g.QH.OV(j.Ofst,u,r);var $=j.imageMask,U=j.vectorMask;if($&&$.v.Ofst)g.QH.OV($.v.Ofst,u,r);
if(U&&U.v.Ofst)g.QH.OV(U.v.Ofst,u,r)}}};g.YP=function(){g.cd.call(this,"Adjust Edit",g.b$);this.zY=null;
this.NP=null};g.YP.prototype=new g.cd;g.YP.Vw=function(Z,m,S,B){if(B)m/=4;var C=0,u=0,r=255,k=0,v=0,e=255;
while(u+Z[C]<m){u+=Z[C];C++}while(k+Z[r]<m){k+=Z[r];r--}if(B){C-=Math.round(Z[C]/(S/32));r+=Math.round(Z[r]/(S/32));
if(C<0)v=Math.round(-C*255/(r-C));if(r>255)e=255-Math.round((r-255)*255/(r-C))}return[Math.max(C,0),Math.min(r,255),v,e,100]};
g.YP.prototype.W2=function(Z,m,S,B,C){var u=Z.d;if(u=="auto"){var r=Z.Wu,k=g.YP.getData(S);for(var q=0;
q<k.length;q++){var v=k[q],e;if(r<3){}else{var j=bS.ej("hue2");iL.$H(j,0,[0,-100,0]);e=e$.kA("hue2",j)}e$.Yb(e,v.aP,v.a8,v.pe)}g.YP.nD(S,k);
g.YP.$f(S,k,r<3?[4,16,r]:[19,7,0],this);S.G()}if(u=="edit_layer")this.a5t(Z,m,S,B);if(u=="edit"||u=="confirm"||u=="cancel")this.Hn(Z,m,S,C,!0);
if(u=="start"){if(S._.length==0)return;var $=S.g[S._[0]];if($.add.SoLd&&$.E_<=0&&S.tp.length==0){var U=new eY(_.E.Y,!0);
U.b=g.Ny;U.data={d:"start",wm:Z.sv,jA:Z.jA};m.c(U);return}if(!S.Ef(m,null,!0))return;if(s[Z.sv]&&Z.jA==null){if(S._.length!=1)alert("Will be applied to "+S._.length+" layers.");
var U=new eY(_.E.W,!0);U.data={d:_.B.Me,ct:"afw_"+Z.sv};m.c(U)}else{this.Hn({d:"edit",jA:Z.jA,wm:Z.sv},m,S,C);
this.Hn({d:"confirm",wm:Z.sv},m,S,C)}}};g.YP.prototype.a5t=function(Z,m,S,B){var C=Z.d,u=S._[0],r=S.g[u],k=e$.get(r.add),v=JSON.parse(JSON.stringify(r.add[k])),U;
for(var e in Z.k)v[e]=Z.k[e];var j=JSON.parse(JSON.stringify(v));for(var e in e$.Nn)if(e$.Nn[e]==k)j.classID=e;
var $=S.history[S.qA];if($&&$.b==this&&$.data.RL!=null&&$.data.i==u)U=$;else{var H=new eY(_.E.lX,!0),z={classID:"setd",null:hX.NN("AdjL",!0),T:{t:"Objc",v:j}};
H.data={ox:!0,CE:"set",Oz:z};m.c(H);var U=new h8([6,39],this);U.data={i:u,RL:r.add[k],sk:v,T8:z};S.oF(U)}U.data.sk=v;
U.data.T8.T.v=j;this.gE(U.data,S)};g.YP.getData=function(Z,m,S){var B=[],C=new bq(0,0,Z.e,Z.n),u=Z.tp.length!=0?[-1-Z.tp[0]]:Z._;
for(var q=0;q<u.length;q++){var r=u[q],k=r<0?null:Z.g[r],v={i:r,Hl:r<0?1:k.E_};B.push(v);var e=Z.Xz[-1-r];
if(0<=r)e=k.E_<=0?null:k.E_==1?k.sd():k.ws(Z).v;var j=e?e.rect:k.rect;if(Z.$)v.pe=e!=null?Z.$.rect.o9(C):Z.$.rect.o9(j);
else v.pe=m||e!=null?j.j3(C):j.clone();if(S)v.pe=S[q].pe.clone();var $=v.pe.Z();v.aP=l.U($*4);if(e)g.T1.mM(e.channel,e.rect,e.color,v.aP,v.pe);
else l.pY(k.buffer,j,v.aP,v.pe);v.a8=v.aP.slice(0);if(Z.$){v.q4=l.U($);l.Ju(Z.$.channel,Z.$.rect,v.q4,v.pe)}}return B};
g.YP.anc=function(Z,m,S){if(m==null)return m;var B=e$.se(Z,m),u;if(B==-1)return m;var C=S.length>>>2,r=l.LA(S),k=.001*C;
if(B==0||B==2)u=[[0,255,0,255,100],g.YP.Vw(r[1],k,C,B==2),g.YP.Vw(r[2],k,C,B==2),g.YP.Vw(r[3],k,C,B==2)];
if(B==1)u=[g.YP.Vw(r[0],k*.33,C,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var v=bS.ej("levl");
for(var q=0;q<4;q++)dW.$H(v,q,u[q]);return v};g.YP.wT=function(Z,m,S,B){var C,u;if(S.t=="name"){var r=0;
for(var k=0;k<Z.g.length;k++)if(Z.g[k].getName()==S.v.val)r=k;if(Z==m&&r==B.i){C=B.aP;u=B.pe}else{var v=Z.g[r];
C=v.buffer;u=v.rect}}else{u=new bq(0,0,Z.e,Z.n);C=Z==m?B.dk:Z.Jy()}return[C,u]};g.YP.prototype.Hn=function(Z,m,S,B){if(this.zY==null){if(Z.wm=="aply")S.g[S._[0]].extend(new bq(0,0,S.e,S.n));
this.zY=g.YP.getData(S,null,Z.wm=="fade"?S.rX().data:null);if(Z.wm=="aply"||Z.wm=="matc")this.zY[0].dk=S.Jy()}if(Z.d=="edit"){this.NP=[Z.wm,Z.jA];
var C=this.zY[0],u=g.YP.anc(Z.wm,Z.jA,C.aP),r=e$.kA(Z.wm,u);if(Z.wm=="fade"||Z.wm=="matc"||Z.wm=="aply")r=Z.jA;
if(r!=null){for(var k=0;k<this.zY.length;k++){var v=this.zY[k];if(Z.Fp)l.Yx(v.aP,v.a8);else if(Z.wm=="fade"){var e=d1.Pi(Z.jA.Md.v.BlnM),j=Z.jA.Opct.v.val/100,$=S.rX().data[k];
l.Yx($.aP,v.a8);if(e=="norm")l.a.yb(v.aP,v.pe,v.a8,v.pe,null,null,null,v.pe,j);else{var U=aK.Tt();U.UN=!0;
for(var q=0;q<$.aP.length;q+=4)if($.aP[q+3]!=v.aP[q+3]){U=null;break}l.a.qn(e,v.aP,v.pe,v.a8,v.pe,v.pe,j,U)}}else if(Z.wm=="matc"){var H;
if(r.noReference&&r.noReference.v)H=v.aP;else{var z=r.Srce.v,f=z[1].v.val,D=m.xk,n=S;for(var q=0;q<D.length;
q++)if(D[q].name==f)n=D[q];var L=g.YP.wT(n,S,z[0],v);H=L[0]}gy(v.aP,v.pe.e,v.pe.n,H,v.a8,[r.Lght.v,r.ClrR.v,r.Fade.v,r.neutralizeColor?r.neutralizeColor.v:!1])}else if(Z.wm=="aply"){r=r.With.v;
var a=r.T.v,L=g.YP.wT(S,S,a[1],v),H=L[0],F=L[1],A=r.Clcl?r.Clcl.v.Clcn:null,e=A?d1.Pi(A):"norm",j=r.Opct?r.Opct.v.val/100:1,T=["RGB","Rd","Grn","Bl","Trsp"].indexOf(a[0].v.enum),u=r.Invr&&r.Invr.v;
if(u||T!=0){H=H.slice(0);if(u)l.a23(H);if(T!=0){var P=l.U(F.Z());l.NK(H,P,T-1);if(T==4)l.Yy(P);for(var Y=0;
Y<3;Y++)l.cN(P,H,Y)}}if(A=="Add"||A=="Sbtr"){var Q=1/r.Scl.v,o=r.Ofst.v,I=A=="Add"?1:-1,c=new Uint8ClampedArray(v.a8.buffer);
for(var q=0;q<H.length;q+=4){c[q]=(v.aP[q]+I*H[q])*Q+o;c[q+1]=(v.aP[q+1]+I*H[q+1])*Q+o;c[q+2]=(v.aP[q+2]+I*H[q+2])*Q+o}}else{var U=aK.Tt();
U.UN=r.PrsT&&r.PrsT.v;v.a8.fill(0);v.a8.set(v.aP);l.a.qn(e,H,F,v.a8,v.pe,v.pe,j,U)}}else e$.Yb(r,v.aP,v.a8,v.pe)}g.YP.nD(S,this.zY)}}if(Z.d=="cancel"){g.YP.RC(S,this.zY);
this.zY=null}if(Z.d=="confirm"){var y={fade:[2,11],aply:[2,12],matc:[4,18]},i=y[Z.wm];if(i==null)i=e$.names[Z.wm];
var d=e$.se(Z.wm,this.NP[1]);if(d!=-1)i=[4,16,d];g.YP.$f(S,this.zY,i,this);this.zY=null;if(d==-1)g.YP.$u(m,this.NP)}S.G()};
g.YP.$u=function(Z,m){var S=m[0],B=m[1],C,u;if(e$.pd[S]){C=e$.pd[S];if(s[S])u=B}if(bS.pd[S]){C=bS.pd[S];
if(s[S])u=B}if(S=="fade"){C="fade";u=B}if(S=="matc"){C="matchColor";u=B}if(S=="aply"){C="applyImageEvent";
u=B}if(C==null)return;var r=new eY(_.E.lX,!0);r.data={ox:!0,CE:C};if(u){u=JSON.parse(JSON.stringify(u));
u.classID="null";delete u.__name;r.data.Oz=u}Z.c(r)};g.YP.RC=function(Z,m){g.YP.de(Z,m)};g.YP.$f=function(Z,m,S,B){for(var q=0;
q<m.length;q++){var C=m[q],u=Z.g[C.i],r=C.i<0?Z.Xz[-1-C.i]:C.Hl<=0?null:C.Hl==1?u.sd():u.ws(Z).v;if(r){r.t6();
r.ZZ=!0;if(u)u.T3(Z)}else{u.t6();u.G()}delete C.a8;delete C.q4}var k=new h8(S,B);k.data=m;Z.oF(k);Z.jU=!0};
g.YP.nD=function(Z,m,S){for(var q=0;q<m.length;q++){var B=m[q],C=Z.g[B.i],u=S?B.aP:B.a8,r=B.pe;if(B.Hl==0){C.extend(r);
if(B.q4){l.pY(B.aP,r,C.buffer,C.rect);l.a.yb(u,r,C.buffer,C.rect,B.q4,r,0,r,1)}else l.pY(u,r,C.buffer,C.rect)}else{var k=B.i<0?Z.Xz[-1-B.i]:B.Hl==1?C.sd():C.ws(Z).v;
k.extend(r);if(B.q4){var v=l.U(r.Z()*4);l.Yx(B.aP,v);l.a.yb(u,r,v,r,B.q4,r,0,r,1);g.T1.pz(v,r,k)}else g.T1.pz(u,r,k);
k.ZZ=!0;if(C)C.T3(Z)}if(C)C.G()}if(!S)g.YP.hq(Z,m)};g.YP.de=function(Z,m){for(var q=0;q<m.length;q++){var S=m[q],B=Z.g[S.i],C=S.pe,u=l.U(C.Z()*4);
if(S.Hl==0){l.pY(B.buffer,B.rect,u,C);B.extend(C);l.pY(S.aP,C,B.buffer,B.rect);B.t6()}else{var r=S.i<0?Z.Xz[-1-S.i]:S.Hl==1?B.sd():B.ws(Z).v;
g.T1.mM(r.channel,r.rect,r.color,u,C);r.extend(C);g.T1.pz(S.aP,C,r);r.t6();r.ZZ=!0;if(B)B.T3(Z)}S.aP=u;
if(B)B.G()}Z.jU=!0};g.YP.hq=function(Z,m){var S=g.YP.u0(Z),B=~S;if(S==16777215)return;for(var q=0;q<m.length;
q++){var C=m[q],u=Z.g[C.i],r=C.pe;if(C.Hl!=0)continue;u.extend(r);var k=r.x-u.rect.x,v=r.y-u.rect.y,e=u.rect.e,j=new Uint32Array(C.aP.buffer),$=new Uint32Array(u.buffer.buffer);
for(var U=0;U<r.n;U++)for(var H=0;H<r.e;H++){var z=U*r.e+H,f=(U+v)*e+(H+k);$[f]=$[f]&S|j[z]&B}u.t6();
u.G()}Z.G()};g.YP.u0=function(Z){var m=Z.s.U1;return m[2]*16711680|m[1]*65280|m[0]*255};g.YP.prototype.Jm=function(Z,m){var S=m.g[Z.i];
if(Z.RL!=null)S.add[e$.get(S.add)]=Z.RL;else g.YP.de(m,Z);m.G()};g.YP.prototype.gE=function(Z,m){var S=m.g[Z.i];
if(Z.RL!=null)S.add[e$.get(S.add)]=Z.sk;else g.YP.de(m,Z);m.G()};g.gl=function(){g.cd.call(this,"Filter Edit",g.Ny);
this.zY=null;this.dz=null;this.d=null;this.NP=null};g.gl.prototype=new g.cd;g.gl.prototype.W2=function(Z,m,S,B,C){if(Z.d=="start"){if(S._.length==0)return;
var u=S.g[S._[0]];if(u.add.SoLd&&u.E_<=0&&S.tp.length==0){}else if(!S.Ef(m,null,!0))return;var r=Z.wm;
if((s[r]||bS.P[r])&&Z.jA==null){if(S._.length!=1)alert("Will be applied to "+S._.length+" layers.");
var k=new eY(_.E.W,!0);k.data=g.gl.BB(r,this.gZ(S,r));m.c(k)}else{var v={d:"edit",wm:r,jA:Z.jA,l7:this.gZ(S)};
this.W2(v,m,S,B,C);v.d="confirm";delete v.jA;this.W2(v,m,S,B,C)}}if(Z.d=="edit"||Z.d=="cancel"||Z.d=="confirm"){if(Z.d=="edit")this.NP=[Z.wm,Z.jA];
if(Z.l7)this.ajk(Z,S,C);else this.a9F(Z,m,S,C)}if(Z.d=="applylast"&&this.NP!=null){var v={d:"edit",wm:this.NP[0],jA:this.NP[1],l7:this.gZ(S)};
this.W2(v,m,S,B,C);v.d="confirm";delete v.jA;this.W2(v,m,S,B,C)}};g.gl.BB=function(Z,m){var S=bS.P[Z];
if(S)return{d:_.B.uv,b:S,xe:{l7:m}};else return{d:_.B.Me,ct:"afw_"+Z,l7:m}};g.gl.prototype.gZ=function(Z,m){var S=Z.g[Z._[0]],B;
if(S.add.SoLd&&S.E_<=0&&Z.tp.length==0){B={i:Z._[0],index:0};if(S.add.SoLd.filterFX!=null){var C=S.add.SoLd.filterFX.v.filterFXList.v;
B.index=C.length;for(var q=0;q<C.length;q++)if(bS.zE(C[q].v)==m&&bS.P[m])B.index=q}}return B};g.gl.prototype.ajk=function(Z,m,S){var B=m.g[Z.l7.i],C=Z.wm;
if(Z.d=="edit"){if(this.d==null){var u=bS.names[C];if(u==null)u=e$.names[C];if(C=="blendOptions")u=[14,10];
this.d=new h8(u,this);this.d.data={l7:Z.l7,a1R:JSON.parse(JSON.stringify(B.add.SoLd))}}if(!B.vI()){B.add.SoLd.filterFX=bS.cL();
this.d.data.b4=fl.a2z(B.add.SoLd.placed.v);m.gq(this.d.data.b4);B.l8(m)}var r=B.add.SoLd.filterFX.v.filterFXList.v;
if(r[Z.l7.index]==null){r.push(bS.Er(C,S))}if(Z.jA){r[Z.l7.index].v.enab.v=Z.Fp!=!0;if(C=="blendOptions")r[Z.l7.index].v.blendOptions.v=Z.jA;
else r[Z.l7.index].v.Fltr.v=Z.jA}this.d.data.a6X=JSON.parse(JSON.stringify(B.add.SoLd));this.gE(this.d.data,m)}if(Z.d=="cancel"){if(this.d)this.Jm(this.d.data,m);
this.d=null}if(Z.d=="confirm"){if(this.d)m.oF(this.d);this.d=null}};g.gl.prototype.v9=function(Z){return{I:Z>>>16,z:Z>>>8&255,S:Z&255}};
g.gl.prototype.a9F=function(Z,m,S,B){if(this.zY==null){var C=bS.$J(Z.wm,Z.jA);this.zY=g.YP.getData(S,C.x!=0||C.y!=0)}if(Z.d=="edit"){var u=JSON.stringify(Z.jA);
if((Z.jA==null||u!=this.dz)&&Z.Fp!=!0)for(var q=0;q<this.zY.length;q++){var r=this.zY[q],k={rect:r.pe,buffer:r.aP},v={rect:r.pe,buffer:r.a8};
if(Z.wm=="Avrg"&&r.q4){k.buffer=r.aP.slice(0);l.K7(r.q4,k.buffer)}bS.Yb(Z.wm,k,Z.jA,this.v9(B.Nx),this.v9(B.ZN),v,[S.add.lnk2?S.add.lnk2:[],S.g[S._[0]].sd(),S.Xz,S.Nu()]);
if(Z.wm=="Avrg"&&r.q4){var e=r.aP.length;for(var q=0;q<e;q+=4)r.a8[q+3]=r.aP[q+3]}this.dz=u}g.YP.nD(S,this.zY,Z.Fp)}if(Z.d=="cancel"){g.YP.RC(S,this.zY);
this.zY=null;this.dz=null}if(Z.d=="confirm"){g.YP.$f(S,this.zY,bS.names[Z.wm],this);this.zY=null;this.dz=null;
g.YP.$u(m,this.NP)}S.G();S.jU=!0};g.gl.prototype.Jm=function(Z,m){if(Z.l7){var S=m.g[Z.l7.i];if(Z.b4)m.zv(Z.b4);
S.add.SoLd=JSON.parse(JSON.stringify(Z.a1R));if(S.vI())S.qj(m);else{S.l8(m);S.E_=0}}else g.YP.de(m,Z);
m.G();m.jU=!0};g.gl.prototype.gE=function(Z,m){if(Z.l7){var S=m.g[Z.l7.i];if(Z.b4)m.gq(Z.b4);S.add.SoLd=JSON.parse(JSON.stringify(Z.a6X));
if(S.vI())S.qj(m);else S.l8(m);if(!S.RM())S.Kl+=32}else g.YP.de(m,Z);m.G();m.jU=!0};var bo={LE:"0",_4:"1",td:"2",le:"3",gw:"4",uN:"5",w8:"6",_T:"7",Y:"8",L1:"8.5",yo:"8.8",sQ:"9",Hw:"10",Vs:"11",fF:"12",_P:"13",iF:"14",fj:"15",M6:"16",HA:"21",SR:"22",P7:"23",Hf:"23.0",h4:"23.1",QD:"23.2",XZ:"23.3",e2:"23.4",JK:"23.5",PM:"23.6",MX:"30",bg:"31",kl:"40",IJ:"41",r5:"42"};
bo.yA={};bo.yA[bo._4]=["abr","brushes",ga,[9,3]];bo.yA[bo.td]=["grd","gradients",cL,[12,37]];bo.yA[bo.le]=["shc","contours",bI,[12,21]];
bo.yA[bo.gw]=["asl","styles",eh,[12,22]];bo.yA[bo.uN]=["pat","patterns",bk,[12,62]];bo.yA[bo.w8]=["csh","shapes",go,[12,77]];
bo.yA[bo._T]=["aco","swatches",bT,[9,8]];bo.yA[bo.Y]=["atn","actions",jU,[9,9]];bo.yA[bo.L1]=["tpl","tpresets",aj,[9,12]];
bo.yA[bo.yo]=["icc","profiles",i$,"ICCs"];function h8(Z,m,S){if(S==null)S=!1;this.name=Z;this.b=m;this.vo=S;
this.data=null;this.anu=Date.now()}var hX={};hX.NN=function(Z,m){var S={t:"Clss",v:{classID:Z}};if(m)S={t:"Enmr",v:{classID:Z,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[S]}};hX.al=function(Z,m){var S={classID:"Lyr"};S[Z]=m;return{CE:"set",Oz:{classID:"null",null:hX.NN("Lyr",!0),T:{t:"Objc",v:S}}}};
hX.adP=function(Z,m,S,B,C){var u=new eY(_.E.lX,!0),r=[],q=0,k=hX.Fh(m,S,B,r);while(r.length!=0){var v=r.pop();
q++;if(!v.K)continue;console.log(q-1);if(v.CE=="conditional"){var e=Z.g[Z._[0]],j=v.Oz.null.v.Cndt,$=!1;
if(j=="Bckg")$=!1;else if(j=="Pxel"&&Z.t9(!1))$=!0;else if(j=="Adjs"&&e$.get(e.add))$=!0;else if(j=="Shp"&&e.add.vogk)$=!0;
else if(j=="Grup"&&e.O1())$=!0;else if(j=="Opn"&&Z!=null)$=!0;else if(j=="32Bt")$=!1;else if(j=="RGB")$=!0;
var U=v.Oz.then,H=v.Oz.else;if($&&U)hX.Fh(m,U.v[0].v.val,U.v[1].v.val,r);if(!$&&H)hX.Fh(m,H.v[0].v.val,H.v[1].v.val,r)}else if(v.CE=="stop"){if(v.Oz.Cntn&&v.Oz.Cntn.v==!0)window.confirm(v.Oz.Msge.v);
else{alert(v.Oz.Msge.v);break}}else if(v.CE=="play"){var z=v.Oz.null.v,f=new eY(_.E.W,!0);f.data={d:_.B.uU,ZT:[z[0].v.val,z[1].v.val]};
C.c(f)}else{u.data={CE:v.CE,Oz:v.Oz};C.c(u)}}};hX.Fh=function(Z,m,S,B){var C;for(var q=0;q<Z.length;
q++){if(Z[q].fm!=S)continue;var u=Z[q].ma;for(var r=0;r<u.length;r++){if(u[r].fm!=m)continue;C=u[r].ma}}var k=C.length;
for(var q=0;q<k;q++)B.push(C[k-1-q])};hX.an2=function(Z){var m=Z.CE,S=Z.Oz,B,r,k,v,e;if(S&&S.null)B=S.null.v[0];
if(S&&B==null&&S.At)B=S.At.v[0];if(B&&B.t=="obj ")B=B.v[0];var C=B?B.v.classID:null,u=["purge"];if(u.indexOf(m)!=-1)return m[0].toUpperCase()+m.slice(1);
if(m=="GEfc")return e_.names[S.GEfk.v.GEft][1];e=e$.pd;for(r in e)if(e[r]==m)k=r;e=bS.pd;for(r in e)if(e[r]==m)v=r;
if(k){var j=e$.se(k,S);if(j!=-1)return[4,16,j];return e$.names[k]}if(v)return bS.names[v];var $=hX.la;
if(m=="make"){if(B){if(C=="AdjL")return[6,1];else if(C=="layerSection")return S.From?[6,9]:[6,20];else if(C=="Lyr")return[6,13];
else if(C=="Chnl"&&B.v.enum=="Msk")return[6,2];else if(C=="contentLayer")return[6,48,1];else if(C=="BckL")return"Make Background Layer";
else if(C=="Path")return"Make Path";else if(C=="TxLr")return"Make Text Layer";else if(C=="slice")return"Make Slices"}if(S.Nw){C=S.Nw.v.classID;
if(C=="Dcmn")return[11,7];else if(C=="Chnl"||C=="SCch")return"New Channel"}}else if(m=="deselect"){if(C=="Path")return"Deselect current path";
else throw C}else if(m=="select"){if(C=="Chnl")return"Select "+(B.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(C=="Mn")return"Select Panel \""+B.v.enum+"\"";else if(C=="Lyr"){if(B.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[B.v.enum]+" Layer";
return"Select Layer \""+B.v.val+"\""}else if(C=="Path")return"Select Path";else if(C=="Brsh")return"Select Brush";
else if(C=="Dcmn")return"Select Document"}else if($[m]&&C=="Chnl"){var U=B.v.keyID=="fsel";return $[m]+" "+(U?"Selection":"Channel")}else if(m=="set"){if(C=="Lyr")return"Set Current Layer";
else if(C=="AdjL")return[6,39];else if(C=="contentLayer")return[6,48,2];else if(C=="Prpr")return[11,6];
else if(C=="Clr")return"Set "+(B.v.keyID=="FrgC"?"Foreground":"Background")+" color";else if(C=="Brsh")return"Set Brush";
else console.log(C)}else if(m=="move"){if(C=="Lyr")return"Move Layer"}else if(m=="show"||m=="hide"){var H="";
if(C=="Lyr")+"Layer";if(C=="Chnl")+"Channel";return(m=="show"?"Show":"Hide")+" "+H}else if(m=="reset"){if(C=="Clr")return"Reset Colors"}else if(m=="exchange"){if(C=="Clr")return[22,7,0]}else if(m=="rotateEventEnum")return[2,5];
else if(m=="flip"){var z=S.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,z?2:3]]}if(C=="Chnl"){if(m=="duplicate"){if(B.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(m=="delete")return"Delete Channel"}if(m=="transform")return B&&B.v.keyID=="fsel"?[7,10]:[10,16];
var f={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:S?C=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},D=f[m];
if(D==null)D=hX.oS[m];if(D)return D;return m};hX.oS={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
hX.la={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
hX.ark=function(Z,m,S,B){var C=Z.CE,u=Z.Oz,r=!1,k=new eY(_.E.Y,!0),j,$,U,H,D;k.b=g.vJ;var v=new eY(_.E.W,!0),e=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(e.indexOf(C)!=-1)return;H=e$.pd;for(j in H)if(H[j]==C)$=j;H=bS.pd;for(j in H)if(H[j]==C)U=j;if(C=="fade")$=C;
if(C=="matchColor")$="matc";if(C=="applyImageEvent")$="aply";if($){k.b=g.b$;k.data={d:"start",sv:$,jA:u}}else if(U){k.b=g.Ny;
k.data={d:"start",wm:U,jA:u}}else if(C=="GEfc"){k.b=g.Ny;k.data={d:"start",wm:"GEfc",jA:u}}else if(C=="imageSize"||C=="canvasSize"||C=="revealAll"||C=="trim"||C=="crop"){k.b=g.Ug;
k.data={d:"fromAction",KT:Z}}else if(C=="fill"||C=="stroke"||C=="delete"&&u==null){k.b=g._4;k.data={d:"fromAction",KT:Z}}else if(C=="colorRange"){k.b=g.Ml;
k.data={d:"fromAction",KT:Z}}else if(hX.oS[C]||hX.la[C]&&(!1||u.With&&u.With.v[0].v.keyID=="fsel"||u.From&&u.From.v[0].v.keyID=="fsel"||u.null&&u.null.v[0].v.keyID=="fsel"||u.T.v[0]&&u.T.v[0].v.keyID=="fsel")){k.b=g.Ml;
k.data={d:"fromAction",KT:Z}}var z={copyToLayer:w.SK,cutToLayer:w.bF,mergeLayersNew:w.x4,rasterizeLayer:w.Yj,mergeVisible:w.$b,flattenImage:w.ak6,newPlacedLayer:w.T$};
if(z[C])k.data={d:z[C],Oz:u};if(k.data){m.c(k);return}if(C=="collapseAllGroupsEvent"){for(var q=0;q<B.g.length;
q++){var f=B.g[q];if(f.O1())f.add.lsct=jf.aa}B.SW=!0;return}if(C=="desaturate"){k.b=g.b$;k.data={d:"auto",Wu:3};
if(B&&B.g[B._[0]].add.SoLd==null)m.c(k);return}if(C=="close"){if(u.Svng.v.YsN=="Ys"){v.data={d:_.B.Ac};
m.c(v)}v.data={d:_.B.jy,Lw:B};m.c(v);return}if(C=="save"){v.data={d:_.B.Ac};m.c(v);return}if(C=="copyMerged"){v.data={d:_.B._I,mb:!0,$a:!0};
m.c(v);return}var z={placedLayerEditContents:_.B.a0t,copyEvent:_.B._I,paste:_.B.cT};if(z[C])v.data={d:z[C],$a:!0};
if(v.data){m.c(v);return}if(u.null||u.At)D=(u.null?u.null:u.At).v;else D=[{t:"----",v:u}];if(D[0].t=="obj "){if(D.length!=1)throw"e";
D=D[0].v}for(var n=0;n<D.length;n++){var L=D[n],a=L.v.classID;k.data=null;if(C=="make"){if(u.null==null&&u.Nw)a=u.Nw.v.classID;
if(a=="AdjL"){k.data={d:w.wh,Oz:u}}else if(a=="layerSection"){k.data=u.From?{d:w.K4}:{d:w.IV};if(u.Usng){var F=u.Usng.v;
if(F.Nm)k.data.Jo=F.Nm.v;if(F.Clr)k.data.I2=hX.rk(F)}}else if(a=="Lyr"){if(u.Usng&&u.Usng.v.length==2)k.data={d:w.a0K};
else{k.data={d:w.qR};if(u.Usng)k.data.Jo=u.Usng.v.Nm.v;if(u.below&&u.below.v)k.data.acf=!0}}else if(a=="Chnl"&&L.v.enum=="Msk"){k.data={d:w.Xe,PC:u.Usng.v.UsrM}}else if(a=="Chnl"||a=="SCch"){k.data={d:w.ph,hN:"fromAction",k:Z}}else if(a=="contentLayer"){k.data={d:w.rC,Oz:u}}else if(a=="BckL"){B.g[B._[0]].a6u();
continue}else if(a=="Dcmn"){var A=u.Nw.v;v.data={d:_.B.Yg,OB:fl.adv(A,S)}}else if(a=="Ptrn")v.data={d:_.B.er,Lh:0};
else if(a=="Path"){k.b=g.bO;k.data={d:"pathedit",hN:"fromsel"}}else if(a=="TxLr"){k.b=g.WH;k.data={d:"fromAction",KT:Z}}else if(a=="slice"){k.b=g.dD;
k.data={d:"fromAction",KT:Z}}else if(a=="SnpS"){continue}else{console.log(C,a,u);throw"e"}}else if(C=="deselect"){if(a=="Path"){B.yI=[];
B.SW=B.tV=!0;continue}else throw a}else if(C=="selectNoLayers"){B._=[];B.jU=!0;r=!0}else if(C=="select"){var T={PcTl:g.G4,PbTl:g._4,magicWandTool:g.p7};
if(a=="Lyr"){var P=u.selectionModifier,Y=P?P.v.selectionModifierType:null,Q=hX.Ee(B,L);if(Q==-1){alert("Layer "+L.v.val+" does not exist.");
throw"e"}k.data={d:w.Qg,i:Q,anQ:Y?["addToSelection","addToSelectionContinuous"].indexOf(Y):null,Yo:0,ajN:!0}}else if(a=="Path"){if(L.v.keyID=="WrPt"){B.yI=[0];
B.SW=B.tV=!0;continue}else throw L}else if(a=="Chnl"){k.data={d:w.Qg,i:Q,Yo:1}}else if(a=="Dcmn"){if(m.xk.length<2)return;
v.data={d:_.B.aeS,dir:u.null.v[0].v.val}}else if(a=="Brsh"){var o=S.yf.list,I;for(var q=0;q<o.length;
q++){if(o[q].v.Nm.v==L.v.val)I=o[q].v}v.data={d:_.B.L8,Lh:bo.iF,U3:I}}else if(a=="Mn"){if(L.v.enum=="Scl")v.data={d:_.B.uv,b:g.zp,xe:{PC:3}};
if(L.v.enum=="Plce")v.data={d:_.B.QM,ago:!0};if(L.v.enum=="ZmIn"){k.b=g.ky;k.data={d:"zoom",FE:!0}}if(L.v.enum=="ZmOt"){k.b=g.ky;
k.data={d:"zoom",FE:!1}}if(L.v.enum=="FtOn"){k.b=g.ky;k.data={d:"adapt",k:"fitscr"}}}else if(T[a]){v.data={d:_.B.uv,b:T[a]}}else throw a}else if((C=="set"||C=="reset"||C=="exchange")&&a=="Clr"){v.data={d:_.B.L8,Lh:bo.HA,hN:C=="reset"?3:2};
if(C=="set"){v.data.hN=L.v.keyID=="FrgC"?0:1;var c=l.X.gN(u.T.v);v.data.k=c.I<<16|c.z<<8|c.S}}else if(C=="set"){if(a=="AdjL"){var y=u.T.v.classID;
y=e$.Nn[y];k.b=g.b$;if(y)k.data={d:"edit_layer",k:u.T.v}}else if(a=="Lyr"){var i=u.T.v,Q=hX.Ee(B,L);
for(var d in i){if(d=="classID")continue;k.b=g.vJ;if(d=="Nm")k.data={d:w.k$,name:i.Nm.v};else if(d=="Opct")k.data={d:w.pZ,sk:Math.round(i.Opct.v.val*255/100)};
else if(d=="fillOpacity")k.data={d:w.xW,sk:Math.round(i.fillOpacity.v.val*255/100)};else if(d=="Md")k.data={d:w.pk,sk:d1.FI.indexOf(i.Md.v.BlnM)+(B.g[Q].O1()?1:0)};
else if(d=="Usrs")k.data={d:w.Y3,i:Q};else if(d=="Blnd"){k.b=g.oV;k.data={d:"setstl",i:Q,k:{blendOptions:{t:"objc",v:i}}};
m.c(k);k.data={d:"confirm",i:Q}}else if(d=="userMaskFeather"||d=="userMaskDensity"){var V=i.userMaskFeather,G=i.userMaskDensity;
k.b=g.vJ;var Q=B._[0],M=B.g[Q].b9(0);if(V)M.tz=V.v.val;if(G)M.Gw=G.v.val;k.data={d:w.b_,B4:Q,wp:M}}else if(d=="Clr"){var O=hX.rk(i);
k.data={d:w.gc,af5:O}}else if(d=="Lefx")k.data={d:"setstl",i:Q,k:{Lefx:{t:"objc",v:i.Lefx.v}}};else if(D[0].t=="prop"){r=!0}else{console.log(u);
throw d}if(k.data){m.c(k);k.data=null;r=!0}}var f=B.g[Q];f.afg()}else if(a=="Prpr"){var i=JSON.parse(JSON.stringify(u.T.v));
if(L.v.keyID=="TxtS"){var Q=hX.Ee(B,u.null.v[1]),f=B.g[Q],K=f.add.TySh,W=JSON.parse(JSON.stringify(K.e7)),t=e6.xu(W),X=e6.yH(W,0,t.length-2);
if(i.Undl&&i.Undl.v.Undl=="underlineOnLeftInVertical")X.n1.Underline=!0;e6.rj(W,0,t.length-1,X);k.b=g.WH;
k.data={d:"newED",rs:Q,_v:W};n=1e9}else{for(var h in i)if(i[h].v){if(h=="Scl")i[h].v.val=100;if(i[h].v.TrnS&&i[h].v.TrnS.v.Crv==null){i[h].v.TrnS=JSON.parse(fp.kr[9]).TrnS}}hR.Rh(i);
if(i.masterFXSwitch==null)i.masterFXSwitch={t:"bool",v:!0};var Q=hX.Ee(B,u.null.v[1]);k.b=g.oV;k.data={d:"setstl",i:Q,k:{Lefx:{t:"objc",v:i}}};
m.c(k);k.data={d:"confirm",i:Q}}}else if(a=="contentLayer"){var Q=hX.Ee(B,L),i=u.T.v;if(i.classID=="shapeStyle")i=i.FlCn.v;
var b={solidColorLayer:0,gradientLayer:1,patternLayer:2}[i.classID],E=g.X$.ur(B,Q),U=E.lE==b+1?E.aI:fp.wv[b];
U=JSON.parse(JSON.stringify(U));g.dW.Vp(i,U,b);k.data={d:w.OF,q0:[Q],Z1:!0,k:{lE:b+1,aI:U}}}else if(a=="Brsh"){var I=JSON.parse(JSON.stringify(S.yf.dS)),f0=u.T.v;
if(f0.masterDiameter)I.Brsh.v.Dmtr.v.val=f0.masterDiameter.v.val;else console.log("unknown brush parameters");
v.data={d:_.B.L8,Lh:bo.iF,U3:I}}else{console.log(L,u);throw a}}else if(C=="move"){if(a=="Lyr"){var i=u.T.v;
if(i.classID=="Ofst"){k.data={d:"trsl",V1:i.Hrzn.v.val,h7:i.Vrtc.v.val};k.b=g.Ta}else{var ay,p;if(i[0].t=="Enmr"){if(i[0].v.enum=="Frnt")p=0;
else if(i[0].v.enum=="Nxt")p=1;else if(i[0].v.enum=="Prvs")p=2;else if(i[0].v.enum=="Back")p=3;else throw"e"}else ay=i[0].v.val;
k.data={d:w.LN,target:ay,hN:p,acG:u.Dplc?u.Dplc.v:!1}}}}else if(C=="groupEvent"||C=="ungroup")k.data={d:w.Wc};
else if(C=="show"||C=="hide"){if(a=="Lyr"){var Q=hX.Ee(B,L);if(Q==-1)continue;var eo=B.g[Q].tm();if(C=="show"&&eo||C=="hide"&&!eo)continue;
k.data={d:w.Xm,i:Q}}else if(a=="Chnl"){k.data={d:w.ph,hN:"fromAction",k:Z}}else if(a=="filterFX"){if(L.v.val!=null)k.data={d:w.yg,index:L.v.val-1};
k.data={d:w.r9};D=[D[0]]}}else if(C=="rotateEventEnum"){k.b=g.Ug;var co=u.Angl.v.val;k.data={d:"rot",fm:[2,5],k:-co*Math.PI/180}}else if(C=="flip"){k.b=g.Ug;
var c5=u.Axis.v.Ornt=="Hrzn",he=c5?new aS(-1,1):new aS(1,-1);k.data={d:"scl",fm:[[2,6],[22,4,c5?2:3]],k:he}}else if(C=="transform"){var hU=1,aB=1,ep=0,aO=0,f$=0,fo=0,bb=0;
if(u.Wdth)hU=u.Wdth.v.val/100;if(u.Hght)aB=u.Hght.v.val/100;if(u.Skew){var jl=u.Skew.v;ep=jl.Hrzn.v.val;
aO=jl.Vrtc.v.val}if(u.Ofst){var e0=u.Ofst.v;fo=e0.Hrzn.v.val;bb=e0.Vrtc.v.val}if(u.Angl)f$=u.Angl.v.val;
var gI=new ht;gI.concat(new ht(hU,hU*Math.tan(aO*Math.PI/180),aB*Math.tan(ep*Math.PI/180),aB,0,0));gI.rotate(-f$*Math.PI/180);
gI.translate(fo,bb);var d4={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[u.FTcs.v.QCSt];
if(d4==null)throw u.FTcs.v.QCSt;var L=u.null;if(L&&L.v instanceof Array)L=L.v[0];var Q=L?hX.Ee(B,L):null;
if(Q==-1)Q=null;k.b=L&&L.v.keyID=="fsel"?g.Zz:g.zp;k.data={d:"mat",GB:d4,k:gI}}else if(a=="Chnl"){k.data={d:w.ph,hN:"fromAction",k:Z}}else if(C=="duplicate")k.data={d:w.lD,Jo:u.Nm?u.Nm.v:null};
else if(C=="delete"){if(a=="filterFX"){if(L.v.val!=null)k.data={d:w.nP,Ep:L.v.val-1};else k.data={d:w.$h}}else if(a=="Path"){k.b=g.bO;
k.data={d:"pathedit",hN:"del"}}else k.data={d:w.G7};D=[D[0]]}else if(C=="align"){if(u.Aply&&u.Aply.v.projection=="Auto"){k.b=g.Ug;
k.data={d:"auto-align"}}else{k.b=g.Ta;var ab=u.Usng.v.ADSt,$={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[ab];
if($==null)throw ab;k.data={d:"algn",k:$}}}else if(C=="applyLocking"){var c3=u.layerLocking.v,gr;if(c3.protectTransparency)gr=[[c3.protectTransparency.v],[0]];
else if(c3.protectNone)gr=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(c3);throw"e"}k.data={d:w.Il,sk:gr}}if(r){}else if(k.data)m.c(k);
else if(v.data)m.c(v);else{console.log(Z);alert("Unknown action \""+C+"\"");throw"e"}}};hX.rk=function(Z){var m={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[Z.Clr.v.Clr];
if(m==null)throw Z.Clr.v.Clr;return m};hX.Ee=function(Z,m){var S=1e6,B=0,C=Z.g.length;for(var q=0;q<Z._.length;
q++){S=Math.min(S,Z._[q]);B=Math.max(B,Z._[q])}var u=m.t,r=-1;if(u=="name"){var k=m.v.val,r=-1;for(var q=0;
q<C;q++)if(Z.g[q].getName()==k){r=q;break}}else if(u=="Enmr"){if(Z._.length!=0)r=Z._[0];if(m.v.enum=="Frwr")r=B+1;
if(m.v.enum=="Bckw")r=S-1;if(m.v.enum=="Back")r=0;if(m.v.enum=="Frnt")r=C-1;r=(r+C)%C}else if(u=="prop"){if(m.v.keyID=="Bckg")r=0}return r};
var e$={};e$.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
e$.o_=["expA","clrL","selc"];e$.Dk=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];e$.a0x=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
e$.sp=[[13,1,1],[13,1,4],[13,1,5]];e$.wx={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
e$.Nn=function(){var Z=JSON.parse(JSON.stringify(e$.wx));delete Z.GrMp;Z.GdMp="grdm";return Z}();e$.pd={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
e$.keys={levl:[iZ.Sx,iZ.Ma],curv:[iZ.Sx,iZ.ld],hue2:[iZ.Sx,iZ.Ez],nvrt:[iZ.Sx,iZ.Ob],blnc:[iZ.Sx,iZ.Oa]};
e$.Yw=function(Z){var m=bS.ej("mixr");m.Mnch={t:"bool",v:Z.l1};function S(B,q){var C={classID:"ChMx"},u={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var r in u)C[r]={t:"UntF",v:{type:"#Prc",val:B[q+u[r]]}};return{t:"Objc",v:C}}if(Z.l1)m.Gry=S(Z.k,0);
else{m.Rd=S(Z.k,0);m.Grn=S(Z.k,5);m.Bl=S(Z.k,10)}return m};e$.hM=function(Z){function m(B,C,q){var u={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var r in u)if(B[r])C[q+u[r]]=B[r].v.val}var S={l1:!1,k:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(Z.Mnch&&Z.Mnch.v)S.l1=!0;if(S.l1)m(Z.Gry.v,S.k,0);else{m(Z.Rd.v,S.k,0);m(Z.Grn.v,S.k,5);m(Z.Bl.v,S.k,10)}return S};
e$.get=function(Z){for(var m in e$.names)if(Z[m]!=null)return m;return null};e$.kA=function(Z,m){var S=e$.OK,B;
if(Z=="brit"){var C=m.Brgh?m.Brgh.v:0,u=m.Cntr?m.Cntr.v:0,r=m.useLegacy?m.useLegacy.v:!1;if(r){var k=C/255,v=1+u/100;
if(v>1)v=1+Math.tan(Math.PI/2*u/101);var e=(1-v)/2,j=l.fd.C9(k,k,k),$=[v,0,0,e,0,v,0,e,0,0,v,e,0,0,0,1],U=l.fd.multiply(j,$),H=new l._8(256);
for(var q=0;q<256;q++)H.I[q]=q;l.fd.transform(H,H,U);B={type:S.Rk,ih:H.I,u7:H.I,o6:H.I,he:!1,hv:!1}}else{var z=1024,f=-30+60*(u+100)/200,D=[];
for(var q=0;q<4;q++)D.push(l.dL.f2(q/3*255,q/3*255,!0));D[1].v.Hrzn.v=64;D[1].v.Vrtc.v=64-f;D[2].v.Hrzn.v=128+64;
D[2].v.Vrtc.v=128+64+f;D.sort(function(ip,iy){return ip.v.Hrzn.v-iy.v.Hrzn.v});var n=l.dL.UG(D,z);function L(ip,z){var D=[],gY=3;
for(var q=0;q<gY+1;q++)D.push(l.dL.f2(q/gY*255,q/gY*255,!0));D[1].v.Hrzn.v=130-ip*26;D[1].v.Vrtc.v=130+ip*51;
D[2].v.Hrzn.v=233-ip*48;D[2].v.Vrtc.v=233+ip*10;return l.dL.UG(D,z)}var a=L(Math.abs(C)/100,z);if(C<0){var F=[],A=1/z;
for(var q=0;q<z;q++){var T=q*A,P=q;while(a[P]>T&&P>1)P--;F[q]=P*A}a=F}var Y=new Uint8Array(z);for(var q=0;
q<z;q++){var Q=Math.round((z-1)*a[q]);Y[q]=Math.round(255*n[Q])}B={type:S.Rk,ih:Y,u7:Y,o6:Y,he:!1,hv:!1}}}if(Z=="levl"){var o=[],I,c,j,y,i,d;
for(var q=0;q<4;q++)o.push(dW.tP(m,q));I=-o[0][0]/255;c=1/(o[0][1]/255-o[0][0]/255);j=l.fd.multiply(l.fd.Gv(c,c,c),l.fd.C9(I,I,I));
y=l.fd.Gv(1/(o[1][1]/255-o[1][0]/255),1/(o[2][1]/255-o[2][0]/255),1/(o[3][1]/255-o[3][0]/255));i=l.fd.C9(-o[1][0]/255,-o[2][0]/255,-o[3][0]/255);
d=l.fd.multiply(y,i);var Y=new l._8(256);for(var q=0;q<256;q++)Y.I[q]=Y.z[q]=Y.S[q]=q;var V=1/(o[0][4]/100),R=1/(o[1][4]/100),G=1/(o[2][4]/100),M=1/(o[3][4]/100);
l.fd.transform(Y,Y,d);for(var q=0;q<256;q++){Y.I[q]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.I[q]/255,R))));
Y.z[q]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.z[q]/255,G))));Y.S[q]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.S[q]/255,M))))}l.fd.transform(Y,Y,j);
for(var q=0;q<256;q++){Y.I[q]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.I[q]/255,V))));Y.z[q]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.z[q]/255,V))));
Y.S[q]=Math.round(Math.max(0,Math.min(255,255*Math.pow(Y.S[q]/255,V))))}I=o[0][2]/255;c=o[0][3]/255-o[0][2]/255;
j=l.fd.multiply(l.fd.C9(I,I,I),l.fd.Gv(c,c,c));y=l.fd.Gv(o[1][3]/255-o[1][2]/255,o[2][3]/255-o[2][2]/255,o[3][3]/255-o[3][2]/255);
i=l.fd.C9(o[1][2]/255,o[2][2]/255,o[3][2]/255);d=l.fd.multiply(i,y);l.fd.transform(Y,Y,l.fd.multiply(j,d));
B={type:S.Rk,ih:Y.I,u7:Y.z,o6:Y.S,he:!1,hv:!1}}if(Z=="curv"){var O=f8.tP(m,0).length==256?1:0,K=[];if(O==0){var W=l.dL.fM(f8.tP(m,0),256);
for(var q=1;q<4;q++){var t=l.dL.fM(f8.tP(m,q),256);K.push(l.dL.KB(t,W))}}else{var X=[];for(var q=0;q<4;
q++){var h=new Uint8Array(256);X.push(h);var b=f8.tP(m,q);for(var P=0;P<256;P++)h[P]=b[P]}for(var q=1;
q<4;q++)K.push(l.dL.KB(X[q],X[0]))}B={type:S.Rk,ih:K[0],u7:K[1],o6:K[2],he:!1,hv:!1}}if(Z=="expA"){var E=m.Exps,f0=m.Ofst,ay=m.gammaCorrection,p=E?E.v:0,eo=f0?f0.v:0,co=ay?ay.v:1,Y=new Uint8Array(256);
for(var q=0;q<256;q++){var m=q/255,c5=Math.pow(Math.abs(eo),1/(Math.PI/2));if(eo>0){m=Math.max(eo/Math.E,m);
m=m*Math.exp(eo/1.75+p/Math.PI);m=(1-c5)*m+c5*1}else{m=m*Math.exp(-eo*1.75+p/Math.PI);m=m+-c5*1.14}m=Math.pow(m,1/co);
m=Math.max(0,Math.min(1,m));Y[q]=Math.round(m*255)}B={type:S.Rk,ih:Y,u7:Y,o6:Y,he:!1,hv:!1}}if(Z=="vibA"){var he=(m.vibrance?m.vibrance.v:0)/100,hU=(m.Strt?m.Strt.v:0)/100,c5=1+he*(he>0?.25:.5),aB=.8+.2/c5;
B={type:S.Q6,Lh:[he,hU,aB,c5]}}if(Z=="hue2"){var ep=[],aO=[],f$=[],fo=m.Clrz?m.Clrz.v:!1;for(var q=0;
q<256;q++){ep[q]=q/255;aO[q]=0;f$[q]=0}var bb=iL.tP(m,0),jl=e$.nX(bb[1]/100);if(fo){var e0=bb[0]/360;
for(var q=0;q<256;q++){ep[q]=e0;aO[q]=jl}}else{for(var q=0;q<256;q++){var gI=ep[q],d4=aO[q];ep[q]+=bb[0]/360;
for(var P=0;P<6;P++){var ab=iL.tP(m,P+1),c3=ab.ZX,gr=ab.XO,c5=0;for(var a2=1;a2<4;a2++)if(gr[a2]<gr[0])gr[a2]+=360;
var aL=gr[0],el=gr[1],iJ=gr[2],aC=gr[3],cr=gI*360;if(cr<gr[0])cr+=360;var bN=(cr-aL)/(el-aL),hf=(cr-iJ)/(aC-iJ);
if(bN<0)c5=0;else if(bN<1)c5=bN;else if(hf<0)c5=1;else if(hf<1)c5=1-hf;else c5=0;var v=e$.nX(c3[1]/100);
ep[q]+=c5*c3[0]/360;aO[q]+=c5*v;f$[q]+=c5*c3[2]/100}}for(var q=0;q<256;q++){aO[q]=(1+aO[q])*(1+jl)-1;
f$[q]=Math.max(-1,Math.min(1,f$[q]))}}var cV=new Uint8Array(256),ez=new Uint8Array(256),jG=new Uint8Array(256);
for(var q=0;q<256;q++){var jw=ep[q],hU=aO[q],dw=f$[q];if(jw>1)jw--;if(jw<0)jw++;hU=e$.a4K(hU);hU=(1+hU)*.5;
dw=(1+dw)*.5;cV[q]=Math.round(255*jw);ez[q]=Math.round(255*hU);jG[q]=Math.round(255*dw)}var cb=bb[2]/100,cz=cb<0?-cb:cb,jq=cb<0?0:1;
B={type:S.rx,aqh:cV,YV:ez,aiA:jG,a4T:cz*jq,UE:1-cz,aoB:bb[2]/100,a47:fo?1:0}}if(Z=="nvrt"){var Y=new Uint8Array(256);
for(var q=0;q<256;q++)Y[q]=255-q;B={type:S.Rk,ih:Y,u7:Y,o6:Y,he:!1,hv:!1}}if(Z=="post"){var dU=m.Lvls.v,Y=new Uint8Array(256),c5=dU/255.001,ge=255/(dU-1);
for(var q=0;q<256;q++)Y[q]=Math.floor(q*c5)*ge;B={type:S.Rk,ih:Y,u7:Y,o6:Y,he:!1,hv:!1}}if(Z=="grdm"){var al=m.Grad.v,a_=m.Rvrs,z=1024,hc;
if(al.Clrs){var g7=l.X._g(al.Clrs.v,0,0);hc=l.X.Jp(al,g7,z,a_?a_.v:!1)}else{hc=l.X.iv(al,z,a_?a_.v:!1)}var b4=l.U(z),eC=l.U(z),cN=l.U(z);
l.NK(hc,b4,0);l.NK(hc,eC,1);l.NK(hc,cN,2);B={type:S.Rk,ih:b4,u7:eC,o6:cN,he:!0,hv:!1}}if(Z=="selc"){var i7=new Float32Array(9*3*2),gC=m.Mf,h7=m.Mthd?m.Mthd.v.CrcM=="Absl":!1;
for(var P=0;P<9;P++){var iB=P*6,hH=jp.tP(m,P),bA=hH[0]/100,cq=hH[1]/100,fd=hH[2]/100,iW=hH[3]/100;if(h7){i7[iB]=i7[iB+1]=i7[iB+2]=1;
i7[iB+3]=bA*(1+iW)+iW;i7[iB+4]=cq*(1+iW)+iW;i7[iB+5]=fd*(1+iW)+iW}else{i7[iB+0]=(1+bA)*(1+iW);i7[iB+1]=(1+cq)*(1+iW);
i7[iB+2]=(1+fd)*(1+iW)}}B={type:S.Nj,aaB:i7}}if(Z=="blwh"){var ca="Rd Yllw Grn Cyn Bl Mgnt".split(" "),B=[],c0=0,i_=0;
for(var q=0;q<6;q++)B.push(m[ca[q]].v);B.push(m.useTint.v,m.tintColor.v);var f9=[];for(var q=0;q<6;q++)f9.push((B[q]-50)/50);
var bt=l.X.gN(B[7]);bt.I/=255;bt.z/=255;bt.S/=255;var dO=l.$C(bt.I,bt.z,bt.S),dw=l.iT(l.kq(dO.Vi,1,.5)),ea=dO.Ve*dO.jA;
if(dw==.5)c0=i_=.5;else{c0=ea*(.5-dw)/(.5/dw-1);i_=1-ea*(.5-dw)-1/(2*(1-dw));i_/=1-1/(2*(1-dw))}B={type:S.ES,asE:f9,wY:B[6]?1:0,a7V:dO.Vi,iT:dw,as5:ea,iR:c0,a9d:i_}}if(Z=="blnc"){var o=[],aV=["ShdL","MdtL","HghL"];
for(var q=0;q<3;q++){if(m[aV[q]]==null){o[q]=[0,0,0];continue}var dU=m[aV[q]].v,aQ=dU[0].v/100,bJ=dU[1].v/100,e9=dU[2].v/100,cC=m.PrsL==null||m.PrsL.v?(Math.min(aQ,bJ,e9)+Math.max(aQ,bJ,e9))/2:0;
o[q]=[aQ-cC,bJ-cC,e9-cC]}var K=[l.U(256),l.U(256),l.U(256)];for(var P=0;P<3;P++)for(var q=0;q<256;q++){var T=q*(1/255),ef=0,f=0,b5=0;
f=o[2][P];b5=Math.abs(f);if(f<0)ef=Math.pow(T,Math.SQRT2);else ef=1.63*(Math.pow(T+.04,.5)-.2);T=b5*ef+(1-b5)*T;
f=o[1][P];b5=Math.abs(f);if(f<0)ef=Math.pow(T,2);else ef=Math.min(2.35*(Math.pow(T+.09,.5)-.3),Math.pow(T,1/2));
T=b5*ef+(1-b5)*T;f=o[0][P];b5=Math.abs(f);if(f<0)ef=T<.4?0:Math.pow((T-.4)/.6,Math.SQRT2);else ef=Math.pow(T,Math.SQRT2/2);
T=b5*ef+(1-b5)*T;T=Math.max(0,Math.min(1,T));K[P][q]=Math.round(T*255)}B={type:S.Rk,ih:K[0],u7:K[1],o6:K[2],he:!1,hv:!1}}if(Z=="phfl"){var jx=l.X.gN(m.Clr.v),bf=[jx.I/255,jx.z/255,jx.S/255],dH=m.Dnst.v/100,K=[l.U(256),l.U(256),l.U(256)];
for(var P=0;P<3;P++)for(var q=0;q<256;q++){var T=q*(1/255),hT=T*bf[P];hT=Math.max(0,Math.min(1,hT));
T=dH*hT+(1-dH)*T;K[P][q]=Math.round(T*255)}B={type:S.Rk,ih:K[0],u7:K[1],o6:K[2],he:!1,hv:m.PrsL.v}}if(Z=="thrs"){var Y=l.U(256);
for(var q=m.Lvl.v;q<256;q++)Y[q]=255;B={type:S.Rk,ih:Y,u7:Y,o6:Y,he:!0,hv:!1}}if(Z=="mixr"){var je=e$.hM(m),U=[];
for(var q=0;q<je.k.length;q++)if(q%5!=3)U.push(je.k[q]/100);if(je.l1){for(var hG=1;hG<3;hG++)for(var T=0;
T<4;T++)U[hG*4+T]=U[T]}B={type:S.nG,TZ:U}}if(Z=="rplc"){var gW=m.Mnm.v,d3=m.Mxm.v;B={type:S.jz,fI:[gW.Lmnc.v,gW.A.v,gW.B.v],MC:[d3.Lmnc.v,d3.A.v,d3.B.v],shift:[m.H.v/360,m.Strt.v/100,m.Lght.v/100],Lc:m.Fzns.v/150}}if(Z=="clrL"&&m.profile){var jJ=new Uint8Array(m.profile.v),fj=ICC.R(jJ.buffer),em=[],jB=17,em=ICC.U.sampleLUT(fj,jB);
B={type:S.cp,aP:ICC.U.rgba8LUT(em,jB),a90:em,xX:jB}}return B};e$.se=function(Z,m){var S=-1;if(Z!="levl"||m==null)S=-1;
else if(m.Auto)S=0;else if(m.AuCo)S=1;else if(m.autoBlackWhite)S=2;return S};e$.OK={Rk:0,rx:1,Q6:2,Nj:3,ES:4,nG:5,jz:6,cp:7};
e$.nX=function(Z){if(Z<0)return Z;return Math.pow(Math.tan(Math.PI/2*Z),1.3)};e$.a4K=function(Z){if(Z<0)return Z;
Z=Math.pow(Z,1/1.3);return Math.atan2(Z,1)/(Math.PI/2)};e$.Yb=function(Z,m,S,B){var C=e$.OK,u=Date.now();
if(N.V8&&B.Z()>300*300&&Z.type!=C.Rk&&Z.type!=C.cp){B=B.clone();B.x=B.y=0;var r=N.u4(0,B.e,B.n);r.set(m);
N.dF(r,B);r.EZ(B);e$.oj(Z,r.RK,B);r.get(S);return}if(Z.type==C.cp){var k=Z.a90,v=Z.xX;ICC.U.applyLUT(k,v,m,S);
var e=m.length;for(var q=0;q<e;q+=4)S[q+3]=m[q+3]}if(Z.type==C.nG)l.fd.NB(m,S,Z.TZ);if(Z.type==C.ES){var j=Z.as5,$=Z.iT,U=Z.iR,H=Z.a9d,e=m.length;
for(var q=0;q<e;q+=4){var B=m[q]*(1/255),z=m[q+1]*(1/255),f=m[q+2]*(1/255),D=l.M8(B,z,f),n=0;for(var L=0;
L<6;L++)n+=Math.min(1,1.7*(1-D.bN))*D.Ve*Z.asE[L]*e$.Uh(D.Vi,L*(1/6));var a=Math.max(0,Math.min(1,D.bN*(1+n)));
if(Z.wY==1){var F=0;if(a<U)F=a*(.5/$);else if(a<H)F=a+j*(.5-$);else F=1-(1-a)*.5/(1-$);D.Vi=Z.a7V;D.Ve=Math.min(1,j+3*j*Math.abs(a-.5*(U+H)));
D.bN=F}else{D.Vi=0;D.Ve=0;D.bN=a}var A=l.kq(D.Vi,D.Ve,D.bN);S[q]=Math.round(A.I*255);S[q+1]=Math.round(A.z*255);
S[q+2]=Math.round(A.S*255)}}if(Z.type==C.Nj){var T=Z.aaB,e=m.length,P=1/255;for(var q=0;q<e;q+=4){var B=m[q]*P,z=m[q+1]*P,f=m[q+2]*P,D=l.M8(B,z,f),Y=Math.max(B,Math.max(z,f)),Q=Math.min(B,Math.min(z,f)),o=1-B,I=1-z,c=1-f,y=0,i=0,d=0;
for(var L=0;L<9;L++){var V=L*6,O=0;if(T[V]==1&&T[V+1]==1&&T[V+2]==1&&T[V+3]==0&&T[V+4]==0&&T[V+5]==0)continue;
var R=o*T[V]+T[V+3],G=I*T[V+1]+T[V+4],M=c*T[V+2]+T[V+5];if(L<6)O=e$.Uh(D.Vi,L*(1/6))*D.Ve*2*Math.min(D.bN,1-D.bN);
else if(L==6)O=Math.max(0,Q-.5)*2;else if(L==7)O=1-(Math.abs(Y-.5)+Math.abs(Q-.5));else O=Math.max(0,.5-Y)*2;
y+=(Math.max(0,Math.min(1,R))-o)*O;i+=(Math.max(0,Math.min(1,G))-I)*O;d+=(Math.max(0,Math.min(1,M))-c)*O}o=Math.max(0,Math.min(1,o+y));
I=Math.max(0,Math.min(1,I+i));c=Math.max(0,Math.min(1,c+d));B=1-o;z=1-I;f=1-c;S[q]=Math.round(B*255);
S[q+1]=Math.round(z*255);S[q+2]=Math.round(f*255)}}if(Z.type==C.Rk){l.a4L(m,S,Z.ih,Z.u7,Z.o6,Z.he,Z.hv)}if(Z.type==C.rx){var K=new Uint32Array(m.buffer),W=new Uint32Array(S.buffer),e=K.length;
if(e$.SA==null){e$.SA=new Float64Array(256);for(var q=0;q<256;q++)e$.SA[q]=e$.nX(-1+2*q/255)}var t=e$.SA;
for(var q=0;q<e;q++){var X=K[q],B=(X&255)*(1/255),z=(X>>>8&255)*(1/255),f=(X>>>16&255)*(1/255),h=X>>>24,b=Math.min(B,z,f),E=Math.max(B,z,f),f0=0,ay=0,p=0;
f0=l.M8(B,z,f).Vi;var eo=~~(f0*255+.5),co=Z.aqh[eo]*(1/255),c5=Z.YV[eo]*(1/255)*2-1,he=Z.aiA[eo]*(1/255)*2-1,n=-he,hU=b;
if(0<he){n=he;hU=E}var aB=Z.a4T+Z.UE*n*hU,ep=Z.UE*(1-n);B=aB+ep*B;z=aB+ep*z;f=aB+ep*f;E=Math.max(B,z,f);
b=Math.min(B,z,f);p=(E+b)*.5;if(E!=b){var aO=E-b;ay=p>.5?aO/(2-(E+b)):aO/(E+b)}var f$=c5;if(Z.a47==0){c5=t[Math.floor((1+c5)*127.5)];
f$=Math.min(ay*(1+c5),1)}var A=l.kq(co,f$,p);B=A.I;z=A.z;f=A.S;W[q]=h<<24|f*255<<16|z*255<<8|B*255}}if(Z.type==C.jz){l.Yx(m,S);
var K=new Uint32Array(m.buffer),W=new Uint32Array(S.buffer),e=K.length,fo=Z.Lc,bb=1/fo,jl={Ma:Z.fI[0],AQ:Z.fI[1],S:Z.fI[2]},e0={Ma:Z.MC[0],AQ:Z.MC[1],S:Z.MC[2]};
for(var q=0;q<e;q++){var X=K[q],gI=X&255,d4=X>>>8&255,ab=X>>>16&255,B=gI*(1/255),z=d4*(1/255),f=ab*(1/255),h=X>>>24,c3=l.W6(gI,d4,ab),gr=l.bv(c3,jl,e0,fo,bb);
if(gr==0)continue;var D=l.M8(B,z,f),co=2+D.Vi+Z.shift[0];D.Vi=co-~~co;D.Ve=Math.max(0,Math.min(1,D.Ve+Z.shift[1]));
D.bN=Math.max(0,Math.min(1,D.bN+Z.shift[2]));var A=l.kq(D.Vi,D.Ve,D.bN);B=(1-gr)*B+gr*A.I;z=(1-gr)*z+gr*A.z;
f=(1-gr)*f+gr*A.S;W[q]=h<<24|f*255<<16|z*255<<8|B*255}}if(Z.type==C.Q6){var K=new Uint32Array(m.buffer),W=new Uint32Array(S.buffer),e=K.length,a2=Z.Lh[0],aL=Z.Lh[1],el=Z.Lh[2],n=Z.Lh[3],iJ=l.fd.Rn([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),aC=l.fd.Yy(iJ),cr=2.4;
console.log(aC);function v(jG){return Math.max(0,Math.min(1,jG))}function bN(jG){return Math.pow(jG,cr)}function hf(jG){return Math.pow(jG,1/cr)}function cV(B,z,f,jG){B=bN(B);
z=bN(z);f=bN(f);var jw=l.fd.b1(iJ,[B,z,f,1]);jw[0]*=el;jw[1]*=n;jw[2]*=n;var A=l.fd.b1(aC,jw);A[0]=hf(v(A[0]));
A[1]=hf(v(A[1]));A[2]=hf(v(A[2]));return A}for(var q=0;q<e;q++){var X=K[q],B=(X&255)*(1/255),z=(X>>>8&255)*(1/255),f=(X>>>16&255)*(1/255),h=X>>>24,A=cV(B,z,f,a2);
B=A[0];z=A[1];f=A[2];var ez=l.M8(B,z,f);ez.Ve=Math.max(0,Math.min(1,ez.Ve*(1+aL)));A=l.kq(ez.Vi,ez.Ve,ez.bN);
B=A.I;z=A.z;f=A.S;W[q]=h<<24|f*255<<16|z*255<<8|B*255}}};e$.oj=function(Z,m,S){N.sv.oj(Z,m)};e$.Uh=function(Z,m){var S=l.aL(m,Z)*6;
return Math.max(0,Math.min(1,S<0?1+S:1-S))};var bS={};bS.zE=function(Z){var m=Z.filterID.v;return m>16777215?x.a2l(m):Z.Fltr.v.classID};
bS.n2=[{aI:"GEfc"},{aI:"LnCr"},{aI:"LqFy",Jb:!0},{G6:"3D",yB:["lightFilterGradient"]},{G6:[24,2],yB:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{G6:[24,4],yB:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{G6:[24,6],yB:["AdNs","Dspc","DstS","Mdn ","denoise"]},{G6:[24,8],yB:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{G6:[24,10],yB:["Flam","Clds","DfrC","Fbrs","LnsF"]},{G6:[24,12],yB:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{G6:[24,14],yB:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{G6:[24,16],yB:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr".split(",")},{G6:"Fourier",yB:["dDFT","iDFT"]}];
bS.pd={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
bS.M4={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
bS.P={rigidTransform:g.CZ};bS.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:"Color to Alpha",Dthr:[12,23,3],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
bS.ej=function(Z){var m=null;if(Z=="GEfc")m={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:e_.ej("GlwE")}]}};
if(Z=="LqFy"){var S={OU:5,Vi:5,map:new Float32Array(5*5*2)},B=new Uint8Array(cI.Oq(S)),C=[];for(var q=0;
q<B.length;q++)C.push(B[q]);m={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:C}}}if(Z=="rigidTransform"){m={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(Z=="LnCr")m={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(Z=="adaptCorrect")m={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(Z=="Dfs ")m={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(Z=="Fbrs")m={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(Z=="Embs")m={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(Z=="oilPaint")m={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(Z=="TrcC")m={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(Z=="Wnd ")m={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(Z=="lightFilterGradient")m={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(Z=="boxblur")m={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(Z=="GsnB")m={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(Z=="Bokh")m={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(Z=="MtnB")m={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(Z=="RdlB")m={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(Z=="surfaceBlur")m={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(Z=="denoise")m={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(Z=="Dspl")m={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(Z=="Pnch")m={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(Z=="Plr ")m={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(Z=="Rple")m={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(Z=="Shr ")m={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(Z=="Sphr")m={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(Z=="Twrl")m={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(Z=="Wave")m={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(Z=="ZgZg")m={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(Z=="AdNs")m={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(Z=="DstS")m={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(Z=="Mdn ")m={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(Z=="ClrH")m={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(Z=="Crst")m={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(Z=="Mztn")m={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(Z=="Msc ")m={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(Z=="Pntl")m={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(Z=="LnsF")m={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(Z=="Dthr")m={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(Z=="Adobe Camera Raw Filter")m={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(Z=="smartSharpen")m={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(Z=="UnsM")m={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(Z=="HghP")m={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(Z=="HsbP")m={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(Z=="Mxm ")m={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(Z=="Mnm ")m={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(Z=="Ofst")m={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(Z=="Rept")m={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(Z=="Flam")m={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(Z=="Ctoa")m={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(Z=="brit")m={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(Z=="levl")m={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(Z=="curv")m={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(Z=="expA")m={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(Z=="vibA")m={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(Z=="hue2")m={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(Z=="blnc")m={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(Z=="blwh")m={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(Z=="phfl")m={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(Z=="grdm")m={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(fp.kr[6]).Grad};
if(Z=="selc")m={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(Z=="thrs")m={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(Z=="mixr")m={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(Z=="clrL")m={__name:"Color Lookup",classID:"colorLookup"};if(Z=="post")m={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(Z=="rplc")m={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(Z=="fade")m={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(Z=="aply")m={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(Z=="matc"){m={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(Z=="blendOptions")m={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return m};bS.j$={sFlam:function(Z,m){m[0]=Z.Type.v;m[1]=Z.Leng.v;m[2]=Z.RndL.v;m[3]=Z.Widt.v;m[4]=Z.Angl.v;
m[5]=Z.Intr.v;m[6]=Z.Adpt.v;m[7]=Z.Clr.v;m[8]=Z.Qual.v;m[9]=Z.Turb.v;m[10]=Z.Jag.v;m[11]=Z.Opct.v.val;
m[12]=Z.Lins.v;m[13]=Z.Botm.v;m[14]=Z.Styl.v;m[15]=Z.Shap.v;m[16]=Z.RnSh.v;m[17]=Z.Arng.v},gFlam:function(Z,m){Z.Type.v=m[0];
Z.Leng.v=m[1];Z.RndL.v=m[2];Z.Widt.v=m[3];Z.Angl.v=m[4];Z.Intr.v=m[5];Z.Adpt.v=m[6];Z.Clr.v=m[7];Z.Qual.v=m[8];
Z.Turb.v=m[9];Z.Jag.v=m[10];Z.Opct.v.val=m[11];Z.Lins.v=m[12];Z.Botm.v=m[13];Z.Styl.v=m[14];Z.Shap.v=m[15];
Z.RnSh.v=m[16];Z.Arng.v=m[17]},sAdNs:function(Z,m){m[0]=Z.Nose.v.val;m[1]=["Gsn","Unfr"].indexOf(Z.Dstr.v.Dstr);
m[2]=Z.Mnch.v},gAdNs:function(Z,m){Z.Nose.v.val=m[0];Z.Dstr.v.Dstr=["Gsn","Unfr"][m[1]];Z.Mnch.v=m[2]},sDstS:function(Z,m){m[0]=Z.Rds.v;
m[1]=Z.Thsh.v},gDstS:function(Z,m){Z.Rds.v=m[0];Z.Thsh.v=m[1]},sGsnB:function(Z,m){m[0]=Z.Rds.v.val},gGsnB:function(Z,m){Z.Rds.v.val=m[0]},sHghP:function(Z,m){m[0]=Z.Rds.v.val},gHghP:function(Z,m){Z.Rds.v.val=m[0]},sHsbP:function(Z,m){var S=["RGBC","HSBl","HSLC"];
m[0]=S.indexOf(Z.Inpt.v.ClrS);m[1]=S.indexOf(Z.Otpt.v.ClrS)},gHsbP:function(Z,m){var S=["RGBC","HSBl","HSLC"];
Z.Inpt.v.ClrS=S[m[0]];Z.Otpt.v.ClrS=S[m[1]]},"sMxm ":function(Z,m){var S="preserveShape";m[0]=Z.Rds.v.val;
m[1]=Z[S]?["squareness","Rndn"].indexOf(Z[S].v[S]):0},"gMxm ":function(Z,m){var S="preserveShape";Z.Rds.v.val=m[0];
Z[S]={t:"enum",v:{preserveShape:["squareness","Rndn"][m[1]]}}},"sMnm ":function(Z,m){var S="preserveShape";
m[0]=Z.Rds.v.val;m[1]=Z[S]?["squareness","Rndn"].indexOf(Z[S].v[S]):0},"gMnm ":function(Z,m){var S="preserveShape";
Z.Rds.v.val=m[0];Z[S]={t:"enum",v:{preserveShape:["squareness","Rndn"][m[1]]}}},sMtnB:function(Z,m){m[0]=[Z.Angl.v];
m[1]=Z.Dstn.v.val;console.log(m)},gMtnB:function(Z,m){Z.Angl.v=typeof m[0]=="number"?m[0]:m[0][0];Z.Dstn.v.val=m[1]},sOfst:function(Z,m){m[0]=Z.Hrzn.v;
m[1]=Z.Vrtc.v;m[2]=["Rpt","Bckg","Wrp"].indexOf(Z.Fl.v.FlMd)},gOfst:function(Z,m){Z.Hrzn.v=m[0];Z.Vrtc.v=m[1];
Z.Fl.v.FlMd=["Rpt","Bckg","Wrp"][m[2]]},sPnch:function(Z,m){m[0]=Z.Amnt.v},gPnch:function(Z,m){Z.Amnt.v=m[0]},"sPlr ":function(Z,m){m[0]=["RctP","PlrR"].indexOf(Z.Cnvr.v.Cnvr)},"gPlr ":function(Z,m){Z.Cnvr.v.Cnvr=["RctP","PlrR"][m[0]]},sRple:function(Z,m){m[0]=Z.Amnt.v;
m[1]=["Sml","Mdm","Lrg"].indexOf(Z.RplS.v.RplS)},gRple:function(Z,m){Z.Amnt.v=m[0];Z.RplS.v.RplS=["Sml","Mdm","Lrg"][m[1]]},sTwrl:function(Z,m){m[0]=Z.Angl.v},gTwrl:function(Z,m){Z.Angl.v=m[0]},sZgZg:function(Z,m){m[0]=Z.Amnt.v;
m[1]=Z.NmbR.v;m[2]=["ArnC","OtFr","PndR"].indexOf(Z.ZZTy.v.ZZTy)},gZgZg:function(Z,m){Z.Amnt.v=m[0];
Z.NmbR.v=m[1];Z.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][m[2]]},sUnsM:function(Z,m){m[0]=Z.Amnt.v.val;m[1]=Z.Rds.v.val;
m[2]=Z.Thsh.v},gUnsM:function(Z,m){Z.Amnt.v.val=m[0];Z.Rds.v.val=m[1];Z.Thsh.v=m[2]}};bS.apV=function(Z){var m=new aS(0,0);
if(Z.enab.v==!1)return m;var S=Z.filterFXList.v;for(var q=0;q<S.length;q++){var B=S[q].v;if(B.enab.v==!1)continue;
var C=bS.zE(B),u=bS.$J(C,B.Fltr?B.Fltr.v:null);if(u.x>m.x)m.x=u.x;if(u.y>m.y)m.y=u.y}return m};bS.$J=function(Z,m){var S=0,B=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(Z)!=-1){var C=m.Rds.v.val;S=B=C*2.57}if(Z=="MtnB")S=B=m.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(Z)!=-1){S=B=1e4}if(Z=="GEfc")return e_.$J(m);
return new aS(Math.ceil(S),Math.ceil(B))};bS.cL=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
bS.Er=function(Z,m){var S={I:m.Nx>>16,z:m.Nx>>8&255,S:m.Nx&255},B={I:m.ZN>>16,z:m.ZN>>8&255,S:m.ZN&255},C=bS.names[Z];
if(C==null)C=e$.names[Z];var u=Z;for(var r in e$.wx)if(e$.wx[r]==Z)u=r;var k={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:iD.get(C)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:l.X.M1(S)},BckC:{t:"Objc",v:l.X.M1(B)},filterID:{t:"long",v:u.length==4?x.a5f(u):777}}},v=bS.ej(Z);
if(v)k.v.Fltr={t:"Objc",v:v};return k};bS.KY=function(Z,m,S,B){var C=Date.now(),u=N.V8&&Math.max(B.e,B.n)<=N.az.getParameter(N.az.MAX_TEXTURE_SIZE);
if(Z<1){var r=Math.round(Z*5),k=[1,2,1,2,[40,26,13,6,4,2][r],2,1,2,1];k=l.Jc.lz(k);if(!u){l.yu(S);var v=S.slice(0);
l.Jc.$d(v,S,B.e,B.n,k,255);l.u6(S)}else{var e=B.e,j=B.n,$=N.u4(0,e,j);$.set(S);var U=N.u4(1,e,j),H=new Float32Array([1/e,1/j]);
N.dF(U);N.filter.oj({type:N.filter.ajs,hh:H,auG:new Float32Array(k)},$.Wa);U.get(S)}}else{var z=m==l.EE.R9?0:m==l.EE.lI?1:2,f=[];
while(z!=2&&Z*[1,2.4][z]>20&&f.length<4){var D=l.UC(S,B);f.push(S,B);S=D.MW;B=D.rect;Z/=2}var e=B.e,j=B.n;
if(!u||z==2&&Z>15){l.yu(S);m(S,B,Z);l.u6(S)}else{var $=N.u4(0,e,j);$.set(S);var U=N.u4(1,e,j),H=new Float32Array([1/e,1/j]);
if(z==0){var n=1;while(n<Z)n<<=1;N.dF(U);N.filter.oj({type:N.filter.Ax,hh:H,sP:Z,xe:[0,0,n]},$.Wa);N.dF($);
N.filter.oj({type:N.filter.Ax,hh:H,sP:Z,xe:[0,1,n]},U.Wa);$.get(S)}else if(z==1){var L=3,a=l.EE.Un(Z,L);
for(var q=0;q<L;q++){var F=a[q]>>>1,A=1;while(A<F)A<<=1;if(F==0)continue;N.dF(U);N.filter.oj({type:N.filter.Ax,hh:H,sP:F,xe:[0,0,A]},$.Wa);
N.dF($);N.filter.oj({type:N.filter.Ax,hh:H,sP:F,xe:[0,1,A]},U.Wa)}$.get(S)}else{var n=1;while(n<Z)n<<=1;
N.dF(U);N.filter.oj({type:N.filter.Ax,hh:H,sP:Z,xe:[0,0,n]},$.Wa);U.get(S)}}var T=Date.now();while(f.length!=0){var P=f.pop(),Y=f.pop();
l.scale.apR(S,B.e,B.n,Y,P.e,P.n);S=Y;B=P}}};bS.aju=function(Z,m,S,B){for(var q=0;q<Z.length;q++){S[q]=Z[q]*(1/255);
B[q]=0}FFT.fft2d(S,B);var C=m>>>1,u=16384,r=128,v=100;while(r<m){r<<=1;u<<=2}var k=255/Math.log(u),e=-100;
for(var j=0;j<m;j++)for(var $=0;$<C;$++){var U=m+C+j&m-1,H=S[U*m+$],z=B[U*m+$],f=Math.sqrt(H*H+z*z),D=Math.atan2(z,H);
Z[j*m+$]=Math.round(k*Math.log(f+1));Z[j*m+C+$]=Math.round((Math.PI+D)*(255*.5/Math.PI))}};bS.acQ=function(Z,m,S,B){S.fill(0);
B.fill(0);var C=m>>>1,u=16384,r=128;while(r<m){r<<=1;u<<=2}var k=255/Math.log(u),v=[],e=[],j=[];for(var q=0;
q<256;q++){v[q]=Math.exp(q/k)-1;var $=q*(2*Math.PI/255)-Math.PI;e[q]=Math.sin($);j[q]=Math.cos($)}for(var U=0;
U<m;U++)for(var H=0;H<C;H++){var z=m+C+U&m-1,f=v[Z[U*m+H]],$=Z[U*m+C+H],D=f*j[$],n=f*e[$];S[z*m+H]=D;
B[z*m+H]=n;if(H!=0){var L=z==0?z*m+m-H:(m-z)*m+(m-H);S[L]=D;B[L]=-n}}FFT.ifft2d(S,B);for(var q=0;q<Z.length;
q++){Z[q]=Math.max(0,Math.min(255,~~(.5+255*S[q])))}};bS.xZ=new ArrayBuffer(512);bS.acA=function(Z){var m=bS.xZ,S=Z.length;
if(m.byteLength<S)bS.xZ=m=new ArrayBuffer(S);var B=new Uint8Array(m);for(var q=0;q<S;q+=4){B[q]=Z[q];
B[q+1]=Z[q+1];B[q+2]=Z[q+2];B[q+3]=Z[q+3]}return m};bS.Yb=function(Z,m,S,B,C,u,r){if(u==null)u={buffer:l.U(m.buffer.length),rect:m.rect.clone()};
l.Yx(m.buffer,u.buffer);var k=S&&S.RndS?S.RndS.v>>>1:0;if(Z=="GEfc"){var v=[];if(S.GEfs){var e=S.GEfs.v;
for(var q=0;q<e.length;q++){var j=e[q].v;if(j.GELv&&j.GELv.v==!1)continue;v.push(j)}}else v=[S];for(var q=0;
q<v.length;q++){var $;if(q==0)e_.Yb(Z,m,v[q],B,C,u,r);else{if($==null)$={buffer:l.U(m.buffer.length),rect:m.rect.clone()};
l.Yx(u.buffer,$.buffer);e_.Yb(Z,$,v[q],B,C,u,r)}}}if(Z=="Adobe Camera Raw Filter"){var U=m.rect,H=U.e,z=U.n,f=H*z,D=f*4,L=f*3,a=new Float32Array(H*z*3),F=m.buffer;
for(var q=0;q<f;q++){var A=q*3,T=q*4;a[A]=F[T]*(1/255);a[A+1]=F[T+1]*(1/255);a[A+2]=F[T+2]*(1/255)}var P=JSON.parse(JSON.stringify(S));
delete P.Upri;delete P.GuUr;var Y=a.slice(0);a=Y;F=u.buffer;for(var q=0;q<f;q++){var A=q*3,T=q*4;F[T]=255*Math.max(0,Math.min(1,a[A]));
F[T+1]=255*Math.max(0,Math.min(1,a[A+1]));F[T+2]=255*Math.max(0,Math.min(1,a[A+2]))}}if(Z=="adaptCorrect"){var U=m.rect,H=U.e,z=U.n,f=H*z,D=f*4,Q=S.sdwM.v,o=Q.Amnt.v.val/100,I=Q.Wdth.v.val/100,c=Q.Rds.v,y=S.hglM.v,i=y.Amnt.v.val/100,d=y.Wdth.v.val/100,V=y.Rds.v;
l.yN.ade(m.buffer,u.buffer,H,z,o,I,c,i,d,V,S.ClrC.v/100,S.Cntr.v/100)}if(Z=="denoise"){var U=m.rect,H=U.e,z=U.n,R=S.channelDenoise.v[0].v;
l.NQ.asL(m.buffer,H,z,u.buffer,R.Amnt.v/10,R.EdgF.v/100)}if(Z=="HsbP"){var G=S.Inpt.v.ClrS,M=S.Otpt.v.ClrS,U=m.rect,H=U.e,z=U.n,f=H*z;
for(var q=0;q<f;q++){var T=q*4,O=m.buffer[T]*(1/255),K=m.buffer[T+1]*(1/255),W=m.buffer[T+2]*(1/255);
if(G=="RGBC"){}else if(G=="HSLC"){var Y=l.kq(O,K,W);O=Y.I;K=Y.z;W=Y.S}else if(G=="HSBl"){var Y=l.a3p(O,K,W);
O=Y.I;K=Y.z;W=Y.S}var t=O,X=K,h=W;if(M=="RGBC"){}else if(M=="HSLC"){var Y=l.M8(O,K,W);t=Y.Vi;X=Y.Ve;
h=Y.bN}else if(M=="HSBl"){var Y=l.arb(O,K,W);t=Y.Vi;X=Y.Ve;h=Y.S}u.buffer[T]=~~(255*t);u.buffer[T+1]=~~(255*X);
u.buffer[T+2]=~~(255*h)}}if(Z=="Fbrs"){var U=m.rect,H=U.e,z=U.n;l.p.Wj(m.buffer,H,z,u.buffer,[S.Vrnc.v,S.Strg.v,k]);
var b=l.U(H*z);l.NK(u.buffer,b,0);l.Yy(b);e_.MJ(b,u.buffer,B,C)}if(Z=="Frgm"){var U=m.rect,H=U.e,z=U.n,E=m.buffer.slice(0);
l.yu(E);l.p.abt(E,H,z,u.buffer);l.u6(u.buffer)}if(Z=="Flam"){var U=m.rect,H=U.e,z=U.n,f0=S.Clr.v,ay={type:S.Type.v+1,length:S.Leng.v,acz:S.RndL.v,HR:S.Widt.v,a3q:S.Angl.v,a6y:S.Intr.v,a1F:S.Adpt.v,color:{I:f0.Rd.v,z:f0.Grn.v,S:f0.Bl.v},FG:S.Qual.v+1,jW:S.Turb.v,iZ:S.Jag.v,opacity:S.Opct.v.val,py:S.Lins.v,ank:S.Botm.v,style:S.Styl.v+1,shape:S.Shap.v+1,aso:S.RnSh.v,agK:S.Arng.v,a19:!1},p=r[3],eo=p[0],co=p[1],c5=eo[co.length!=0?co[0]:0];
if(c5==null){alert("Make a path first");return}var he=c5.add.vmsk.u,hU=l.q.Ei(he),aB=[];for(var ep=0;
ep<hU;ep++){var aO=l.q.jw(he,ep),f$=he[aO];if(f$.length<2)continue;var fo=[];aB.push(fo);var bb=f$.length-(f$.type==3?1:0);
for(var jl=0;jl<bb;jl++){var e0=he[aO+1+jl],gI=jl==f$.length-1?he[aO+1]:he[aO+1+jl+1],d4=e0.M,ab=e0.XX,c3=gI.H0,gr=gI.M,a2=Math.round(aS.qa(d4,gr)/5);
for(var aL=0;aL<a2;aL++){var el=aL/a2,iJ=1-el,aC=iJ*iJ*iJ*d4.x+3*iJ*iJ*el*ab.x+3*iJ*el*el*c3.x+el*el*el*gr.x,cr=iJ*iJ*iJ*d4.y+3*iJ*iJ*el*ab.y+3*iJ*el*el*c3.y+el*el*el*gr.y;
fo.push(aC,cr)}}}var bN=[aB,ay],hf=Date.now(),cV=ci(bN);cE(m.buffer,H,z,u.buffer,cV,bN)}if(Z=="Dfs "){var U=m.rect,H=U.e,z=U.n,ez=["Nrml","DrkO","LghO","anisotropic"].indexOf(S.Md.v.DfsM);
if(ez<3)l.p.agk(m.buffer,H,z,u.buffer,[ez]);else{var bN=[1.4,1.6,1,4,!1,2,[0,0,.001]],U=m.rect.clone();
U.x=U.y=0;l.OJ.filter(m.buffer,U,u.buffer,bN)}}if(Z=="TrcC"){var U=m.rect,H=U.e,jG=H<<2,z=U.n,jw=S.Lvl.v,dw=S.Edg.v.CntE=="Lwr",cz=m.buffer,jq=u.buffer;
l._z(jq,16777215,4278190080);function dU(dF,ir){al(dF,ir);al(dF+1,ir+1);al(dF+2,ir+2)}function ge(dF,ir){a_(dF,ir);
a_(dF+1,ir+1);a_(dF+2,ir+2)}function al(dF,ir){var t=cz[dF],X=cz[ir];if(t>=jw&&X<jw)jq[dF]=0;if(t<jw&&X>=jw)jq[ir]=0}function a_(dF,ir){var t=cz[dF],X=cz[ir];
if(t>jw&&X<=jw)jq[ir]=0;if(t<=jw&&X>jw)jq[dF]=0}if(dw)for(var cr=1;cr<z;cr++)for(var aC=1;aC<H;aC++){var T=cr*H+aC<<2;
dU(T,T-4);dU(T,T-jG)}else for(var cr=1;cr<z;cr++)for(var aC=1;aC<H;aC++){var T=cr*H+aC<<2;ge(T,T-4);
ge(T,T-jG)}}if(Z=="Embs"){var U=m.rect,H=U.e,z=U.n,hc=-S.Angl.v*Math.PI/180,g7=S.Hght.v,b4=S.Amnt.v/100;
g7/=2;var eC=Math.cos(hc)*g7,cN=Math.sin(hc)*g7,cz=m.buffer,jq=u.buffer;jq.fill(0);var i7=new Uint32Array(cz.buffer),Y=new Uint8Array(4),gC=new Uint32Array(Y.buffer);
for(var cr=0;cr<z;cr++)for(var aC=0;aC<H;aC++){var h7=0,iB=0,hH=0;if(0<=aC+eC&&aC+eC<H&&0<=cr+cN&&cr+cN<z){l.N.Of(aC+eC+.5,cr+cN+.5,i7,H,z,gC,0,0);
h7+=Y[0]-128;iB+=Y[1]-128;hH+=Y[2]-128}if(0<=aC-eC&&aC-eC<H&&0<=cr-cN&&cr-cN<z){l.N.Of(aC-eC+.5,cr-cN+.5,i7,H,z,gC,0,0);
h7-=Y[0]-128;iB-=Y[1]-128;hH-=Y[2]-128}var T=cr*H+aC<<2;jq[T]=Math.max(0,Math.min(255,h7*b4+128));jq[T+1]=Math.max(0,Math.min(255,iB*b4+128));
jq[T+2]=Math.max(0,Math.min(255,hH*b4+128));jq[T+3]=cz[T+3]}}if(Z=="ShrE"){var U=m.rect,H=U.e,z=U.n;
l.p.a8s(m.buffer,H,z,u.buffer)}if(Z=="Dspc"){var U=m.rect,H=U.e,z=U.n;l.p.ajy(m.buffer,H,z,u.buffer)}if(Z=="Slrz"){var bA=u.buffer,cq=128;
for(var q=0;q<bA.length;q+=4){if(bA[q]>cq)bA[q]=255-bA[q];if(bA[q+1]>cq)bA[q+1]=255-bA[q+1];if(bA[q+2]>cq)bA[q+2]=255-bA[q+2]}}if(Z=="Wnd "){var U=m.rect,H=U.e,z=U.n,fd=["Wnd","Blst","Stgr"],iW=S.WndM.v.WndM;
l.p.ct(m.buffer,H,z,u.buffer,[fd.indexOf(iW),S.Drct.v.Drct!="Left"])}if(Z=="Bokh"){var U=m.rect,H=U.e,z=U.n,f=H*z,D=f*4,ca=m.buffer.slice(0),f9=S.BkDi.v.BtDi,bt=S.BkDc,dO=S.BkDs.v,ea=S.BkDp.v/255;
if(f9=="BeIn")ea=0;var c0=57*(.3+.7*((H+z)/2)/1750)*(S.BkIb.v/100)*(1+.2*Math.pow(ea,.1)),gY=parseInt(S.BkIs.v.BtIs.slice(3)),i_=-S.BkIr.v*Math.PI/180,aV=[];
for(var q=0;q<8;q++){var aQ=i_+q*(Math.PI*2/gY),bJ=i_+(q+1)*(Math.PI*2/gY),e9=Math.cos(aQ),cC=Math.sin(aQ),ef=Math.cos(bJ),b5=Math.sin(bJ),jx=[0,0,0];
l.TZ.rt([[e9,cC,1,0],[ef,b5,1,0],[1,1,1,1]],jx);if(jx[2]>0){jx[0]*=-1;jx[1]*=-1;jx[2]*=-1}aV.push(jx[0],jx[1],jx[2],0)}if(f9=="BeIn"){l._z(ca,0,16777215);
ea=1}else if(f9=="BeIt"&&bt.v.BtDc=="BeCt"){}else{var bf;if(f9=="BeIt"&&bt.v.BtDc=="BeCm")bf=r[1];else if(f9=="BeIa")bf=r[2][bt.v];
if(bf==null){l._z(ca,0,16777215)}else{var dH;if(bf.rect.Qu(U))dH=bf.channel;else dH=bf.fR(U);l.cN(dH,ca,3)}}if(dO)for(var q=0;
q<D;q+=4)ca[q+3]=255-ca[q+3];if(N.V8){var hT=ca,je=H,hG=z,gW=1,d3=(S.BkSb.v==0||S.BkSt.v==255)&&f9=="BeIn";
if(!d3){var jJ=0;for(var q=0;q<D;q+=4)jJ+=Math.abs(ea-ca[q+3]*(1/255));jJ=jJ/f*c0;var fj=3.14*jJ*jJ*H*z/3e6;
if(fj>2e3){alert("too large radius");return}}while(d3&&3*(c0/gW)*(c0/gW)*H*z>500*2e3*2e3){var em=l.CV(ca,new bq(0,0,je,hG));
ca=em.MW;je=em.rect.e;hG=em.rect.n;gW*=2}var hf=Date.now(),jB=N.u4(0,je,hG);jB.set(ca);var ip=N.u4(1,H,z);
N.dF(ip);N.filter.oj({type:N.filter.ais,hh:new Float32Array([1/je,1/hG]),agm:ea,yx:c0/gW,aiG:new Float32Array([S.BkSb.v/100,S.BkSt.v/255]),art:new Float32Array([S.BkNa.v/100,S.BkNt.v.BtNt=="BeNu"?0:1,S.BkNm.v?1:0]),a6A:new Float32Array(aV.slice(0,16)),asi:new Float32Array(aV.slice(16))},jB.Wa);
ip.get(u.buffer);var iy=u.buffer;for(var q=0;q<D;q+=4)iy[q+3]=m.buffer[q+3]}}if(Z=="rigidTransform"){var hf=Date.now(),dh=bS.acA,jB=m.buffer.slice(0),ev=0,bx=0;
l.yu(jB);l._z(u.buffer,0);var H=m.rect.e,z=m.rect.n,iO=S.puppetShapeList.v,g0=[],dz=[],da=[],dj=[];for(var jl=0;
jl<iO.length;jl++){var iY=iO[jl].v,iX=ev*2,A=bx*3,ig=iY.originalVertexArray.v.length>>>2,j1=iY.indexArray.v.length>>>2,a6=new Float32Array(dh(iY.originalVertexArray.v));
for(var q=0;q<ig;q++)g0[iX+q]=a6[q];var gK=new Float32Array(dh(iY.deformedVertexArray.v));for(var q=0;
q<ig;q++)dz[iX+q]=gK[q];var bn=new Uint32Array(dh(iY.indexArray.v));for(var q=0;q<j1;q++)da[A+q]=ev+bn[q];
var hr=[],ai=[],c9=iY.PnDp.v;for(var q=0;q<c9.length;q++){hr.push(iY.pinVertexIndices.v[q].v);ai.push(c9[q].v)}var c_=l.Ay.ag$(a6,bn,hr,ai);
for(var q=0;q<c_.length;q++)dj[ev+q]=c_[q];ev+=ig>>>1;bx+=~~(j1/3)}var O=m.rect,H=O.e,z=O.n;l.Ay.fs(jB,H,z,u.buffer,H,z,g0,dz,dj,da);
l.u6(u.buffer)}if(Z=="lightFilterGradient"){function hO(d4){var ac=1/Math.sqrt(d4[0]*d4[0]+d4[1]*d4[1]+d4[2]*d4[2]);
d4[0]*=ac;d4[1]*=ac;d4[2]*=ac}var H=m.rect.e,z=m.rect.n,f=H*z,hf=Date.now(),f6=l.U(f),X=.3,h=.7;l.Iy(u.buffer,f6);
var a9=l.U(f);l.EE.HY(f6,a9,u.rect,16);var h3=l.U(f);l.EE.HY(f6,h3,u.rect,8);var fb=f6,gi=new Float32Array(f),ix=S.Dtl.v,dI=ix[2].v,aD=ix[1].v,fO=ix[0].v,b1=S.Scl.v*40*S.textureScale.v/(dI+aD+fO);
dI*=b1;aD*=b1;fO*=b1;for(var q=0;q<f;q++){var ad=a9[q]*(1/255),gB=h3[q]*(1/255),iA=fb[q]*(1/255);iA=iA*iA;
gi[q]=dI*ad+aD*gB+fO*iA}var c4=S.blur.v;if(c4!=0){var hF=gi.slice(0);l.EE.b0(hF,gi,u.rect,c4)}var i8=H-1,fD=z-1;
for(var cr=1;cr<fD;cr++)for(var aC=1;aC<i8;aC++){var q=cr*H+aC,T=q*4,jz=gi[q],eC=X*(gi[q+1]-jz)+h*(jz-gi[q-1]),cN=X*(gi[q+H]-jz)+h*(jz-gi[q-H]),d4=[1,0,eC],ab=[0,1,cN];
hO(d4);hO(ab);var bJ=d4[0],g8=d4[2],d6=ab[1],fX=ab[2],dV=-g8*d6,hV=-bJ*fX,ch=bJ*d6;u.buffer[T]=~~(127.5+dV*127.5);
u.buffer[T+1]=~~(127.5+hV*127.5);u.buffer[T+2]=~~(127.5+ch*127.5)}}if(Z=="defr"){var H=m.rect.e,z=m.rect.n;
aT(m.buffer,H,z,u.buffer)}if(Z=="dDFT"||Z=="iDFT"){function hi(gY){if(gY==0)return 1;gY--;gY|=gY>>1;
gY|=gY>>2;gY|=gY>>4;gY|=gY>>8;gY|=gY>>16;return gY+1}var H=m.rect.e,z=m.rect.n,fB=hi(Math.max(H,z)),iH=fB>>>1,b3=new bq(0,0,fB,fB),eE=new bq(0,0,H,z);
eE.y=fB-z>>>1;var b9=H>>>1,gm=new bq(0,eE.y,b9,z),ej=new l._8(H*z);l.Fz(m.buffer,ej);var er=new Float64Array(fB*fB),io=new Float64Array(fB*fB),dH=l.U(fB*fB);
FFT.init(fB);var fW=[ej.I,ej.z,ej.S];for(var q=0;q<3;q++){var jA=fW[q];dH.fill(0);if(Z=="dDFT"){l.Ju(jA,eE,dH,b3);
bS.aju(dH,fB,er,io);l.Ju(dH,b3,jA,eE,gm);gm.x+=b9;b3.x-=iH-b9;l.Ju(dH,b3,jA,eE,gm);gm.x-=b9;b3.x+=iH-b9}else{l.Ju(jA,eE,dH,b3,gm);
gm.x+=iH;eE.x+=iH-b9;l.Ju(jA,eE,dH,b3,gm);gm.x-=iH;eE.x-=iH-b9;bS.acQ(dH,fB,er,io);l.Ju(dH,b3,jA,eE)}}l.t5(ej,u.buffer)}if(Z=="Avrg"){var aq=0,jT=0,aF=0,g$=0,ie=1;
for(var q=0;q<m.buffer.length;q+=4){var cH=m.buffer[q+3];aF+=m.buffer[q]*cH;jT+=m.buffer[q+1]*cH;aq+=m.buffer[q+2]*cH;
g$+=cH}var ey=1/g$;aq=Math.round(ie*(aq*ey)+(1-ie)*255);jT=Math.round(ie*(jT*ey)+(1-ie)*255);aF=Math.round(ie*(aF*ey)+(1-ie)*255);
l._z(u.buffer,aq<<16|jT<<8|aF,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(Z)!=-1){var bR=S.Rds.v.val,gu=Z=="boxblur"?l.EE.R9:l.EE.lI;
bS.KY(bR,gu,u.buffer,u.rect);if(Z=="UnsM"||Z=="smartSharpen"){var b4=S.Amnt.v.val/100,bZ=0;if(Z=="UnsM")bZ=S.Thsh.v;
else b4*=.75;for(var q=0;q<m.buffer.length;q++){if((q&3)==3){u.buffer[q]=m.buffer[q];continue}var bG=m.buffer[q],cA=u.buffer[q],fU=b4*(bG-cA);
if(fU>0)fU=Math.max(0,fU-bZ);else fU=Math.min(0,fU+bZ);u.buffer[q]=Math.max(0,Math.min(255,bG+fU))}}if(Z=="HghP")for(var q=0;
q<m.buffer.length;q++){if((q&3)==3){u.buffer[q]=m.buffer[q];continue}var bG=m.buffer[q],cA=u.buffer[q];
u.buffer[q]=Math.max(0,Math.min(255,128+bG-cA))}}if(Z=="AdNs"){var eR=new Uint8ClampedArray(u.buffer.buffer),iU=255*S.Nose.v.val/100,id;
if(S.Dstr.v.Dstr=="Gsn")id=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else id=function(){return Math.random()*2-1};for(var q=0;q<eR.length;q+=4){var O=eR[q],K=eR[q+1],W=eR[q+2],cP,bv,j2;
if(S.Mnch.v){cP=bv=j2=id()}else{cP=id();bv=id();j2=id()}O+=iU*cP;K+=iU*bv;W+=iU*j2;eR[q]=O;eR[q+1]=K;
eR[q+2]=W}}var hf=Date.now();if(Z=="Mdn "||Z=="DstS"||Z=="Mxm "||Z=="Mnm "||Z=="surfaceBlur"){var O=0,iV=S.Thsh,iY=0;
if(iV)iV=iV.v;else iV=0;if(Z=="Mdn "||Z=="Mxm "||Z=="Mnm "||Z=="surfaceBlur")O=S.Rds.v.val;else O=S.Rds.v;
var hq=S.preserveShape;if(hq&&hq.v.preserveShape=="Rndn")iY=1;var H=m.rect.e,z=m.rect.n,av=["Mnm ","Mxm ","surfaceBlur"].indexOf(Z),gR=(iY==0?1:.75)*[.73,.73,1][av]*(H*z*O*O)/1722387,jt=[.73,.9,1.4][av]*(H*z*Math.sqrt(O))/6500;
if(N.V8&&av!=-1&&(gR<jt||iY==1)&&gR<1500){var jB=N.u4(0,H,z);jB.set(m.buffer);var $=N.u4(1,H,z);N.dF($);
N.filter.oj({type:N.filter.aeh,hh:new Float32Array([1/H,1/z]),yx:O,agc:iV/255,xe:[iY,av,10*Math.ceil(O/10)]},jB.Wa);
$.get(u.buffer)}else{O=Math.round(O);l.Y_.FN=.5;var gu=l.Y_.k3;if(Z=="Mxm ")gu=l.Y_.L9;if(Z=="Mnm ")gu=l.Y_.Nt;
if(Z=="surfaceBlur")gu=l.Y_.w4;l.Y_.Bu(m.buffer,u.buffer,H,z,O,gu,[iV]);if(Z=="DstS")for(var q=0;q<H*z*4;
q++){var hB=Math.abs(m.buffer[q]-u.buffer[q]);if(hB<=iV)u.buffer[q]=m.buffer[q]}}}if(Z=="ClrH"){var gm=m.rect.clone();
gm.x=gm.y=0;var O=S.Rds.v;O=Math.round(O*Math.sqrt(2));var H=gm.e,z=gm.n,ej=new l._8(H*z);l.Fz(m.buffer,ej);
l.Yy(ej.I);l.Yy(ej.z);l.Yy(ej.S);var iw=l.Df(H,z),iy=l.U(H*z*4);for(var jc=0;jc<3;jc++){var dH=jc==0?ej.I:jc==1?ej.z:ej.S,hc=Math.PI*S["Ang"+(jc+1)].v/180,ax=new ht(1/O,0,0,1/O,0,0);
ax.rotate(hc);l.cN(dH,iy,3);var Y=g.Q.zr([iy,gm],ax,!0),eE=Y.rect;iw.clearRect(0,0,H,z);var bu=Math.sin(hc),cG=Math.cos(hc);
for(var q=0;q<eE.n;q++)for(var aL=0;aL<eE.e;aL++){var aC=(aL+eE.x+.5)*O,cr=(q+eE.y+.5)*O,eT=aC,en=cr;
aC=cG*eT-bu*en;cr=bu*eT+cG*en;var f=Y.buffer[(q*eE.e+aL<<2)+3]*(1/255),bR=O*Math.sqrt(f*(1/Math.PI));
iw.beginPath();iw.arc(aC,cr,bR,0,2*Math.PI);iw.fill()}var dC=iw.getImageData(0,0,H,z);l.NK(dC.data,dH,3)}l.Yy(ej.I);
l.Yy(ej.z);l.Yy(ej.S);l.t5(ej,u.buffer)}if(Z=="Crst"||Z=="Pntl"){var H=m.rect.e,z=m.rect.n,gu=Z=="Crst"?l.ss.a7P:l.ss.a4O;
gu(m.buffer,H,z,u.buffer,S.ClSz.v,[Math.round(C.I),Math.round(C.z),Math.round(C.S)])}if(Z=="Mztn"){var H=m.rect.e,z=m.rect.n,f=H*z,ej=new l._8(f),j7=[ej.I,ej.z,ej.S];
l.Fz(m.buffer,ej);var iW=S.MztT.v.MztT,js={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[iW],hf=Date.now(),gx=[];
for(var q=0;q<f;q++){gx[q]=Math.random()}var f=H*z,bM=Math.round(f*js[0]),eu=f-H-1;for(var q=0;q<bM;
q++){var fA=Math.random(),i6=1;if(fA<.5){i6=H;fA*=2}else fA=2*(fA-.5);var dF=Math.floor(fA*eu),ir=dF+i6;
gx[dF]=gx[ir]}var cm=Math.round(H*js[1]);for(var cr=0;cr<z;cr++)for(var q=0;q<cm;q++){var fA=l.a.ju(cr*f+q),dF=cr*H+Math.floor(fA*(H-1));
gx[dF]=gx[dF+1]}var bF=new Float64Array(256);for(var q=0;q<256;q++){var hQ=q/255,hy=2*(hQ<.5?hQ:1-hQ);
hy=js[2]+Math.pow(hy,js[3])*(1-js[2]);hQ=hQ<.5?hy*.5:1-hy*.5;bF[q]=hQ}for(var f1=0;f1<3;f1++){var dH=j7[f1];
for(var cr=0;cr<z;cr++){for(var aC=0;aC<H;aC++){var q=cr*H+aC,fM=dH[q],hQ=bF[fM],fA=gx[q];dH[q]=fA>hQ?0:255}}}l.t5(ej,u.buffer)}if(Z=="Msc "){var hU=S.ClSz.v.val,H=m.rect.e,z=m.rect.n,iT=Math.ceil(H/hU),gU=Math.ceil(z/hU),cg=l.U(iT*gU*4);
l.scale.$U(m.buffer,H,z,cg,iT,gU,1/hU);l.scale.$U(cg,iT,gU,u.buffer,H,z,hU)}if(Z=="Clds"||Z=="DfrC"){var H=u.rect.e,z=u.rect.n,f=H*z,hb=l.U(f);
if(Z=="Clds")l._z(u.buffer,4278190080);var fT=l.U(256*4);for(var q=0;q<256;q++){var T=q<<2,jr=q/255,bn=1-jr;
fT[T]=Math.round(jr*B.I+bn*C.I);fT[T+1]=Math.round(jr*B.z+bn*C.z);fT[T+2]=Math.round(jr*B.S+bn*C.S)}l.p.att(m.buffer,H,z,hb);
var aA=u.buffer;for(var q=0;q<f;q++){var T=q<<2,f1=hb[q]<<2,O=fT[f1],K=fT[f1+1],W=fT[f1+2];if(Z=="Clds"){aA[T]=O;
aA[T+1]=K;aA[T+2]=W}else{aA[T]=Math.abs(aA[4*q]-O);aA[T+1]=Math.abs(aA[4*q+1]-K);aA[T+2]=Math.abs(aA[4*q+2]-W)}}}if(Z=="LnsF"){var H=m.rect.e,z=m.rect.n,iW=["Zm","Nkn","Nkn1","PnVs"].indexOf(S.Lns.v.Lns),gd=S.FlrC.v,gg=[Math.min(iW,2),S.Brgh.v/100,gd.Hrzn.v,gd.Vrtc.v],hf=Date.now();
l.ahR(m.buffer,H,z,u.buffer,gg)}var dr=["Blr ","BlrM","Shrp","ShrM"].indexOf(Z);if(dr!=-1){var iM=dr>1,H=m.rect.e,z=m.rect.n,h4=l.Jc.LO[dr],a0=m.buffer.slice(0);
if(!iM)l.yu(a0);l.Jc.$d(a0,u.buffer,H,z,h4,255,!1,iM);if(!iM)l.u6(u.buffer)}if(Z=="MtnB"){var dE=-S.Angl.v*Math.PI/180,iu=S.Dstn.v.val/2,hf=Date.now(),H=m.rect.e,z=m.rect.n,U=m.rect.clone();
U.x=U.y=0;if(N.V8){var hf=Date.now(),fV=u.buffer;fV.set(m.buffer);l.yu(fV);var j3=N.u4(0,H,z);j3.set(fV);
var cz=l.U(4);cz[0]=Math.round(128+127*Math.cos(dE));cz[1]=Math.round(128+127*Math.sin(dE));new Uint32Array(fV.buffer).fill(new Uint32Array(cz.buffer)[0]);
var bj=N.u4(1,H,z);bj.set(fV);N.dF(j3,U);j3.EZ(U);N.filter.oj({type:N.filter.XR,gs:bj.Wa,hh:new Float32Array([1/H,1/z]),aqw:iu/2,a07:1},j3.RK);
j3.get(fV);l.u6(fV)}else{var ax=new ht;ax.rotate(dE);var Y=g.Q.zr([m.buffer,m.rect],ax,!1,null,!0);bS.KY(iu,l.EE.g7,Y.buffer,Y.rect);
ax.Yy();Y=g.Q.zr([Y.buffer,Y.rect],ax,!1,u.buffer.buffer,!0,u.rect)}console.log(Date.now()-hf)}if(Z=="RdlB"){var H=m.rect.e,z=m.rect.n,b4=S.Amnt.v,cy=S.BlrM.v.BlrM=="Zm",jc=S.Cntr.v,iQ=jc.Hrzn.v,gN=jc.Vrtc.v,eC=Math.max(iQ,1-iQ)*H,cN=Math.max(gN,1-gN)*z,bR=Math.sqrt(eC*eC+cN*cN),ao=2*Math.PI*bR*1.5,eF=Math.round(ao),ho=Math.round(bR),gm=new bq(0,0,eF,ho),jd=l.U(eF*ho*4),i5=cy?4:1,dG=cy?.6:8*((H+z)/2)/1400,fS=.1,gW=1,jy=1;
l.N.wM(m.buffer,H,z,jd,eF,ho,iQ,gN,i5,fS,gW,jy);var aE=cy?l.U(eF*ho*4):null;if(cy){l.N.O5(jd,aE,eF,ho);
var el=aE;aE=jd;jd=el;gm.e=ho;gm.n=eF}bS.KY(dG*b4,l.EE.g7,jd,gm);if(cy){l.N.O5(jd,aE,ho,eF);var el=aE;
aE=jd;jd=el;gm.e=eF;gm.n=ho}l.N.gg(jd,eF,ho,u.buffer,H,z,iQ,gN,i5,fS,gW,jy)}if(Z=="Plr "){var H=m.rect.e,z=m.rect.n;
if(S.Cnvr.v.Cnvr=="RctP")l.N.gg(m.buffer,H,z,u.buffer,H,z,.5,.5,1,0,2,H/z);else l.N.wM(m.buffer,H,z,u.buffer,H,z,.5,.5,1,0,2,H/z)}if(Z=="FndE"){var H=m.rect.e,z=m.rect.n;
l.Jc.MP(m.buffer,u.buffer,H,z)}if(Z=="oilPaint"){var hc=S.LghD.v*Math.PI/180,dA=[Math.cos(hc),Math.sin(hc),.001],bN=[S.stylization.v,S.cleanliness.v,S.brushScale.v,S.microBrush.v,S.lightingOn.v,S.specularity.v,dA],U=m.rect.clone();
U.x=U.y=0;l.OJ.filter(m.buffer,U,u.buffer,bN)}if(Z=="Ofst"){var H=m.rect.e,z=m.rect.n,c6=new Uint32Array(m.buffer.buffer),j9=new Uint32Array(u.buffer.buffer),eT=S.Hrzn.v,en=S.Vrtc.v,ap=S.Fl.v.FlMd;
l._z(j9,0);if(ap=="Bckg"||ap=="Rpt"){var gm=m.rect.clone();gm.offset(eT,en);l.pY(c6,gm,j9,u.rect)}if(ap=="Rpt"){var e9,cC,ef,b5,gq;
eT=Math.max(-H,Math.min(H,eT));en=Math.max(-z,Math.min(z,en));e9=eT>0?eT:0;ef=eT>0?H:H+eT;cC=en>0?0:en+z;
b5=en>0?en:z;gq=en>0?0:H*(z-1);for(var cr=cC;cr<b5;cr++)for(var aC=e9;aC<ef;aC++)j9[cr*H+aC]=c6[gq+aC-eT];
e9=eT>0?0:H+eT;ef=eT>0?eT:H;cC=en>0?en:0;b5=en>0?z:z+en;gq=eT>0?0:H-1;for(var cr=cC;cr<b5;cr++)for(var aC=e9;
aC<ef;aC++)j9[cr*H+aC]=c6[gq+H*(cr-en)];if(eT>=0&&en>=0){e9=0;ef=eT;cC=0;b5=en;gq=0}if(eT>=0&&en<0){e9=0;
ef=eT;cC=z+en;b5=z;gq=H*(z-1)}if(eT<0&&en>=0){e9=H+eT;ef=H;cC=0;b5=en;gq=H-1}if(eT<0&&en<0){e9=H+eT;
ef=H;cC=z+en;b5=z;gq=H*z-1}for(var cr=cC;cr<b5;cr++)for(var aC=e9;aC<ef;aC++)j9[cr*H+aC]=c6[gq]}if(ap=="Wrp"){eT=(eT+100*H)%H;
en=(en+100*z)%z;var gm=new bq(eT-H,en-z,H,z);l.pY(c6,gm,j9,u.rect);gm.offset(H,0);l.pY(c6,gm,j9,u.rect);
gm.offset(0,z);l.pY(c6,gm,j9,u.rect);gm.offset(-H,0);l.pY(c6,gm,j9,u.rect)}}if(Z=="Rept"){var f2=S.Rsft.v.val/100,bl=S.SpcX.v.val/100;
bl=Math.max(bl,-.99);var gF=S.SpcY.v.val/100;gF=Math.max(gF,-.99);var gW=S.Scl.v.val/100,ax=new ht;ax.rotate(S.Angl.v*Math.PI/180);
ax.scale(gW,gW);var cX={buffer:m.buffer,rect:m.rect};l.LG(cX);if(cX.rect.Ov()){cX.buffer=m.buffer;cX.rect=m.rect}var aA=cX.buffer,gm=cX.rect,hY=l.Ag(aA,gm,0),eL=new Uint32Array(aA.buffer)[0];
if(!hY.Ov()&&!hY.Qu(gm)){var hh=l.U(hY.Z()*4);l.pY(aA,gm,hh,hY);aA=hh;gm=hY}gm.x=gm.y=0;eL=bl==0&&gF==0||S.SpcC.v?eL:0;
function bd(aC){return aC<0?Math.ceil(aC):Math.floor(aC)}var fy=ax.xf(new aS(gm.e,0));fy.x=bd(fy.x);
fy.y=bd(fy.y);var d9=ax.xf(new aS(0,gm.n));d9.x=bd(d9.x);d9.y=bd(d9.y);var Y=g.Q.zr([aA,gm],ax,!1),eE=Y.rect,jq=Y.buffer,fk=Math.round(eE.x),aP=Math.round(eE.y),a8=Math.max(u.rect.e,u.rect.n)/Math.min(gm.e*gW*(1+bl),gm.n*gW*(1+gF));
a8=Math.ceil(a8*1.7);l._z(u.buffer,eL);for(var cr=-a8;cr<a8;cr++){for(var aC=-a8;aC<a8;aC++){var aJ=(aC+cr*f2)*(1+bl),gz=cr*(1+gF);
eE.x=fk+Math.round(aJ*fy.x+gz*d9.x);eE.y=aP+Math.round(aJ*fy.y+gz*d9.y);if(eE.df(u.rect))l.a.qn("norm",jq,eE,u.buffer,u.rect,eE,1)}}}if(Z=="Ctoa"){var C=l.X.gN(S.Clr.v),iV=S.Trsp.v.val/100,ij=S.Opct.v.val/100;
iV=ij==0?0:iV/ij;var H=m.rect.e,z=m.rect.n,a$=~~C.I,ja=~~C.z,ar=~~C.S,gq=m.buffer,e7=u.buffer;for(var cr=0;
cr<z;cr++)for(var aC=0;aC<H;aC++){var q=cr*H+aC,T=q<<2,gm=gq[T],cF=gq[T+1],aA=gq[T+2],it=Math.abs(a$-gm),a3=Math.abs(ja-cF),jk=Math.abs(ar-aA),dn=Math.max(it,a3,jk)*(1/255);
dn=Math.max(0,Math.min(1,dn/ij));var cw=dn==0?0:1/dn,fa=iV==1?1:Math.max(0,Math.min(1,(dn-iV)/(1-iV)));
e7[T]=Math.max(0,Math.min(255,(gm-a$*(1-dn))*cw));e7[T+1]=Math.max(0,Math.min(255,(cF-ja*(1-dn))*cw));
e7[T+2]=Math.max(0,Math.min(255,(aA-ar*(1-dn))*cw));e7[T+3]=~~(.5+fa*255)}}if(Z=="Dthr"){function c$(aC){return~~(.5+255*l.CQ(aC/255))}var jl=S.Plte.v,eD;
if(jl==0)eD=[4278190080,4294967295];else{var aM=[[1,1,1],[2,2,2],[3,3,2]][jl-1],aZ=[1<<aM[0],1<<aM[1],1<<aM[2]],hn=[~~(255/(aZ[0]-1)),~~(255/(aZ[1]-1)),~~(255/(aZ[2]-1))];
eD=[];for(var O=0;O<aZ[0];O++)for(var K=0;K<aZ[1];K++)for(var W=0;W<aZ[2];W++)eD.push(255<<24|c$(W*hn[2])<<16|c$(K*hn[1])<<8|c$(O*hn[0]))}var H=m.rect.e,z=m.rect.n,f=H*z,dt=f*4,hH=m.buffer.slice(0),cZ=u.buffer;
for(var q=0;q<dt;q++)hH[q]=~~(.5+255*l.CQ(hH[q]/255));var b8=l.U(H*z);UPNG.encode.dither(hH,H,z,eD,cZ,b8);
for(var q=0;q<dt;q++)cZ[q]=~~(.5+255*l.mg(cZ[q]/255))}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg".split(",").indexOf(Z)!=-1){var e1=r[0],H=m.rect.e,z=m.rect.n,bF,hw=0;
if(Z=="LqFy")bF=cI.FK(new Uint8Array(S.LqMe.v).buffer);else{var jR=3;bF={OU:Math.floor(H/jR),Vi:Math.floor(z/jR)};
bF.map=new Float32Array(bF.OU*bF.Vi*2);if(Z=="LnCr"){var iQ=.5*(bF.OU-1),gN=.5*(bF.Vi-1),bD=Math.max(Math.abs(0-iQ),Math.abs(1-iQ)),gM=Math.max(Math.abs(0-gN),Math.abs(1-gN)),a7=Math.sqrt(bD*bD+gM*gM),jM=0,af=0,cf=-1,bm=2,gW=S.LnSi.v/100,cy=1/gW,ck=S.LnIa.v/100,dB=ck==0?1e-6:ck*4.6,hN=cy/a7;
for(var cr=0;cr<bF.Vi;cr++){for(var aC=0;aC<bF.OU;aC++){var eC=(aC-iQ)*hN,cN=(cr-gN)*hN,O=Math.sqrt(eC*eC+cN*cN)*dB,ba=Math.atan(O),bK=ck>0?ba/O:O/ba,jy=iQ+a7*bK*eC,bh=gN+a7*bK*cN,q=cr*bF.OU+aC<<1;
bF.map[q]=jy-aC;bF.map[q+1]=bh-cr}}}else if(Z=="Dspl"&&e1.length!=0){hw=S.UndA.v.UndA=="WrpA"?2:1;var cK=S.DspF.v.pth,cB;
for(var q=0;q<e1.length;q++)if(e1[q].Us==cK)cB=e1[q];if(cB==null)cB=e1[0];cB.Jy();var it=cB.BK[1],aa=l.U(it.Z());
l.Iy(cB.BK[0],aa);var gT=it.e,ei=it.n;bF={OU:gT,Vi:ei};bF.map=new Float32Array(bF.OU*bF.Vi*2);var gc=2.54*S.HrzS.v*gT/H,bz=2.54*S.VrtS.v*ei/z;
for(var cr=0;cr<bF.Vi;cr++){for(var aC=0;aC<bF.OU;aC++){var hB=-.5+aa[cr*gT+aC]*(1/255),q=cr*bF.OU+aC<<1;
bF.map[q]=hB*gc;bF.map[q+1]=hB*bz}}}else if(Z=="Pnch"||Z=="Twrl"||Z=="Sphr"||Z=="ZgZg"){var b4=1,dE=Math.PI,fr=0,b6=1,gb=0,jc=3,hU=1.53,bK=1;
if(Z=="Pnch"||Z=="Sphr"||Z=="ZgZg")b4=S.Amnt.v/100;if(Z=="ZgZg"){b6=S.NmbR.v;gb=["ArnC","OtFr","PndR"].indexOf(S.ZZTy.v.ZZTy)}if(Z=="Twrl")dE=S.Angl.v*Math.PI/180;
if(Z=="Sphr")fr=["Nrml","HrzO","VrtO"].indexOf(S.SphM.v.SphM);function gu(aC){aC=Math.pow(aC,1-aC*.3-aC*aC*(aC*aC)*.5);
return-.225*Math.sin(aC*Math.PI)}function jo(z,ac,O,e9,cC,ef,b5,bK){var eC=ef-e9,cN=b5-cC,fZ=e9-z,fJ=cC-ac,jr=eC*eC+cN*cN,W=2*(eC*fZ+cN*fJ),jc=fZ*fZ+fJ*fJ-O*O,eI=Math.sqrt(W*W-4*jr*jc),db=bK/(2*jr),h$=(-W+eI)*db,i9=(-W-eI)*db;
return bK*Math.min(h$,i9)}var iT=bF.OU,gU=bF.Vi,jj=bF.OU/2,fD=bF.Vi/2,ib=1/jj,O=Math.sqrt(jc*jc+1)/jc,jA=jc+Math.sqrt(1/(jc*jc));
if(b4<0){jc=1.72;O=1;jA=jc;hU=-1;bK=-1}for(var cr=0;cr<gU;cr++){var cN=(cr-fD)/fD;for(var aC=0;aC<iT;
aC++){var eC=(aC-jj)*ib;if(fr==1)cN=0;else if(fr==2)eC=0;var j4=Math.sqrt(eC*eC+cN*cN);if(j4<1&&j4!=0){var q=cr*bF.OU+aC<<1;
if(Z=="Pnch"){var eX=-b4*gu(j4)/j4;bF.map[q]=eC*eX*jj;bF.map[q+1]=cN*eX*fD}else if(Z=="Sphr"){var el=jo(0,jA,O,0,0,j4,jc,bK),fI=hU*b4*(el-1);
bF.map[q]=eC*fI*jj;bF.map[q+1]=cN*fI*fD}else if(Z=="Twrl"){var hc=Math.atan2(cN,eC)-dE*(1-j4)*(1-j4),jI=Math.cos(hc),ct=Math.sin(hc);
bF.map[q]=(j4*jI-eC)*jj;bF.map[q+1]=(j4*ct-cN)*fD}else if(Z=="ZgZg"){var jI=0,ct=0,hd=b4*(.5-.5*Math.cos(j4*b6*2*Math.PI))*(1-j4);
if(gb==0){var hc=Math.atan2(cN,eC)-3.5*hd;jI=j4*Math.cos(hc);ct=j4*Math.sin(hc)}if(gb==1){hd=100/H*hd/j4;
jI=(1-hd)*eC;ct=(1-hd)*cN}if(gb==2){var bw=512/H*hd*Math.PI/4;jI=bw+eC;ct=bw+cN}bF.map[q]=(jI-eC)*jj;
bF.map[q+1]=(ct-cN)*fD}}}}}else if(Z=="Shr "){var he=JSON.parse(JSON.stringify(S.ShrP.v));l.dL.A(he,new ht(0,255/127,255/127,0,-2,0));
var jP=l.dL.UG(he,bF.Vi,!0);hw=S.UndA.v.UndA=="WrpA"?2:1;for(var cr=0;cr<bF.Vi;cr++){var eC=-jP[cr]*bF.OU;
for(var aC=0;aC<bF.OU;aC++){var q=cr*bF.OU+aC<<1;bF.map[q]=eC}}}else if(Z=="Wave"){var jK=S.NmbG.v,gO=S.WLMn.v,a4=S.WLMx.v,iq=S.AmMn.v*(Math.PI/4),iz=S.AmMx.v*(Math.PI/4),cj=S.SclH.v/100,gE=S.SclV.v/100,iW=S.Wvtp.v.Wvtp,hd=Math.sin;
if(iW=="WvTr")hd=function(aC){aC*=2/Math.PI;return-.5+Math.abs(aC%2-1)};if(iW=="WvSq")hd=function(aC){aC*=2/Math.PI;
return 1+2*Math.floor(aC%2-1)};var f7=[],cS=new l.a.hb(S.RndS.v);for(var q=0;q<jK;q++){f7.push(cS.get()*10);
f7.push(Math.PI*jR/(gO+cS.get()*(a4-gO)));f7.push(cj*(iq+cS.get()*(iz-iq))/jR);f7.push(cS.get()*10);
f7.push(Math.PI*jR/(gO+cS.get()*(a4-gO)));f7.push(gE*(iq+cS.get()*(iz-iq))/jR)}var hZ=[],g1=[],d8=Math.max(bF.OU,bF.Vi);
for(var q=0;q<d8;q++){var eC=0,cN=0;for(var aL=0;aL<jK;aL++){var jC=aL*6;eC+=f7[jC+2]*hd(f7[jC]+q*f7[jC+1]);
cN+=f7[jC+5]*hd(f7[jC+3]+q*f7[jC+4])}hZ[q]=cN;g1[q]=eC}for(var cr=0;cr<bF.Vi;cr++){for(var aC=0;aC<bF.OU;
aC++){var q=cr*bF.OU+aC<<1;bF.map[q]=g1[cr];bF.map[q+1]=hZ[aC]}}hw=S.UndA.v.UndA=="WrpA"?2:1}else if(Z=="Rple"){hw=1;
var b4=S.Amnt.v/100,fi=4,aX=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],eS=1,eK=1,fZ=0,gV=["Sml","Mdm","Lrg"].indexOf(S.RplS.v.RplS);
if(gV==0){eS=1;eK=.2;fZ=3}if(gV==2){eS=1;eK=2;fZ=-1;aX=aX.reverse()}var ce=function(aC,cr){var jc=Math.cos,b1=0;
for(var q=0;q<fi;q++)for(var aL=0;aL<fi;aL++)b1+=aX[q*fi+aL]*jc(aC*(q+fZ)-cr*(aL+fZ));return b1},ex=Math.floor(50/jR),jQ=new Float32Array(ex*ex*2),fP=eK*b4*.5/jR;
for(var cr=0;cr<ex;cr++)for(var aC=0;aC<ex;aC++){var iQ=eS*aC*2*Math.PI/ex,gN=eS*cr*2*Math.PI/ex,eA=ce(iQ,gN),eC=(ce(iQ+.01,gN)-eA)*100,cN=(ce(iQ,gN+.01)-eA)*100,q=(cr*ex+aC)*2;
jQ[q]=eC*fP;jQ[q+1]=cN*fP}for(var cr=0;cr<bF.Vi;cr++)for(var aC=0;aC<bF.OU;aC++){var ct=cr%ex,jI=aC%ex,q=cr*bF.OU+aC<<1,cs=ct*ex+jI<<1;
bF.map[q]=jQ[cs];bF.map[q+1]=jQ[cs+1]}}}l._B.$p(m.buffer,u.buffer,H,z,null,bF.map,bF.OU,bF.Vi,hw)}return u};
var e_={};e_.Y7="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");e_.YJ="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
e_.s$=["ScrC","ScrD","ScrL"];e_.ne=["SDRD","SDHz","SDLD","SDVt"];e_.ka="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
e_.v_="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");e_.jc="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
e_.n2=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];e_.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
e_.ej=function(Z){var m;if(Z=="ClrP")m={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(Z=="Ct")m={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(Z=="DryB")m={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(Z=="FlmG")m={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(Z=="Frsc")m={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(Z=="NGlw")m={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(Z=="PntD")m={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(Z=="PltK")m={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(Z=="PlsW")m={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(Z=="PstE")m={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(Z=="RghP")m={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(Z=="SmdS")m={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(Z=="Spng")m={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(Z=="Undr")m={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(Z=="Wtrc")m={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(Z=="AccE")m={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(Z=="AngS")m={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(Z=="Crsh")m={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(Z=="DrkS")m={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(Z=="InkO")m={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(Z=="Smie")m={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(Z=="Spt")m={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(Z=="SprS")m={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(Z=="DfsG")m={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(Z=="Gls")m={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(Z=="OcnR")m={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(Z=="BsRl")m={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(Z=="ChlC")m={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(Z=="Chrc")m={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(Z=="Chrm")m={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(Z=="CntC")m={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(Z=="GraP")m={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(Z=="HlfS")m={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(Z=="NtPr")m={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(Z=="Phtc")m={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(Z=="Plst")m={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(Z=="Rtcl")m={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(Z=="Stmp")m={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(Z=="TrnE")m={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(Z=="WtrP")m={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(Z=="GlwE")m={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(Z=="Crql")m={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(Z=="Grn")m={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(Z=="MscT")m={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(Z=="Ptch")m={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(Z=="StnG")m={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(Z=="Txtz")m={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
m.__name="Filter Gallery";m.classID="GEfc";m.GEfk={t:"enum",v:{GEft:Z}};m.GELv={t:"bool",v:!0};return m};
e_.he=function(Z,m){for(var q=0;q<m.length;q++)~~(m[q]=(Z[4*q]+Z[4*q+1]+Z[4*q+2])*(1/3))};e_.vg=function(Z,m,S,B){var C=UPNG.quantize(Z,m);
C={E2:C.inds,dH:C.plte};var u=Math.floor((S+B)*.015);if(u!=0)l.Yh.ab1(C.E2,S,B,u);return C};e_.Yb=function(Z,m,S,B,C,u,r){Z=S.GEfk.v.GEft;
var k=m.rect,v=k.e,e=k.n,j=v*e,$=S.FlRs?S.FlRs.v>>>1:0;function U(A){return A.I<<24|A.z<<16|A.S<<8|255}if(Z=="ClrP")l.p.ar_(m.buffer,v,e,u.buffer,[S.Pncl.v,S.StrP.v,S.PprB.v]);
if(Z=="Ct"){var H=S.NmbL.v,z=S.EdgS.v,f=e_.vg(m.buffer.buffer,H*2,v,e);for(var q=0;q<f.E2.length;q++)f.E2[q]++;
var D=new Uint8Array((v+2)*(e+2));l.Ju(f.E2,new bq(1,1,v,e),D,new bq(0,0,v+2,e+2));var n=l.H.ML(D,v+2,e+2,z,!1),L=new ht(1,0,0,1,-1,-1);
for(var q=0;q<n.length;q++)l.H.A(n[q].path.t,L,n[q].path.t);var a=[],F=f.dH;for(var q=0;q<F.length;q++){var A=F[q].est.q;
a.push({I:Math.round(255*A[0]),z:Math.round(255*A[1]),S:Math.round(255*A[2]),AQ:Math.round(255*A[3])})}var T=l.Df(v,e);
for(var q=0;q<n.length;q++){var P=n[q],A=a[P.color-1];if(A.AQ==0)continue;T.fillStyle="rgba("+A.I+","+A.z+","+A.S+","+A.AQ/255+")";
T.beginPath();Typr.U.pathToContext({crds:P.path.t,cmds:P.path.C},T);T.fill()}if(!k.Ov()){var Y=T.getImageData(0,0,v,e);
l.Yx(Y.data,u.buffer)}}if(Z=="DryB")l.p.aqy(m.buffer,v,e,u.buffer,[S.BrsS.v,S.BrsD.v,S.Txtr.v]);if(Z=="FlmG")l.p.a9y(m.buffer,v,e,u.buffer,[S.Grn.v,S.HghA.v,S.Intn.v,$]);
if(Z=="Frsc")l.p.aa6(m.buffer,v,e,u.buffer,[S.BrsS.v,S.BrsD.v,S.Txtr.v]);if(Z=="NGlw")l.p.ajd(m.buffer,v,e,u.buffer,[S.Sz.v,S.Brgh.v,U(l.X.gN(S.Clr.v)),U(B),U(C)]);
if(Z=="PltK")l.p.aoQ(m.buffer,v,e,u.buffer,[S.StrS.v,S.StDt.v,S.Sftn.v]);if(Z=="PstE")l.p.a2U(m.buffer,v,e,u.buffer,[S.EdgT.v,S.EdgI.v,S.Pstr.v]);
if(Z=="RghP")l.p.aqK(m.buffer,v,e,u.buffer,[S.StrL.v,S.StDt.v,e_.ka.indexOf(S.TxtT.v.TxtT),S.Scln.v,S.Rlf.v,e_.YJ.indexOf(S.LghD.v.LghD),S.InvT.v]);
if(Z=="SmdS")l.p.aez(m.buffer,v,e,u.buffer,[S.StrL.v,S.HghA.v,S.Intn.v,S.FlRs.v,$]);if(Z=="Spng")l.p.anI(m.buffer,v,e,u.buffer,[S.BrsS.v,S.Dfnt.v,S.Smth.v,S.FlRs.v,$]);
if(Z=="Undr")l.p.apY(m.buffer,v,e,u.buffer,[S.BrsS.v,S.TxtC.v,e_.ka.indexOf(S.TxtT.v.TxtT),S.Scln.v,S.Rlf.v,e_.YJ.indexOf(S.LghD.v.LghD),S.InvT.v]);
if(Z=="Wtrc")l.p.agd(m.buffer,v,e,u.buffer,[S.BrsD.v,S.ShdI.v,S.Txtr.v]);if(Z=="AccE")l.p.ahp(m.buffer,v,e,u.buffer,[S.EdgW.v,S.EdgB.v,S.Smth.v]);
if(Z=="AngS")l.p.amw(m.buffer,v,e,u.buffer,[S.DrcB.v,S.StrL.v,S.Shrp.v]);if(Z=="Crsh")l.p.alj(m.buffer,v,e,u.buffer,[S.StrL.v,S.Shrp.v,S.Strg.v]);
if(Z=="DrkS")l.p.a5m(m.buffer,v,e,u.buffer,[S.Blnc.v,S.BlcI.v,S.WhtI.v]);if(Z=="InkO")l.p.au_(m.buffer,v,e,u.buffer,[S.StrL.v,S.DrkI.v,S.LghI.v]);
if(Z=="Smie")l.p.ae9(m.buffer,v,e,u.buffer,[S.StrW.v,S.StrP.v,S.Cntr.v]);if(Z=="DfsG")l.p.akU(m.buffer,v,e,u.buffer,[S.Grns.v,S.GlwA.v,S.ClrA.v,U(C),$]);
if(Z=="CntC")l.p.au$(m.buffer,v,e,u.buffer,[S.FrgL.v,S.BckL.v,e_.ka.indexOf(S.TxtT.v.TxtT),S.Scln.v,S.Rlf.v,e_.YJ.indexOf(S.LghD.v.LghD),S.InvT.v,U(C),U(B)]);
if(Z=="ChlC")l.p.ae$(m.buffer,v,e,u.buffer,[S.ChrA.v,S.ChlA.v,S.StrP.v,$,U(C),U(B)]);var Q=Z=="GraP"||Z=="Chrc"||Z=="Plst"||Z=="Rtcl"||Z=="Stmp"||Z=="TrnE";
if(Q){var o=l.U(v*e);if(Z=="GraP")l.p.a5l(m.buffer,v,e,u.buffer,[S.StrL.v,S.LgDr.v,e_.ne.indexOf(S.SDir.v.StrD),$]);
if(Z=="Chrc")l.p.af7(m.buffer,v,e,u.buffer,[S.ChAm.v,S.Dtl.v,S.LgDr.v]);if(Z=="Plst")l.p.ar2(m.buffer,v,e,u.buffer,[S.ImgB.v,e_.v_.indexOf(S.LghP.v.LghP),S.Smth.v]);
if(Z=="Rtcl")l.p.aeV(m.buffer,v,e,u.buffer,[S.Dnst.v,S.BlcL.v,S.WhtL.v,$]);if(Z=="Stmp")l.p.a7v(m.buffer,v,e,u.buffer,[S.LgDr.v,S.Smth.v]);
if(Z=="TrnE")l.p.a1u(m.buffer,v,e,u.buffer,[S.ImgB.v,S.Smth.v,S.Cntr.v,$]);l.NK(u.buffer,o,0);e_.MJ(o,u.buffer,B,C)}if(Z=="NtPr")l.p.au6(m.buffer,v,e,u.buffer,[S.ImgB.v,S.Grns.v,S.Rlf.v,U(B),U(C),$]);
if(Z=="WtrP")l.p.aeJ(m.buffer,v,e,u.buffer,[S.FbrL.v,S.Brgh.v,S.Cntr.v,$>>>1]);if(Z=="Crql")l.p.aiF(m.buffer,v,e,u.buffer,[S.CrcS.v,S.CrcD.v,S.CrcB.v,$]);
if(Z=="Grn")l.p.al7(m.buffer,v,e,u.buffer,[S.Intn.v,e_.jc.indexOf(S.Grnt.v.Grnt),S.Cntr.v,U(B),U(C),$]);
if(Z=="MscT")l.p.ak0(m.buffer,v,e,u.buffer,[S.TlSz.v,S.GrtW.v,S.LghG.v,$]);if(Z=="Ptch")l.p.acj(m.buffer,v,e,u.buffer,[S.SqrS.v,S.Rlf.v,$]);
if(Z=="Phtc"){function I(dU,ge,k,cC){l.EE.AT(dU,ge,k,cC);for(var q=0;q<j;q++)ge[q]=Math.max(0,Math.min(255,128+dU[q]-ge[q]))}var c=S.Dtl.v,y=S.Drkn.v,i=l.U(j);
l.Iy(m.buffer,i);var d=l.U(j);I(i,d,k,1);if(c==1){c=2;y=Math.round(y/4)}var V=l.U(j);I(i,V,k,c);for(var q=0;
q<j;q++)i[q]=Math.max(0,Math.min(255,255-(d[q]-V[q])*y));e_.MJ(i,u.buffer,B,C)}if(Z=="Spt"||Z=="SprS"){var R,G=1,M=1;
R={OU:Math.floor(v/M),Vi:Math.floor(e/M)};R.map=new Float32Array(R.OU*R.Vi*2);var O=new l.a.hb(S.FlRs.v),K=new Float32Array(8192),W=S.SprR.v,t=W<20?.018*W:.36+(W-20)*.128;
if(Z=="SprS"){t=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][W]}for(var q=0;
q<8192;q++)K[q]=(-1+2*O.get())*t*70;for(var X=0;X<e;X++)for(var h=0;h<v;h++){var b=X*v+h<<1;R.map[b]=K[b%7919];
R.map[b+1]=K[(b+1)%7919]}var E=R.map.slice(0),f0=Z=="Spt"?S.Smth.v-1:1;if(Z=="Spt"&&f0!=0){e_.Pb(R.map,E,v,e,f0);
e_.a3(E,R.map,v,e,f0)}if(Z=="SprS"){var ay=S.StrL.v>>>1,p=ay==0?2:1;e_.Pb(R.map,E,v,e,p);e_.a3(E,R.map,v,e,p);
if(ay!=0){var eo=e_.ne.indexOf(S.SDir.v.StrD),co=[1,1,1,0][eo],c5=[-1,0,1,1][eo],he=2*ay+1,hU=1/he;for(var X=0;
X<e;X++)for(var h=0;h<v;h++){var b=X*v+h<<1,aB=0,ep=0;for(var q=0;q<he;q++){var aO=Math.max(0,Math.min(v-1,h-(ay+q)*co)),f$=Math.max(0,Math.min(e-1,X-(ay+q)*c5)),fo=f$*v+aO<<1;
aB+=R.map[fo];ep+=R.map[fo+1]}E[b]=aB*hU;E[b+1]=ep*hU}R.map=E}}l._B.$p(m.buffer,u.buffer,v,e,null,R.map,R.OU,R.Vi,G)}if(Z=="BsRl"||Z=="PlsW"||Z=="Chrm"){var bb=Date.now(),jl=l.U(j),e0=jl.slice(0);
l.Iy(m.buffer,jl);var c=S.Dtl.v,gI=S.Smth.v;if(c!=15){l.EE.HY(jl,e0,k,Math.round((15-c)*.5));l.Yx(e0,jl)}var d4=1.4/v,ab=1.4/e,c3=new Float32Array(j),gr=new Float32Array(j),a2=new Float32Array(u.buffer.buffer);
for(var X=0;X<e;X++)for(var h=0;h<v;h++){var q=X*v+h,co=h==v-1?jl[q]-jl[q-1]:jl[q+1]-jl[q],c5=X==e-1?jl[q]-jl[q-v]:jl[q+v]-jl[q],aL=h*d4-.7,el=X*ab-.7;
c3[q]=co==0?aL:co*.4;gr[q]=c5==0?el:c5*.4}if(Z=="BsRl"){var iJ=(2+e_.YJ.indexOf(S.LghD.v.LghD))*Math.PI*.25,aB=Math.cos(iJ);
if(Math.abs(aB)<.1)aB=0;aB=Math.sign(aB);var ep=Math.sin(iJ);if(Math.abs(ep)<.1)ep=0;ep=Math.sign(ep);
var aC=1/(aB*aB+ep*ep);for(var X=0;X<e;X++)for(var h=0;h<v;h++){var q=X*v+h,cr=Math.max(-1,Math.min(1,aB*c3[q])),bN=Math.max(-1,Math.min(1,ep*gr[q]));
e0[q]=128+127*(cr+bN)*aC}if(gI!=1){l.EE.HY(e0,jl,k,Math.round((gI-1)*.5));l.Yx(jl,e0)}e_.MJ(e0,u.buffer,B,C)}else{if(Z=="Chrm")gI=5+gI;
if(gI>1)e_.KY(c3,gr,a2,k,gI-1);if(Z=="PlsW"){var hf=new Uint8Array(c3.buffer);for(var q=0;q<j;q++){var cV=q<<2,co=c3[q],c5=gr[q],ez=1/(Math.sqrt(1+co*co)*Math.sqrt(1+c5*c5)),jG=ez*ez,jw=jG*jG,A=~~(255*(jw*jw*jG));
hf[cV+0]=A;hf[cV+1]=A;hf[cV+2]=A;hf[cV+3]=A}u.buffer.set(m.buffer);l.a.qn("norm",hf,k,u.buffer,k,k,S.HghS.v/20)}else if(Z=="Chrm"){var dw=u.buffer,cz=v>>>1,jq=e>>>1;
for(var q=0;q<j;q++){var cV=q<<2,co=c3[q],c5=gr[q],dU={x:1,y:0,gG:co};aK.uu(dU);var ge={x:0,y:1,gG:c5};
aK.uu(ge);var al=aK.aqP(dU,ge),a_=1/al.gG,hc=~~Math.max(0,Math.min(v-1,cz-al.x*a_*cz)),g7=~~Math.max(0,Math.min(e-1,jq-al.y*a_*jq)),A=jl[g7*v+hc];
dw[cV+0]=A;dw[cV+1]=A;dw[cV+2]=A}}}}if(Z=="Gls"||Z=="OcnR"||Z=="Txtz"){var b4=Z=="OcnR"?2:e_.ka.indexOf(S.TxtT.v.TxtT),eC=e_.pL(b4),cN=eC[0],jl=eC[1],i7=cN.e,gC=cN.n,he=24,f9=0,bt,dO;
function h7(ig,j1,a6){return~~(iB*(ig+j1)+8192)&127}var c3=new Float32Array(j),gr=new Float32Array(j),a2=new Float32Array(u.buffer.buffer),iB=Z=="OcnR"?1/(1+(S.RplS.v-1)*.1):100/S.Scln.v;
if(b4==3)iB*=32/22.2;var bb=Date.now(),hH=iB,d4=1.4/v,ab=1.4/e;if(Z=="Txtz"){hH*=1/255;he=256}for(var X=0;
X<e;X++){var bA=h7(X,k.y,gC),f$=bA+1&127;for(var h=0;h<v;h++){var q=X*v+h,cq=h7(h,k.x,i7),aO=cq+1&127,fd=0,iW=0,ca=0;
if(Z=="Txtz"){fd=l.N.Uc(iB*h,iB*X,jl,128,128);iW=l.N.Uc(iB*h,iB*X+1,jl,128,128);ca=l.N.Uc(iB*h+1,iB*X,jl,128,128)}else{fd=jl[bA*i7+cq];
iW=jl[f$*i7+cq];ca=jl[bA*i7+aO]}c3[q]=Math.max(-he,Math.min((ca-fd)*hH,he));gr[q]=Math.max(-he,Math.min((iW-fd)*hH,he))}}if(Z=="Txtz")e_.WZ(c3,gr,a2,k,6);
else e_.KY(c3,gr,a2,k,Z=="Txtz"?1:Z=="OcnR"?3.5/iB:S.Smth.v);if(Z=="Txtz")f9=S.InvT.v?-1:1;else if(Z=="Gls"){f9=[1,.4,.5,.5][b4]*(Math.exp(S.Dstr.v*.155)-1);
if(S.InvT.v)f9=-f9}else{f9=.5*(Math.exp(S.RplM.v*.155)-1)}var dw=u.buffer;if(Z=="Txtz"){var iJ=(2+e_.YJ.indexOf(S.LghD.v.LghD))*Math.PI*.25,aB=Math.cos(iJ),ep=Math.sin(iJ);
bt={x:aB,y:ep,gG:0};aK.uu(bt);dO=S.Rlf.v;dO=dO/4+Math.max(0,(dO-35)*2)}function ea(dU,ge,i_){var je=l.a.overF(ge,dU,1),ig=(1-i_)*dU+i_*(i_*ge+(1-i_)*je);
return ig*255}for(var X=0;X<e;X++)for(var h=0;h<v;h++){var q=X*v+h,cV=q<<2,co=c3[q],c5=gr[q],dU={x:1,y:0,gG:co};
aK.uu(dU);var ge={x:0,y:1,gG:c5};aK.uu(ge);var al=aK.aqP(dU,ge);if(Z=="Txtz"){var c0=aK.a4w(al,bt)*f9,i_=1,A=1;
if(c0<0){A=0;c0=-c0}i_=Math.min(1,c0*dO);dw[cV+0]=~~ea(m.buffer[cV]*(1/255),A,i_);dw[cV+1]=~~ea(m.buffer[cV+1]*(1/255),A,i_);
dw[cV+2]=~~ea(m.buffer[cV+2]*(1/255),A,i_)}else{var a_=f9/al.gG,hc=~~Math.max(0,Math.min(v-1,h-al.x*a_)),g7=~~Math.max(0,Math.min(e-1,X-al.y*a_)),aV=g7*v+hc<<2;
dw[cV+0]=m.buffer[aV];dw[cV+1]=m.buffer[aV+1];dw[cV+2]=m.buffer[aV+2]}}}if(Z=="PntD"){var aQ=S.Shrp.v*.4,bJ=S.BrsT.v.BrsT,e9={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[bJ],cC=Math.round(S.Sz.v*.5);
l.Y_.FN=e9[0];var ef=l.Y_.k3;l.Y_.Bu(m.buffer,u.buffer,v,e,cC,ef,[]);var b5=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
b5=l.Jc.lz(b5);var jx=u.buffer.slice(0);l.Jc.$d(jx,u.buffer,v,e,b5,0);for(var q=0;q<m.buffer.length;
q++){var bf=u.buffer[q]-jx[q];u.buffer[q]=Math.max(0,Math.min(255,jx[q]+aQ*bf))}}if(Z=="GlwE"){var dH=u.buffer.slice(0);
l.Y_.FN=.5;var ef=l.Y_.k3;l.Y_.Bu(m.buffer,dH,v,e,S.Smth.v>>>1,ef,[]);l.Jc.MP(dH,u.buffer,v,e);l.Yx(u.buffer,dH);
l.Yy(dH);l._z(dH,4278190080,16777215);l.Y_.Bu(dH,u.buffer,v,e,S.EdgW.v>>>1,l.Y_.L9,[]);var hT=S.EdgB.v/10;
for(var q=0;q<dH.length;q++){if((q&3)==3)continue;var je=u.buffer[q];u.buffer[q]=Math.max(0,Math.min(255,je*hT))}}if(Z=="StnG"){l.ss.a1p(m.buffer,v,e,u.buffer,S.ClSz.v,[Math.round(B.I),Math.round(B.z),Math.round(B.S)],S.BrdT.v)}if(Z=="HlfS"){var hG=S.HlSz.v,gW=hG*2+1,d3=S.Cntr.v,jJ=e_.s$.indexOf(S.ScrT.v.ScrT),j=v*e,fj=j*4,em=l.U(j),jB=m.buffer,g0=0,dz=0;
e_.he(jB,em);var ip=em.slice(0);l.EE.Xx(ip,em,k,hG);var iy=Math.PI/gW,dh=new Float64Array(v),aB=new Float64Array(v),iO=new Float64Array(2*v);
for(var h=0;h<v;h++){var cq=(h-(v>>>1))*iy;dh[h]=cq*cq;aB[h]=Math.cos(cq);var co=h<<1;iO[co]=Math.sin(co*(1/4.5));
iO[co+1]=Math.sin((co+1)*(1/4.5))}for(var X=0;X<e;X++){var bA=(X-(e>>>1))*iy,ep=Math.cos(bA),da=bA*bA;
for(var h=0;h<v;h++){var A=ep;if(jJ==0){var dj=.5+Math.sqrt(dh[h]+da)*4.5;A=iO[~~dj]}else if(jJ==1){A=aB[h]*ep}var q=X*v+h,ev=em[q]*(.75+.25*A),i_=jB[(q<<2)+3]*(1/255),bx=Math.max(0,Math.min(255,~~ev));
g0+=bx*i_,dz+=i_;em[q]=bx}}g0/=dz;var iY=128+1.26*(g0-128),hT=.08+.25*Math.abs((128-g0)/128),iX=1+hT*d3;
for(var q=0;q<j;q++){var ev=iY+(em[q]-iY)*iX;em[q]=Math.max(0,Math.min(255,~~ev))}if(d3>46)l.round(em);
e_.MJ(em,u.buffer,B,C)}for(var q=0;q<m.buffer.length;q+=4)u.buffer[q+3]=m.buffer[q+3]};e_.MJ=function(Z,m,S,B){var C=Z.length,u=S.I,r=S.z,k=S.S,v=B.I,e=B.z,j=B.S;
for(var q=0;q<C;q++){var $=Z[q]*(1/255),U=1-$,H=q<<2;m[H]=~~(u*U+v*$);m[H+1]=~~(r*U+e*$);m[H+2]=~~(k*U+j*$)}};
e_.pL=function(Z){if(Z==6)Z=2;var m="blocks canvas frosted tinylens brick burlap".split(" ")[Z];if(e_.c8==null)e_.c8=[];
if(e_.c8[Z]==null){var S,B;if(Z==2){B=new bq(0,0,128,128);var C=bS.ej("AdNs");C.Mnch.v=!0;C.Dstr.v.Dstr="Gsn";
C.Nose.v.val=50;var S=l.U(B.Z()*4),u=S.slice(0);new Uint32Array(u.buffer).fill(4286611584);bS.Yb("AdNs",{buffer:u,rect:B},C,0,0,{buffer:S,rect:B})}else{var r=e2.wP.get("tex/"+m,!0)[0];
B=r.cR;S=new Uint8Array(r.data)}var k=l.U(B.Z());l.NK(S,k,0);e_.c8[Z]=[B,k]}return e_.c8[Z]};e_.KY=function(Z,m,S,B,C){if(C<=1){C=Math.round(C);
e_.WZ(Z,m,S,B,[1,16,4][C]);return}var u=C*.42;if(Z){l.EE.b0(Z,S,B,u,3);Z.set(S)}if(m){l.EE.b0(m,S,B,u,3);
m.set(S)}};e_.WZ=function(Z,m,S,B,C){var u=l.Jc.lz([1,2,1,2,C,2,1,2,1]);if(Z){S.set(Z);l.Jc.eh(Z,S,B.e,B.n,u);
Z.set(S)}if(m){S.set(m);l.Jc.eh(m,S,B.e,B.n,u);m.set(S)}};e_.$J=function(Z){if(Z==null)return new aS(0,0);
var m=0,S=Z.GEfs?Z.GEfs.v:[{v:Z}];for(var q=0;q<S.length;q++){var B=S[q].v,u=1e4;if(B.GELv&&!B.GELv.v)continue;
var C=B.GEfk.v.GEft;if(C=="GlwE"||C=="Phtc"||C=="BsRl"||C=="PlsW"||C=="Chrm"||C=="Gls"||C=="OcnR")u=0;
m=Math.max(m,u)}return new aS(m,m)};e_.oh=function(Z){var m=[0,0,0,0,0,0,0,0,0,0,0,0,0],S=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][Z];
for(var q=0;q<13;q++){var B=q-6;m[q]=1/(S*Math.sqrt(2*Math.PI))*Math.exp(-.5*(B/S)*(B/S))}return m};
e_.Pb=function(Z,m,S,B,C){var u=e_.oh(C),r=6,k=13;for(var v=0;v<B;v++)for(var e=0;e<S;e++){var j=v*S+e<<1,$=0,U=0;
for(var q=0;q<k;q++){var H=e+q-r,z=H<0?0:H>=S?S-1:H,f=(v*S+z)*2,D=u[q];$+=D*Z[f];U+=D*Z[f+1]}m[j]=$;
m[j+1]=U}};e_.a3=function(Z,m,S,B,C){var u=e_.oh(C),r=6,k=13;for(var v=0;v<B;v++)for(var e=0;e<S;e++){var j=v*S+e<<1,$=0,U=0;
for(var q=0;q<k;q++){var H=v+q-r,z=H<0?0:H>=B?B-1:H,f=(z*S+e)*2,D=u[q];$+=D*Z[f];U+=D*Z[f+1]}m[j]=$;
m[j+1]=U}};function d1(){}d1.L4=[2,5,5,7,4,4];d1.WJ="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
d1.FI="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
d1.JN=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
d1.mZ=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
d1.Pi=function(Z){if(Z=="passThrough")return"pass";return d1.WJ[d1.FI.indexOf(Z)]};d1.D2=function(Z){if(Z=="pass")return"passThrough";
return d1.FI[d1.WJ.indexOf(Z)]};d1.getName=function(Z){return d1.JN[d1.WJ.indexOf(Z)]};function w(){this.rect=null;
this.buffer=null;this.E4="norm";this.opacity=255;this.GT=!1;this.Kl=0;this.KI=0;this.N9=!0;this.Eo=[];
for(var q=0;q<10;q++)this.Eo.push(0,0,255,255);this.name=null;this.add={};this.Ji=null;this.RA=null;
this.v=null;this.Hi=null;this.ajw=30;this.K6=w.tl();this.agn=w.tl();this.ah9=w.tl();this.ao5=w.tl();
this.E_=0;this.aX=!1;this.rl=null;this.Jw=new w.Yk}w.tl=function(){var Z=document.createElement("canvas");
Z.width=Z.height=30;return Z.getContext("2d")};w.Yk=function(){this.WG=!0;this.Be=!0;this.Rx=l.U(0);
this.a35=l.U(0);this._x=null;this.Py={};this.a6d=null;this.R8=null;this.m1=null;this.kF=null;this.ZG=null;
this.Uu=null;this.c9=null;this.Pv=null;this.Bd=null;this.Bw=null;this.jo=null;this.WD=null;this.rU=!1};
w.Yk.prototype.b7=function(){this.WG=!1;this.Be=!1;this._x=null;this.rU=N.V8};w.Yk.prototype.a8I=function(){aK.aej(this.Py);
this.Rx=l.U(0);this.a35=l.U(0);if(this.kF)this.kF.delete();if(this.ZG)this.ZG.delete();this.kF=null;
this.ZG=null;var Z=[this.Uu,this.c9,this.Pv,this.Bd,this.Bw,this.jo];for(var q=0;q<6;q++)if(Z[q]!=null&&Z[q]instanceof N._8)Z[q].delete();
this.Uu=null;this.c9=null;this.Pv=null;this.Bd=null;this.Bw=null;this.jo=null};w.prototype.G=function(Z){if(Z==null)Z=this.rect.clone();
if(this.Jw._x==null)this.Jw._x=Z;else this.Jw._x=this.Jw._x.j3(Z)};w.prototype.O1=function(){return this.add.lsct==jf.AH||this.add.lsct==jf.aa};
w.prototype.Ie=function(){var Z=this.add;return Z.SoCo!=null||Z.GdFl!=null||Z.PtFl!=null};w.prototype.mV=function(){var Z=this.add.lmfx;
if(Z==null)return;var m=["GrFl","patternFill"];for(var q=0;q<m.length;q++){var S=fp.lg[fp.order.indexOf(m[q])],B=Z[S].v;
if(B.length==0)continue;for(var C=0;C<B.length;C++){var u=B[C].v;if(u.enab.v&&(u.Algn==null||!u.Algn.v))this.Jw.Be=!0}}};
w.prototype.U_=function(){var Z=this.v;if(this.Ie())Z=this.sd();if(!N.V8)return Z.JE();if(this.Jw.ZG==null||this.Jw.WG||N.V8!=this.Jw.rU){if(this.Jw.ZG)this.Jw.ZG.delete();
this.Jw.ZG=new N.ob(Z.Cp().e,Z.Cp().n);this.Jw.ZG.set(Z.JE())}return this.Jw.ZG};w.prototype.iG=function(Z){var m=this.rect,S=this.buffer;
if(!N.V8){var B=this.J3(Z,S,m);if(B){S=B.MW;m=B.rect}return S}if(this.Jw._x!=null||N.V8!=this.Jw.rU){var B=this.J3(Z,S,m);
if(B){S=B.MW;m=B.rect}var C=m;if(N.V8!=this.Jw.rU||this.Jw.kF==null||this.Jw.kF.e!=C.e||this.Jw.kF.n!=C.n){if(this.Jw.kF)this.Jw.kF.delete();
this.Jw.kF=new N._8(C.e,C.n);this.Jw.kF.set(S)}else{var u=this.Jw._x.clone();u.offset(-m.x,-m.y);this.Jw.kF.set(S,u)}}return this.Jw.kF};
w.prototype.ZB=function(){var Z=this.v;if(this.Ie())Z=this.sd();return Z!=null&&Z.isEnabled&&(!Z.rect.Ov()||Z.gN()!=255)};
w.prototype.J3=function(Z,m,S){if(this.vI()){var B=this.ws(Z);if(B.v&&B.v.isEnabled&&(!B.v.rect.Ov()||B.v.color==0)){var C=this.add.SoLd.filterFX.v;
B.v.h2=C.filterMaskDensity?C.filterMaskDensity.v:255;B.v.hC=C.filterMaskFeather?C.filterMaskFeather.v:0;
var u=B.buffer,r=B.rect;if(r.Z()<S.Z()){r=S;u=l.U(r.Z()*4);l.pY(B.buffer,B.rect,u,r)}var k=B.v.fR(S);
l.Yy(k);m=m.slice(0);l.a.yb(u,r,m,S,k,S,0,S,1);return{MW:m,rect:S}}}};w.prototype.a2$=function(){var Z={yU:!1,I_:!1,c6:0,D8:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)Z.I_=!0;if(this.sd()&&this.sd().isEnabled)Z.yU=!0;if(Z.yU&&Z.I_){Z.c6=this.sd().rect.x-this.add.vmsk.sd().rect.x;
Z.D8=this.sd().rect.y-this.add.vmsk.sd().rect.y}return Z};w.prototype.T3=function(Z){if(this.add.lsct==jf.vX)return;
var m=this,S=this.sd()!=null&&this.sd().ZZ,B=this.add.vmsk!=null&&this.add.vmsk.ZZ,C=this.a2$(),u=JSON.stringify(C)!=this.Jw.a6d||C.yU&&S||C.I_&&B;
if(u){if(C.I_){var r=this.add.vmsk.sd();if(C.yU){this.v=this.sd().n_(r);this.Jw.R8=new aS(this.v.rect.x-this.sd().rect.x,this.v.rect.y-this.sd().rect.y)}else this.v=r}if(this.v)this.Jw.WG=!0;
if(this.v)this.Jw.m1=new aS(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);if(C.yU)this.sd().ZZ=!1;
if(C.I_)this.add.vmsk.ZZ=!1;this.G()}else{if(C.yU&&C.I_){this.v.rect.x=this.sd().rect.x+this.Jw.R8.x;
this.v.rect.y=this.sd().rect.y+this.Jw.R8.y}}if(m.Ie()){this.EQ(Z)}if(m.JB()){var k;if(this.v)k=new aS(this.rect.x-this.v.rect.x,this.rect.y-this.v.rect.y);
if(this.v&&this.v.isEnabled&&(this.Jw.m1==null||!k.Qu(this.Jw.m1))){this.Jw.m1=k;this.G();this.Jw.WG=!0}}if(e$.get(m.add)!=null)this.Jw.WG=!0;
this.Jw.a6d=JSON.stringify(C)};w.prototype.EQ=function(Z){var m=this,S=m.add.vstk,B=new bq(0,0,Z.e,Z.n),C,u=m.add.vmsk?this.add.vmsk.sd():null,v=!0,$;
if(u&&u.isEnabled&&u.gN()==0)C=u.Cp().clone();else C=B;var r=m.sd();if(r&&r.isEnabled&&r.gN()==0)C=C.o9(m.v.Cp());
var k=u&&S;if(S&&(!S.strokeEnabled.v||S.strokeStyleLineWidth.v.val==0))k=!1;if(S&&!S.fillEnabled.v&&k)v=!1;
var e=l.U(C.Z()*4);if(v){if(m.add.SoCo)aK.GV(e,m.add.SoCo.Clr.v);if(m.add.GdFl){var j=u&&u.color==0?l.q.Go(m.add.vmsk.u,null,!0):null;
aK.DM(m.add.GdFl,e,C,Z,null,j)}if(m.add.PtFl)aK.DY(m.add.PtFl,e,C,Z.add.Patt,m.add.fxrp)}if(k)$=fp.Rw.Rg.indexOf(S.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(u){var U=u.h2;if(k)u.h2=255;var H=l.U(C.Z());if(u.gN()!=0)H.fill(Math.round(u.gN()));if(u&&u.isEnabled){var z=u.Cp(),f=u.JE();
if(z.Qu(C))l.Yx(f,H);else l.Ju(f,z,H,C)}if(k&&$==2){}else{if(m.add.SoCo&&v){l.cN(H,e,3)}else l.bc(H,C,e,C)}if(k)u.h2=U}m.buffer=e;
m.rect=C;if(k){var D=S.strokeStyleContent.v,n=fp.Rw.lf.indexOf(D.classID),L=this.add.vmsk.sd(S);if($!=0&&!m.rect.Qu(B))m.extend(m.rect.j3(L.Cp()));
var U=L.h2;L.h2=255;var a=L.fR(m.rect);L.h2=U;if(L.color==255)l.Yy(a);var F=l.U(m.rect.Z()*4);if(n==0)aK.GV(F,D.Clr.v);
if(n==1)aK.DM(D,F,m.rect,Z,null,u.color==0?u.rect:null);if(n==2)aK.DY(D,F,m.rect,Z.add.Patt,m.add.fxrp);
var A=S.strokeStyleOpacity.v.val/100;if(A!=1)l.WQ(a,A);if(L.color==255)$=2-$;if($<2){l.a.yb(F,m.rect,m.buffer,m.rect,a,m.rect,255,m.rect,1,!1);
if($==0)l.K7(H,m.buffer)}if($==2){l.K7(a,F);l.Yy(H);l.a.yb(F,m.rect,m.buffer,m.rect,H,C,255,m.rect,1,!1);
l.Yy(H)}if(L.h2!=255){var T=F.slice(0);l._z(T,4278190080,16777215);l.a.qn("norm",T,m.rect,m.buffer,m.rect,m.rect,1-L.h2/255)}U=u.h2;
u.h2=255;this.a35=u.fR(m.rect);u.h2=U}this.G()};w.prototype.l8=function(Z,m){var S=this,B=S.add.SoLd.Idnt.v,C=S.add.SoLd,u=l.H.su(g.Q.wG(C.nonAffineTransform)),r=Z.C2(B,C.Crop?C.Crop.v:null,[u.e,u.n],C.Impr.v.classID),U=1;
if(r==null)return;var k=r.BK;C.Sz.v.Wdth.v=k[1].e;C.Sz.v.Hght.v=k[1].n;var v=r.wd==null?C.Rslt.v.val:r.wd,e=C.warp.v,j=g.Q.wG(C.nonAffineTransform),$=k[1].clone();
$.e*=U;$.n*=U;$.x=(k[1].e-$.e)/2;$.y=(k[1].n-$.n)/2;var H=l.N.Eh(j,$);if(e&&!l.BF.xB(e)){var u=l.H.su(l.BF.f8(e)),z=u.x,f=u.y,D=1/u.e,n=1/u.n;
H=l.N.Eh(j);H=l.N.n_(H,[D,0,-z*D,0,n,-f*n,0,0])}var L=g.Q.tR(k,m?0:1,H,e,null,null,null,m);if(L==null){S.buffer=l.U();
S.rect=new bq}else if(S.vI()){var a=S.ws(Z);a.buffer=L.buffer;a.rect=L.rect.clone();this.qj(Z,m)}else{S.buffer=L.buffer;
S.rect=L.rect}S.T3(Z);S.G();Z.G()};w.prototype.qj=function(Z,m){if(m==null)m=!1;var S=this.ws(Z),B=this.add.SoLd.filterFX.v,C=bS.apV(B),u=new bq(0,0,Z.e,Z.n),r=S.rect.j3(u),k=S.rect.clone();
k.QW(C.x,C.y);var v={buffer:null,rect:r.o9(k)};v.buffer=l.U(v.rect.Z()*4);l.pY(S.buffer,S.rect,v.buffer,v.rect);
if(B.enab.v&&m==!1){var e=B.filterFXList.v;for(var q=0;q<e.length;q++){var j=e[q].v;if(j.enab.v==!1)continue;
var $=j.blendOptions.v,U=d1.Pi($.Md.v.BlnM),H=$.Opct.v.val/100,z=l.X.gN(j.FrgC.v),f=l.X.gN(j.BckC.v),D=bS.zE(j),n={buffer:l.U(v.buffer.length),rect:v.rect.clone()},L=j.Fltr?j.Fltr.v:null;
if(e$.wx[D]!=null){var a=e$.wx[D],F=e$.kA(a,L);if(F)e$.Yb(F,v.buffer,n.buffer,v.rect)}else bS.Yb(D,v,L,z,f,n,[Z.add.lnk2?Z.add.lnk2:[],this.sd(),Z.Xz]);
if(U=="norm"&&H==1)v=n;else if(U=="norm"){l.a.yb(n.buffer,n.rect,v.buffer,v.rect,null,null,null,v.rect,H)}else{l.a.qn(U,n.buffer,n.rect,v.buffer,v.rect,v.rect,H)}}}this.rect=v.rect;
this.buffer=v.buffer;this.t6();this.G();Z.G()};w.prototype.PK=function(Z,m,S){this.rl=this.qo(Z,m,S)};
w.prototype.lQ=function(Z,m){var S=this.qo(Z,m,!0);if(S==null)return null;var B={Yo:S.E_,aP:S.Di,rect:S.cr};
if(B.Yo==1||B.Yo==3){var C=B.rect,u=l.U(C.e*C.n*4);l.cN(B.aP,u,0);l.cN(B.aP,u,1);l.cN(B.aP,u,2);l.vT(Z.$.channel,Z.$.rect,u,C);
B.aP=u}return B};w.prototype.qo=function(Z,m,S){var B,C,u,r,k,v,e;if(this.E_<=0){var j=l.U(this.rect.Z());
l.NK(this.buffer,j,3);B=l.aS.BV(m,{channel:j,rect:this.rect},3);if(B==null)return null;var $=l.cg(B.channel,B.rect);
r=B.rect.clone();k=this.rect.clone();C=l.U(r.Z()*4);l.pY(this.buffer,k,C,r);l.cN(B.channel,C,3);u=this.buffer.slice(0);
if(!S){var U=m.channel.slice(0);l.Yy(U);l.bc(U,m.rect,u,k)}v=this.buffer.slice(0);e=this.rect.clone()}if(this.E_==1||this.E_==3){var H=this.E_==1?this.sd():this.ws(Z).v;
r=m.rect.clone();k=H.rect.clone();C=H.oH(r);var u=H.channel.slice(0);if(!S)l.a.AJ(H.color==255?l.fH(r.Z()):l.Td(r.Z()),r,u,k,m.channel,r,1);
v=H.channel.slice(0);e=H.rect.clone()}return{E_:this.E_,Di:C,cr:r,rK:u,P5:k,qu:v,NC:e}};w.prototype.kS=function(Z,m){var S=this.rl;
if(S.E_==0){this.rect=S.NC;this.buffer=S.qu;this.G()}if(S.E_==1||S.E_==3){var B=S.E_==1?this.sd():this.ws(Z).v;
B.channel=S.qu;B.rect=S.NC;if(this.E_==1){B.ZZ=!0;this.T3(Z)}if(this.E_==3)this.G()}this.rl=m};w.prototype.Cs=function(Z,m){if(this.E_<=0&&m.rect.Qu(this.rect)){var S=l.U(this.rect.Z());
l.NK(this.buffer,S,3);if(l.Qu(Z.$.channel,S)){var B=this.rect,C=this.buffer;this.rl={E_:this.E_,Di:C.slice(0),cr:B.clone(),rK:l.U(0),P5:new bq,qu:l.U(0),NC:new bq};
return!0}}var u=this.rl;if(u==null)return!1;if(u.E_!=this.E_)return!1;if(!m.rect.Qu(u.cr))return!1;var r=u.P5.j3(u.cr);
if(u.E_<=0){if(!r.Qu(this.rect))return!1;var k=l.U(u.Di.length>>2);l.NK(u.Di,k,3);if(!l.Qu(m.channel,k))return!1;
var v=l.U(r.e*r.n*4);l.pY(u.rK,u.P5,v,r);l.a.qn("norm",u.Di,u.cr,v,r,r,1);return l.Qu(v,this.buffer)}if(u.E_==1||u.E_==3){var e=u.E_==1?this.sd():this.ws(Z).v;
if(!r.Qu(e.rect))return!1;var j=l.U(r.Z());j.fill(e.color);l.Ju(u.rK,u.P5,j,r);l.a.AJ(u.Di,u.cr,j,r,m.channel,r,1);
return l.Qu(j,e.channel)}};w.prototype.vj=function(Z,m,S,B){var C=this.rl;C.cr.offset(m,S);var u=C.P5.j3(C.cr);
if(C.E_<=0){var r=l.U(u.Z()*4);l.pY(C.rK,C.P5,r,u);l.a.qn("norm",C.Di,C.cr,r,u,u,1);this.buffer=r;this.rect=u;
this.G()}else{var k=this.E_==1?this.sd():this.ws(Z).v,v=l.U(u.Z());v.fill(k.color);l.Ju(C.rK,C.P5,v,u);
l.a.AJ(C.Di,C.cr,v,u,B.channel,u,1);k.channel=v;k.rect=u.clone();if(this.E_==1){k.ZZ=!0;this.T3(Z)}if(this.E_==3)this.G()}};
w.prototype.x8=function(){var Z=[-1,0,1,2];if(this.v)Z.push(-2);if(this.Hi)Z.push(-3);return Z};w.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
w.prototype.Se=function(gY){this.add.luni=this.name=gY};w.prototype.Ph=function(Z){var m=this.add.lnsr,S=this.add.TySh;
if(m=="rend"&&S){var B=e6.xu(S.e7);this.Se(B.slice(0,B.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
w.prototype.tm=function(){return(this.Kl&1<<1)==0};w.prototype.JB=function(){return(this.Kl&1<<4)==0};
w.prototype.RM=function(){return(this.Kl&1<<5)!=0};w.prototype.a6u=function(){var Z=this;if(Z.add.lnsr!="bgnd"){Z.add.lnsr="bgnd";
Z.Se("Background");Z.add.lspf=1<<2}};w.prototype.afg=function(){var Z=this;if(Z.add.lnsr=="bgnd"){delete Z.add.lnsr;
Z.Se("Layer 0");Z.add.lspf=0}};w.prototype.YL=function(Z){var m=this.add.lspf;return m==null?!1:(m>>Z&1)!=0};
w.prototype.p0=function(Z){if(Z&&!this.tm())this.Kl-=2;if(!Z&&this.tm())this.Kl+=2};w.prototype.MM=function(){var Z=this.add.lmfx;
if(Z==null)return!1;for(var m in Z){if(m=="masterFXSwitch")continue;if(m=="Scl")continue;if(m=="classID")continue;
if(Z[m].v.length>0)return!0}return!1};w.prototype.vI=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
w.prototype.bX=function(){var Z=this.add.lmfx;if(Z==null)return!1;if(!Z.masterFXSwitch.v)return!1;for(var m in Z){if(m=="masterFXSwitch")continue;
if(m=="Scl")continue;if(m=="classID")continue;var S=Z[m].v;for(var q=0;q<S.length;q++)if(S[q].v.enab.v)return!0}return!1};
w.prototype.SJ=function(Z,m,S,B){var C=new bq,u=this.Kx(Z,S,B);if(u.indexOf(0)!=-1)C=C.j3(this.rect);
if(u.indexOf(1)!=-1){var r=this.sd(),k=r.Cp();C=S&&r.gN()==0?C.Ov()?k:C.o9(k):C.j3(k)}if(u.indexOf(2)!=-1){var v=this.add.vmsk,e=this.add.vstk,j;
if(m){j=l.q.Go(v.u,v._.length!=0?v._:null)}else j=l.q.Go(v.u);if(!B&&e&&e.strokeEnabled.v){var $=e.strokeStyleLineAlignment.v.strokeStyleLineAlignment,U=e.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if($!="strokeStyleAlignInside"){var H=e.strokeStyleLineWidth.v.val;if(U=="strokeStyleMiterJoin")j=new bq(0,0,Z.e,Z.n);
else j.QW(H,H)}}C=C.j3(j)}if(u.indexOf(3)!=-1)C=C.j3(this.ws(Z).v.Cp());if(u.length==0&&this.Ie())C=B?new bq(0,0,0,0):new bq(0,0,Z.e,Z.n);
return C};w.prototype.YM=function(){var Z=this.add.artb,m=Z.artboardBackgroundType.v,S=0;if(m==1)S=4294967295;
else if(m==2)S=4278190080;else if(m==3)S=0;else if(m==4){S=Z.Clr.v;S=255<<24|S.Bl.v<<16|S.Grn.v<<8|S.Rd.v}else throw m;
return S};w.prototype.u1=function(){var Z=this.add.artb.artboardRect.v,m=Z.Btom.v,S=Z.Left.v,B=Z.Rght.v,top=Z.Top.v;
return new bq(S,top,B-S,m-top)};w.prototype.Ea=function(Z){var m=w.ZL(Z);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=m};w.ZL=function(Z){var m={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
m.Btom.v=Z.y+Z.n;m.Left.v=Z.x;m.Rght.v=Z.x+Z.e;m.Top.v=Z.y;return m};w.prototype.Kx=function(Z,m,S){var B=[],C=this;
if(!m&&C.aX&&S){B.push(2)}else if(C.E_<=0||m){if(C.JB())if(!this.rect.Ov())B.push(0);if(C.sd()&&!C.sd().rect.Ov())if(C.sd().ie||m)B.push(1);
if(C.add.vmsk)if(C.add.vmsk.ie||m)B.push(2);if(C.vI()&&C.ws(Z).v&&!C.ws(Z).v.rect.Ov())B.push(3)}else if(C.E_==1){B.push(1);
if(C.sd().ie&&!C.sd().rect.Ov()){if(C.JB())if(!this.rect.Ov())B.push(0);if(C.add.vmsk)if(C.add.vmsk.ie)B.push(2)}}else if(C.E_==3&&!C.ws(Z).v.rect.Ov())B.push(3);
if(C.add.artb&&B.indexOf(0)==-1)B.push(0);B.sort();return B};w.prototype.sd=function(){var Z=this;return Z.Hi?Z.Hi:Z.add.vmsk&&Z.add.vmsk.isEnabled?null:Z.v};
w.prototype.ws=function(Z){var m=this.add.SoLd.placed.v,S=Z.add.FEid;if(S==null)return null;for(var q=0;
q<S.length;q++)if(S[q].id==m)return S[q];return null};w.prototype.extend=function(Z){l.ajo(this,Z)};
w.prototype.YR=function(Z,m,S){var B=Z.clone();if(this.bX()){var C=this.add.lmfx,u=m.root.Hr(m.g.indexOf(this)),r=C.gradientFillMulti.v,k=!1;
for(var q=0;q<r.length;q++)if(r[q].v.enab.v&&r[q].v.Algn.v)k=!0;if(k)B=B.j3(u.Cp(m,!1));var v=aK.a2R(this.add.lmfx,m,S);
B.offset(v.x,v.y);B.e+=v.e;B.n+=v.n}return B};w.prototype.t6=function(){if(this.JB())l.LG(this);var Z=this.sd();
if(Z)Z.t6()};w.prototype.clone=function(){var Z=new w;Z.rect=this.rect.clone();Z.buffer=this.buffer.slice(0);
Z.E4=this.E4;Z.opacity=this.opacity;Z.GT=this.GT;Z.Kl=this.Kl;Z.name=this.name;Z.Eo=this.Eo.slice(0);
if(this.v)Z.v=this.v.clone();if(this.Hi)Z.Hi=this.Hi.clone();for(var m in this.add)Z.add[m]=hR.clone(m,this.add[m]);
return Z};w.prototype.MQ=function(Z){var m=this;if(m.add.TySh)delete m.add.TySh;if(m.add.SoLd){var S=this.J3(Z,this.buffer,this.rect);
if(S){this.buffer=S.MW;this.rect=S.rect;this.G()}delete m.add.SoLd}if(m.add.SoCo||m.add.GdFl||m.add.PtFl){if(m.add.vogk)delete m.add.vogk;
if(m.add.SoCo)delete m.add.SoCo;if(m.add.GdFl)delete m.add.GdFl;if(m.add.PtFl)delete m.add.PtFl;if(m.add.vmsk){console.log(m.Hi,m.v);
delete m.add.vmsk;if(m.Hi==null&&m.v)delete m.v;else if(m.Hi!=null&&m.v!=null){m.v=m.Hi;delete m.Hi}}}if(!m.O1()&&e$.get(m.add)==null&&!this.JB())this.Kl-=16};
w.prototype.b9=function(Z){var m=255,S=0;if(Z==2){var B=this.add.SoLd.filterFX.v;if(B.filterMaskDensity)m=B.filterMaskDensity.v;
if(B.filterMaskFeather)S=B.filterMaskFeather.v}else{var C=Z==0?this.sd():this.add.vmsk;m=C.h2;S=C.hC}return{ii:Z,Gw:m,tz:S}};
w.prototype.fZ=function(Z){if(Z.ii==2){var m=this.add.SoLd.filterFX.v;if(Z.Gw==255)delete m.filterMaskDensity;
else m.filterMaskDensity={t:"long",v:Z.Gw};if(Z.tz==0)delete m.filterMaskFeather;else m.filterMaskFeather={t:"doub",v:Z.tz};
this.G()}else{var S=Z.ii==0?this.sd():this.add.vmsk;S.h2=Z.Gw;S.hC=Z.tz;S.ZZ=!0}};w.prototype.VZ=function(){var Z=this,m=Z.add.vmsk;
if(m==null)return;Z.add.vogk=w.VZ(m.u)};w.VZ=function(Z){var m=[],S=l.q.Ei(Z);for(var B=0;B<S;B++)m.push(l.Ka.Td());
return m};var jf={Ae:0,AH:1,aa:2,vX:3};w.Ga=function(){this.name="Mask";this.m5=!1;this.rF={I:255,z:0,S:0};
this.mh=50;this.If=0;this.color=255;this.ie=!0;this.isEnabled=!0;this.FH=!1;this.h2=255;this.hC=0;this.rect=new bq;
this.channel=l.U(0);this.aq=null;this.air=null;this.ZZ=!0};w.Ga.prototype.n_=function(Z){if(!this.isEnabled)return Z;
var m=new w.Ga;m.color=Math.round(this.gN()*Z.gN()/255);if(this.gN()==0&&Z.gN()==0)m.rect=this.Cp().o9(Z.Cp());
else if(Z.gN()==0)m.rect=Z.Cp().clone();else if(this.gN()==0)m.rect=this.Cp().clone();else m.rect=this.Cp().j3(Z.Cp());
m.channel=this.fR(m.rect);m.h2=255;m.hC=0;var S=Z.fR(m.rect);l.agh(S,m.rect,m.channel,m.rect);return m};
w.Ga.prototype.Cp=function(){if(this.hC==0)return this.rect;var Z=Math.ceil(this.hC*2.2),m=this.rect.clone();
if(m.y==0){if(m.x==0)m.e+=Z;else m.QW(Z,0);m.n+=Z}else m.QW(Z,Z);return m};w.Ga.prototype.JE=function(){if(this.hC==0&&this.h2==255)return this.channel;
if(this.hC==0){var Z=this.channel.slice(0);l.Yy(Z);l.WQ(Z,this.h2/255);l.Yy(Z);return Z}var m=this.Cp(),S=this.oH(m),Z=l.U(m.Z());
l.EE.HY(S,Z,m,this.hC);if(this.h2!=255){l.Yy(Z);l.WQ(Z,this.h2/255);l.Yy(Z)}return Z};w.Ga.prototype.gN=function(){return Math.round(255-(255-this.color)*(this.h2/255))};
w.Ga.prototype.extend=function(Z){l.extend(this,Z,this.color)};w.Ga.prototype.t6=function(){if(this.color==255)l.Yy(this.channel);
l.t6(this);if(this.color==255)l.Yy(this.channel)};w.Ga.prototype.clone=function(){var Z=new w.Ga;Z.name=this.name;
Z.m5=this.m5;Z.rF=this.rF;Z.mh=this.mh;Z.If=this.If;Z.color=this.color;Z.ie=this.ie;Z.isEnabled=this.isEnabled;
Z.FH=this.FH;Z.h2=this.h2;Z.hC=this.hC;Z.rect=this.rect.clone();Z.channel=this.channel.slice(0);return Z};
w.Ga.prototype.oH=function(Z,m){if(m==null)m=l.U(Z.Z());m.fill(this.color);l.Ju(this.channel,this.rect,m,Z);
return m};w.Ga.prototype.fR=function(Z,m){var S=this.Cp(),B=this.JE();if(m==null)m=l.U(Z.Z());m.fill(this.gN());
l.Ju(B,S,m,Z);return m};w.r6=function(){this.ie=!0;this.isEnabled=!0;this.h2=255;this.hC=0;this.u=[{type:6},{type:8,all:0}];
this.Bp=[-3,-3];this.DK=!1;this.Hi=null;this.ZZ=!0;this._=[];this.N2=[]};w.r6.prototype.offset=function(Z,m){this.Hi=this.sd();
l.q.uA(this.u,new ht(1,0,0,1,Z,m));this.Hi.rect.offset(Z,m)};w.r6.prototype.sd=function(Z){if(!this.ZZ&&this.Hi&&Z==null){this.Hi.isEnabled=this.isEnabled;
return this.Hi}var m=l.q.Go(this.u),S="strokeStyleLineAlignment",B="strokeStyleLineJoinType";if(m.Z()>3e4*3e4)m=new bq(0,0,100,100);
if(Z&&Z[S].v[S]!="strokeStyleAlignInside"){var C=1;if(Z[B].v[B]=="strokeStyleMiterJoin"){var u=l.q.a9s(this.u),r=u/2,k=Math.sin(r),v=Math.cos(r);
v/=k;k=1;var C=Math.sqrt(v*v+k*k);if(isNaN(C)||C<1)C=1}C*=Z[S].v[S]=="strokeStyleAlignOutside"?1:.5;
var e=Math.ceil(Z.strokeStyleLineWidth.v.val*C);e=Math.min(e,600);m.QW(e,e)}m=l.H.oq(m);var j=new w.Ga;
j.color=l.q.Lq(this.u)?0:255;j.ie=this.ie;j.isEnabled=this.isEnabled;j.FH=!0;j.rect=m;j.h2=this.h2;j.hC=this.hC;
j.channel=l.U(j.rect.Z());if(!m.Ov())l.q.aob(this.u,j.channel,j.rect,Z);if(Z==null){this.Hi=j;this.ZZ=!1}return j};
w.r6.prototype.clone=function(){var Z=new w.r6;Z.ie=this.ie;Z.isEnabled=this.isEnabled;Z.h2=this.h2;
Z.hC=this.hC;Z.u=w.r6.Vu(this.u);Z.Bp=this.Bp.slice(0);Z.DK=this.DK;Z._=this._.slice(0);Z.N2=this.N2.slice(0);
return Z};w.r6.prototype.concat=function(Z){var m=Z.u.slice(2);if(m.length==0)return;m[0].QZ=3;this.u=this.u.concat(m)};
w.r6.Vu=function(Z){var m=[];for(var q=0;q<Z.length;q++){var S=Z[q];if(S.type>5||S.type==0||S.type==3)m.push(JSON.parse(JSON.stringify(S)));
else m.push({type:S.type,H0:S.H0.clone(),M:S.M.clone(),XX:S.XX.clone()})}return m};w.r6.a6C=function(Z,m,S){if(Z.length!=m.length)return!1;
for(var q=2;q<Z.length;q++){var B=Z[q],C=m[q];if(B.type!=C.type)return!1;if(B.type==0||B.type==3){if(B.length!=C.length||!S&&B.QZ!=C.QZ)return!1}else if(!B.H0.Qu(C.H0)||!B.M.Qu(C.M)||!B.XX.Qu(C.XX))return!1}return!0};
w.r6.prototype.arR=function(){var Z=this.u;for(var q=3;q<Z.length;q++)if(Z[q].type==0||Z[q].type==3)Z[q].QZ=-1};
w.fy=function(){this.type=null;this.so=2;this.Us=null;this.qw="";this.lE="";this.fX="";this.open=0;this.raw=null;
this.BK=null;this.a3n=""};w.fy.prototype.clone=function(){var Z=new w.fy;Z.type=this.type;Z.so=this.so;
Z.Us=this.Us;Z.qw=this.qw;Z.lE=this.lE;Z.fX=this.fX;Z.open=this.open;Z.raw=new Uint8Array(this.raw.buffer.slice(0));
return Z};w.fy.prototype.Jy=function(Z,m,S){if(S==null)S="none";var B=this,C=e2.SL(B.raw.buffer),u=C=="svg"||C=="pdf";
if(B.BK){var r=m&&u&&Math.max(B.BK[1].e,B.BK[1].n)<Math.max(m[0],m[1]);if(!r&&S==this.a3n)return}this.a3n=S;
if(!u)Z=0;if(C==null){alert("Unsupported format: "+x.aD(B.raw,0,4));return null}var k=e2.Vh(C);if(k.iA){var v=new fl(name+(C=="psd"?"":"-"+C)+".psd"),e;
k.af(B.raw.buffer,v,m);var j=new bq(0,0,v.e,v.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(S)!=-1){var $=[];
for(var q=0;q<v.g.length;q++){var U=v.g[q],H=U.buffer;if(!U.rect.Qu(j)){H=l.U(j.Z()*4);l.pY(U.buffer,U.rect,H,j);
console.log("resizing")}$.push(H)}e=l.U(j.Z()*4);l.stack.stack($,e,S)}else{for(var q=0;q<v.g.length;
q++)if(v.g[q].Ie())v.g[q].T3(v);v.fa();v.G();v.dK();e=v.Jy()}B.BK=[e,j];B.wd=v.wd!=null&&v.wd!=0?v.wd:72}else if(k){var z=k.af(B.raw.buffer)[0];
B.BK=[new Uint8Array(z.data),z.cR];B.wd=z.wd!=null&&z.wd!=0?z.wd:72}if(B.BK){if(Z==1){var H=B.BK[0],f=B.BK[1],D=l.U(f.Z());
l.NK(H,D,3);var n=l.cg(D,f),L=l.U(n.Z()*4);l.pY(H,f,L,n);B.BK=[L,n]}l.io(B.BK)}};w.lD="0";w.G7="2";w.eB="2.5";
w.vu="2.6";w.T$="3";w.Gi="4";w.GC="4.5";w.IB="4.6";w.HI="5";w.Q_="5.5";w.Yj="6";w.KE="7";w.a0K="8";w.x4="9";
w.$b="9.3";w.ak6="9.5";w.c3="9.6";w.XF="10";w.ZJ="11";w.KJ="12";w.Xe="13";w.CS="13.1";w.a6v="13.2";w.zJ="13.3";
w.Rj="13.4";w.Za="14";w.vp="14.1";w.iK="14.2";w.zK="14.3";w.Y3="17";w.gd="18";w.afJ="19";w.HK="19.5";
w.ph="19.6";w.NU="19.7";w.pk="20";w.pZ="21";w.Il="21.5";w.xW="22";w.OO="22.5";w.Xm="23";w.auq="24";w.Qg="25";
w.aj0="26";w.apT="27";w.IM="28";w.U0="29";w.k4="30";w.Wc="31";w.qR="32";w.IV="33";w.wh="34";w.a4="35";
w.Kn="36";w.o1="36.5";w.K4="37";w.LN="37.5";w.aie="37.6";w.k$="38";w.S5="38.5";w.$Q="38.6";w.Wn="39";
w.gc="40";w.a0L="41";w.a1v="42";w.r9="50";w.yg="51";w.sE="52";w.q$="53";w.$h="54";w.av4="54.5";w.nP="54.6";
w.adB="54.7";w._2="54.8";w.OF="55";w.rC="56";w.SK="57";w.bF="58";w.b_="59";w.pj="60";function jH(){this.depth=0;
this.index=-1;this.i=null;this.arJ=null;this.Da=-1;this.children=null;this.parent=null;this.R4=null}jH.prototype.a9Q=function(Z,m){if(this.depth!=0)Z.push(this.i.getName());
if(this.children)for(var q=0;q<this.children.length;q++)this.children[q].a9Q(Z,m);if(Z.length>m.jA.length)m.jA=Z.slice(0);
if(this.depth!=0)Z.pop()};jH.prototype.a8r=function(){var Z=0;if(this.i.O1()){for(var q=0;q<this.children.length;
q++)Z+=this.children[q].a8r()}else if(this.i.buffer)Z+=this.i.buffer.length;return Z};jH.prototype.Hr=function(Z){var m=this.R4[Z];
return this.R4[Z]};jH.prototype.akH=function(Z,m){var S=this.i;if(!S.tm()||S.YL(2)||S.YL(31))return null;
if(S.ZB()){var B=S.v.rect.df(Z);if(!B&&S.v.color==0)return}if(S.O1()){for(var q=0;q<this.children.length;
q++){var gY=this.children[q];gY.akH(Z,m)}}else if(S.rect.df(Z))m.push(this.index)};jH.prototype.vS=function(Z,m){var S=this.i;
if(!S.tm()||S.YL(2)||S.YL(31))return null;if(S.ZB()){if(S.v.rect.hV(Z)){if(!l.vS(Z,S.v.channel,S.v.rect))return null}else if(S.v.color==0)return null}if(S.O1()){if(S.add.artb&&!S.u1().hV(Z))return null;
for(var q=this.children.length-1;q>=0;q--){var gY=this.children[q],B=gY.vS(Z,m);if(B&&m==null)return B}return null}else if(S.add.TySh&&S.rect.hV(Z)||l.au4(Z,S.buffer,S.rect)){if(m==null)return this;
else m.push(this.index)}return null};jH.prototype.apW=function(Z){var m=this.i;if(!m.tm()||m.YL(2)||m.YL(31))return null;
var S=m.add.vmsk;if(S&&S.isEnabled){var B=l.q.vS(S.u,Z).lU;if(B!=-1)return{a6r:this,aoG:B}}if(m.O1()){if(m.add.artb&&!m.u1().hV(Z))return null;
for(var q=this.children.length-1;q>=0;q--){var gY=this.children[q],C=gY.apW(Z);if(C)return C}return null}return null};
jH.prototype.aqf=function(Z,m){Z.push(this.index);if(this.i.O1()){Z.push(this.Da);if(m)if(this.i.E_==1&&this.i.sd().ie==!1)return;
for(var q=0;q<this.children.length;q++)this.children[q].aqf(Z)}};jH.prototype.bW=function(Z,m,S){var B=this.i,C,u;
if(B.O1()&&B.add.artb!=null)m=B.u1();if(m.e>m.n){C=S;u=Math.floor(S*(m.n/m.e))}else{C=Math.floor(S*(m.e/m.n));
u=S}if(B.Ie()&&B.add.vmsk==null||B.add.TySh)C=u=Math.max(u,16);else{C=Math.max(C,6);u=Math.max(u,6)}var r=u,k=B.Ie()&&B.add.vmsk;
if(k){var v=B.rect.clone(),$,U;if(v.Ov())v=new bq(0,0,20,20);var e=v.e,j=v.n;if(e>j){$=S;U=Math.floor(S*(j/e))}else{$=Math.floor(S*(e/j));
U=S}if($*U==0)$=U=16;l.ny.Tc(B.K6,$,U,v,B.buffer,B.rect,!1);l.ny.a3P(B.K6,$,U);r=U}else if(B.add.TySh){l.ny.a7u(B.K6,r,r,B.add.TySh)}else if(B.add.SoCo){r=Math.max(16,Math.min(C,u));
l.ny.a3V(B.K6,r,r,B.add.SoCo)}else if(B.add.GdFl){l.ny.atJ(B.K6,r,r,B.add.GdFl)}else if(B.add.PtFl){l.ny.ab7(B.K6,r,r,B.add.PtFl,Z)}else if(e$.get(B.add)!=null){l.ny.a2o(B.K6,r,r,B.add)}else if(B.add.SoLd){l.ny.Tc(B.K6,C,u,m,B.buffer,B.rect,!1);
l.ny.aoc(B.K6,C,u,B.add.SoLd)}else if(B.O1()){r=16}else{if(B.JB())l.ny.Tc(B.K6,C,u,m,B.buffer,B.rect,!1);
else{l.ny.aag(B.K6,r,r)}}var H=B.sd();if(H)l.ny.Aa(B.agn,C,u,m,H);if(B.vI()&&B.ws(Z)&&B.ws(Z).v){var z=B.ws(Z).v;
l.ny.Aa(B.ao5,C,u,m,z)}if(!k&&B.add.vmsk){l.ny.Aa(B.ah9,C,u,m,B.add.vmsk.sd(),!0)}if(B.add.vmsk||H)r=Math.max(r,u);
B.ajw=Math.max(r,16);if(B.O1()&&(B.add.lsct==jf.AH||Z.g.length<4e3))for(var q=0;q<this.children.length;
q++)this.children[q].bW(Z,m,S)};jH.prototype.a2L=function(Z,m,S,B){this.depth=S;var C=Z[m];if(B==null)B=[];
this.R4=B;if(C.add.lsct==jf.vX){this.arJ=C;this.Da=m-1;this.children=[];var q=m+1;while(!0){var u=Z[q];
if(u==null)console.log(q,Z.length);if(u.add.lsct==jf.AH||u.add.lsct==jf.aa){if(C.add.lyid==u.add.lyid)C.add.lyid+=16777215;
this.i=u;this.index=q-1;B[this.index]=this;B[m-1]=this;break}var r=new jH;r.parent=this;q=r.a2L(Z,q,S+1,B);
this.children.push(r)}return q+1}else{this.i=C;this.index=m-1;B[this.index]=this;return m+1}};jH.prototype.JO=function(Z,m,S,B){var C=this.Hr(S),u=Z;
while(C.parent!=null){u=C.i.YR(u,m,B);C=C.parent}return u};jH.prototype.Cp=function(Z,m){var S=this.i,B=new bq;
if(!S.tm())return B;var C=S.sd();if(S.O1())for(var q=0;q<this.children.length;q++){var u=this.children[q].Cp(Z,!0);
B=B.j3(u)}else if(e$.get(S.add)!=null)B=S.ZB()&&S.v.color==0?S.v.Cp().clone():new bq(0,0,Z.e,Z.n);else if(S.Ie()&&S.add.vmsk&&S.add.vmsk.isEnabled&&S.add.vstk){B=S.rect.clone()}else if(S.Ie()&&C&&C.isEnabled&&C.gN()!=0)B=new bq(0,0,Z.e,Z.n);
else{B=S.SJ(Z,!1,!0);if(S.add.vmsk)B=l.H.oq(B)}return m?S.YR(B,Z):B};jH.Ez={delete:function(Z){if(Z&&Z.e)Z.delete()},U:function(Z,m){return N.V8?new N._8(Z,m):l.U(Z*m*4)},z0:function(Z,m,S){if(N.V8){if(Z==null||Z.e!=m||Z.n!=S){jH.Ez.delete(Z);
return new N._8(m,S)}}else{if(Z==null||!(Z instanceof Uint8Array)||Z.length!=m*S*4){jH.Ez.delete(Z);
return l.U(m*S*4)}}return Z},Ju:function(Z,m,S,B,C){(N.V8?N.PU:l.pY)(Z,m,S,B,C)},yb:function(Z,m,S,B,C,u,r,k,q,v,e){(N.V8?N.a.ro:l.a.yb)(Z,m,S,B,C,u,r,k,q,v,e)},qn:function(Z,m,S,B,C,u,r,k){if(N.V8)N.a.Bh(Z,m,S,B,C,u,r,k);
else l.a.qn(Z,m,S,B,C,u,r,k)},_z:function(Z,m,S){if(N.V8){N.dF(Z);N.nB(m,S)}else l._z(Z,m,S)},adc:function(Z,m,S,B,C){if(N.V8){N.a.ro(null,null,B,C,Z,m,S,C,1,!1)}else{if(S==255)l.bc(Z,m,B,C);
else{var u=l.U(m.Z());l.jD(B,C,u,m);l.n5(Z,u);l._z(B,0,16777215);l.vT(u,m,B,C)}}},W9:function(Z,m,S,B){if(N.V8)N.a.ro(null,null,S,B,Z,m,0,B,1,!1);
else l.W9(Z,m,S,B)}};jH.prototype.Hy=function(Z,m,S,B,C,u){var r=typeof u=="number";if(!this.i.O1()&&(r&&this.index>u||!r&&u.indexOf(this.index)==-1)){return}var k=this.i,v=aK.By(k),e=jH.Ez,j=k.Ie()?k.sd():k.v;
if(!k.tm())return;if(k.ZB()&&j.rect.Ov()&&j.gN()==0){return}if(k.add.vstk==null&&this.Cp(B,!1).Ov()){return}var $=this.Cp(B,!0).o9(S);
if(!m.Qu(S)&&!S.df($))return;if(k.O1()&&k.add.artb){var U=k.u1();S=S.o9(U)}var H=jH.akq(k,C,v);if(!H){this.aaq(Z,m,S,B,C,u);
return}k.Jw.Uu=e.z0(k.Jw.Uu,$.e,$.n);e.Ju(Z,m,k.Jw.Uu,$,S);this.aaq(k.Jw.Uu,$,S,B,C,u);e.yb(k.Jw.Uu,$,Z,m,null,null,0,S,k.opacity/255,k.E4=="diss",v.mu)};
jH.akq=function(Z,m,S){if(S.mu[0]*S.mu[1]*S.mu[2]==0)return!0;return Z.opacity!=255&&(m.length!=0||Z.O1()||Z.bX())};
jH.am_={Jw:{}};jH.prototype.aaq=function(Z,m,S,B,C,u){var r=this.i,k=aK.By(r),v=e$.get(r.add)!=null,e=jH.Ez,j=jH.akq(r,C,k),$=j?1:r.opacity/255,U=r.Ie()?r.sd():r.v,H=r.O1()&&(r.E4=="pass"||r.add.artb)&&!(C.length>0||k.fill!=1||r.bX()),z=!r.O1()&&!v&&!r.bX()&&C.length==0,f=v&&!r.bX()&&C.length==0,A=null,T=null,P=null,c;
if(H||z||f){var D=Z,n=m;if(r.ZB()){n=this.Cp(B,!1);D=r.Jw.Bd=e.z0(r.Jw.Bd,n.e,n.n);e.Ju(Z,m,r.Jw.Bd,n)}if(H)this.vt(D,n,S,B,u);
if(z)e.qn(r.E4,r.iG(B),r.rect,D,n,S,$,k);if(f){var L=r.ZB()&&U.gN()==0?U.Cp().clone():n.clone(),a=r.Jw;
if(L.Qu(new bq(0,0,B.e,B.n)))a=jH.am_;a.Pv=this.asg(D,n,a.Pv,L,r.add);k.UN=!0;e.qn(r.E4,a.Pv,L,D,n,S,$,k)}if(r.ZB())e.yb(D,n,Z,m,r.U_(),U.Cp(),U.gN(),S,1,r.E4=="diss");
r.Jw.b7();return}var F=r.O1()&&r.E4=="pass"&&(C.length>0||k.fill!=1||r.bX()),L=r.rect;if(r.O1()){L=this.Cp(B,!1);
P=r.Jw.Pv=e.z0(r.Jw.Pv,L.e,L.n);e._z(P,0);this.vt(P,L,L,B,u);T=e.z0(r.Jw.c9,L.e,L.n);e.Ju(P,L,T,L)}else if(v){L=r.ZB()&&U.gN()==0?U.Cp().clone():m.clone();
T=e.z0(r.Jw.c9,L.e,L.n);e._z(T,4294967295)}else{L=r.rect;A=r.iG(B);T=e.z0(r.Jw.c9,L.e,L.n);e.Ju(A,L,T,L)}r.Jw.c9=T;
if(r.ZB())e.adc(r.U_(),U.Cp(),U.gN(),T,L);if(r.bX())if(r.Jw._x||r.Jw.Be||r.Jw.rU!=N.V8||r.Jw.WG||r.O1()){var Y=r.add.vmsk,Q=l.U(L.Z());
if(aK.ad2(r.add.lmfx)){if(N.V8){if(!r.O1()&&r.sd()==null&&r.rect.Qu(L)&&Y==null)l.NK(r.buffer,Q,3);else{var o=l.U(L.Z()*4);
T.get(o);l.NK(o,Q,3)}}else l.NK(T,Q,3)}if(r.Jw.Be||r.Jw.rU!=N.V8||!l.Qu(Q,r.Jw.Rx)){var I=null;if(r.Ie()&&Y&&Y.isEnabled&&Y.sd().color==0)I=Y.sd().rect;
aK.aej(r.Jw.Py);r.Jw.Py=aK.a41(Q,L,r.add.lmfx,r.add.fxrp,B,I);r.Jw.Rx=Q;r.Jw.aco=L}}if(r.bX())aK.asP(r.add.lmfx,r.Jw.Py,L,Z,m,S);
if(r.O1()){A=e.z0(r.Jw.Bd,L.e,L.n);e._z(A,0);if(r.E4=="pass")e.Ju(Z,m,A,L);if(F)e.W9(P,L,A,L);this.vt(A,L,S,B,u);
r.Jw.Bd=A}if(v){A=r.Jw.Bd=this.asg(Z,m,r.Jw.Bd,L,r.add)}if(r.O1()||v)c=A;else{c=e.z0(r.Jw.Bd,L.e,L.n);
e.Ju(A,L,c,L,S);r.Jw.Bd=c}e._z(c,4278190080,16777215);for(var q=0;q<C.length;q++)C[q].Hy(c,L,S,B,[],u);
var y=r.Jw.Bw=e.z0(r.Jw.Bw,L.e,L.n);e.Ju(Z,m,y,L,S);if(v)k.UN=!0;e.qn(r.E4=="pass"?"norm":r.E4,c,L,y,L,S,1,k);
if(r.bX()){var i=r.Jw.Py.type.FrFX,d=null;if(i.length!=0){d=i[0];for(var q=0;q<i.length;q++)if(i[q].XY.e>d.XY.e)d=i[q];
r.Jw.jo=e.z0(r.Jw.jo,d.XY.e,d.XY.n);e.Ju(Z,m,r.Jw.jo,d.XY,S);r.Jw.WD=e.z0(r.Jw.WD,d.XY.e,d.XY.n)}aK.aj5(r.add.lmfx,r.Jw.Py,L,Z,m,S,y,r.Jw.jo,r.Jw.WD,d?d.XY:null)}if(!N.V8){var V=l.U(L.Z());
l.NK(T,V,3);T=V}e.yb(y,L,Z,m,T,L,0,S,1,r.E4=="diss");r.Jw.b7()};jH.prototype.asg=function(Z,m,S,B,C){var u=e$.get(C),r;
if(u)r=e$.kA(u,C[u]);var k=jH.Ez;S=k.z0(S,B.e,B.n);if(!(N.V8&&m.Qu(B)))k.Ju(Z,m,S,B);if(r){if(N.V8){var v=B.clone();
v.x=v.y=0;if(m.Qu(B)){N.dF(S,v);e$.oj(r,Z.Wa,v)}else{N.dF(S,B);S.EZ(B);e$.oj(r,S.RK,v)}}else e$.Yb(r,S,S,B)}return S};
jH.prototype.vt=function(Z,m,S,B,C){var u=this.children;for(var q=0;q<u.length;q++){var r=[];for(var k=q+1;
k<u.length;k++)if(u[k].i.GT&&u[k].i.tm())r.push(u[k]);else break;u[q].Hy(Z,m,S,B,r,C);q+=r.length}};
function fl(Z){this.L6="psd";this.iw=!1;this.name=Z;this.qx=-1;this.Wq=null;this.Ha=null;this.Kr=null;
this.cz=null;this.e=0;this.n=0;this.buffer=null;this.g=[];this.SY={};this.add={};this.zd=4;this.if=null;
this.wd=72;this.d_={};this._=[];this.Ua=[];this.N6=!1;this.Wv=[];this.$y=[];this.px=[fl.YE("Work Path")];
this.yI=[];this.ap=null;this.Z3={classID:"CompList",list:{t:"VlLs",v:[]}};this.root=null;this.qs=null;
this.kw=!1;this.agW=!1;this.a1k=!1;this.jq=!1;this.DW=!1;this.tV=!1;this.SW=!1;this.jU=!1;this.rJ=!1;
this.B3=!1;this._x=null;this.iY=null;this.$=null;this.Xz=[];this.tp=[];this.D={FO:{},dx:[],a8f:[],bm:[],Dn:[],pC:null,Vy:null,D4:null,MT:null,Fk:[],vC:[],oA:null};
this.history=[new h8([1,0],null)];this.qA=0;this.cu=0;this.XP=0;this.s=new h_(this);this.jC=null;this.Q7=null}fl.vL=function(){var Z=8,m=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
m=i$.hQ(Z,m);return[Z,m]}();fl.prototype.Ur=function(Z){if(Z){this.SY.r1039=Z;var m=ICC.R(Z.buffer),S=m.header.spaceIn.toLowerCase(),B=JSON.stringify(m.tags.desc).toLowerCase(),C=17,k,v;
if(S!="rgb "||B.indexOf("srgb")!=-1){this.Ur(null);return}console.log("We got an ICC profile!",m,ICC.U.profileName(m));
var u=ICC.U.sampleLUT(m,C),r=u.slice(0),e=l.U(4),j=fl.vL[0],$=fl.vL[1];for(var q=0;q<u.length;q+=3){e[0]=u[q]*255;
e[1]=u[q+1]*255;e[2]=u[q+2]*255;ICC.U.applyLUT($,j,e,e);r[q]=e[0]/255;r[q+1]=e[1]/255;r[q+2]=e[2]/255}if(N.V8){k=new N._8(C,C*C);
k.set(ICC.U.rgba8LUT(u,C));v=new N._8(C,C*C);v.set(ICC.U.rgba8LUT(r,C))}this.jC=[Z,m,C,u,k,r,v]}else{delete this.SY.r1039;
this.jC=null}};fl.prototype.$G=function(){return this.jC};fl.prototype.asT=function(){if(this.jC)return this.jC;
if(this.add.fcmy==1){if(this.Q7==null){var Z=fl.vL[0],m=fl.vL[1],S;if(N.V8){S=new N._8(Z,Z*Z);S.set(ICC.U.rgba8LUT(m,Z))}this.Q7=[null,null,Z,null,null,m,S]}return this.Q7}};
fl.prototype.dM=function(){var Z=this.Ua,m=[];for(var q=0;q<Z.length;q++)m[q]=-1;var S=this.root.children;
for(var q=0;q<S.length;q++){var B=S[q],C=B.i.add.artb;if(C==null)continue;var u=C.guideIndeces;u=u?u.v:[];
for(var r=0;r<u.length;r++)m[u[r].v]=B.index}return[JSON.parse(JSON.stringify(Z)),m]};fl.prototype.JD=function(Z){this.Ua=JSON.parse(JSON.stringify(Z[0]));
var m=Z[1],S=this.root.children;for(var q=0;q<S.length;q++){var B=S[q],C=B.i.add.artb;if(C==null)continue;
C.guideIndeces={t:"VlLs",v:[]}}for(var q=0;q<m.length;q++)if(m[q]!=-1)this.g[m[q]].add.artb.guideIndeces.v.push({t:"long",v:q})};
fl.prototype.ae0=function(Z){var m=this;if(Z[0])m.add.lnk2=Z[0];else delete m.add.lnk2;if(Z[1])m.add.FEid=Z[1];
else delete m.add.FEid;if(Z[2])m.add.Patt=Z[2];else delete m.add.Patt};fl.prototype.a7G=function(Z){var m=this,S=[],B=[],C=[],z=null,f=null,D=null;
for(var q=0;q<Z.length;q++){var u=Z[q];if(u.add.SoLd){S.push(u.add.SoLd.Idnt.v);B.push(u.add.SoLd.placed.v)}if(u.add.PtFl)C.push(u.add.PtFl.Ptrn.v.Idnt.v);
if(u.add.lmfx){for(var r=0;r<fp.lg.length;r++){var k=u.add.lmfx[fp.lg[r]].v;for(var v=0;v<k.length;v++)if(k[v].v.Ptrn){var e=k[v].v;
if(e.classID=="FrFX"&&e.PntT.v.FrFl!="Ptrn")continue;C.push(e.Ptrn.v.Idnt.v)}}}var j=u.add.vstk;if(j&&j.strokeStyleContent.v.classID=="patternLayer"){C.push(j.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var $=m.add.lnk2,U=m.add.FEid,H=m.add.Patt;
if($){z=[];for(var q=0;q<$.length;q++)if(S.indexOf($[q].Us)!=-1)z.push($[q]);if(z.length==0)z=null}if(U){f=[];
for(var q=0;q<U.length;q++)if(B.indexOf(U[q].id)!=-1)f.push(U[q]);if(f.length==0)f=null}if(H){D=[];for(var q=0;
q<H.length;q++)if(C.indexOf(H[q].id)!=-1)D.push(H[q]);if(D.length==0)D=null}return[z,f,D]};fl.prototype.Lj=function(){var Z=this.Xz,m=this.Xz.length;
if(m!=0&&Z[m-1].name=="Quick Mask")return Z[m-1]};fl.prototype.b6=function(){return this.L6==dR.Fr("% |/!)")||this.L6==dR.Hj("gP")};
fl.prototype.V6=function(Z){var m=this.add.artd;if(Z!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:Z},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};fl.prototype.gq=function(Z){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(Z)==-1)this.add.FEid.push(Z)};
fl.prototype.zv=function(Z){var m=this.add.FEid.indexOf(Z);this.add.FEid.splice(m,1);if(this.add.FEid.length==0)delete this.add.FEid};
fl.prototype.G=function(Z){if(Z==null)Z=new bq(0,0,this.e,this.n);if(this._x==null)this._x=Z;else this._x=this._x.j3(Z)};
fl.prototype.aqo=function(Z){return this._x!=null};fl.prototype.zy=function(Z){var m=this.g[Z],S=this.root.Hr(Z);
if(S==null)return!1;if(m.O1()||S.parent.children.indexOf(S)==0)return!1;return!0};fl.agS=function(Z){if(Z.add.lnk2)for(var q=0;
q<Z.add.lnk2.length;q++){var m=Z.add.lnk2[q].Us;Z.add.lnk2[q].Us=fl.Qm()+m.slice(8);for(var S=0;S<Z.g.length;
S++){var B=Z.g[S].add.SoLd;if(B&&B.Idnt.v==m)B.Idnt.v=Z.add.lnk2[q].Us}}};fl.prototype.I6=function(Z,m,S){Z.sort(function($,U){return $-U});
var top=Z[Z.length-1],B=this.g.slice(0),C=this._.slice(0),u=[],r=[];for(var q=0;q<this.g.length;q++){if(Z.indexOf(q)!=-1)r.push(this.g[q]);
else u.push(this.g[q])}this.H_(r);this._=[];var k=this.root.Cp(this,!0);if(m)k=k.o9(m);if(S)k=k.j3(S);
if(k.Ov())k=new bq(0,0,100,100);var v=new bq(-k.x,-k.y,this.e,this.n),e=new Uint8Array(e2.Vh("PSD").md(this,0,0,[!0,!1]));
this.H_(B);this._=C;var j=new fl(this.g[top].getName());e2.Vh("PSD").af(e.buffer,j);delete j.add.artd;
j.Wv=[];j.H_(j.g);j.JD([[],[]]);fl.agS(j);g.Gt.ko(j,k);j.G();j.dK();j.Jy();return[j,k,u,top]};fl.prototype.ajz=function(Z,m,S){var B=this.I6(Z),C=B[0],u=B[1],r=B[2],top=B[3],k;
if(S=="jpg")k=new Uint8Array(e2.Vh("JPG").md([[C.Jy().buffer]],C.e,C.n,[80]));else k=new Uint8Array(e2.Vh("PSD").md(C,null,null,[!0,!1]));
if(m)r=this.g.slice(0);var v=this.tv(k,C.name,u.x,u.y);if(top==this.g.length-1)r.push(v);else r.splice(m?top+1:top-Z.length+1,0,v);
this.H_(r);this._=[r.indexOf(v)]};fl.Qm=function(Z){if(Z==null)Z="";var m="";while(m==""||m==Z){m="";
for(var q=0;q<8;q++)m+=Math.floor(Math.random()*16).toString(16)}return m};fl.prototype.hg=function(Z){if(Z==null)return;
if(this.add.Patt==null)this.add.Patt=[];var m=this.add.Patt;for(var q=0;q<m.length;q++)if(m[q].id==Z.id)return;
m.push(Z)};fl.prototype.tv=function(Z,m,S,B,C){if(this.add.lnk2==null)this.add.lnk2=[];var u=null,$=!1;
for(var q=0;q<this.add.lnk2.length;q++)if(l.Qu(Z,this.add.lnk2[q].raw)){u=this.add.lnk2[q].Us;break}if(u==null){var r=e2.SL(Z.buffer);
u=fl.Qm()+"-d71c-11e5-b1ae-a548a96e5f9f";var k=new w.fy;k.Us=u;k.fX=r=="psd"?"8BIM":"    ";k.qw=m+"."+r;
k.lE=r=="psd"?"8BPB":"    ";k.open=0;k.raw=Z;k.type="liFD";k.so=2;this.add.lnk2.push(k)}var v=this.C2(u),e=fl.Qm()+"-d71c-11e5-b1ae-a548a96e5f9f",j=this.AB();
j.Se(m);if(v!=null){var U=0,H=0,z=this.e,f=this.n;if(C){U=C.x;H=C.y;z=C.e;f=C.n}var D=j.rect=v.BK[1].clone();
D.offset(U+S,H+B);var n=Math.max(D.e/z,D.n/f),$=C!=null&&n>1.0001;if($){D.e=Math.round(D.e/n);D.n=Math.round(D.n/n);
D.x=Math.round(U+(z-D.e)/2);D.y=Math.round(H+(f-D.n)/2)}else if(C!=null&&e2.SL(Z.buffer)=="pdf"&&this.wd!=144){var n=144/this.wd;
D.e=Math.round(D.e/n);D.n=Math.round(D.n/n);$=!0}j.buffer=l.U(D.Z()*4);if(!$)l.Yx(v.BK[0],j.buffer)}j.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:u},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:e},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:l.BF.U(v?v.BK[1]:j.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:j.rect.e},Hght:{t:"doub",v:j.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:v?v.wd:72}}};
var L=l.H.ez(j.rect).t;j.add.SoLd.Trnf=g.Q.T5(L);j.add.SoLd.nonAffineTransform=g.Q.T5(L);if($)j.l8(this,!1);
return j};fl.prototype.Jy=function(Z){if(Z!=null){this.G();this.dK(Z);var m=this.buffer;if(N.V8)this.qs.get(m);
else m=m.slice(0);this.G();this.dK();return m}if(this._x){this.dK();this._x=null}if(N.V8&&this.iY){this.qs.get(this.buffer);
this.iY=null;this.SW=!0}return this.buffer};fl.prototype.atp=function(){for(var q=0;q<this.g.length;
q++)this.g[q].mV();this.G()};fl.prototype.aeZ=function(){for(var q=0;q<this.g.length;q++)if(this.g[q].add.lmfx)this.g[q].Jw.Be=!0};
fl.prototype.Kk=function(){var Z=this.SY.r1044;if(Z==null){Z=this.SY.r1044=new Uint8Array(4);var m=0;
for(var q=0;q<this.g.length;q++)m=Math.max(m,this.g[q].add.lyid);x.PV(Z,0,m)}var S=x.l(Z,0);x.PV(Z,0,S+1);
return S+1};fl.prototype.t9=function(Z,m,S){if(Z==null)Z=!0;var B=this;if(B.tp.length!=0)return!0;if(B._.length!=1){if(Z)alert(B._.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Ef(Z,m,S)};fl.prototype.Ef=function(Z,m,S){if(Z==null)Z=!0;if(m==null)m=!1;var B=this;
if(B.tp.length!=0)return!0;for(var q=0;q<B._.length;q++){var C=B.g[B._[q]],u=m||C.E_<=0;if(C.add.lsct!=null&&C.add.lsct!=jf.Ae&&C.E_!=1){if(Z)alert(iD.get([15,7,2]));
return!1}if(u&&!C.JB()){if(Z)alert(iD.get([15,7,2]));return!1}if(u&&C.add.TySh){return this.asw(Z,[15,7,3],S)}if(u&&C.add.SoLd){return this.asw(Z,[15,7,4],S)}if(C.YL(1)||C.YL(31)){if(Z)alert(iD.get([6,57,0]));
return!1}}return!0};fl.prototype.asw=function(Z,m,S){if(Z&&typeof Z=="object"){var B=window.confirm(iD.get(m)+". "+iD.get([6,8])+"?");
if(B){var C=new eY(_.E.lX,!0);C.data={CE:"rasterizeLayer",Oz:{classID:"rasterizeLayer",null:hX.NN("Lyr",!0)}};
Z.c(C)}return S?B:!1}if(Z)alert(iD.get(m));return!1};fl.prototype.af_=function(Z){var m=this.root.Hr(Z);
if(m.parent)return m.i.tm()&&this.af_(m.parent.index);else return m.i.tm()};fl.prototype.Ys=function(){var Z=this;
if(Z.add.artd&&Z._.length!=0){var m=Z.root.Hr(Z._[0]);while(m.parent.parent)m=m.parent;if(m.i.add.artb)return m.index}return-1};
fl.prototype.arx=function(){var Z=this.g[this._[0]];if(Z.E_<=0&&!Z.rect.df(this.$.rect)){alert("Selected area is empty.");
return!1}if(this._.length==1&&this.$){var m=l.U(this.$.channel.length);l.jD(Z.buffer,Z.rect,m,this.$.rect);
l.n5(this.$.channel,m);if(l.em(m,0)){alert("Selected area is empty.");return!1}}return!0};fl.prototype.mT=function(){if(this.SY["r"+1037]==null)this.yt(30);
return x.C0(this.SY["r"+1037],0)};fl.prototype.yt=function(Z){if(this.SY["r"+1037]==null)this.SY["r"+1037]=new Uint8Array(4);
if(x.C0(this.SY["r"+1037],0)==Z)return;x.Um(this.SY["r"+1037],0,Z);this.aeZ()};fl.prototype.mH=function(){if(this.SY["r"+1049]==null)this.t7(30);
return x.C0(this.SY["r"+1049],0)};fl.prototype.t7=function(Z){if(this.SY["r"+1049]==null)this.SY["r"+1049]=new Uint8Array(4);
if(x.C0(this.SY["r"+1049],0)==Z)return;x.Um(this.SY["r"+1049],0,Z);this.aeZ()};fl.prototype.cc=function(Z){if(this.add.lnk2==null)return null;
for(var q=0;q<this.add.lnk2.length;q++)if(this.add.lnk2[q].Us==Z)return this.add.lnk2[q];return null};
fl.prototype.aer=function(Z){var m=this.cc(Z);if(m==null)return!1;var S=e2.SL(m.raw.buffer);if(S==null)return!1;
if(e2.Vh(S)!=null||S=="psd")return!0;return!1};fl.prototype.C2=function(Z,m,S,B){var C=this.cc(Z);if(C==null)return null;
C.Jy(m,S,B);if(C.BK)return C};fl.prototype.aef=function(){var Z=this.e,m=this.n;if(N.V8&&this.qs==null)this.qs=new N._8(Z,m,!0);
if(this.buffer==null||this.buffer.length!=Z*m*4||N.V8&&(this.qs.e!=Z||this.qs.n!=m)){this.buffer=l.U(Z*m*4);
if(this.qs)this.qs.delete();if(N.V8)this.qs=new N._8(Z,m,!0)}};fl.prototype.asl=function(){this.aef();
if(N.V8){this.qs.set(this.buffer)}};fl.prototype.dK=function(Z){var m=this.e,S=this.n,B=new bq(0,0,m,S),C=B.o9(this._x);
this.aef();if(C.Ov())return;if(!C.Qu(B)){if(!N.V8){var u=l.Td(C.Z()*4);l.pY(u,C,this.buffer,B)}if(N.V8){N.dF(this.qs,C);
N.nB(0)}}else{if(N.V8){this.qs.set(null)}else{this.buffer.fill(0)}}var r=Date.now(),k=N.V8?this.qs:this.buffer;
if(Z==null)Z=1e9;var v=this.root.children;for(var q=0;q<v.length;q++){var e=v[q].i;if(e.tm()&&e.add.artb){var j=e.u1(),$=C.o9(j),U=e.YM();
if(U!=0){if(N.V8){N.dF(k,$);N.nB(U);N.nB(U)}else l.auv(k,B,$,U)}}}this.root.Hy(k,B,C,this,[],Z);this.iY=this._x.clone()};
fl.prototype.AB=function(Z){var m=new w;m.rect=new bq(0,0,0,0);m.buffer=l.U(1);m.add.luni=new aS(0,0);
if(Z!=!0)m.add.lyid=this.Kk();m.add.lsct=jf.Ae;m.add.lclr=0;m.add.fxrp=new aS(0,0);return m};fl.prototype.iI=function(Z){var m=this.AB(Z);
m.Se("</Layer group>");m.add.lsct=jf.vX;m.Kl=24;return m};fl.prototype.nc=function(){return this.qA!=this.cu};
fl.prototype.oF=function(Z){while(this.history.length>this.qA+1)this.history.pop();if(this.cu>this.qA)this.cu=-1;
if(Z.b.id!=g.iU){this.jq=!0;if(this.Z3.lastAppliedComp){delete this.Z3.lastAppliedComp;this.SW=!0}}this.history.push(Z);
this.qA++;this.SW=!0;var m=eH.ru()?60:30,S=0;for(var q=this.history.length-1;q>=0;q--){var B=this.history[q];
if(B.vo)continue;S++;if(S==m){this.qA-=q;this.history=this.history.slice(q);break}}};fl.prototype.rX=function(){if(this.qA!=this.history.length-1)return null;
return this.history[this.history.length-1]};fl.prototype.fO=function(Z,m,S,B){if(Z==null)Z=!1;var C=m!=null?[m]:this._.slice(0);
if(B){var u=[];for(var q=0;q<C.length;q++){var r=this.g[C[q]],k=r.KI;if(r.N9&&k!=0&&u.indexOf(k)==-1)u.push(k)}if(u.length!=0)for(var q=0;
q<this.g.length;q++){var r=this.g[q],k=r.KI;if(r.N9&&k!=0&&u.indexOf(k)!=-1&&C.indexOf(q)==-1)C.push(q)}}var v=[];
for(var q=0;q<C.length;q++){var e=this.UP(C[q],Z);for(var j=0;j<e.length;j++)if(v.indexOf(e[j])==-1)v.push(e[j]);
if(S){var gY=this.root.Hr(C[q]);while(gY.parent!=null&&gY.parent.parent!=null){gY=gY.parent;if(v.indexOf(gY.index)==-1){v.push(gY.index,gY.Da)}}}}return v};
fl.prototype.uO=function(Z,m,S){var B=this,C=B.fO(!1,Z,null,S);C.sort(function(a,F){return a-F});var u={};
for(var r=0;r<B.g.length;r++){var k=B.g[r].getName();u[k]=!0}var v=[];for(var q=0;q<C.length;q++){var e=B.g[C[q]].clone(),D,n;
e.add.lyid=B.Kk();e.add.lspf=0;if(e.vI()){var j=e.ws(B),$=fl.a8X(j);B.gq($);e.add.SoLd.placed.v=$.id}else if(e.add.SoLd){var U=e.add.SoLd.placed.v;
e.add.SoLd.placed.v=fl.Qm(U.slice(0,8))+U.slice(8)}e.T3(B);var H=e.getName(),z=H.length;while(48<=H.charCodeAt(z-1)&&H.charCodeAt(z-1)<=57)z--;
var f=parseInt(H.slice(z));if(isNaN(f)){if(H.endsWith(" copy")){f=1;D=H.slice(0,H.length-5)}else{f=0;
D=H}}else if(H.slice(0,z).endsWith(" copy ")){f=f;D=H.slice(0,z-6)}else{f=0;D=H}f++;while(!0){n=D+" copy"+(f==1?"":" "+f);
if(u[n]==null)break;f++}var L=C.indexOf(this.root.Hr(C[q]).parent.index)!=-1;if(H=="Background"&&B.g.length==1)n="Layer 1";
if(m!=!0&&!L)e.Se(n);u[n]=!0;v.push(e)}return v};fl.a8X=function(Z){return{id:fl.Qm(Z.id.slice(0,8))+Z.id.slice(8),buffer:Z.buffer.slice(0),rect:Z.rect.clone(),v:Z.v?Z.v.clone():null}};
fl.a2z=function(Z){return{id:Z,rect:new bq,buffer:l.U(1),v:new w.Ga}};fl.YE=function(Z,m){if(m==null)m={vmsk:new w.r6};
if(m.vogk==null){m.vogk=[];var S=l.q.Ei(m.vmsk.u);for(var B=0;B<S;B++)m.vogk.push(l.Ka.Td())}return{name:Z,lU:0,add:m}};
fl.prototype.Nu=function(Z){var m=[],S=[],B=this,u=0;for(var q=1;q<B.px.length;q++){var C=B.px[q];C.lU=-1-q;
m.push(C);if(B.yI.indexOf(q)!=-1)S.push(m.length-1)}if(B.px[0].add.vmsk.u.length>2){var C=B.px[0];C.lU=-1;
m.push(C);if(B.yI.indexOf(0)!=-1)S.push(m.length-1)}var r=B.ap==null;if(r)B.ap=[];for(var q=B._.length-1;
q>=0;q--){var k=B.g[B._[q]],v=k.add.TySh;if(k.add.vmsk!=null&&(k.aX||k.Ie())){var C=fl.YE("\""+k.getName()+"\" Shape Path",k.add);
C.lU=B._[q];m.push(C);if(r)B.ap.push(u);if(B.ap.indexOf(u)!=-1)S.push(m.length-1);u++}if(Z!=!0&&v&&v.add&&l.BF.xB(v.qO)){var C=fl.YE("\""+k.getName().slice(0,10)+"..\" Text Path",v.add);
C.lU=1e6+B._[q];m.push(C);S.push(m.length-1);u++}}if(S.length==0&&Z){B.px[0].lU=-1;B.yI=[0];S.push(m.length);
m.push(B.px[0])}return[m,S]};fl.prototype.UP=function(q,Z){var m=[],gY=this.root.Hr(q);if(gY)gY.aqf(m,Z);
return m};fl.prototype.mW=function(){this.root.bW(this,new bq(0,0,this.e,this.n),32*g.F())};fl.prototype.H_=function(Z){for(var q=0;
q<this.g.length;q++){var m=this.g[q];if(Z.indexOf(m)==-1){m.Jw.a8I();m.G()}}var S=0;for(var q=0;q<Z.length;
q++)if(Z[q].add.artb)S++;this.V6(S);this.g=Z.slice(0);this.fa()};fl.prototype.fa=function(){var Z=this.g,m=Z.length;
this.root=new jH;var S=this.AB(!0);S.E4="pass";S.add.lsct=jf.AH;S.Se("");var B=this.iI(!0),C=[B];for(var q=0;
q<m;q++)C.push(Z[q]);C.push(S);this.root.a2L(C,0,0);if(this._.length==0)this._=[m-1]};fl.prototype.Yr=function(){if(this._.length!=1)return;
var Z=this.root.Hr(this._[0]);while(Z.parent!=null){var m=Z.parent.i;m.add.lsct=jf.AH;Z=Z.parent}this.tV=this.a7w=!0};
fl.prototype.ari=function(){this.fa();var Z=[this.root],eV=0;while(Z.length!=0){var top=Z.pop();eV++;
if(top.i.add.lsct==jf.AH)for(var q=0;q<top.children.length;q++)Z.push(top.children[q])}if(eV>1e3){var m=this.root.children;
for(var q=0;q<m.length;q++)if(m[q].i.add.lsct==jf.AH)m[q].i.add.lsct=jf.aa}};fl.Du=function(Z,m,S,B,C,u,r,k){if(k==null)k="sRGB IEC61966-2.1";
var v={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:B},artboard:{t:"bool",v:u},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:Z}},Hght:{t:"UntF",v:{type:"#Rlt",val:m}},Rslt:{t:"UntF",v:{type:"#Rsl",val:S}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:C}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:k}}}};
if(C=="Clr")v.Nw.v.FlCl={t:"Objc",v:r};return{CE:"make",Oz:v}};fl.adv=function(Z,m){var S=0,B=0,C=72,u=m.a8U,r=Z.preset&&Z.preset.v=="Clipboard";
if(r){S=u.e;B=u.n}else{S=Z.Wdth.v.val;B=Z.Hght.v.val;C=Z.Rslt.v.val}var k=new fl((Z.Nm?Z.Nm.v:iD.get([11,7]))+".psd");
k.e=S;k.n=B;k.wd=C;var v=Z.Fl?Z.Fl.v.Fl:"Wht";if(Z.artboard&&Z.artboard.v){var e=k.AB();e.Se("Artboard 1");
e.add.lsct=jf.AH;e.Ea(new bq(0,0,S,B));e.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[v]};
if(v=="Clr")e.add.artb.Clr={t:"Objc",v:l.X.M1(l.X.gN(Z.FlCl.v))};e.E4="pass";e.Kl=24;var j=k.AB();j.Se("Layer 1");
k.H_([k.iI(),j,e]);k.V6(1);k._=[1]}else{var $=k.AB(),U=0;$.Se("Background");k.H_([$]);$.add.lspf=1<<2;
if(v=="Clr"){U=l.X.gN(Z.FlCl.v);U=255<<24|Math.round(U.S)<<16|Math.round(U.z)<<8|Math.round(U.I)}else{var H=m.ZN;
H=(H&255)<<16|(H>>>8&255)<<8|H>>>16;U={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|H}[v]}$.rect=new bq(0,0,S,B);
$.buffer=l.U(S*B*4);l._z($.buffer,U)}k.buffer=l.U(S*B*4);var z=Z.profile;if(z){var f={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[z.v];
if(f)k.Ur(e2.wP.get(f))}return k};function h_(Z){this.OB=Z;this.R=0;this.SO=1;this.r=new aS(0,0);this.Na=new aS(0,0);
this.Zo=0;this.U1=[1,1,1];this.sM=0;this.ma=new bq(0,0,1,1);this.a3o=new bq(0,0,Z.e,Z.n);this.Jv=null;
this.G9=null;this.Af=new Uint32Array(0);this.q9=null;this.DR=null;this.wa=l.U(0);this.I1=null;this.VG=null}h_.prototype.gr=function(Z){var m=new ht,S=this.ma,B=this.OB,C=Z?this.SO:this.R,u=Z?this.Na:this.r,r=Math.round((S.e-B.e*C)/2+u.x),k=Math.round((S.n-B.n*C)/2+u.y);
m.translate(-r,-k);m.scale(1/C,1/C);var v=B.e/2,e=B.n/2;m.translate(-v,-e);m.rotate(this.Zo);m.translate(v,e);
return m};h_.prototype.amB=function(Z){var m=this.ma,S=this.OB,B=Math.atan2(-Z.S,Z.AQ),C=S.e/2,u=S.n/2;
Z.translate(-C,-u);Z.rotate(-B);Z.translate(C,u);var r=1/Z.l_();Z.scale(r,r);var k=-Z.s9,v=-Z.ku,e=Math.round(k-(m.e-S.e*r)/2),j=Math.round(v-(m.n-S.n*r)/2);
if(Math.abs(r-Math.round(r))<1e-6)r=Math.round(r);this.Zo=B;this.R=r;this.r=new aS(e,j)};h_.prototype.tr=function(Z,m){var S=this.gr();
return S.xf(new aS(Z,m))};h_.prototype.o5=function(Z,m){var S=this.gr();S.Yy();return S.xf(new aS(Z,m))};
function fp(){}fp.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");fp.lg="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
fp.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];fp.a5u=["DrSh","IrSh","SoFi","GrFl","FrFX"];
fp.qc=["Clr"];fp.mc="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");fp.G3=["Ptrn","Angl","Scl","Algn","phase"];
fp.p5={di:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",a1n:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",a0W:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aim:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",sY:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
fp.p5.di="\"Clr\": "+fp.p5.di;fp.p5.X="\"Grad\":"+fp.p5.a1n+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
fp.p5.sY="\"Ptrn\":"+fp.p5.sY+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
fp.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
fp.kr=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+fp.p5.di+","+fp.p5.X+","+fp.p5.sY+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fp.p5.di+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fp.p5.X+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+fp.p5.sY+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
fp.X={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
fp.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],cH:["SClr","GrFl","Ptrn"],akp:[[13,0],[12,37],[12,62]]};
fp.Zg={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],akW:["SrcC","SrcE"],aqa:[[19,5,1],[12,69]]};fp.sy={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a8L:["SfBL","PrBL","Slmt"],aty:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
fp.Rw={Fa:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Rg:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],lf:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+fp.p5.di+"}")},strokeStyleResolution:{t:"doub",v:72}}};
fp.wv=[{classID:"null",Clr:JSON.parse(fp.kr[5]).Clr},{classID:"null",Grad:JSON.parse(fp.kr[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(fp.kr[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var aK={};aK.hp=function(Z,m){function S(Z,U){if(Z==null)return null;var H=Z[U].v,z;if(H.length!=0){z=H[0].v;
if(!z.enab.v)z=null}return z}var B=m.SoCo,C=m.GdFl,u=S(Z,"solidFillMulti"),r=S(Z,"gradientFillMulti");
if(u==null&&r==null)return[B,C];var k=aK.abI;if(B&&u&&r==null){var v=JSON.parse(JSON.stringify(B));v.Clr.v=k(u.Clr.v,B.Clr.v,u);
return[v,null]}if(C&&u&&r==null){var e=JSON.parse(JSON.stringify(C)),j=e.Grad.v.Clrs.v;for(var q=0;q<j.length;
q++){var $=j[q].v.Clr;$.v=k(u.Clr.v,$.v,u)}return[null,e]}if(B&&r){var e=JSON.parse(JSON.stringify(r)),j=e.Grad.v.Clrs.v;
for(var q=0;q<j.length;q++){var $=j[q].v.Clr;$.v=k($.v,B.Clr.v,r)}return[null,e]}return[u,r]};aK.af8={tx:l.U(4),Ng:l.U(4),I:new bq(0,0,1,1)};
aK.abI=function(Z,m,S){var B=d1.Pi(S.Md.v.BlnM),C=S.Opct.v.val/100,u=aK.af8;Z=l.X.gN(Z);m=l.X.gN(m);
u.tx[0]=Z.I;u.tx[1]=Z.z;u.tx[2]=Z.S;u.tx[3]=255;u.Ng[0]=m.I;u.Ng[1]=m.z;u.Ng[2]=m.S;u.Ng[3]=255;l.a.qn(B,u.tx,u.I,u.Ng,u.I,u.I,C);
return{classID:"RGBC",Rd:{t:"doub",v:u.Ng[0]},Grn:{t:"doub",v:u.Ng[1]},Bl:{t:"doub",v:u.Ng[2]}}};aK.ajC=function(Z,m,S){var B=Z;
Z=Z.slice(0);var C=d1.WJ[d1.FI.indexOf(m.Md.v.BlnM)],u=l.X.gN(m.Clr.v),r=4278190080|Math.round(u.S)<<16|Math.round(u.z)<<8|Math.round(u.I),k=l.U(S.Z()*4);
l._z(k,r);l.a.qn(C,k,S,Z,S,S,m.Opct.v.val/100);for(var q=0;q<Z.length;q+=4)Z[q+3]=B[q+3];return Z};aK.SC=function(Z,m){var S=["Sz","blur","Sftn","Dstn"];
for(var q=0;q<fp.order.length;q++){var B=fp.order[q],C=Z[fp.lg[q]].v;for(var u=0;u<C.length;u++){var r=C[u].v;
for(var k=0;k<S.length;k++){var v=r[S[k]];if(v){var e=v.v.val,j=e;j=Math.max(e==0?0:1,j*m);if(B=="ChFX")j=Math.min(j,250);
if(B=="ebbl"){if(S[k]=="blur")j=Math.min(j,250);if(S[k]=="Sftn")j=Math.min(j,16)}v.v.val=Math.round(j)}}if(B=="ebbl"||B=="patternFill"||B=="FrFX")if(r.Ptrn&&r.Scl)r.Scl.v.val=Math.max(1,Math.min(1e3,r.Scl.v.val*m))}}};
aK.a2R=function(Z,m,S){var B=new bq(-.5,-.5,1,1);for(var q=0;q<fp.order.length;q++){var C=fp.order[q],u=Z[fp.lg[q]].v;
for(var r=0;r<u.length;r++){var k=u[r].v,$;if(!k.enab.v)continue;var v=k.blur?k.blur.v.val+1:0,e=k.Ckmt?k.Ckmt.v.val/100:0,j=Math.round(v*e);
if(C=="DrSh"||C=="IrSh"&&S){$=new bq(-.5,-.5,1,1);$.QW(v,v);aK.wl($,k,m,0)}if(C=="OrGl"||C=="IrGl"&&S){$=new bq(-.5,-.5,1,1);
$.QW(v,v)}if(C=="FrFX"){var U=aK.zx(k),H=U[1];if(S)H=Math.max(U[0],H);$=new bq(-.5,-.5,1,1);$.QW(Math.ceil(H),Math.ceil(H))}if(C=="ebbl"){var v=k.blur.v.val,z=k.bvlS.v.BESl;
if(z=="Embs"||z=="PlEb")v/=2;var f=["OtrB","InrB","Embs","PlEb","strokeEmboss"],D=["SfBL","PrBL","Slmt"],n=["In","Out"],L=k.bvlT.v.bvlT!="SfBL"?v:v*.43,a=Math.round(v);
$=new bq(-a-1,-a-1,2*a+2,2*a+2)}if(S&&C=="ChFX"){$=new bq(-.5,-.5,1,1);$.QW(v,v);var F=$.clone();aK.wl($,k,m,0);
aK.wl(F,k,m,Math.PI);$=$.j3(F)}if($)B=B.j3($)}}if(B.x!=Math.ceil(B.x)){B.x=Math.ceil(B.x);B.e-=1}if(B.y!=Math.ceil(B.y)){B.y=Math.ceil(B.y);
B.n-=1}B.e=Math.floor(B.e);B.n=Math.floor(B.n);return B};aK.zx=function(Z){var m=0,S=0,B=Z.Styl.v.FStl,C=Z.Sz.v.val;
if(B=="OutF")S=C;if(B=="InsF")m=C;if(B=="CtrF")m=S=C/2;return[m,S]};aK.a6U=function(Z){if(N.V8&&Z.Mg==null){Z.Mg=new N._8(Z.Ao.e,Z.Ao.n);
Z.Mg.set(Z.MW);delete Z.MW;if(Z.Ii){Z.up=new N.ob(Z.Ao.e,Z.Ao.n);Z.up.set(Z.Ii);delete Z.Ii}if(Z.rr){Z.bQ=new N.ob(Z.Ao.e,Z.Ao.n);
Z.bQ.set(Z.rr);delete Z.rr}}};aK.a24=function(Z){if(Z.Mg)Z.Mg.delete();if(Z.up)Z.up.delete();if(Z.bQ)Z.bQ.delete()};
aK.aej=function(Z){if(Z.all==null)return;for(var q=0;q<Z.all.length;q++){aK.a24(Z.all[q])}};aK.a41=function(Z,m,S,B,C,u){var r=aK.AS(S,B,Z,m,C,u);
for(var q=0;q<r.all.length;q++)aK.a6U(r.all[q]);return r};aK.ad2=function(Z){for(var q=0;q<fp.order.length;
q++){var m=fp.order[q],S=fp.lg[q],B=Z[S].v;for(var C=0;C<B.length;C++){var u=B[C].v;if(u.enab.v&&["patternFill","GrFl","SoFi"].indexOf(m)==-1)return!0}}return!1};
aK.AS=function(Z,m,S,B,C,u){if(u==null)u=B;var r=0,k=0;for(var q=0;q<fp.order.length;q++){var v=fp.order[q],e=fp.lg[q],j=Z[e].v;
for(var $=0;$<j.length;$++){var U=j[$].v;if(v=="DrSh"&&U.enab.v&&U.Ckmt.v.val>0&&U.blur.v.val>0)r=Math.max(r,Math.ceil(U.Ckmt.v.val*U.blur.v.val/100));
if(v=="OrGl"&&U.enab.v&&U.Ckmt.v.val>0&&U.blur.v.val>0&&U.GlwT.v.BETE=="SfBL")r=Math.max(r,Math.ceil(U.Ckmt.v.val*U.blur.v.val/100));
if(v=="OrGl"&&U.enab.v&&U.blur.v.val>0&&U.GlwT.v.BETE=="PrBL")r=Math.max(r,U.blur.v.val);if(v=="FrFX"&&U.enab.v&&U.Sz.v.val>0){if(U.Styl.v.FStl=="OutF")r=Math.max(r,U.Sz.v.val);
if(U.Styl.v.FStl=="CtrF")r=Math.max(r,Math.ceil(U.Sz.v.val/2));k=Math.max(k,aK.zx(U)[1])}}}var H=new aK.BZ(S,B,r,aK.ad2(Z)),z=-B.x,f=-B.y,D={type:{},all:[]};
for(var n=0;n<fp.order.length;n++){var v=fp.order[n],e=fp.lg[n];D.type[v]=[];for(var L=Z[e].v.length-1;
L>=0;L--){var a=Z[e].v[L].v,Y;if(!a.enab.v)continue;var A=a.blur?a.blur.v.val:0,T=a.Ckmt?a.Ckmt.v.val/100:0,P=A*T;
if(v=="DrSh"){var Q=H.kx(P,A-P,!0),o=Q.Ku,I=Q.pe;I.offset(z,f);aK.UJ(o,a,!1);aK.wl(I,a,C,0);var c=l.U(I.Z()*4);
aK.GV(c,a.Clr.v);l.cN(o,c,3);Y={MW:c,Ao:I,a97:a.layerConceals.v}}else if(v=="IrSh"){var Q=H.kx(P,A-P,!1);
aK.wl(Q.pe,a,C,0);var I=H.rect().clone(),o=l.U(I.Z());o.fill(255);l.Ju(Q.Ku,Q.pe,o,I);aK.UJ(o,a,!0);
var c=l.U(I.Z()*4);aK.GV(c,a.Clr.v);l.cN(o,c,3);I.offset(z,f);Y={MW:c,Ao:I}}else if(v=="GrFl"){var c=l.U(H.rect().Z()*4);
aK.DM(a,c,H.rect(),C,null,u);var I=H.rect().clone();I.offset(z,f);Y={MW:c,Ao:I}}else if(v=="SoFi"){var c=l.U(H.Ku().length*4);
aK.GV(c,a.Clr.v);var I=H.rect().clone();I.offset(z,f);Y={MW:c,Ao:I}}else if(v=="ebbl"){var y=!1;if(y)console.log(a);
var i=Date.now(),d=a.bvlS.v.BESl;if(d=="strokeEmboss"){var V=Z.frameFXMulti.v;if(V.length==0)continue;
V=V[0].v;if(!V.enab.v)continue;var R=V.Styl.v.FStl;if(R=="OutF")d="OtrB";if(R=="CtrF")d="Embs";if(R=="InsF")d="InrB"}var A=a.blur.v.val;
if(A==0)A=.7;if(d=="Embs"||d=="PlEb")A/=2;var G=["OtrB","InrB","Embs","PlEb","strokeEmboss"],M=["SfBL","PrBL","Slmt"],O=["In","Out"],K=a.bvlT.v.bvlT!="SfBL"?A:A*.45,W=Math.round(A),t=H.rect().clone(),X=t.clone();
X.QW(W,W);var h=X.e,b=X.n,E=h*b,f0=l.U(E);l.Ju(H.Ku(),t,f0,X);var ay=new Float64Array(E),p=new Float64Array(E);
l.style.w_(f0,ay,h,b);l.Yy(f0);l.style.w_(f0,p,h,b);if(y)console.log("distTransform computed",Date.now()-i);
for(var q=0;q<E;q++)p[q]=p[q]-ay[q];for(var q=0;q<E;q++){var eo=p[q];if(eo<-K)p[q]=-K;else if(eo>K)p[q]=K}if(y)console.log("summing + cropping",Date.now()-i);
if(a.bvlT.v.bvlT=="SfBL"){var co=Math.pow(A*.21,1.22);if(!0)co=Math.max(co,2);var c5=l.EE.Un(co,2);l.EE.Dg(p,ay,X,c5[0]>>>1);
l.EE.Dg(ay,p,X,c5[1]>>>1)}if(y)console.log("blurring",Date.now()-i);var he=p,hU=he.slice(0);if(a.useShape.v){var aB=Math.min(100,a.Inpr.v.val+1)/100;
if(d!="OtrB"&&d!="InrB")aB=1;var ep=l.dL.UG(a.MpgS.v.Crv.v,2e3),aO=Math.round(2e3/aB);ep=l.dL.a5R(ep,aO,d=="InrB");
var f$=.5/K;for(var q=0;q<E;q++){var fo=he[q],bb=.99999*(fo+K)*f$;he[q]=-K+2*K*ep[~~(bb*(aO-1))]}if(y)console.log("applying shape",Date.now()-i)}if(a.useTexture.v){var jl=l.U(h*b*4);
aK.DY(a,jl,X,C.add.Patt,m);var e0=l.U(h*b);l.Iy(jl,e0);var gI=l.U(h*b);l.EE.Xx(e0,gI,X,1);e0=gI;var d4=A*a.textureDepth.v.val*(1/100)*(1/255);
if(a.InvT.v)d4=-d4;for(var q=0;q<E;q++)he[q]+=-d4*e0[q];if(y)console.log("applying texture",Date.now()-i)}var ab=(a.bvlT.v.bvlT=="SfBL"?1:.5)*(a.bvlD.v.BESs=="In"?1:-1)*a.srgR.v.val/100;
for(var q=0;q<E;q++)he[q]*=ab;if(y)console.log("scaling",Date.now()-i);var c3=a.uglg&&a.uglg.v?C.mT():a.lagl.v.val;
c3=c3*(Math.PI/180);var gr=a.uglg&&a.uglg.v?C.mH():a.Lald.v.val;gr=gr*(Math.PI/180);var a2=Math.cos(c3)*Math.cos(gr),aL=-Math.sin(c3)*Math.cos(gr),el=Math.sin(gr),iJ=new Float64Array(E),aC=new Float64Array(E),cr=d=="PlEb";
for(var bN=0;bN<b;bN++)for(var hf=0;hf<h;hf++){var q=bN*h+hf,cV=0,ez=0,jG=1;if(bN!=0&&bN!=b-1&&hf!=0&&hf!=h-1){var jw=he[q-h-1],dw=he[q-h+1],cb=he[q+h-1],cz=he[q+h+1];
cV=-.125*(dw+2*he[q+1]+cz-(jw+2*he[q-1]+cb));ez=-.125*(cb+2*he[q+h]+cz-(jw+2*he[q-h]+dw))}else{var jq=he[q];
ez=-(bN==0?he[q+h]-jq:bN==b-1?jq-he[q-h]:.5*(he[q+h]-he[q-h]));cV=-(hf==0?he[q+1]-jq:hf==h-1?jq-he[q-1]:.5*(he[q+1]-he[q-1]))}var dU=1/Math.sqrt(cV*cV+ez*ez+1);
cV*=dU;ez*=dU;jG*=dU;var ge=cV*a2+ez*aL+jG*el,al=ge;if(cr)al=-cV*a2-ez*aL+jG*el;if(ge>0)iJ[q]=ge;if(al>0)aC[q]=al}if(y)console.log("raycasting",Date.now()-i);
if(a.Sftn.v.val!=0){l.EE.b0(iJ,ay,X,a.Sftn.v.val*.43);var a_=ay,ay=iJ,iJ=a_;if(cr){l.EE.b0(aC,ay,X,a.Sftn.v.val*.43);
var a_=ay,ay=aC,aC=a_}else l.Yx(iJ,aC)}if(y)console.log("softening",Date.now()-i);var ep=l.dL.UG(a.TrnS.v.Crv.v,1024);
for(var q=0;q<E;q++){iJ[q]=ep[~~(iJ[q]*1024)];aC[q]=ep[~~(aC[q]*1024)]}if(y)console.log("contour remap",Date.now()-i);
h=Math.round(h);b=Math.round(b);var hc=l.U(h*b*4);aK.GV(hc,a.hglC.v);var g7=l.U(h*b*4);aK.GV(g7,a.sdwC.v);
var b4=l.U(h*b*4);aK.GV(b4,a.hglC.v);var eC=l.U(h*b*4);aK.GV(eC,a.sdwC.v);var cN=1/el,i7=1/(1-el),f$=1/K,gC=new Float64Array(1e3);
for(var q=0;q<1e3;q++)gC[q]=Math.pow(q*.001,.2);for(var bN=0;bN<b;bN++)for(var hf=0;hf<h;hf++){var q=bN*h+hf,h7=4*q+3,iB=0,hH=0;
iB=iJ[q];hH=aC[q];var bA=Math.max(0,Math.min(.9999,(hU[q]+K*.993)*f$));bA=gC[Math.floor(bA*1e3)];var cq=bA*(1-Math.min(1,iB*cN)),fd=bA*(1-Math.min(1,(1-iB)*i7)),iW=bA*(1-Math.min(1,hH*cN)),ca=bA*(1-Math.min(1,(1-hH)*i7));
g7[h7]=Math.round(255*cq);hc[h7]=Math.round(255*fd);eC[h7]=Math.round(255*iW);b4[h7]=Math.round(255*ca)}if(y)console.log("baking textures",Date.now()-i);
X=H.rect().clone();X.QW(W,W);X.offset(z,f);Y={afB:a.bvlS.v.BESl=="strokeEmboss"};var f9=d1.Pi(a.hglM.v.BlnM),bt=a.hglO.v.val/100,dO=d1.Pi(a.sdwM.v.BlnM),ea=a.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(d)!=-1){Y.fC={MW:hc,Ao:X,o6:f9,iq:bt};Y.bC={MW:g7,Ao:X,o6:dO,iq:ea}}if(["OtrB","Embs","PlEb"].indexOf(d)!=-1){Y.t$={MW:b4,Ao:X,o6:f9,iq:bt};
Y.HD={MW:eC,Ao:X,o6:dO,iq:ea}}if(y)console.log(Date.now()-i)}else if(v=="patternFill"){var c0=H.rect(),c=l.U(c0.Z()*4);
aK.DY(a,c,c0,C.add.Patt,m);var I=c0.clone();I.offset(z,f);Y={MW:c,Ao:I}}else if(v=="ChFX"){var c=l.U(H.Ku().length*4);
aK.GV(c,a.Clr.v);var A=a.blur.v.val,i_=H.rect().clone();i_.QW(A,A);var aV=l.U(i_.Z()),aQ=l.U(i_.Z());
l.Ju(H.Ku(),H.rect(),aQ,i_);l.EE.HY(aQ,aV,i_,A*.43);var bJ=l.dL.fM(a.MpgS.v.Crv.v,256,!0);l.ac(aV,bJ);
var e9=l.U(H.Ku().length),cC=l.U(H.Ku().length),ef=H.rect().clone();aK.wl(ef,a,C,0);l.Ju(aV,i_,e9,ef);
ef=H.rect().clone();aK.wl(ef,a,C,Math.PI);l.Ju(aV,i_,cC,ef);var b5=e9.length;for(var q=0;q<b5;q++)c[4*q+3]=Math.abs(e9[q]-cC[q]);
if(a.Invr.v)for(var q=0;q<b5;q++)c[4*q+3]=255-c[4*q+3];var I=H.rect().clone();I.offset(z,f);Y={MW:c,Ao:I}}else if(v=="OrGl"){var Q;
if(a.GlwT.v.BETE=="SfBL")Q=H.kx(P,A-P,!0);else Q=H.a89(A,T,!0);var o=Q.Ku,I=Q.pe,jx=o.slice(0);aK.a7y(o,a);
var c=l.U(I.Z()*4);if(a.Grad==null){aK.GV(c,a.Clr.v);aK.UJ(o,a,!1)}else{aK.UJ(o,a,null);var bf={ME:o,s1:255,n4:0,pD:I};
aK.DM(a,c,I,C,bf);var dH=a.Nose.v.val/100,hT=I.e;for(var q=0;q<jx.length;q++){var je=255,hG=jx[q];if(hG<32){var gW=(hG+jx[q-1]+jx[q+1]+jx[q-hT]+jx[q+hT])*.2-1;
je=Math.min(255,Math.round(Math.max(0,gW)*8))}o[q]=je}aK.agN(o,a)}l.cN(o,c,3);I.offset(z,f);Y={MW:c,Ao:I}}else if(v=="IrGl"){var Q;
if(a.GlwT.v.BETE=="SfBL")Q=H.kx(P,A-P,!1);else Q=H.a89(A,T,!1);var o=Q.Ku,I=Q.pe;aK.a7y(o,a);if(a.glwS.v.IGSr=="SrcC")l.Yy(o);
var c=l.U(I.Z()*4);if(a.Grad==null){aK.GV(c,a.Clr.v);aK.UJ(o,a,!0)}else{aK.UJ(o,a,null);var bf={ME:o,s1:255,n4:0,pD:I};
aK.DM(a,c,I,C,bf);o.fill(255);aK.agN(o,a)}l.cN(o,c,3);I.offset(z,f);Y={MW:c,Ao:I}}else if(v=="FrFX"){var d3=aK.zx(a),jJ=d3[0],fj=d3[1],I=H.rect().clone(),em=null,jB=null;
I.QW(Math.ceil(k),Math.ceil(k));if(fj>0){var Q=H.kx(fj,0,!0);jB=Q.Ku;if(jB.length<I.Z()){jB=l.U(I.Z());
l.Ju(Q.Ku,Q.pe,jB,I)}}if(jJ>0){var Q=H.kx(jJ,0,!1);em=l.U(I.Z());em.fill(255);l.Ju(Q.Ku,Q.pe,em,I)}I.offset(z,f);
var c=l.U(I.Z()*4),ip=a.PntT.v.FrFl;if(ip=="SClr")aK.GV(c,a.Clr.v);if(ip=="GrFl")aK.DM(a,c,I,C,H.anr(jJ,fj));
if(ip=="Ptrn")aK.DY(a,c,I,C.add.Patt,m);Y={MW:c,Ao:I,rr:jB,Ii:em}}D.type[v].push(Y);if(v=="ebbl"){if(Y.fC)D.all.push(Y.fC,Y.bC);
if(Y.t$)D.all.push(Y.t$,Y.HD)}else{Y.o6=d1.Pi(a.Md.v.BlnM);Y.iq=a.Opct.v.val/100,D.all.push(Y)}}}return D};
aK.uu=function(Z){var m=1/Math.sqrt(Z.x*Z.x+Z.y*Z.y+Z.gG*Z.gG);Z.x*=m;Z.y*=m;Z.gG*=m};aK.aqP=function(Z,m){return{x:Z.y*m.gG-Z.gG*m.y,y:Z.gG*m.x-Z.x*m.gG,gG:Z.x*m.y-Z.y*m.x}};
aK.a4w=function(Z,m){return Z.x*m.x+Z.y*m.y+Z.gG*m.gG};aK.agN=function(Z,m){var S=m.Nose.v.val/100;if(S>0)for(var q=0;
q<Z.length;q++){var B=Z[q];B=Math.min(510-(1+S)*l.style.ju(q),B);Z[q]=B}};aK.By=function(Z){var m=aK.Tt(),S=Z.Eo,B=!1;
for(var q=0;q<32;q+=8)if(S[q]+S[q+1]+S[q+4]+S[q+5]!=0||S[q+2]+S[q+3]+S[q+6]+S[q+7]!=1020)B=!0;if(B){S=S.slice(0);
for(var q=0;q<40;q+=4){var C=S[q]/255,u=S[q+1]/255,r=S[q+2]/255,k=S[q+3]/255;S[q]=C-.001;S[q+1]=C==u?1e6:1/(u-C);
S[q+2]=r==k?-1e6:1/(r-k);S[q+3]=k+.001}}var v=Z.add.iOpa!=null?Z.add.iOpa/255:m.fill,e=Z.add.vstk;if(e&&!e.fillEnabled.v&&(!e.strokeEnabled.v||e.strokeStyleLineWidth.v.val==0))v=0;
return{fill:v,Tv:B?S:null,mu:Z.add.brst!=null?Z.add.brst:m.mu,ac2:Z.add.knko!=null?Z.add.knko:m.ac2,style:!1,UN:!1}};
aK.Tt=function(){return{fill:1,Tv:null,mu:[1,1,1],ac2:0,style:!1,UN:!1}};aK.Vr=function(Z,m){if(m==null)return null;
var S=Z.Idnt.v,B=Z.Nm.v;for(var q=0;q<m.length;q++)if(m[q].id==S)return m[q];for(var q=0;q<m.length;
q++)if(m[q].name==B)return m[q];return null};aK.ajr=function(Z,m,S){var B=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var q=0;q<B.length;q++){var C=Z.v[B[q]].v;for(var u=0;u<C.length;u++)if(C[u].v.Ptrn)m.hg(aK.Vr(C[u].v.Ptrn.v,S))}};
aK.afn=function(Z,m,S){var B=["patternFillMulti","ebblMulti","frameFXMulti"];for(var q=0;q<B.length;
q++){var C=Z.v[B[q]].v;for(var u=0;u<C.length;u++)if(C[u].v.Ptrn){var r=C[u].v.Ptrn.v,k=aK.Vr(r,S),v=aK.Vr(r,m.add.Patt);
if(k==null&&v)S.push(v)}}};aK.DY=function(Z,m,S,B,C){var u=aK.Vr(Z.Ptrn.v,B);if(u!=null&&!S.Ov()){var r=u.Pg,k=r[0],v=r[1],e=0;
l.io(r);var j=(Z.Scl?Z.Scl.v.val:100)/100;while((j<.3||j==.5)&&r[e+2]){j*=v.e/r[e+3].e;e+=2;k=r[e];v=r[e+1]}var $=l.scale.DY(k,v.e,v.n),U=Z.phase?Z.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},H=Z.Angl?Z.Angl.v.val:0,z=-S.x+U.Hrzn.v-1,f=-S.y+U.Vrtc.v-1;
if(Z.Algn!=null&&!Z.Algn.v){}else{z+=C.x;f+=C.y}l.scale.FL($,m,S.e,S.n,j,j,z+1,f+1,H*Math.PI/180)}};
aK.DM=function(Z,m,S,B,C,u){if(u==null)u=S;var r=Z.Type?Z.Type.v.GrdT:"shapeburst",k=Z.Algn&&Z.Algn.v?u:new bq(0,0,B.e,B.n),v=Z.Angl?l.X.Gl(Z,k):[new aS(0,0),new aS(100,0)],e=v[0].x,j=v[0].y,$=v[1].x-e,U=v[1].y-j,H=Math.sqrt($*$+U*U);
H=1/(2*H*H);var z=[$*H,U*H,-U*H,$*H],f=Z.Rvrs?Z.Rvrs.v:!1,D=Z.Dthr?Z.Dthr.v:!1;l.X.pp(Z.Grad.v,m,S,z,e,j,f,fp.X.types.indexOf(r),0,0,C,D)};
aK.as8=function(Z,m,S){for(var q=0;q<Z.all.length;q++){var B=Z.all[q];B.XY=B.Ao.clone();B.XY.offset(m,S)}};
aK.asP=function(Z,m,S,B,C,u){var r=N.V8?aK.afD:aK.a67;aK.as8(m,S.x,S.y);var k=m.type.DrSh;for(var q=0;
q<k.length;q++)if(!k[q].a97)r(k[q],B,C,u)};aK.aj5=function(Z,m,S,B,C,u,r,k,v,e){var j=S,$=N.V8?aK.afD:aK.a67,U=N.V8?N.a.ro:l.a.yb,H;
H=m.type.DrSh;for(var q=0;q<H.length;q++)if(H[q].a97)$(H[q],B,C,u);H=m.type.OrGl;for(var q=0;q<H.length;
q++)$(H[q],B,C,u);var z="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var f=0;f<z.length;f++){var H=m.type[z[f]];
for(var q=0;q<H.length;q++)$(H[q],r,j,u)}var D=m.type.ebbl[0],n=D!=null&&D.afB;H=m.type.FrFX;for(var q=0;
q<H.length;q++){var L=H[q];jH.Ez.Ju(k,e,v,e,u);$(L,v,e,u);if(n&&q==H.length-1){if(D.HD)$(D.HD,v,e,u);
if(D.t$)$(D.t$,v,e,u);if(D.bC)$(D.bC,v,e,u);if(D.fC)$(D.fC,v,e,u)}if(L.Ii||L.up)U(v,e,r,j,N.V8?L.up:L.Ii,L.XY,0,u,1);
if(L.rr||L.bQ)U(v,e,B,C,N.V8?L.bQ:L.rr,L.XY,0,u,1)}if(!n&&D!=null){if(D.HD)$(D.HD,B,C,u);if(D.t$)$(D.t$,B,C,u);
if(D.bC)$(D.bC,r,j,u);if(D.fC)$(D.fC,r,j,u)}};aK.a67=function(Z,m,S,B){var C=aK.Tt();C.fill=Z.iq;C.style=!0;
l.a.qn(Z.o6,Z.MW,Z.XY,m,S,B,1,C)};aK.afD=function(Z,m,S,B){var C=aK.Tt();C.fill=Z.iq;C.style=!0;N.a.Bh(Z.o6,Z.Mg,Z.XY,m,S,B,1,C)};
aK.a7y=function(Z,m){var S=1-m.Inpr.v.val/100,B=1+Math.tan(S*(Math.PI/2)),C=Z.length;for(var q=0;q<C;
q++)Z[q]=Math.min(255,Math.round(Z[q]*B))};aK.UJ=function(Z,m,S){var B=m.blur.v.val,C=Math.round(B*(m.Ckmt.v.val/100));
if(B>C){var u=l.dL.fM(m.TrnS.v.Crv.v,256,!0);l.ac(Z,u)}if(S!=null&&m.Nose.v.val>0)l.style.pl(Z,m.Nose.v.val/100,S)};
aK.GV=function(Z,m,S){if(S==null)S=255;var B=l.X.gN(m),C=S<<24|B.S<<16|B.z<<8|B.I,u=new Uint32Array(Z.buffer);
u.fill(C)};aK.wl=function(Z,m,S,B){var C=m.uglg&&m.uglg.v?S.mT():m.lagl.v.val;C=C*Math.PI/180+B;var u=Math.cos(C)*m.Dstn.v.val,r=Math.sin(C)*m.Dstn.v.val;
Z.x-=Math.round(u);Z.y+=Math.round(r)};aK.cG=function(Z){if(Z==null)return null;var m=Z.frameFXMulti.v;
if(m.length==0)return null;m=m[0].v;var S=JSON.parse(JSON.stringify(fp.Rw.default));aK.amT(m,S);return S};
aK.amT=function(Z,m){var S=fp.stroke.cH.indexOf(Z.PntT.v.FrFl),B=[fp.qc,fp.mc,fp.G3][S],C=m.strokeStyleContent.v={classID:fp.Rw.lf[S]};
for(var q=0;q<B.length;q++)C[B[q]]=Z[B[q]];m.strokeEnabled=Z.enab;m.strokeStyleLineWidth=Z.Sz;m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fp.Rw.Rg[fp.stroke.types.indexOf(Z.Styl.v.FStl)];
m.strokeStyleOpacity=Z.Opct;m.strokeStyleBlendMode=Z.Md};aK.IL=function(Z,m){var S=[];for(var q=0;q<Z.length;
q++)S.push({t:"UntF",v:{type:"#Nne",val:Math.round(Z[q]*m)}});return S};aK.BZ=function(Z,m,S,B){this.a7=m.clone();
this.a9L=m.clone();this.a9L.QW(S,S);if(B){this.a7.QW(1,1);this.yE=l.U(this.a7.Z());l.Ju(Z,m,this.yE,this.a7)}else this.yE=Z;
this.pS=null;this.QP=null;this.lR=null};aK.BZ.prototype.Ku=function(){return this.yE};aK.BZ.prototype.rect=function(){return this.a7};
aK.BZ.prototype.OT=function(){return this.a9L};aK.BZ.prototype.cJ=function(){if(this.pS)return this.pS;
this.pS=this.Ku().slice(0);l.Yy(this.pS);return this.pS};aK.BZ.prototype.RH=function(){if(this.QP)return this.QP;
this.QP=new Float64Array(this.rect().Z());l.style.w_(this.cJ(),this.QP,this.rect().e,this.rect().n);
return this.QP};aK.BZ.prototype.JL=function(){if(this.lR)return this.lR;var Z=this.OT(),m=l.U(Z.Z());
l.Ju(this.Ku(),this.rect(),m,Z);this.lR=new Float64Array(Z.Z());l.style.w_(m,this.lR,Z.e,Z.n);return this.lR};
aK.BZ.prototype.anr=function(Z,m){var S={s1:-m,n4:Z,pD:null,ME:null};if(m==0){S.pD=this.rect();S.ME=this.RH();
return S}var B=this.JL().slice(0),C=this.OT();S.pD=C;S.ME=B;for(var q=0;q<B.length;q++)B[q]=-B[q];if(Z==0)return S;
var u=this.RH(),r=this.rect();for(var k=0;k<r.n;k++)for(var v=0;v<r.e;v++){var e=k*r.e+v,j=(k+r.y-C.y)*C.e+v+r.x-C.x;
B[j]+=u[e]}return S};aK.BZ.prototype.kx=function(Z,m,S){var B=Math.ceil(Z+m),C={pe:this.rect().clone(),Ku:null};
C.pe.QW(B,B);C.Ku=l.U(C.pe.Z());if(Z==0&&m==0)l.Yx(S?this.Ku():this.cJ(),C.Ku);else{var u=l.U(C.pe.Z());
l.Ju(this.Ku(),this.rect(),u,C.pe);if(!S)l.Yy(u);if(Z!=0){if(S)l.style.bU(u,C.pe,this.JL(),this.OT(),Z);
else l.style.bU(u,C.pe,this.RH(),this.rect(),Z)}if(m!=0)l.EE.HY(u,C.Ku,C.pe,Math.max(1,m*.43));else C.Ku=u}return C};
aK.BZ.prototype.a89=function(Z,m,S){var B=Z*(m-.5),C={pe:this.rect().clone(),Ku:null};if(S)C.pe.QW(Z,Z);
C.Ku=l.U(C.pe.Z());var u=C.pe.e,r=C.pe.n,k=S?this.JL():this.RH(),v=S?this.OT():this.rect(),e=C.pe,j=e.o9(v),u=j.e,r=j.n,$=j.x-e.x,U=j.y-e.y,H=j.x-v.x,z=j.y-v.y,f=1-m*2;
for(var D=0;D<r;D++)for(var n=0;n<u;n++){var L=k[(D+z)*v.e+n+H],a=L/Z;C.Ku[(D+U)*e.e+n+$]=Math.max(0,Math.min(255,255-255*((a+f)/(1+f))))}return C};
aK.al9=function(Z,m,S){var B=Z.Lefx,C=Z.blendOptions;if(B){var u=m.add.lmfx;if(S==null)S=u?u.Scl.v.val:100;
m.add.lmfx=JSON.parse(JSON.stringify(B.v));if(m.add.lmfx.Scl==null)m.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
aK.SC(m.add.lmfx,S/m.add.lmfx.Scl.v.val);if(u)m.add.lmfx.Scl.v.val=u.Scl.v.val}else delete m.add.lmfx;
if(C){C=C.v;if(C.Md)m.E4=d1.Pi(C.Md.v.BlnM);if(C.Opct)m.opacity=Math.round(C.Opct.v.val*255/100);if(C.fillOpacity)m.add.iOpa=Math.round(C.fillOpacity.v.val*255/100);
if(C.Blnd){var r=[];for(var q=0;q<10;q++)r.push(0,0,255,255);var k=C.Blnd.v,v="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var q=0;q<k.length;q++){var e=k[q].v,j=8*["Gry","Rd","Grn","Bl"].indexOf(e.Chnl.v[0].v.enum);for(var $=0;
$<8;$++){r[j+$]=e[v[$]].v}}m.Eo=r}}};aK.alp=function(Z){var m="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),S=[],B=Z.Eo;
for(var q=0;q<4;q++){var C=q*8;if(B[C]+B[C+1]+B[C+4]+B[C+5]==0&&B[C+2]+B[C+3]+B[C+6]+B[C+7]==4*255)continue;
var u={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][q]}}]}}};
S.push(u);for(var r=0;r<8;r++)u.v[m[r]]={t:"long",v:B[q*8+r]}}var k={classID:"blendOptions"};if(Z.E4!="norm")k.Md={t:"enum",v:{BlnM:d1.D2(Z.E4)}};
if(Z.opacity!=255)k.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(Z.opacity*100/255)}};if(Z.add.iOpa!=null)k.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(Z.add.iOpa*100/255)}};
if(S.length!=0)k.Blnd={t:"VlLs",v:S};var v={Ym:{classID:"null",Idnt:{t:"TEXT",v:fl.Qm()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},lS:{classID:"Styl",blendOptions:{t:"Objc",v:k}}},e=Z.add.lmfx;
if(e)v.lS.Lefx={t:"Objc",v:e};return v};function bL(){}bL.Vb=function(Z){return JSON.parse(JSON.stringify(Z))};
bL.UU=function(Z){var m=bL.Vb(bL.ahZ),S=m.Brsh.v;if(Z!=null){delete S.Hrdn;S.classID="sampledBrush";
S.Nm={t:"TEXT",v:"layer.png"},S.sampledData={t:"TEXT",v:Z}}return m};bL.ahZ={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
bL.uu={};bL.uu.check=function(Z){var m=bL.uu.ay;for(var q=0;q<m.length;q++)if(Z[m[q]]==null)Z[m[q]]=JSON.parse(bL.uu.IA[m[q]]);
var S=[];for(var q=0;q<m.length;q++)S.push(m[q]);var B=bL.uu.a1S;for(var q=0;q<B.length;q++){var C=B[q][0],u=B[q][1],r=!0;
for(var k=0;k<C.length;k++)r=r&&Z[C[k]].v==!0;if(r)for(var k=0;k<u.length;k++){if(Z[u[k]]==null)console.log("Missing conditional parameter "+u[k]);
else S.push(u[k])}}for(var v in Z)if(S.indexOf(v)==-1)console.log("Extra parameter "+v);Z=Z.Brsh.v;m=bL.uu.U3.ay;
for(var q=0;q<m.length;q++)if(Z[m[q]]==null)Z[m[q]]=JSON.parse(bL.uu.U3.IA[m[q]]);S=[];for(var q=0;q<m.length;
q++)if(Z[m[q]])S.push(m[q]);else console.log("Missing default parameter "+m[q]);B=bL.uu.U3.aea[Z.classID];
for(var q=0;q<B.length;q++)if(Z[B[q]]==null&&B[q]!="dtipsGridSize"&&B[q]!="dtipsErodibleTipHeightMap"&&Z.a1X!=1)console.log("Missing conditional parameter "+B[q]);
else S.push(B[q]);for(var v in Z)if(S.indexOf(v)==-1)console.log("Extra parameter "+v)};bL.uu.iO=function(Z){var m=bL.uu.a1S;
for(var q=0;q<m.length;q++){var S=m[q][0],B=m[q][1],C=!0;for(var u=0;u<S.length;u++)C=C&&Z[S[u]]&&Z[S[u]].v==!0;
if(C){for(var u=0;u<B.length;u++)if(Z[B[u]]==null){Z[B[u]]=JSON.parse(bL.uu.IA[B[u]])}}else for(var u=0;
u<B.length;u++)if(Z[B[u]]!=null){delete Z[B[u]]}}};bL.uu.U3={};bL.uu.U3.ay="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
bL.uu.U3.IA={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};bL.uu.U3.aea={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
bL.uu.a1S=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
bL.uu.ay="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
bL.uu.IA={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function gA(Z,m){this.afW=Z;this.Zo=m==null?0:m;this.dir=0}gA.prototype.U4=function(Z,m){var S=this.afW,B=new aS(Z.x-S.x,Z.y-S.y),C=new ht;
C.rotate(-this.Zo);B=C.xf(B);if(this.dir==0&&!S.Qu(Z))this.dir=Math.abs(B.x)<Math.abs(B.y)?1:2;if(m.j(iZ.nQ)){if(this.dir==1)B.x=0;
if(this.dir==2)B.y=0}C.Yy();B=C.xf(B);var u=new aS(S.x+B.x,S.y+B.y);return u};var iS=function(){function Z(){this.afq={}}Z.a8a=function(m,S){var B=m.clone();
B.s9-=Math.floor(B.s9);B.ku-=Math.floor(B.ku);var C=new aS(S,0),u=new aS(0,S),r=B.xf(C),k=B.xf(u),v=new aS(B.s9,B.ku);
return[r,k,v]};Z.ad3=function(m,S){var B=aS.qa;return B(m[0],S[0])+B(m[1],S[1])+B(m[2],S[2]);return dsum};
Z.prototype.a7K=function(m){var S=this.afq,B=S[m];if(B==null)B=S[m]={qN:[],mB:0,Z:0,apb:0,akV:0};B.mB=Date.now();
while(Object.keys(S).length>3){var C="",u=Date.now();for(var r in S){var k=S[r].mB;if(k<u){u=k;C=r}}delete S[C]}return B};
Z.prototype.a8V=function(m,S){var B=m.qN,C,u=1e6;for(var q=0;q<B.length;q++){var r=B[q],k=Z.ad3(r.hC,S);
if(k<u){C=r;u=k}}return C};Z.prototype.ag0=function(m,S){var B=m.qN;B.push(S);m.Z+=S.rect.Z();if(B.length>1e3||m.Z>100*100*1600){console.log("pruning",m.Z,B.length);
B.sort(function(u,r){return r.mB-u.mB});while(B.length>500||m.Z>100*100*800){var C=B.pop();m.Z-=C.rect.Z()}}};
return Z}();function fK(Z,m,S,B,C,u,r,k,v){this.VV=m;this.Km=S;this.ZN=u;this.ZT=B;if(B.Rp==null)B.Rp=[!1,!0];
this.u_=null;this.wL=null;this.a5=0;this.a1C=0;this.aqO=0;this.qT=0;this.ov=v==null?Math.floor(Math.random()*16777215):v;
this.aum=v==null?Math.floor(Math.random()*16777215):v;this.cR=new bq;this.Ms=new bq;if(k!=null){this.MW=k}else{var e=fK.adS;
if(e.length!=r.Z()*4)e=l.U(r.Z()*4);else e.fill(0);this.MW=fK.adS=e}this.rect=r.clone();this.iM=[];this.H2=[];
this.cl=null;this.Nx=0;this.S=null;this.ahz="";this.lm=null;this.a7Q(Z,C)}fK.adS=l.U(16);fK.prototype.a7Q=function(Z,m){this.Nx=m;
this.S=Z;this.ahz=JSON.stringify(Z)+JSON.stringify(this.ZT.hj);this.lm=fK.a5D(Z,this.VV,this.Km)};fK.prototype.moveTo=function(Z,m,S){S=this.arK(S);
this.a5=S;var B=new aS(Z,m),C=this.S.Brsh.v.Dmtr.v.val;this.u_=B.clone();this.wL=B.clone();this.cl=B.clone();
this.iM=[Z,m];this.H2=[S];var u=this.ZT.Rp;if(this.ZT.dT!=fK.AU){var r=this.S.angleDynamics,k=r?r.v.bVTy.v==6:!1;
this.dU(k?new bq:this.akj(B,this.alE()*(u[1]?S:1),this.ZT.Qp*(u[0]?S*.5:1),new aS(0,0)))}this.qT=B.clone()};
fK.prototype.lineTo=function(Z,m,S){S=this.arK(S);var B=this.iM,C=B.length,u=B[C-2],r=B[C-1];if(Z==u&&m==r)return;
var k=this.S.Brsh.v.Dmtr.v.val,v=Math.ceil(k)+1,e=new bq(Math.round(u),Math.round(r),0,0);e.QW(v,v);
var j=new bq(Math.round(Z),Math.round(m),0,0);j.QW(v,v);this.iM.push(Z,m);this.H2.push(S);C+=2;if(C>=6)this.dU(this.a0F(C))};
fK.prototype.arK=function(Z){if(Z==null)Z=1;Z=Math.max(.05,Math.min(5,Z));if(isNaN(Z)){alert("Pressure is not a number");
throw"e"}return Z};fK.prototype.dU=function(Z){this.cR=Z;this.Ms=this.Ms.j3(Z)};fK.prototype.finish=function(){var Z=this.iM,m=Z.length,S;
if(m==4)S=this.a09(Z[m-2],Z[m-1],this.H2[(m>>1)-1],!0);if(m>4)S=this.a0F(m+2);if(S)this.dU(S)};fK.prototype.Cp=function(){return this.rect.clone()};
fK.prototype.XW=function(){return this.cR.o9(this.rect)};fK.prototype.hE=function(){return this.Ms.o9(this.rect)};
fK.prototype.yY=function(){return this.MW};fK.prototype.a0F=function(Z){var m=this.iM,S=this.H2,B=m[Z-6],C=m[Z-5],u=m[Z-4],r=m[Z-3],k=S[(Z>>1)-3],v=S[(Z>>1)-2],e=new aS(0,0),j=new aS(0,0);
if(8<=Z)e=fK.aav(m[Z-8],m[Z-7],B,C,u,r);if(Z<=m.length)j=fK.aav(m[Z-2],m[Z-1],u,r,B,C);var $=B+e.x,U=C+e.y,H=u+j.x,z=r+j.y,f=new bq;
for(var q=0;q<10;q++){var D=(q+1)*.1,n=1-D,L=n*n*n*B+3*D*n*n*$+3*D*D*n*H+D*D*D*u,a=n*n*n*C+3*D*n*n*U+3*D*D*n*z+D*D*D*r,F=this.a09(L,a,k+D*(v-k));
f=f.j3(F)}return f};fK.aav=function(Z,m,S,B,C,u){var r=Z-S,k=m-B,v=C-S,e=u-B,j=Math.sqrt(r*r+k*k),$=Math.sqrt(v*v+e*e),U=Math.acos((r*v+k*e)/(j*$))/Math.PI,H=.35,z=.1;
U=z+U*(H-z);var f=C-Z,D=u-m,n=Math.sqrt(f*f+D*D),L=U*$/n;return new aS(f*L,D*L)};fK.prototype.a09=function(Z,m,S,B){var C=new bq,u=this.ZT.aqe;
if(u==null)u=0;if(u==0||B){C=this.acn(Z,m,S);return C}var r=this.cl,k=Z-r.x,v=m-r.y,e=Math.sqrt(k*k+v*v);
k/=e;v/=e;if(e>u){var j=r.x+k*(e-u),$=r.y+v*(e-u);C=this.acn(j,$,S);this.cl.r8(j,$)}return C};fK.prototype.acn=function(Z,m,S){var B=new bq,C=new aS(Z,m),u=this.S.Brsh.v.Dmtr.v.val,r=this.ZT.dT,k=C.Vf(this.wL);
k.normalize(1);var v=aS.qa(this.wL,C),e=-this.a1C,j=this.wL.clone(),$=this.ZT.Rp;while(!0){var U=this.a5+(S-this.a5)*(Math.max(0,e)/v),H=this.alE()*($[1]?U:1),z=this.asn()*(H+this.aqO)/2*this.lm.ahL;
if(r==fK.AU)z=1;if(e+z<v){e+=z;var f=new aS(this.wL.x+k.x*e,this.wL.y+k.y*e),L=1;if(r==fK.AU){var D=j.clone();
D.x+=k.x>0?1:-1;var n=j.clone();n.y+=k.y>0?1:-1;if(aS.qa(D,f)<aS.qa(n,f))f=D;else f=n;e=aS.qa(f,this.wL)}if(this.S.useScatter.v==!0){L=this.S.Cnt.v;
var a=this.S.countDynamics.v.jitter.v.val/100,F=a*(-1+2*this.hA());L+=Math.round(L*F)}for(var q=0;q<L;
q++){var A=this.akj(f,H,this.ZT.Qp*($[0]?U*.5:1),k);B=B.j3(A)}j=f}else break}this.a1C=v-e;this.wL=C;
this.a5=S;return B};fK.prototype.asn=function(){var Z=this.S.Brsh.v,m=Z.Spcn.v.val,S=Math.max(5,Z.Rndn.v.val);
return S/100*(m/100)};fK.prototype.alE=function(){var Z=this.S,m=Z.Brsh.v.Dmtr.v.val;if(Z.useTipDynamics.v){var S=m*(Z.minimumDiameter.v.val/100);
m=S+(m-S)*(1-this.hA(this.aum)*(Z.szVr.v.jitter.v.val/100))}return m};fK.prototype.akj=function(Z,m,S,B){S=Math.min(1,S);
var C=this.S,u=this.S.Brsh.v,r=u.Dmtr.v.val,k=this.ZT,v=k.dT,e=k.ar9,j=this.lm.Pg[1],$=new ht;$.translate(-j.e/2,-j.n/2);
$.scale(1/this.lm.a1s,1/this.lm.a1s);$.scale(m/r,m/r);$.scale(1,Math.max(5,u.Rndn.v.val)/100);if(C.useTipDynamics.v){var U=C.angleDynamics.v,H=C.minimumRoundness.v.val/100;
$.scale(1,H+(1-H)*Math.round(100-this.hA()*C.roundnessDynamics.v.jitter.v.val)/100);$.rotate((-.5+this.hA())*4*Math.PI*(U.jitter.v.val/100));
if(U.bVTy.v==6)$.rotate(Math.atan2(-B.y,B.x))}$.rotate(u.Angl.v.val*(Math.PI/180));if(C.useScatter.v){var z=(-1+2*this.hA())*C.scatterDynamics.v.jitter.v.val/100;
$.translate(-z*m*B.y,z*m*B.x)}$.translate(Z.x,Z.y);var f=this.a9V($,Z,m),D=f.rect.clone();if(v==null){var n=this.rk(C);
l._z(f.C1,Math.round(n.S*255)<<16|Math.round(n.z*255)<<8|Math.round(n.I*255)<<0,4278190080);if(this.Ms.Ov()&&this.rect.Qu(f.rect)&&S==1)this.MW=f.C1.slice(0);
else l.a.as_(f.C1,f.rect,this.MW,this.rect,f.rect,S)}if(v==fK.AU){var L=new aS(f.rect.x+f.rect.e/2,f.rect.y+f.rect.n/2),a=Math.round(L.x-this.qT.x),F=Math.round(L.y-this.qT.y),A=f.rect.clone();
A.offset(-a,-F);var T=A.o9(this.rect);T.offset(a,F);l.pY(this.MW,this.rect,f.C1,A);l.a.I$(f.C1,f.rect,this.MW,this.rect,f.H8,f.rect,S)}if(v==fK.Ax||v==fK.RE||v==fK.i3){var P=f.rect.o9(this.rect),Y;
if(P.Qu(f.rect))Y=f.H8;else{Y=l.U(P.Z());l.Ju(f.H8,f.rect,Y,P)}var Q=l.U(P.Z()*4);l.pY(this.MW,this.rect,Q,P);
if(v==fK.RE){var o=Q.slice(0),I=l.Jc.lz([-1,-1,-1,-1,25,-1,-1,-1,-1]);l.Jc.$d(Q,o,P.e,P.n,I,0);l.Yx(o,Q)}else if(v==fK.i3){var c=bS.ej("UnsM");
c.Amnt.v.val=15;c.Thsh.v=0;c.Rds.v.val=5;var o=l.U(Q.length);bS.Yb("UnsM",{buffer:Q,rect:P},c,0,0,{buffer:o,rect:P});
l.Yx(o,Q)}else{bS.KY(1,l.EE.R9,Q,P)}l.a.I$(Q,P,this.MW,this.rect,Y,P,S)}this.aqO=m;this.qT=L;this.aum++;
return D};fK.prototype.rk=function(Z){var m=fK.af2(this.Nx);if(Z.useColorDynamics&&Z.useColorDynamics.v){var S=1-this.hA()*Z.clVr.v.jitter.v.val/100,B=fK.af2(this.ZN);
m.I=S*m.I+(1-S)*B.I;m.z=S*m.z+(1-S)*B.z;m.S=S*m.S+(1-S)*B.S;var C=(-.5+this.hA())*Z.H.v.val/100,u=(-1+2*this.hA())*Z.Strt.v.val/100,r=(-1+2*this.hA())*Z.Brgh.v.val/100,k=l.$C(m.I,m.z,m.S);
k.Vi=(k.Vi+C+1)%1;k.Ve=k.Ve+u;if(k.Ve<0)k.Ve=-k.Ve;if(k.Ve>1)k.Ve=1-(k.Ve-1);k.jA=k.jA+r;if(k.jA<0)k.jA=-k.jA;
if(k.jA>1)k.jA=1-(k.jA-1);m=l.TX(k.Vi,k.Ve,k.jA)}return m};fK.prototype.uu=function(Z){return Math.max(0,Math.min(1,Z))};
fK.prototype.hA=function(Z){if(Z==null){Z=this.ov++}return fK.hash(Z)};fK.af2=function(Z){return{I:(Z>>16&255)/255,z:(Z>>8&255)/255,S:(Z>>0&255)/255}};
fK.hash=function(Z){Z=Z^61^Z>>16;Z=Z+(Z<<3);Z=Z^Z>>4;Z=Z*668265261;Z=Z^Z>>15;return(Z&16777215)/16777215};
fK.anH=new iS;fK.prototype.a9V=function(Z,m,S){var B=Math.sqrt(this.lm.Pg[1].Z()),C=B*Z.l_(),u=C<10?1:C<50?1.5:C<200?3:8,r=fK.anH,k=r.a7K(this.ahz),v=this.ZT.hj;
if(v){Z=Z.clone();Z.s9=Math.floor(Z.s9);Z.ku=Math.floor(Z.ku)}var e=iS.a8a(Z,B),j=r.a8V(k,e);if(j&&iS.ad3(j.hC,e)>u)j=null;
if(j){j.rect.x=Math.round(j.adJ.x+Z.s9);j.rect.y=Math.round(j.adJ.y+Z.ku);if(v){j.rect.x=Math.round(m.x-j.rect.e/2);
j.rect.y=Math.round(m.y-j.rect.n/2)}j.mB=Date.now()}else{var $=Math.round(this.S.Brsh.v.Dmtr.v.val),U;
if(v&&$<=3){U={buffer:l.U($*$*4),rect:new bq(Math.round(m.x-$/2),Math.round(m.y-$/2),$,$)};l._z(U.buffer,4278190080)}else if(Z.AQ==1&&Z.S==0&&Z.mw==0&&Z.uw==1){U={buffer:this.lm.Pg[0],rect:this.lm.Pg[1].clone()};
U.rect.x=Math.round(Z.s9);U.rect.y=Math.round(Z.ku)}else U=g.Q.zr(this.lm.Pg,Z);if(v){for(var q=0;q<U.buffer.length;
q++)U.buffer[q]=U.buffer[q]>127?255:0}if(U==null)U={buffer:l.U(0),rect:new bq};j={C1:U.buffer,H8:l.U(U.rect.Z()),rect:U.rect,adJ:new aS(U.rect.x-Z.s9,U.rect.y-Z.ku),hC:e,mB:Date.now()};
l.NK(j.C1,j.H8,3);if(k)r.ag0(k,j)}return j};fK.a5D=function(Z,m,S){var B,C,u,r=Z.Brsh.v.Dmtr.v.val;if(Z.Brsh.v.classID=="computedBrush"){var k=Z.Brsh.v.Hrdn.v.val/100,v=1+.55*(1-k);
C=r<100?1.2:1;u=1;var e=Math.round(C*r*v),j=new bq(0,0,e,e),$=l.U(e*e*4),U=new Uint32Array($.buffer);
B=[$,j];var H=e/2,z=v/H,f=Date.now(),D=fK.Ro(k),n=Math.round(8e3/H),m=D[0],L=D[1]-n,a=D[2]+n,F=Math.min(e,(e>>>1)+1);
for(var q=0;q<F;q++){var A=z*(q-H+.25);A*=A;var T=z*(q-H+.75);T*=T;var P=q*e,Y=(e-1-q)*e;for(var Q=0;
Q<F;Q++){var o=z*(Q-H+.25),I=Math.floor(Math.sqrt(o*o+A)*(4e3/1.55));if(a<I)continue;else if(I<L){var c=4278190080;
while(Q<F){var y=e-1-Q;U[P+Q]=c;U[P+y]=c;U[Y+Q]=c;U[Y+y]=c;Q++}break}else{var i=z*(Q-H+.75),d=Math.floor(Math.sqrt(i*i+A)*(4e3/1.55)),V=Math.floor(Math.sqrt(o*o+T)*(4e3/1.55)),R=Math.floor(Math.sqrt(i*i+T)*(4e3/1.55)),c=~~(.5+255*.25*(m[I]+m[d]+m[V]+m[R]))<<24,y=e-1-Q;
U[P+Q]=c;U[P+y]=c;U[Y+Q]=c;U[Y+y]=c}}}}if(Z.Brsh.v.classID=="sampledBrush"){var G;for(var q=0;q<m.length;
q++)if(m[q].id==Z.Brsh.v.sampledData.v)G=m[q];B=G.Pg;var j=B[1];C=Math.max(j.e,j.n)/r;u=Math.min(j.e,j.n)/Math.max(j.e,j.n)}return{a1s:C,ahL:u,Pg:B}};
fK.dr=[];fK.Ro=function(Z){if(fK.dr[Z])return fK.dr[Z];var m=Math.pow(Z,.55),S=new Float64Array(8e3),B=0,C=8e3;
for(var q=0;q<8e3;q++){var u=fK.abG(q*(1.55/4e3),m);if(u>=1)B=q;else if(u<=0&&C==8e3)C=q;S[q]=u}var r=[S,B,C];
fK.dr[Z]=r;return r};fK.abG=function(Z,m){var S=Z<m?1:fK.ahA((Z-m)/Math.pow(1.001-m,.86));return S};
fK.ahA=function(Z){var m=Z*.85;return Math.exp(-(m*m)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
fK.O=null;fK.az=null;fK.bW=function(Z,m,S,B,C,u){var r=fK.O,k=fK.az;if(r==null){fK.O=r=document.createElement("canvas");
fK.az=k=r.getContext("2d")}if(u==null)u=B;if(r.width!=u||r.height!=C){r.width=u;r.height=C}else k.clearRect(0,0,u,C);
k.fillStyle="#000000";k.font=Math.floor(10*g.F())+"px sans-serif";var v=Z.Brsh.v.Dmtr.v.val,e=""+v,j=k.measureText(e);
k.fillText(e,(B-j.width)/2,C-2);var $=B,U=C-10*g.F(),H=Math.min($,U),z=Z.Brsh.v.classID;if(z=="computedBrush"){k.translate($/2,U/2);
k.rotate(-Z.Brsh.v.Angl.v.val*Math.PI/180);k.scale(1,.1+.9*Z.Brsh.v.Rndn.v.val/100);var f=Math.min(.95*H/2,v/2)+.5,D=.9*Z.Brsh.v.Hrdn.v.val/100,n=k.createRadialGradient(0,0,0,0,0,f);
n.addColorStop(D,"rgba(0,0,0,1)");n.addColorStop((.5+D)/1.5,"rgba(0,0,0,.5)");n.addColorStop(1,"rgba(0,0,0,0)");
k.fillStyle=n;k.fillRect(-f,-f,2*f,2*f);k.setTransform(1,0,0,1,0,0)}else if(z=="sampledBrush"){var L,P=0;
for(var q=0;q<m.length;q++)if(m[q].id==Z.Brsh.v.sampledData.v)L=m[q];var a=L.Pg;l.io(a);var F=a[0],A=a[1].e,T=a[1].n;
while((A>$||T>U)&&a[P+2]){P+=2;F=a[P];A=a[P+1].e;T=a[P+1].n}if(A*T!=0){var Y=new ImageData(new Uint8ClampedArray(F.buffer),A,T);
k.putImageData(Y,Math.round(($-A)/2),Math.round((U-T)/2))}}else{}return r.toDataURL()};fK.E$=function(Z,m,S,B){if(S==0)S=1;
var C=Z.Brsh.v,u=C.Dmtr.v.val,r=C.Dmtr.v.val=Math.min(B!=null?Math.round(B*2.6):3e3,u*S),k=C.Hrdn?C.Hrdn.v.val/100:1,v=B!=null?B:Math.round(r*(1+.55*(1-k)))+4,$;
v=Math.max(15,Math.min(v,3e3));var e=new bq(0,0,v,v),j=new fK(Z,m,null,{Qp:1},16711712,0,e);C.Dmtr.v.val=u;
j.moveTo(e.e/2,e.n/2);var U=j.yY(),H=j.Cp();if(e.Qu(H))$=U;else{$=l.U(e.Z()*4);l.pY(U,H,$,e)}return[$,e,r]};
fK.aqM=function(Z,m,S,B){var C=m.e,u=C>>>1;for(var q=0;q<4;q++){var r=6-q;Z[C*(u-r)+u-1]=B;Z[C*(u-r)+u]=S;
Z[C*(u-r)+u+1]=B;Z[C*(u+r)+u-1]=B;Z[C*(u+r)+u]=S;Z[C*(u+r)+u+1]=B;Z[C*(u-1)+u-r]=B;Z[C*u+u-r]=S;Z[C*(u+1)+u-r]=B;
Z[C*(u-1)+u+r]=B;Z[C*u+u+r]=S;Z[C*(u+1)+u+r]=B}};fK.kv=function(Z,m,S,B){var C=fK.E$(Z,m,S),u=C[0].slice(0),r=C[1],k=C[2],v=r.Z(),e=l.U(v);
l.NK(u,e,3);var j=l.U(v);l.$.a4R(e,j,r);if(k<3||l.em(j,0)||B&&k>12){fK.aqM(j,r,255,0)}var $=[3,5,3,4,8,4,3,5,3];
$=l.Jc.lz($);l.Jc.hc(j,e,r.e,r.n,$);l._z(u,4294967295);l.cN(e,u,3);for(var q=0;q<v;q++)if(j[q]==255){u[q<<2]=u[(q<<2)+1]=u[(q<<2)+2]=0;
u[(q<<2)+3]=255}return{dk:u,pe:r,n3:new aS(r.e/2,r.n/2)}};fK.AU="0";fK.Ax="1";fK.RE="2";fK.i3="3";var d7={};
d7.fs=function(Z,m){var S=Z.rn(),r=0,e;if(S.x==Infinity||S.Ov())return{MW:l.U(0),pe:new bq,sq:new bq};
var B=Z.rn(),C=d7.RD(Z,m),u=l.H.pa(C.t);for(var q=0;q<Z.n1.length;q++){var k=Z.n1[q].Ja;if(k.StrokeFlag&&k._LineWidth)r=Math.max(r,Math.ceil(k._LineWidth/2))}u.QW(r,r);
if(u.Ov())return{MW:l.U(0),pe:new bq,sq:new bq};var v=l.Df(u.e,u.n);v.translate(-u.x,-u.y);d7.afI(C,v);
if(Z.n1.length!=0){var j=e6.f9(m),$=v.getImageData(0,0,u.e,u.n);e=new Uint8Array($.data.buffer);if(j==0)for(var q=0;
q<e.length;q+=4)e[q+3]=e[q+3]>80?255:0;if(j==3)for(var q=0;q<e.length;q+=4)e[q+3]=Math.min(255,e[q+3]*1.5)}else e=l.U(u.Z()*4);
v.resetTransform();v.beginPath();return{MW:e,pe:u,sq:B}};d7.RD=function(Z,m){var S=m.A,B=m.e7,C=e6.f9(m),u=Math.max(S.S*S.S,S.mw*S.mw)<1e-9?S:null;
if(C==3||C==4)u=null;var r={C:[],t:[]};d7.abf(Z,r,u,!0);d7.abf(Z,r,u,!1);r=d7.fk(r,m,Z);return r};d7.fk=function(Z,m,S){if(Z==null)return Z;
if(S&&S.ih)l.H.A(Z.t,S.ih,Z.t);if(S&&!l.BF.xB(m.qO)){var B=e6.Cp(m,S);if(!B.Ov()){if(Z.C){Z=l.H.Kg(Z);
var C=Math.min(B.e,B.n)/8;if(C<1)C=1;Z=l.H.QL(Z,C)}var u=l.BF.f8(m.qO,B);l.oI.A(u,Z.t,B)}}var r=m.A;
l.H.A(Z.t,r,Z.t);return Z};d7.afI=function(Z,m){m.save();m.miterLimit=2;Typr.U.pathToContext({crds:Z.t,cmds:Z.C},m);
m.restore()};d7.w$=function(Z,m,S){if(!jN.arV(S))return;var B=Z.e7,C=B.ResourceDict.FontSet,u=B.ResourceDict.StyleSheetSet[0].StyleSheetData,r=B.EngineDict.StyleRun.RunLengthArray,k=B.EngineDict.StyleRun.RunArray,v=e6.xu(B),e=!0,j={},$=0;
for(var q=0;q<k.length;q++){var U=k[q].StyleSheet.StyleSheetData.Font;if(U==null)U=u.Font;for(var H=0;
H<r[q];H++){var z=v.charCodeAt($+H),D=U+","+(z>128?z:-1);if(j[D]==null){j[D]=1;if(m.TO(C[U].Name,z)==null)e=!1}}$+=r[q]}return e};
d7.abf=function(Z,m,S,B){var C=new ht;for(var q=0;q<Z.Q0.length;q++)d7.ac_(Z.n1,Z.Q0[q],m,C,S,B)};d7.ac_=function(Z,m,S,B,C,u){B.translate(m.mF.x,m.mF.y);
for(var q=0;q<m.BG.length;q++){var r={},k=m.BG[q];if(!k.ev)break;var v=B.clone();v.translate(k.mF.x,k.mF.y);
if(C){var e=C.ku+v.ku*C.uw;v.ku=(Math.round(e)-C.ku)/C.uw}for(var j=k.start;j<k.end;j++)d7.aaK(Z,m.ZH[j],m,r,S,v,u)}B.translate(-m.mF.x,-m.mF.y)};
d7.agj="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
d7.aaK=function(Z,m,S,B,C,u,r){u.translate(m.mF.x,m.mF.y);for(var k=m.ml;k<=m.kP;k++){var v=S.Fd[k],e=v.pe.e,j=Z[S.a4s+v.H4],$=j.Ja._FillBackgroundFlag;
if(j.hD=="\n"||r&&!$)continue;var U=j.Ja.FontSize/j.g9.head.unitsPerEm,H=u.clone();H.translate(v.mF.x+v.c6*U,v.mF.y-v.D8*U);
var z=new ht;z.scale(U,-U);if(j.Qi==1&&d7.agj.indexOf(j.hD)!=-1)z.concat(new ht(-1,0,0,1,e,0));if(j.Ja.FauxItalic)z.concat(new ht(1,0,-Math.tan(.18),1,0,0));
z.translate(0,j.NZ);z.scale(j.scale.x,j.scale.y);if(j.Ja.BaselineShift!=null)z.translate(0,-j.Ja.BaselineShift);
if(v.Zo!=0){z.rotate(-v.Zo)}z.concat(H);var f=j.Ja._LineWidth?j.Ja._LineWidth:1;if(r){C.C.push(d7.rk(j.Ja._FillBackgroundColor));
var D=1.005*v.pe.n/U,n=new bq(-v.c6,-D*.27,1.03*v.pe.e/U,D);if(j.Ja.StrokeFlag)n.QW(f/U,f/U);l.H.concat(C,l.H.ez(n),z);
C.C.push("X");continue}if(j.Ja.FillFlag)C.C.push(d7.rk(j.Ja.FillColor));if(j.Ja.StrokeFlag)C.C.push("O-"+d7.rk(j.Ja.StrokeColor)+"-"+f);
if(v.path.C.length!=0&&j.hD!="\t"){if(j.Ja.FauxBold){var L=j.Ja.FontSize/2048*27*j.scale.x;z.s9+=L;l.H.concat(C,v.path,z);
z.s9-=L+L;l.H.concat(C,v.path,z)}else l.H.concat(C,v.path,z)}if(j.hD!="\n"){if(j.Ja.Underline){if(B.UK==null)B.UK=j.g9.post.underlineThickness;
if(B.anX==null)B.anX=j.g9.post.underlinePosition;var a=0,F=B.anX-B.UK/2,A=v.PA*1.05,T=-B.UK;l.H.concat(C,{C:["M","L","L","L","Z"],t:[a,F,a+A,F,a+A,F+T,a,F+T]},z)}if(j.Ja.Strikethrough){var P=j.g9["OS/2"].yStrikeoutSize,Y=j.g9["OS/2"].yStrikeoutPosition,a=0,F=Y+P/2,A=v.PA*1.05,T=-P;
l.H.concat(C,{C:["M","L","L","L","Z"],t:[a,F,a+A,F,a+A,F+T,a,F+T]},z)}}if(j.Ja.FillFlag)C.C.push("X");
if(j.Ja.StrokeFlag)C.C.push("OX")}u.translate(-m.mF.x,-m.mF.y)};d7.rk=function(Z){var m=e6.gN(Z),S=(Math.round(m.I)<<16)+(Math.round(m.z)<<8)+Math.round(m.S);
return"#"+l.L5(S)};function jN(Z,m){var S=e6.w0(Z),B,C,u=e6.fG(Z),r=Z._LineOrientation==2?new ht:null,j,U;
if(Z.Curve)C=jN.i$(Z.Curve);if(S!=0){B=new bq(u[0],u[1],u[2],u[3]);if(r){var k=B.e;B.e=B.n;B.n=k;r.translate(0,-u[2])}if(S==2){B.e=C[5]-C[4];
B.n=9999}}this.Q0=[];this.n1=[];this.If=S;this.ih=r;var v=this.aa1=e6.xu(Z),e=-1,$=-1;for(var q=0;q<v.length;
q++){var H=j,z=e6.a2h(Z,q);if(z!=e){e=z;H=j=e6.aaM(Z,z)}var D=U,z=e6.ai0(Z,q);if(z!=$){$=z;D=U=e6.ap2(Z,z)}var n={hD:v.charAt(q),Ja:H,g9:null,cZ:-1,Yn:e6.a0H(Z,q),NZ:0,scale:new aS(0,0),gp:0,lineHeight:0,Qi:0},L=Z.ResourceDict.FontSet[H.Font].Name,a=n.g9=m.TO(L,v.charCodeAt(q));
n.scale.x=H.HorizontalScale==null?1:H.HorizontalScale;n.scale.y=H.VerticalScale==null?1:H.VerticalScale;
var F=a["OS/2"],A=a.hhea;if(H.FontCaps==1&&n.hD!=n.hD.toUpperCase()){var T=F.sxHeight?F.sxHeight/F.sTypoAscender:.76;
n.scale.x*=T;n.scale.y*=T}var P=1/a.head.unitsPerEm*H.FontSize;if(H.FontBaseline==1){var T=Z.ResourceDict.SuperscriptSize;
n.scale.x*=T;n.scale.y*=T;n.NZ-=Z.ResourceDict.SuperscriptPosition*H.FontSize}if(H.FontBaseline==2){var T=Z.ResourceDict.SubscriptSize;
n.scale.x*=T;n.scale.y*=T;n.NZ+=Z.ResourceDict.SubscriptPosition*H.FontSize}n.gp=jN.gp(a,L,H);var Y=D.AutoLeading;
n.lineHeight=H.FontSize*(Y==null?1.2:Y);if(H.AutoLeading==!1)n.lineHeight=H.Leading;if(n.lineHeight==0)n.lineHeight=.01;
this.n1.push(n)}var Q=this.Q0,o=[0];for(var q=0;q<Z.EngineDict.ParagraphRun.RunLengthArray.length;q++){var I=new jN.HU(Z,m,this.n1,q,B,o,S==1?C:null);
Q.push(I)}if(r){if(S==0)r.translate(0,Q[0].ZH[0].gp/2);r.rotate(-Math.PI/2)}if(S==2){var c=Z.Curve.Points,y=C[0],i=C[1],d=C[2],V=C[3],R=C[4],G=C[5];
for(var q=0;q<Q.length;q++)for(var M=0;M<Q[q].BG.length;M++)if(!(q==0&&M==0))Q[q].BG[M].ev=!1;var I=Q[0],O=I.BG[0];
I.mF.r8(0,0);O.mF.r8(0,0);for(var M=O.start;M<O.end;M++){var K=I.ZH[M],W=K.mF.x;K.mF.x=0;for(var t=K.ml;
t<=K.kP;t++){var X=I.Fd[t],h=X.pe.e/2;X.mF.x+=W;var b=jN.atA(y,(R+X.mF.x+h)%V);X.mF.x=b[0]-h*b[2];X.mF.y=b[1]-h*b[3];
X.Zo=Math.atan2(b[3],b[2])}}}}jN.gp=function(Z,m,S){var B=Z["OS/2"],C=Z.hhea,u=0,u=0,r=[];r.push(B&&B.sxHeight&&m.toLowerCase().indexOf("capitals")!=-1?B.sxHeight:0);
r.push(B&&B.sCapHeight?B.sCapHeight:0);r.push(B&&B.sTypoAscender?B.sTypoAscender:0);r.push(C.ascender?C.ascender:0);
for(var k=0;k<r.length;k++)if(r[k]!=0){u=r[k];break}var v=1/Z.head.unitsPerEm*S.FontSize;u=u*v;if(u<S.FontSize*.6)u=S.FontSize*.75;
return u};jN.prototype.a2p=function(){return!this.asW(0)};jN.prototype.afa=function(){return this.asW(1)};
jN.prototype.asW=function(Z){var m=this.Q0,S=!0,B=0;for(var q=0;q<m.length;q++){var C=m[q].BG,u=C.length;
B+=u;for(var r=0;r<u;r++)S&=C[r].ev}return[S,B][Z]};jN.i$=function(Z,m){if(m==null)m=.25;var S=Z.Points,B=S.length,C=B>>>3,u=Z.TextOnPathTRange,r=Z.Reversed,$=0,U=0;
if(r){var k=S.slice(0);for(var q=0;q<B;q+=2){k[q]=S[B-2-q];k[q+1]=S[B-1-q]}S=k;u=[C-u[1]%C,C-u[0]%C]}var v=[],e=[0],j=[0];
for(var q=0;q<B;q+=8){var H=S[q+6]-S[q+0],z=S[q+7]-S[q+1],f=Math.round(1/m*Math.sqrt(H*H+z*z));for(var D=0;
D<f;D++){var n=D/f,L=1-n,a=L*L*L*S[q+0]+3*L*L*n*S[q+2]+3*L*n*n*S[q+4]+n*n*n*S[q+6],F=L*L*L*S[q+1]+3*L*L*n*S[q+3]+3*L*n*n*S[q+5]+n*n*n*S[q+7];
v.push(a,F);if(q+D!=0){var H=a-$,z=F-U;j.push(j[j.length-1]+Math.sqrt(H*H+z*z));e.push((q>>>3)+n)}$=a;
U=F}}var m=j.length,A=j[m-1],T=jN.nV(u[0]%C,e),P=jN.nV(u[1]%C,e),Y=j[T%m],Q=j[P%m];if(Y>=Q)Q+=A;return[v,e,j,A,Y,Q]};
jN.nV=function(Z,m){var q=0;while(m[q]<Z)q++;return q};jN.atA=function(Z,m){var S=0,q=0,B,C,u;while(S<m){B=Z[q+2]-Z[q];
C=Z[q+3]-Z[q+1];u=Math.sqrt(B*B+C*C);S+=u;q+=2}return[Z[q],Z[q+1],B/u,C/u]};jN.prototype.aiu=function(Z){return this.n1[Z]};
jN.prototype.ahh=function(Z){for(var m=0;m<this.Q0.length;m++){var S=this.Q0[m];for(var B=0;B<S.BG.length;
B++){var C=S.BG[B],u=S.ZH[C.start].start,r=S.ZH[C.end-1].end;if(u<Z&&Z<r)return[u,r-1]}}return[0,1]};
jN.prototype.aqv=function(Z,m){var S=-1,B=this.Q0;if(this.If==2){var C=1e9,u=0,r=B[0],k=r.BG[0];for(var v=k.start;
v<k.end;v++){var e=r.ZH[v];for(var j=e.ml;j<=e.kP;j++){var $=r.Fd[j],U=$.pe.e,H=Z.x-$.mF.x,z=Z.y-$.mF.y,f=H*H+z*z;
if(f<C){C=f;u=$.H4}}}if(u!=0&&this.aa1.codePointAt(u-1)>65535)u--;return u}for(var D=0;D<B.length;D++){var r=B[D];
for(var n=0;n<r.BG.length;n++){S++;var k=r.BG[n],L=r.BG[n+1];if(L==null&&D<B.length-1)L=B[D+1].BG[0];
if(m!=null){if(S!=m)continue}else{if(L!=null&&r.mF.y+k.mF.y<Z.y)continue}for(var v=k.start;v<k.end;v++){var e=r.ZH[v];
for(var j=e.ml;j<=e.kP;j++){var $=r.Fd[j],U=$.pe.e,a=r.mF.x+k.mF.x+e.mF.x,F=a+$.mF.x,A=a+(j<e.kP?r.Fd[j+1].mF.x:$.mF.x+U);
if(Z.x<=A||v+1==k.end&&j==e.kP){var T=r.a4s+$.H4,P=this.n1[T],Y=P.Qi&1;if(P.hD!="\n"&&(Y==0&&Z.x>F+U/2||Y==1&&Z.x<F+U/2))T+=this.aa1.codePointAt(T)>65535?2:1;
return T}}}}}};jN.prototype.ok=function(Z){var m={pe:new bq,Xl:0},S=0;for(var B=0;B<this.Q0.length;B++){var C=this.Q0[B];
for(var u=0;u<C.BG.length;u++){var r=C.BG[u];m.Xl=S;S++;for(var k=r.start;k<r.end;k++){var v=C.ZH[k];
for(var e=v.start;e<v.end;e++){if(e==Z){var j=this.n1[e],$=j.cZ,U=C.Fd[$].H4,H=1;while(C.Fd[$]!=null&&C.Fd[$].H4==U){var z=C.Fd[$],f=C.mF.x+r.mF.x+v.mF.x+z.mF.x,D=C.mF.y+r.mF.y+v.mF.y+z.mF.y;
m.pe=m.pe.j3(new bq(f,D-j.lineHeight,z.pe.e,j.lineHeight));m.Zo=z.Zo;$+=H}return m}}}}}};jN.prototype.rn=function(){var Z=Infinity,m=Infinity,S=-Infinity,B=-Infinity;
for(var q=0;q<this.Q0.length;q++){var C=this.Q0[q];for(var u=0;u<C.BG.length;u++){var r=C.BG[u];if(!r.ev)break;
for(var k=r.start;k<r.end;k++){var v=C.ZH[k];for(var e=v.ml;e<=v.kP;e++){var j=C.Fd[e],$=j.pe,U=C.mF.x+r.mF.x+v.mF.x+j.mF.x,H=C.mF.y+r.mF.y+v.mF.y+j.mF.y;
Z=Math.min(Z,U+$.x);m=Math.min(m,H+$.y);S=Math.max(S,U+$.x+$.e);B=Math.max(B,H+$.y+$.n)}}}}return new bq(Z,m,S-Z,B-m)};
jN.go=function(Z){return 19968<=Z&&Z<=40959||12288<=Z&&Z<=12543};jN.aug=function(Z,m,S,B,C,u,r){var k=[u],v=0;
for(var q=u;q<r;q++){if(S[q]==null)console.log(q,u,r,S);var e=S[q].hD,j=e.charCodeAt(0);if(j==32||j==9){k.push(v,q,1,q+1);
v=0}else if(j==3851){k.push(v+1,q+1);v=0}else if(jN.go(j)){k.push(v,q);v=1}else if(q!=u&&S[q].Qi!=S[q-1].Qi){k.push(v,q);
v=1}else v++}k.push(v);var $=[];for(var q=0;q<k.length;q+=2){var U=k[q],H=k[q+1];if(H==0)continue;$.push(new jN.a9U(Z,m,S,B,C,U,H))}return $};
jN.aeR=function(Z,m,S,B,C,u,r){var k=[0,m?m.e:1e9],v=[];if(B){var e=Z[u].gp,j=C+(C==0?e:Z[u].lineHeight),$=j-e*.9,U=l.H.ek(B[0],$),H=U.length,z=l.H.ek(B[0],j),f=z.length;
if(H!=0&&f!=0){var D=0,n=0;k=[];while(D<H&&n<f){var L=Math.max(U[D],z[n]),a=U[D+1],F=z[n+1],A=Math.min(a,F);
if(L<A)k.push(L,A);if(a<F)D+=2;else n+=2}}}for(var T=0;T<k.length;T+=2){var P=k[T+1]-k[T],Y=0,Q=u,o=m?P-S.StartIndent-S.EndIndent-(u==0?S.FirstLineIndent:0):Infinity;
while(u!=Z.length){var I=Z[u],c=Y==0||(I.eS||I.K$)||Y+I.pe.e<o;if(!c)break;Y+=I.pe.e;u++}v.push(u-Q)}r[0]=v;
r[1]=k;r[2]=u};jN.a57=function(Z,m){var S=Z.length,B=new Uint32Array(S),C=new Uint8Array(S),u=0;for(var q=0;
q<S;q++){C[q]=0;var r=Z.charCodeAt(q);B[q]=r;if(r>u)u=r}if(u>1424)C=jN.a5a(B,m);return C};jN.amS=function(Z){return Z=="\xDF"?Z:Z.toUpperCase()};
jN.HU=function(Z,m,S,B,C,u,r){this.ZH=[];this.BG=[];this.mF=new aS(0,0);this.Fd=null;this.ZH=null;this.Ja=e6.ap2(Z,B);
var k=this.Ja,$=0,z="",F=0,A=1,X=0;if(B!=0){var v=k.SpaceBefore;if(v!=null)u[0]+=v}var e=Z.EngineDict.ParagraphRun.RunLengthArray,j=e[B];
for(var q=0;q<B;q++)$+=e[q];var U=k._Direction?k._Direction:0;this.a4s=$;var H=e6.xu(Z).slice($,$+j);
for(var D=0;D<H.length;D++){var n=H.charAt(D);z+=S[$+D].Ja.FontCaps==0?n:jN.amS(n)}H=z;var L=jN.a57(H,U),a=[],T=L[q]&1,P=S[$].g9;
S[$].Qi=L[0];for(var q=1;q<H.length;q++){var n=S[$+q],Y=L[q];n.Qi=Y;if(Y!=T||n.g9!=P){a.push(F,A);F=q;
A=1;T=Y;P=n.g9}else A++}a.push(F,A);var Q=this.Fd=[];for(var q=0;q<a.length;q+=2){var o=a[q],I=a[q+1],c=(S[$+o].Qi&1)==0,y=H.slice(o,o+I),i=Typr.U.shapeHB(S[$+o].g9,y,c),d=[],G=0;
for(var D=0;D<i.length;D++){var V=i[D];d.push({z:V.g,H4:V.cl,PA:V.ax,ec:V.ay,c6:V.dx,D8:V.dy})}i=d;var R=i.slice(0);
if(!c)R.reverse();for(var D=0;D<y.length;D++){while(G+1<R.length&&R[G+1].H4<=D){G++}while(G>0&&R[G-1].H4==D)G--;
S[$+o+D].cZ=Q.length+(c?G:R.length-G-1)}for(var D=0;D<i.length;D++){Q.push(i[D]);i[D].H4+=o;var n=S[$+i[D].H4];
if(n.Yn!=-1){i[D].z=n.Yn;var M=n.g9.hmtx;if(M){var O=Object.keys(M)[0];i[D].PA=M[O][n.Yn]}}if(n.hD=="\n")i[D].PA=0;
if(n.hD=="\t")i[D].PA=n.g9.head.unitsPerEm*36/n.Ja.FontSize}}var K=e6.ue(k),W=this.ZH=jN.aug(Z,m,S,$,Q,$,$+j),t=this.BG,h=-1,z=[null,null,0];
while(X<W.length){jN.aeR(W,C,k,r,u[0],X,z);h++;var b={start:X,end:0,pe:new bq,mF:new aS(0,0),ev:!0},jl=0,e0=0;
t.push(b);b.end=z[2];var E=b.end==W.length;function f0(R,o,ab){var c3=ab-o>>>1;for(var q=0;q<c3;q++){var gr=R[o+q];
R[o+q]=R[ab-1-q];R[ab-1-q]=gr}}for(var ay=1;ay<5;ay++){var p=-1;for(var q=b.start;q<b.end;q++){var Y=S[W[q].start].Qi;
if(p==-1&&Y>=ay)p=q;else if(p!=-1&&Y<ay){f0(W,p,q);p=-1}}var eo=b.end;if(U==0&&W[eo-1].eS)eo--;if(p!=-1)f0(W,p,eo)}var co=z[0],c5=z[1],p=X,he=X;
for(var hU=0;hU<co.length;hU++){var aB=c5[hU*2+1]-c5[hU*2],ep=0;p=he;he+=co[hU];var aO=this.aat(p,he,W,U,C!=null);
if(C){if(K==1||E&&K==4)ep=aO[1]+(aB-aO[0]);if(K==2||E&&K==5)ep=aO[1]+(aB-aO[0])/2;if(h==0)ep+=k.FirstLineIndent;
ep+=k.StartIndent}else{if(K==0)ep=k.StartIndent+k.FirstLineIndent;if(K==1)ep=-aO[0]-k.EndIndent;if(K==2)ep=-aO[0]/2}ep+=c5[hU*2];
if(C&&K>2&&(K==6||!E))this.a8_(p,he,W,aB,U,ep);else{var f$=ep;for(var q=p;q<he;q++){var fo=W[q],bb=fo.pe.e;
fo.mF.x=f$;if(fo.q3=="\t")bb=Math.ceil((f$+4)/36)*36-f$;f$+=bb}}}X=b.end;for(var q=b.start;q<b.end;q++){var gI=W[q].pe.clone();
gI.Vn(W[q].mF);b.pe=b.pe.j3(gI);jl=Math.max(jl,W[q].gp);e0=Math.max(e0,W[q].lineHeight)}b.mF.y=h==0?0:t[h-1].mF.y+e0;
if(h==0){if(B==0&&C)u[0]+=jl;if(B!=0)u[0]+=e0;this.mF.y=u[0]}else u[0]+=e0;if(C)b.ev=this.mF.y+b.mF.y<C.y+C.n}var d4=k.SpaceAfter;
if(d4!=null)u[0]+=d4};jN.HU.prototype.aat=function(Z,m,S,B,C){var u=0,r=0;for(var q=Z;q<m;q++)u+=S[q].pe.e;
if(C){if(B==0)for(var q=m-1;q>=Z;q--)if(S[q].eS||S[q].K$)u-=S[q].pe.e;else break;if(B==1)for(var q=Z;
q<m;q++)if(S[q].eS||S[q].K$){var k=S[q].pe.e;u-=k;r-=k}else break}return[u,r]};jN.HU.prototype.a8_=function(Z,m,S,B,C,u){var r=0,k=0,v=0,e=0;
for(var q=Z;q<m;q++)if(S[q].eS)v++;else{r+=S[q].pe.e;k++}if(C==0)for(var q=m-1;q>=Z;q--)if(S[q].eS||S[q].K$){if(S[q].eS){v--}}else break;
if(C==1)for(var q=Z;q<m;q++)if(S[q].eS||S[q].K$){if(S[q].eS){v--;e++}}else break;if(k<=1||v==0){if(k==1)S[Z].mF.x=u;
return}var j=(B-r)/v,$=-e*j;for(var q=Z;q<m;q++){if(S[q].eS)this.Fd[S[q].ml].pe.e=S[q].pe.e=j;S[q].mF.x=u+$;
$+=S[q].pe.e}};jN.a9U=function(Z,m,S,B,C,u,r){this.q3="";for(var q=0;q<r;q++)this.q3+=S[u+q].hD;this.eS=r==1&&(S[u].hD==" "||S[u].hD=="\t");
this.K$=r==1&&S[u].hD=="\n";this.start=u;this.end=u+r;this.pe=new bq;this.mF=new aS(0,0);this.gp=0;this.lineHeight=0;
var k=0,v=0;if(r==0){this.lineHeight=S[u].lineHeight;this.gp=S[u].gp;this.pe=new bq(0,-S[u].lineHeight,0,S[u].lineHeight)}var e=S[u].cZ,j=S[u+r-1].cZ;
if(j<e){var $=e;e=j;j=$}while(j+1<C.length&&C[j].H4==C[j+1].H4){j++}this.ml=e;this.kP=j;for(var U=e;
U<=j;U++){var H=C[U],z=S[B+H.H4],D=Z._LineOrientation==2&&(z.Ja.BaselineDirection!=2||jN.go(z.hD.charCodeAt(0))),n=Typr.U.glyphToPath(z.g9,H.z),T=0;
H.path={C:n.cmds,t:n.crds};var L=z.Ja.FontSize,a=1/z.g9.head.unitsPerEm*L;if(!z.Ja.AutoKerning)k+=z.Ja.Kerning*2*a*z.scale.x;
H.mF=new aS(k,0);H.Zo=0;if(D&&H.path.t.length>0){H.Zo=-Math.PI/2;H.mF.x+=L*.83;H.mF.y=-L*.3+H.PA*a/2;
H.PA=L/a}var F=H.PA*a*z.scale.x;H.pe=new bq(0,-z.lineHeight,F,z.lineHeight);var A=H.pe.clone();A.Vn(H.mF);
if(z.Ja.Tracking!=null)T=z.Ja.Tracking*.001*L;if(z.Ja.FauxBold==!0)T+=.027*L;k+=F+T;if(r==1&&z.hD==" ")A.e+=2*T;
else if(r==1&&z.hD!=null&&jN.go(z.hD.charCodeAt(0)))A.e+=T;this.pe=this.pe.j3(A);this.gp=Math.max(this.gp,z.gp);
this.lineHeight=Math.max(this.lineHeight,z.lineHeight)}};jN.it=0;jN.arV=function(Z){if(jN.it==2)return!0;
if(jN.it==1)return!1;jN.it=1;function m(){fetch("code/ext/fribidi.wasm").then(function(S){return S.arrayBuffer()}).then(function(S){return WebAssembly.instantiate(S)}).then(function(S){var B=S.instance.exports,C=B.memory,u=16,r=256,k=1,v=u|r,e=u|r|k;
jN.a5a=function($,U){var H=$.length,z=H*4+4+H*4+H*4+H;e2.cW(B,z+H+1e7);var f=new Uint8Array(C.buffer),D=new Uint32Array(C.buffer),n=B.calloc(z,1),L=n+H*4,a=L+4,F=a+H*4,A=F+H*4;
D.set($,n>>>2);D[L>>>2]=U==0?v:e;B.fribidi_get_bidi_types(n,H,a);B.fribidi_get_bracket_types(n,H,a,F);
B.fribidi_get_par_embedding_levels_ex(a,F,H,L,A);var T=f.slice(A,A+H);B.free(n);return T};jN.it=2;var j=new eY(_.E.W,!0);
j.data={d:_.B.L8,Wq:"add",Lh:bo.Hw,ub:null};Z.c(j)})}Typr.U.initHB("code/ext/hb.wasm",m);return!1};function e6(){}e6.Vb=function(Z){return JSON.parse(JSON.stringify(Z))};
e6.$i=function(Z,m){for(var S in m)Z[S]=m[S]};e6.WL=function(Z,m,S){var B=e6.a0B();if(S)e6.rj(B,0,0,S);
var C={A:new ht(1,0,0,1,Math.round(Z),Math.round(m)),e7:B};C.bw=e6.auP();C.qO=l.BF.U();C.sq=new bq;return C};
e6.aoj=function(Z){var m=["CharacterDirection",0];for(var q=0;q<m.length;q+=2){if(Z[m[q]]!=null&&Z[m[q]]!=m[q+1]){throw"e";
console.log(m[q],Z[m[q]])}}if(Z instanceof Array)for(var q=0;q<Z.length;q++)e6.aoj(Z[q]);else if(Z instanceof Object)for(var S in Z)e6.aoj(Z[S])};
e6.ue=function(Z,m){if(m==null)m=Z.Justification;var S=Z._Direction?Z._Direction:0;if(S==1){if(m==0||m==3)m++;
else if(m==1||m==4)m--}return m};e6.Rz=function(Z){if(Z.add==null)return;var m=Z.e7,S=m.Curve,B=Z.add.vmsk,C=B.u,u=l.H.Rl(C,!0).t,r=Z.A.clone();
r.Yy();l.H.A(u,r,u);var k=u.slice(0,8);for(var v=8;v<u.length;v+=6)k.push(u[v-2],u[v-1],u[v],u[v+1],u[v+2],u[v+3],u[v+4],u[v+5]);
S.Points=k;S.TextOnPathTRange=B.Bp.slice(0);S.Reversed=B.DK;if(e6.w0(m)==1){var S=jN.i$(m.Curve),e=l.H.su(S[0]);
e6.Y8(m,[0,0,e.e,e.n].map(Math.round));for(var q=0;q<k.length;q+=2){k[q]-=e.x;k[q+1]-=e.y}var j=new ht(1,0,0,1,e.x,e.y);
j.concat(Z.A);Z.A=j}};e6.jN=function(Z){if(Z.add==null)return;var m=Z.add.vmsk,S=Z.e7.Curve,B=S.Points,C={C:["M"],t:[B[0],B[1]]};
for(var q=0;q<B.length;q+=8){C.C.push("C");C.t.push(B[q+2],B[q+3],B[q+4],B[q+5],B[q+6],B[q+7])}l.H.A(C.t,Z.A,C.t);
var u=l.H.Ah(C,!0);m.u=u;m.DK=S.Reversed;m.Bp=S.TextOnPathTRange.slice(0);Z.add.vogk=w.VZ(u)};e6.gN=function(Z){var m={I:0,z:0,S:0};
if(Z){var S=Z.Values;if(Z.Type==1)m={I:S[1]*255,z:S[2]*255,S:S[3]*255};else if(Z.Type==2){var B={classID:"CMYC",Cyn:{t:"doub",v:S[1]*100},Mgnt:{t:"doub",v:S[2]*100},Ylw:{t:"doub",v:S[3]*100},Blck:{t:"doub",v:S[4]*100}};
m=l.X.gN(B)}else console.log("Unknown color type")}return m};e6.aaj=function(Z){for(var q=0;q<Z.length;
q++){var m=Z[q].StyleSheet.StyleSheetData,S=m.FillColor;if(S&&S.Type==2){var B=e6.gN(S);S.Type=1;S.Values=[1,B.I/255,B.z/255,B.S/255]}}};
e6.Cp=function(Z,m){var S;if(e6.w0(Z.e7)==1){var B=e6.fG(Z.e7);S=new bq(0,0,B[2]-B[0],B[3]-B[1])}else{S=m.rn();
if(m.ih){var C=m.ih.clone(),u=l.H.ez(S);l.H.A(u.t,C,u.t);S=l.H.su(u.t)}}return S};e6.n_=function(Z){var m=Z[0];
for(var q=0;q<Z.length;q++)m=e6.a49(m,Z[q]);return m};e6.a49=function(Z,m){var S={};for(var B in Z)if(JSON.stringify(Z[B])==JSON.stringify(m[B]))S[B]=Z[B];
return S};e6.VR=function(Z,m){var S=Z.wb,B=-1;for(var q=0;q<S.length;q++)if(S[q].Name==m)B=q;if(B==-1){B=S.length;
S.push({FontType:1,Name:m,Script:0,Synthetic:0})}Z.n1.Font=B};e6.xu=function(Z){return Z.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
e6.KN=function(Z,m){Z.EngineDict.Editor.Text=m.replace(/\n/g,"\r")};e6.w0=function(Z){return Z.Curve&&Z.Curve.TextOnPathTRange[0]>=0?2:Z.EngineDict.Rendered.Shapes.Children[0].ShapeType};
e6.xx=function(Z,m){var S=Z.EngineDict.Rendered.Shapes.Children[0];S.ShapeType=m;var B=S.Cookie.Photoshop;
B.ShapeType=m;B.Base.ShapeType=m;if(m==0){delete B.BoxBounds;B.PointBase=[0,0]}if(m==1){delete B.PointBase;
B.BoxBounds=[0,0,1,1]}};e6.fG=function(Z){return Z.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
e6.Y8=function(Z,m){Z.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=m};e6.a0H=function(Z,m){var S=Z.EngineDict.AlternateGlyphRun;
if(S==null)return-1;var B=e6.Pw(S.RunLengthArray,m)._Z,C=S.RunArray[B].Glyph;return C==null?-1:C};e6.apD=function(Z,m,S){var B=Z.EngineDict.AlternateGlyphRun;
if(B==null){B=Z.EngineDict.AlternateGlyphRun=e6.at2();B.RunArray.push({});B.RunLengthArray.push(e6.xu(Z).length)}var C=e6.Pw(B.RunLengthArray,m),u=C._Z,r=m-C.Ou,k=B.RunArray[u],v=JSON.stringify(k),e=B.RunLengthArray[u];
if(r!=0){B.RunArray.splice(u,0,JSON.parse(v));B.RunLengthArray.splice(u,0,r);B.RunLengthArray[u+1]-=r;
u++;e-=r;r=0}if(e!=1){B.RunArray.splice(u+1,0,JSON.parse(v));B.RunLengthArray.splice(u+1,0,e-1);B.RunLengthArray[u]=1;
e=1}k.Glyph=S};e6.a2h=function(Z,m){var S=Z.EngineDict.StyleRun.RunLengthArray;return e6.Pw(S,m)._Z};
e6.aaM=function(Z,m){var S=Z.ResourceDict.StyleSheetSet[0].StyleSheetData,B={};for(var C in S)B[C]=S[C];
var u=Z.EngineDict.StyleRun.RunArray[m].StyleSheet.StyleSheetData;e6.$i(B,u);return B};e6.ai0=function(Z,m){var S=Z.EngineDict.ParagraphRun.RunLengthArray;
return e6.Pw(S,m)._Z};e6.ap2=function(Z,m){var S=Z.ResourceDict.ParagraphSheetSet[0].Properties,B={};
for(var C in S)B[C]=S[C];var u=Z.EngineDict.ParagraphRun.RunArray[m].ParagraphSheet.Properties;e6.$i(B,u);
var r=["StartIndent","EndIndent","FirstLineIndent"];for(var q=0;q<3;q++)if(B[r[q]]==null)B[r[q]]=0;return B};
e6.Hd=function(Z,m,S){if(S=="")return;var B=e6.xu(Z);e6.KN(Z,B.substring(0,m)+S+B.substring(m,B.length));
var C=Z.EngineDict.StyleRun,u=C.RunLengthArray,r=e6.Pw(u,m-1);u[r._Z]+=S.length;var k=Z.EngineDict.AlternateGlyphRun;
if(k){var u=k.RunLengthArray,r=e6.Pw(u,m-1);u[r._Z]+=S.length}var v=Z.EngineDict.ParagraphRun,u=v.RunLengthArray,e=e6.Pw(u,m),j=S.split("\n");
if(j.length==1){u[e._Z]+=S.length;return}u.splice(e._Z+1,0,u[e._Z]-(m-e.Ou));v.RunArray.splice(e._Z+1,0,e6.Vb(v.RunArray[e._Z]));
u[e._Z]-=u[e._Z+1];u[e._Z]+=j[0].length+1;for(var q=1;q<j.length-1;q++){v.RunArray.splice(e._Z+q,0,e6.Vb(v.RunArray[e._Z+q-1]));
v.RunLengthArray.splice(e._Z+q,0,j[q].length+1)}u[e._Z+j.length-1]+=j[j.length-1].length};e6.$R=function(Z,m,S){var B=e6.xu(Z);
e6.KN(Z,B.substring(0,m)+B.substring(S,B.length));e6.TT(Z.EngineDict.ParagraphRun,m,S,!0);e6.TT(Z.EngineDict.StyleRun,m,S,!1);
var C=Z.EngineDict.AlternateGlyphRun;if(C)e6.TT(C,m,S,!1)};e6.TT=function(Z,m,S,B){var C=Z.RunLengthArray,u=e6.Pw(C,m),r=e6.Pw(C,S),k=[];
for(var q=0;q<C.length;q++)for(var v=0;v<C[q];v++)k.push(q);k.splice(m,S-m);var e=[];for(var q=0;q<C.length;
q++)e.push(0);for(var q=0;q<k.length;q++)e[k[q]]++;for(var q=0;q<C.length;q++){if(e[q]==0){e.splice(q,1);
C.splice(q,1);Z.RunArray.splice(q,1);q--}else if(e[q]<C[q])C[q]=e[q]}if(B&&u._Z!=r._Z&&u.Ou!=m){C[u._Z]+=C[u._Z+1];
C.splice(u._Z+1,1);Z.RunArray.splice(u._Z+1,1)}};e6.rj=function(Z,m,S,B){var C=Z.EngineDict.Editor.Text.length;
if(S==C-2)S++;if(B.n1.Font!=null)Z.ResourceDict.FontSet=B.wb.slice(0);if(m<=S)e6.a8F(Z.EngineDict.StyleRun,B.n1,m,S,!0);
e6.a8F(Z.EngineDict.ParagraphRun,B.Q0,m,S,!1)};e6.yH=function(Z,m,S){var B={wb:Z.ResourceDict.FontSet.slice(0),n1:[],Q0:[]},C=Z.EngineDict.StyleRun.RunLengthArray,u=e6.Pw(C,m)._Z,r=e6.Pw(C,S)._Z;
for(var q=u;q<=r;q++){var k=e6.Vb(Z.ResourceDict.StyleSheetSet[0].StyleSheetData),v=Z.EngineDict.StyleRun.RunArray;
if(v.length==0)continue;var e=v[q].StyleSheet.StyleSheetData;e6.$i(k,e);B.n1.push(k)}var j=Z.EngineDict.ParagraphRun.RunLengthArray,$=e6.Pw(j,m)._Z,U=e6.Pw(j,S)._Z;
for(var q=$;q<=U;q++){var H=Z.EngineDict.ParagraphRun.RunArray;if(H.length==0)continue;B.Q0.push(e6.Vb(H[q].ParagraphSheet.Properties))}B.n1=B.n1.length==0?{}:e6.n_(B.n1);
B.Q0=B.Q0.length==0?{}:e6.n_(B.Q0);return B};e6.a8F=function(Z,m,S,B,C){var u=Z.RunLengthArray;if(C){var r=e6.Pw(u,S);
if(r.Ou!=S){var k=u[r._Z];u.splice(r._Z,0,S-r.Ou);u[r._Z+1]=k-u[r._Z];Z.RunArray.splice(r._Z+1,0,e6.Vb(Z.RunArray[r._Z]))}var v=e6.Pw(u,B);
if(v.Ou+u[v._Z]-1!=B){var k=u[v._Z];u.splice(v._Z,0,B-v.Ou+1);u[v._Z+1]=k-u[v._Z];Z.RunArray.splice(v._Z+1,0,e6.Vb(Z.RunArray[v._Z]))}}var r=e6.Pw(u,S),v=e6.Pw(u,B);
if(C)for(var q=r._Z;q<=v._Z;q++)e6.$i(Z.RunArray[q].StyleSheet.StyleSheetData,m);else for(var q=r._Z;
q<=v._Z;q++)e6.$i(Z.RunArray[q].ParagraphSheet.Properties,m)};e6.anh=function(Z,m,S){var B=Z.EngineDict.StyleRun.RunLengthArray,C=[],u=0;
for(var q=0;q<B.length;q++){var r=B[q];for(var k=0;k<r;k++)if(m<=u+k&&u+k<S)C.push(q);u+=r}var v=C[0],e=[];
for(var q=0;q<C.length;q++){var j=C[q]-v;if(j==e.length)e.push(0);e[j]++}return e};e6.ars=function(Z){var m=Z.EngineDict.StyleRun,S=m.RunArray,B=m.RunLengthArray;
for(var q=0;q<B.length-1;q++){var C=S[q].StyleSheet.StyleSheetData,u=S[q+1].StyleSheet.StyleSheetData;
if(JSON.stringify(C)==JSON.stringify(u)){S.splice(q+1,1);B[q]+=B[q+1];B.splice(q+1,1);q--}}};e6.f9=function(Z){var m=Z.bw.AntA.v.Annt;
m=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(m);if(m==-1)m=1;return m};e6.tg=function(Z,m){Z.bw.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][m]};
e6.lc=function(Z,m){var S,B;S=["FontSize","Leading","BaselineShift"];B=Z.n1;for(var q=0;q<S.length;q++)if(B[S[q]]!=null)B[S[q]]*=m;
S=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];B=Z.Q0;for(var q=0;q<S.length;
q++)if(B[S[q]]!=null)B[S[q]]*=m};e6.akT=function(){return e6.yH(e6.atb,0,0)};e6.auP=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
e6.Pw=function(Z,m){var S=0,q=0;while(S+Z[q]<=m){S+=Z[q];q++}return{_Z:q,Ou:S}};e6.a0B=function(){var Z=e6.Vb(this.atb);
return Z};e6.ajV={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
e6.ae5={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
e6.at2=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};e6.atb={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(e6.ajV))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(e6.ajV))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(e6.ae5))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var gv={};gv.asf=function(Z){var m=gv.a7e(Z._0,Z._1);gv.a0k(m,Z._0);return m};gv.a0J=function(Z,m,S){var B={};
B._98={_0:"i7"};B._0=gv.a4t(Z,m,S?S._0:null);B._1=gv.ao4(Z,m,B._0,S?S._1:null);return B};gv.a4t=function(Z,m,S){var B={};
B._1=gv.abP(Z,S?S._1:null);B._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};B._3=JSON.parse(JSON.stringify(gv.aab));
B._4=JSON.parse(JSON.stringify(gv.and));B._5=gv.aht(Z,B._1._0,S?S._5:null);B._6=gv.a4u(Z,S?S._6:null);
B._8=gv.aiL(Z,m,S?S._8:null);B._9=gv.a2F;return B};gv.a0k=function(Z,m){gv.ahl(Z,m._5,m._1._0)};gv.abP=function(Z,m){var S=[],B=[];
for(var q=0;q<Z.length;q++){var C=Z[q].ResourceDict.FontSet;for(var u=0;u<C.length;u++){var r=C[u];if(B.indexOf(r.Name)!=-1)continue;
S.push(r);B.push(r.Name)}}var k={_0:[]};for(var q=0;q<S.length;q++){var v=S[q],e={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+v.Name,_1:"i"+v.Script,_2:"i"+v.FontType}}};
if(v.Script==0)delete e._0._0._1;k._0.push(e)}return k};gv.aht=function(Z,m,S){var B={_0:[],_1:[]},C={_0:JSON.parse(JSON.stringify(gv.akg))};
gv.abS(C._0,Z[0].ResourceDict.StyleSheetSet[0],m,Z[0].ResourceDict.FontSet);B._0.push(C);B._1.push({_0:"i0"});
B._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});B._1.push({_0:"i1"});return B};gv.ahl=function(Z,m,S){var B=m._0[0];
for(var q=0;q<Z.length;q++)gv.a8m(B._0,Z[q].ResourceDict.StyleSheetSet[0],S,Z[q].ResourceDict.FontSet)};
gv.a4u=function(Z,m){var S={_0:[],_1:[]},B={_0:JSON.parse(JSON.stringify(gv.DU))};gv.s7(B._0,Z[0].ResourceDict.ParagraphSheetSet[0]);
S._0.push(B);S._1.push({_0:"i0"});B={_0:JSON.parse(JSON.stringify(gv.DU))};gv.s7(B._0,Z[0].ResourceDict.ParagraphSheetSet[0]);
B._0._0="sBasic Paragraph";B._0._6="i0";S._0.push(B);S._1.push({_0:"i1"});return S};gv.aiL=function(Z,m,S){var B={_0:[]};
for(var q=0;q<Z.length;q++){var C=Z[q].Curve,u={};B._0.push({_0:u});var r=e6.w0(Z[q]);u._2={};u._2._0="i"+r;
if(Z[q]._LineOrientation==2)u._2._1="i2";if(r==0){u._2._6=["f-1","f-1"];u._2._11={_4:"i-1",_7:!1}}else if(r==1&&C==null){var k=e6.fG(Z[q]),v=k[2],e=k[3];
u._1={_0:gv.be("f",[0,0,0,0,v,0,v,0,v,0,v,0,v,e,v,e,v,e,v,e,0,e,0,e,0,e,0,e,0,0,0,0])};u._2._6=["f-2","f-2"];
u._2._11={_4:"i-2",_7:!1}}else if(r==1){var k=e6.fG(Z[q]),v=k[2],e=k[3];u._1={_0:gv.be("f",C.Points)};
u._2._6=["f-3","f-3"];u._2._11={_4:"i-3",_7:!1}}else if(r==2){u._1={_0:gv.be("f",C.Points)};u._2._6=gv.be("f",C.TextOnPathTRange);
u._2._11={_0:C.Reversed,_3:"i0",_5:"f0",_7:!1}}}return B};gv.ao4=function(Z,m,S,B){var C={};C._0=JSON.parse(JSON.stringify(gv.aiO));
C._1=gv.aak(Z,m,S,B?B._1:null);C._2=JSON.parse(JSON.stringify(gv.akg._6));C._3=JSON.parse(JSON.stringify(gv.DU._5));
return C};gv.a7e=function(Z,m){return gv.a9B(Z,m._1)};gv.aak=function(Z,m,S,B){var C=[],u=S._1._0;for(var q=0;
q<Z.length;q++){var r=Z[q],k={_0:{}};C.push(k);k._0._0="s"+r.EngineDict.Editor.Text;k._0._0=k._0._0;
var v=k._0._5={_0:[]},e=r.EngineDict.ParagraphRun;for(var j=0;j<e.RunArray.length;j++){var $={_0:{}};
v._0.push($);$._0._0={_0:"s",_5:{},_6:"i1"};gv.s7($._0._0,e.RunArray[j].ParagraphSheet);$._1="i"+e.RunLengthArray[j]}var U=k._0._6={_0:[]};
e=r.EngineDict.StyleRun;for(var j=0;j<e.RunArray.length;j++){var H={_0:{}};U._0.push(H);H._0._0={_0:"s",_5:"i1",_6:{}};
gv.abS(H._0._0,e.RunArray[j].StyleSheet,u,r.ResourceDict.FontSet);H._1="i"+e.RunLengthArray[j]}e=r.EngineDict.AlternateGlyphRun;
if(e){var z=k._0._9={_0:[]};for(var j=0;j<e.RunArray.length;j++){var D={_0:{}};z._0.push(D);var n=e.RunArray[j];
if(n.Glyph!=null){D._0._0={_0:"i"+n.Glyph,_1:"e"}}D._1="i"+e.RunLengthArray[j]}}k._0._10={_0:"i4",_2:!0};
k._1=gv.view.a4V(r,null,q,null)}return C};gv.a9B=function(Z,m){var S=[],B=Z._1._0;for(var q=0;q<m.length;
q++){var C=e6.a0B();S.push(C);var u=m[q];C.EngineDict.Editor.Text=u._0._0.slice(1);var r=C.EngineDict.ParagraphRun.RunArray[0],k=C.EngineDict.ParagraphRun,v=u._0._5;
if(v)for(var e=0;e<v._0.length;e++){var j=v._0[e];k.RunLengthArray[e]=parseInt(j._1.slice(1));k.RunArray[e]=JSON.parse(JSON.stringify(r));
gv.a9Y(j._0._0,k.RunArray[e].ParagraphSheet)}else{k.RunLengthArray[0]=e6.xu(C).length}var $=u._0._6;
k=C.EngineDict.StyleRun;if($)for(var e=0;e<$._0.length;e++){var U=$._0[e];k.RunLengthArray[e]=parseInt(U._1.slice(1));
k.RunArray[e]={StyleSheet:{StyleSheetData:{}}};gv.a8m(U._0._0,k.RunArray[e].StyleSheet,B,C.ResourceDict.FontSet)}else{k.RunLengthArray[0]=e6.xu(C).length;
k.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return S};gv.abS=function(Z,m,S,B,C){Z._0="s"+(m.Name?m.Name:"");
var u=Z._6,r=C?C._6:null,k=m.StyleSheetData;if(k.Font==null)return;var v=B[k.Font].Name,e=-1;for(var q=0;
q<S.length;q++)if("s"+v==S[q]._0._0._0){e=q;break}u._0="i"+e;if(k.FontSize!=null)u._1="f"+k.FontSize;
if(k.FauxBold!=null)u._2=k.FauxBold;if(k.FauxItalic!=null)u._3=k.FauxItalic;if(k.AutoLeading!=null)u._4=k.AutoLeading;
if(k.Leading!=null)u._5="f"+k.Leading;if(k.HorizontalScale!=null)u._6="f"+k.HorizontalScale;if(k.VerticalScale!=null)u._7="f"+k.VerticalScale;
if(k.Tracking!=null)u._8="i"+k.Tracking;if(k.BaselineShift!=null)u._9="f"+k.BaselineShift;if(k.AutoKerning!=null)u._11="i"+(k.AutoKerning?1:0);
if(k.FontCaps!=null)u._12="i"+k.FontCaps;if(k.FontBaseline!=null)u._13="i"+k.FontBaseline;if(k.Strikethrough!=null)u._15="i"+(k.Strikethrough?1:0);
if(k.Underline!=null)u._16="i"+(k.Underline?2:0);if(k.Ligatures!=null)u._18=k.Ligatures;if(k.DLigatures!=null)u._19=k.DLigatures;
if(k.BaselineDirection!=null)u._35="i"+k.BaselineDirection;if(k.Language!=null)u._38="i"+k.Language;
if(k.FillColor!=null)u._53=gv.rk(k.FillColor);if(k.StrokeColor!=null)u._54=gv.rk(k.StrokeColor);if(k.FillFlag!=null)u._56=k.FillFlag;
if(k.StrokeFlag!=null)u._57=k.StrokeFlag;if(k._LineWidth!=null)u._63="f"+k._LineWidth;if(k._FillBackgroundColor!=null)u._79=gv.rk(k._FillBackgroundColor);
if(k._FillBackgroundFlag!=null)u._80=k._FillBackgroundFlag};gv.rk=function(Z){return{_99:"/SimplePaint",_0:{_0:"i1",_1:gv.be("f",Z.Values)}}};
gv.a8m=function(Z,m,S,B){var C=Z._6;if(C==null)return;var u=m.StyleSheetData;if(C._0){var r=parseInt(C._0.slice(1)),k=S[r]._0._0._0.slice(1);
e6.VR({n1:u,wb:B},k)}if(C._1!=null)u.FontSize=parseFloat(C._1.slice(1));if(C._2!=null)u.FauxBold=C._2;
if(C._3!=null)u.FauxItalic=C._3;if(C._4!=null)u.AutoLeading=C._4;if(C._5!=null)u.Leading=parseFloat(C._5.slice(1));
if(C._6!=null)u.HorizontalScale=parseFloat(C._6.slice(1));if(C._7!=null)u.VerticalScale=parseFloat(C._7.slice(1));
if(C._8!=null)u.Tracking=parseFloat(C._8.slice(1));if(C._9!=null)u.BaselineShift=parseFloat(C._9.slice(1));
if(C._11!=null)u.AutoKerning=parseFloat(C._11.slice(1))==1;if(C._12!=null)u.FontCaps=parseFloat(C._12.slice(1));
if(C._13!=null)u.FontBaseline=parseFloat(C._13.slice(1));if(C._15!=null)u.Strikethrough=parseFloat(C._15.slice(1))==1;
if(C._16!=null)u.Underline=parseFloat(C._16.slice(1))==1;if(C._18!=null)u.Ligatures=C._18;if(C._19!=null)u.DLigatures=C._19;
if(C._35!=null)u.BaselineDirection=parseFloat(C._35.slice(1));if(C._38!=null)u.Language=parseFloat(C._38.slice(1));
if(C._53!=null)u.FillColor=gv.sL(C._53);if(C._54!=null)u.StrokeColor=gv.sL(C._54);if(C._56!=null)u.FillFlag=C._56;
if(C._57!=null)u.StrokeFlag=C._57;if(C._63!=null)u._LineWidth=parseFloat(C._63.slice(1));if(C._79!=null)u._FillBackgroundColor=gv.sL(C._79);
if(C._80!=null)u._FillBackgroundFlag=C._80};gv.sL=function(Z){var m=Z._0._0,S=Z._0._1,B=[1,0,0,0],C=[];
for(var q=0;q<S.length;q++)C[q]=parseFloat(S[q].slice(1));if(m=="i0")B[1]=B[2]=B[3]=C[1];else if(m=="i1")B=C;
else if(m=="i2")B=[1].concat(UDOC.C.cmykToRgb(C.slice(1)));else console.log("unknown color type",m,C);
return{Type:1,Values:B}};gv.s7=function(Z,m){Z._0="s"+(m.Name?m.Name:"");var S=Z._5,B=m.Properties;if(B.Justification!=null)S._0="i"+B.Justification;
if(B.FirstLineIndent!=null)S._1="f"+B.FirstLineIndent;if(B.StartIndent!=null)S._2="f"+B.StartIndent;
if(B.EndtIndent!=null)S._3="f"+B.EndtIndent;if(B.SpaceBefore!=null)S._4="f"+B.SpaceBefore;if(B.SpaceAfter!=null)S._5="f"+B.SpaceAfter;
if(B.AutoLeading!=null)S._7="f"+B.AutoLeading;if(B.AutoHyphenate!=null)S._9=B.AutoHyphenate;if(B._Direction!=null)S._33="i"+B._Direction;
if(B._ComposerEngine!=null)S._35="i"+B._ComposerEngine};gv.a9Y=function(Z,m){var S=Z._5;if(S==null)return;
var B=m.Properties;if(S._0)B.Justification=parseInt(S._0.slice(1))};gv.be=function(Z,m){var S=[];for(var q=0;
q<m.length;q++)S.push(Z+m[q]);return S};gv.aab={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
gv.and={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
gv.akg={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
gv.DU={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
gv.a2F={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
gv.aiO={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var hE={};hE.arp=function(Z){return hE.s8(Z,hE.kD,0)};hE.a9E=function(Z){return hE.nI(Z,hE.kD)};hE.s8=function(Z,m,S){var B;
if(typeof Z=="string")return Z;if(Z instanceof Array){B=[];for(var q=0;q<Z.length;q++)B[q]=hE.s8(Z[q],m,S+1)}else{B={};
var C={};for(var u in m){var r=m[u],k="_"+r[0];if(Z[k]!=null){B[u]=r[1]?hE.s8(Z[k],r[1],S+1):Z[k];C[k]=!0}}for(var u in Z){if(C[u]==null){if(u.length>3)continue;
console.log(m,C);console.log(u,Z);throw"e"}}}return B};hE.nI=function(Z,m){var S;if(typeof Z=="string")return Z;
else if(Z instanceof Array){S=[];for(var q=0;q<Z.length;q++)S[q]=hE.nI(Z[q],m)}else{S={};var B={};for(var C in m){var u=m[C],r="_"+u[0];
if(Z[C]!=null){S[r]=u[1]?hE.nI(Z[C],u[1]):Z[C];B[C]=!0}}for(var C in Z){if(B[C]==null){console.log(m,B);
console.log(C,Z);throw"e"}}}return S};hE.b8={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
hE.FI={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,hE.b8],_StrokeColor:[54,hE.b8],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,hE.b8],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_89:[89],_90:[90]};
hE.a5J={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,hE.FI],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
hE.a0M={_Name:[0],_Features:[5,hE.a5J],_Parent:[6],_97:[97]};hE.a8o={_Name:[0],_Parent:[5],_Features:[6,hE.FI],_97:[97]};
hE.kD={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,hE.a8o]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,hE.a0M]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_97:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_97:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,hE.a0M]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,hE.a8o]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,hE.FI],_OriginalNormalParagraphFeatures:[3,hE.a5J]}]};
gv.view={};gv.view.a4V=function(Z,m,S,B){var C={},u=e6.w0(Z);C._0=[{_0:"i"+S}];return C};function CSS(){}CSS.a2S=function(Z,m){var S=Z.add,B=S.vmsk,C=S.vstk,u=S.lmfx,r=S.TySh,k=[],v=CSS.aoH(u,S);
if(Z.Ie()&&B){var e=l.q.Go(B.u);if(!e.Ov()){k.push("width: "+Math.round(e.e)+"px");k.push("height: "+Math.round(e.n)+"px")}var j=l.q.a98(B.u);
if(j>0)k.push("border-radius: "+Math.round(j)+"px")}else if(r){var $=r.e7;if(e6.w0($)==1){var e=e6.fG($);
k.push("width: "+Math.round(e[2])+"px");k.push("height: "+Math.round(e[3])+"px")}CSS.abF(k,e6.yH($,0,0),r.A,!1,!1,v[0])}var U=[],H=u?u.dropShadowMulti.v:0;
for(var q=0;q<H.length;q++){var z=H[q].v;if(z.enab.v){var D=z.Dstn.v.val,n=z.lagl.v.val*Math.PI/180;
if(z.uglg&&z.uglg.v)n=m.mT()*Math.PI/180;var L=D*Math.cos(n),a=D*Math.sin(n);U.push("drop-shadow("+(L==0?"0 ":CSS.jf(-L)+"px ")+(a==0?"0 ":CSS.jf(a)+"px ")+z.blur.v.val/2+"px "+CSS.FC(z.Clr.v,z.Opct.v.val/100)+")")}}if(U.length!=0)k.push("filter: "+U.join(" "));
if(r==null)CSS.aro(v,k);if(C==null||!C.strokeEnabled.v)C=aK.cG(u);if(C&&C.strokeEnabled.v){var F=C.strokeStyleContent.v,A=F.classID,T=fp.Rw.Fa.indexOf(C.strokeStyleLineCapType.v.strokeStyleLineCapType),P=fp.Rw.join.indexOf(C.strokeStyleLineJoinType.v.strokeStyleLineJoinType),Y=C.strokeStyleOpacity.v.val/100,Q=C.strokeStyleLineWidth.v.val,o="";
if(A=="solidColorLayer")o=CSS.FC(F.Clr.v,Y);k.push("border: "+Q+"px solid "+o)}return k};CSS.aoH=function(Z,m){var S=aK.hp(Z,m),B=S[0],C=S[1],u,r;
if(B){u=CSS.FC(B.Clr.v,m.iOpa!=null?m.iOpa/255:1)}else if(C){r=CSS.sO(C)}return[u,r]};CSS.aro=function(Z,m){if(Z[0])m.push("background-color: "+Z[0]);
if(Z[1])m.push("background-image: "+Z[1])};CSS.Pp={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.jf=function(gY){return""+parseFloat(gY.toFixed(3))};CSS.ON=function(Z){if(Z==null)return{I:0,z:0,S:0};
var m=Z.indexOf("(");if(m!=-1){var S=Z.slice(m+1,Z.length-1).split(",");for(var q=0;q<S.length;q++){var B=S[q].trim();
S[q]=parseFloat(B)*(B.endsWith("%")?255/100:1)}return{I:S[0],z:S[1],S:S[2]}}if(Z.charAt(0)!="#"){var C=CSS.Pp;
if(C[Z])Z=C[Z];else console.log("unknown color "+Z)}Z=Z.slice(1);if(Z.length==3)Z=Z[0]+Z[0]+Z[1]+Z[1]+Z[2]+Z[2];
Z=parseInt(Z,16);return{I:Z>>16&255,z:Z>>8&255,S:Z&255}};CSS.FC=function(Z,m){return CSS.Y6(l.X.gN(Z),m)};
CSS.Y6=function(Z,m){if(m==null)m=1;var S=Math.round(Z.I),B=Math.round(Z.z),C=Math.round(Z.S),u=S<<16|B<<8|C;
return m==1?"#"+l.L5(u):"rgba("+S+","+B+","+C+","+m+")"};CSS.sO=function(Z){var m=Z.Grad.v;if(m.Clrs==null)return"";
var S=m.Clrs.v.slice(0),B=m.Trns.v.slice(0),C=Z.Ofst.v,u=Z.Type.v.GrdT=="Rdl"?1:0,r=(u==1?"radial":"linear")+"-gradient",k=u==0?Math.round(-Z.Angl.v.val+90)+"deg":"circle at center",v=Z.Rvrs.v;
if(v){S.reverse();B.reverse()}for(var q=0;q<S.length;q++){var e=S[q].v,j=q<B.length?B[q].v.Opct.v.val/100:1,$=e.Lctn.v/4096;
if(v)$=1-$;k+=", "+CSS.FC(e.Clr.v,j)+" "+Math.round($*100)+"%"}return r+"("+k+")"};CSS.abF=function(Z,m,S,B,C,u){var r=m.n1,k=B?1:g.Q.l_(S),v=Math.round(r.FontSize*k);
Z.push("font-size: "+v+"px");var e=r.Tracking;if(!B&&e!=null&&e!=0)Z.push("letter-spacing: "+Math.round(e*v/1e3)+"px");
if(!r.AutoLeading)Z.push("line-height: "+Math.round(r.Leading*k)+"px");if(r.Strikethrough)Z.push("text-decoration: line-through");
if(r.Underline)Z.push("text-decoration: underline");var j=e6.gN(r.FillColor);j=[j.I,j.z,j.S].map(Math.round);
Z.push((B?"fill: ":"color: ")+(u?u:"#"+l.L5(j[0]<<16|j[1]<<8|j[2])));var $=m.wb[r.Font].Name;if($){var U=jF.oJ.TO($),H="",z=null,f=null;
if(U!=null&&$!=jF.nq(U))U=null;if(C&&U)H+="\""+$+"\", ";var D=$.toLowerCase();if(U){z=jF.O$(U)[0];if(U["OS/2"])f=U["OS/2"].usWeightClass}else{z=CSS.alf($);
if(D.indexOf("light")!=-1)f=300;else if(D.indexOf("medium")!=-1)f=500;else if(D.indexOf("black")!=-1||D.indexOf("extrabold")!=-1)f=800;
else if(D.indexOf("bold")!=-1)f="bold"}if(z!=null)H+="\""+z+"\"";if(f!=null)Z.push("font-weight: "+f);
if(D.indexOf("italic")!=-1||D.indexOf("oblique")!=-1)Z.push("font-style: italic");if(H)Z.push("font-family: "+H)}var n=m.Q0.Justification;
if(n!=null&&n!=0)if(B){}else Z.push("text-align: "+["left","right","center"][n%3])};CSS.alf=function(Z){Z=Z.split("-")[0];
while(Z.endsWith("MT")||Z.endsWith("PS"))Z=Z.slice(0,Z.length-2);var m=!0;for(var q=0;q<Z.length;q++){var S=Z.charAt(q);
if(!m&&S.toLowerCase()!=S){Z=Z.slice(0,q)+" "+Z.slice(q);q++;m=!0}else m=!1}return Z};function fQ(){}fQ.$M={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
fQ.Cw=function(Z,m){var S=Date.now(),B;try{B=acorn.parse(Z)}catch(iD){console.log(iD);return}var C=JSON.parse(JSON.stringify(fQ.c5.rO));
C.__return=!1;C.__continue=!1;C.__break=!1;C.__throw=!1;C.__fs={};C.__window={};fQ.eval(B,m,C);var u=C.__fs;
if(Object.keys(u).length!=0){var r=UZIP.encode(u);dN.save(r,"output.zip")}};fQ.eval=function(Z,m,S){var B=Z.type;
if(!1){}else if(B=="Program"||B=="BlockStatement"){var C=Z.body;for(var q=0;q<C.length;q++){var u=C[q].type;
if(u=="FunctionDeclaration")S[C[q].id.name]=C[q]}for(var q=0;q<C.length;q++){var u=C[q].type,r=fQ.eval(C[q],m,S);
if(S.__continue){S.__continue=!1;return r}if(S.__return||S.__break||S.__throw)return r}}else if(B=="ReturnStatement"){S.__return=!0;
return Z.argument?fQ.UA(Z.argument,m,S):null}else if(B=="BreakStatement"){S.__break=!0}else if(B=="ContinueStatement"){S.__continue=!0}else if(B=="VariableDeclaration"){var k=Z.declarations;
for(var q=0;q<k.length;q++)fQ.eval(k[q],m,S)}else if(B=="VariableDeclarator"){S[Z.id.name]=Z.init?fQ.UA(Z.init,m,S):null}else if(B=="FunctionDeclaration"){S[Z.id.name]=Z}else if(B=="MemberExpression"){var v=fQ.UA(Z.object,m,S),e=Z.computed?fQ.UA(Z.property,m,S):fQ.eval(Z.property,m,S),r;
if(v.U1!=null)r=fQ.c5.yO(v,e,m,S);else if(v==window&&fQ.$M[e]){}else r=v[e];return r}else if(B=="ArrayExpression"){var j=[],$=Z.elements;
for(var q=0;q<$.length;q++)j.push(fQ.UA($[q],m,S));return j}else if(B=="ObjectExpression"){var j={},$=Z.properties;
for(var q=0;q<$.length;q++){var U=$[q],H=$[q].key.name?$[q].key.name:$[q].key.value;j[H]=fQ.UA($[q].value,m,S)}return j}else if(B=="ExpressionStatement"){return fQ.eval(Z.expression,m,S)}else if(B=="NewExpression"){var z=Z.arguments,f=Z.callee,D=f.type,n=[],j=null;
for(var q=0;q<z.length;q++)n.push(fQ.UA(z[q],m,S));if(D=="Identifier")j=fQ.c5.a96(f.name,n,m,S);else throw"e";
if(j==null)throw"new "+f.name;return j}else if(B=="CallExpression"){var z=Z.arguments,f=Z.callee,D=f.type,L={};
for(var a in S)L[a]=S[a];var n=[];for(var q=0;q<z.length;q++)n.push(fQ.UA(z[q],m,S));if(D=="Identifier"){var A=f.name,T=S[A];
if(T){if(T.params){var P=T.params;for(var q=0;q<P.length;q++)L[P[q].name]=n[q];return fQ.eval(T.body,m,L)}else{return T.apply(null,n)}}else if(fQ.c5.amz.indexOf(A)!=-1)return fQ.c5.yQ({U1:"Application"},A,n,m,S);
else if(window[A]==null)console.log("Unknown function "+A);else if(fQ.$M[A])alert(A+"() not available");
else{var Y=window[A].apply(window,n);return Y}}else if(D=="MemberExpression"){var v=fQ.UA(f.object,m,S),e=f.computed?fQ.UA(f.property,m,S):fQ.eval(f.property,m,S);
if(v==window&&fQ.$M[e])return;if(v.U1!=null)return fQ.c5.yQ(v,e,n,m,S);else return v[e].apply(v,n)}else if(D=="FunctionExpression"){return fQ.eval(f.body,m,S)}else console.log(Z)}else if(B=="AssignmentExpression"){var Q=Z.operator,o=Z.left,I=o.type,c=fQ.UA(o,m,S),y=fQ.UA(Z.right,m,S),r=null;
if(!1){}else if(Q=="=")r=y;else if(Q=="+=")r=c+y;else if(Q=="-=")r=c-y;else if(Q=="*=")r=c*y;else if(Q=="/=")r=c/y;
else if(Q=="%=")r=c%y;else if(Q=="&=")r=c&y;else if(Q=="|=")r=c|y;else if(Q=="&&=")r=c&&y;else if(Q=="||=")r=c||y;
else console.log(Z);if(I=="Identifier"){var i=o.name;if(S.hasOwnProperty(i))S[i]=r;else S.__window[i]=r}else if(I=="MemberExpression"){var d=fQ.eval(o.property,m,S),V=fQ.UA(o.object,m,S);
if(V.U1!=null)fQ.c5.arn(V,d,r,m,S);else V[d]=r}else console.log(Z)}else if(B=="Identifier")return Z.name;
else if(B=="Literal")return Z.value;else if(B=="UpdateExpression"){var Q=Z.operator,R=Z.argument.name,j=fQ.UA(Z.argument,m,S),G=S;
if(G[R]==null)G=S.__window;if(!1){}else if(Q=="++"){G[R]++;return Z.prefix?G[R]:G[R]-1}else if(Q=="--"){G[R]--;
return Z.prefix?G[R]:G[R]+1}else console.log(Z)}else if(B=="UnaryExpression"){var Q=Z.operator,M=fQ.UA(Z.argument,m,S);
if(M.U1=="UnitValue"){if(Q=="-")return-M.k;else return fQ.atI(M.k,Q)}else return fQ.atI(M,Q)}else if(B=="BinaryExpression"||B=="LogicalExpression"){var Q=Z.operator,o=fQ.UA(Z.left,m,S),M=fQ.UA(Z.right,m,S);
if(o==null||M==null)return fQ.PT(o,M,Q);else if(o.U1=="UnitValue"&&M.U1=="UnitValue")return fQ.PT(o.k,M.k,Q);
else if(o.U1=="UnitValue")return fQ.PT(o.k,M,Q);else if(M.U1=="UnitValue"){if(Q=="-")return-(o-M.k);
else return fQ.PT(o,M.k,Q)}else return fQ.PT(o,M,Q)}else if(B=="IfStatement"||B=="ConditionalExpression"){var O=fQ.UA(Z.test,m,S);
if(O)return fQ.eval(Z.consequent,m,S);else if(Z.alternate)return fQ.eval(Z.alternate,m,S)}else if(B=="ForInStatement"){fQ.eval(Z.left,m,S);
var K=Z.left.declarations[0].id.name,W=fQ.UA(Z.right,m,S);for(var a in W){S[K]=a;var t=fQ.eval(Z.body,m,S);
if(S.__break)break;if(S.__return)return t}S.__break=!1}else if(B=="ForStatement"){fQ.eval(Z.init,m,S);
while(fQ.eval(Z.test,m,S)){var t=fQ.eval(Z.body,m,S);if(S.__break)break;if(S.__return)return t;fQ.eval(Z.update,m,S)}S.__break=!1}else if(B=="DoWhileStatement"){do{var t=fQ.eval(Z.body,m,S);
if(S.__break)break;if(S.__return)return t}while(fQ.eval(Z.test,m,S));S.__break=!1}else if(B=="TryStatement"){fQ.eval(Z.block,m,S);
if(S.__throw){var X=Z.handler;S[X.param.name]=S.__throw;S.__throw=!1;fQ.eval(X.body,m,S);delete S[X.param.name]}}else if(B=="EmptyStatement"){}else console.log(Z)};
fQ.PT=function(Z,m,S){if(S=="+")return Z+m;else if(S=="-")return Z-m;else if(S=="*")return Z*m;else if(S=="/")return Z/m;
else if(S=="%")return Z%m;else if(S=="^")return Z^m;else if(S=="&")return Z&m;else if(S=="&&")return Z&&m;
else if(S=="|")return Z|m;else if(S=="||")return Z||m;else if(S=="<")return Z<m;else if(S==">")return Z>m;
else if(S=="=="){if(Z.U1&&m.U1)return Z.k==m.k;return Z==m}else if(S=="===")return Z===m;else if(S=="<=")return Z<=m;
else if(S==">=")return Z>=m;else if(S=="!=")return Z!=m;else if(S=="!==")return Z!==m;else if(S=="<<")return Z<<m;
else if(S==">>")return Z>>m;else console.log(S)};fQ.atI=function(Z,m){if(m=="-")return-Z;else if(m=="!")return!Z;
else if(m=="~")return~Z;else if(m=="+")return Z;else console.log(obj)};fQ.UA=function(Z,m,S){var B=Z.type;
if(B=="Identifier")return fQ.adA(Z.name,m,S);else return fQ.eval(Z,m,S)};fQ.adA=function(Z,m,S){if(Z=="undefined")return undefined;
else if(S.hasOwnProperty(Z))return S[Z];else if(Z=="app")return{U1:"Application"};else if(Z=="$")return{U1:"$"};
else if(fQ.c5.aqp.indexOf(Z)!=-1)return fQ.c5.yO({U1:"Application"},Z,m,S);else if(S.__window.hasOwnProperty(Z))return S.__window[Z];
else if(window[Z]&&!fQ.$M[Z])return window[Z];else{S[Z]=null;return null}};fQ.c5={};fQ.c5.a96=function(Z,m,S,B){var C;
if(Z=="SolidColor")C={U1:Z,k:[1,0,0,0]};if(Z=="RGBColor")C={U1:Z,k:[1,0,0,0]};if(Z=="Window")C={U1:Z,k:new h9(m[0],m[1],m[2])};
if(Z=="ExportOptionsSaveForWeb")C={U1:Z,k:{EP:"png",Zq:100}};if(Z=="JPEGSaveOptions")C={U1:Z,k:{EP:"jpg",Zq:100}};
if(Z=="PDFSaveOptions")C={U1:Z,k:{EP:"pdf",a5$:""}};if(Z=="File")C={U1:Z,k:m[0]};if(Z=="ActionReference")C={U1:Z,k:[]};
if(Z=="ActionDescriptor")C={U1:Z,k:{}};if(Z=="ActionList")C={U1:Z,k:[]};if(Z=="UnitValue")C={U1:Z,k:m.length==0?0:parseFloat(m[0])};
return C};fQ.c5.aqp="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
fQ.c5.amz=["charIDToTypeID","stringIDToTypeID","executeAction","executeActionGet","doAction"];fQ.c5.yO=function(Z,m,S,B){var C=S.mN,u=S.Ru();
if(!1){}else if(m=="typename"){if(Z.U1=="Layer")return Z.k.O1()?"LayerSet":"ArtLayer";else return Z.U1}else if(["Document","Layer"].indexOf(Z.U1)!=-1&&["layers","artLayers","layerSets"].indexOf(m)!=-1){var r=u.root,k={U1:"Layers",_L:m,k:[]};
if(Z.U1=="Layer")r=u.root.Hr(u.g.indexOf(Z.k));if(r.children==null)return null;for(var q=0;q<r.children.length;
q++){var v=r.children[q].i,e=v.O1();if(e&&m=="artLayers"||!e&&m=="layerSets")continue;k.k.push({U1:"Layer",k:v})}k.k.reverse();
return k}else if(Z.U1=="Documents"||Z.U1=="Layers"||Z.U1=="HistoryStates"||Z.U1=="LayerComps"){if(!1){}else if(m=="length")return Z.k.length;
else if(Number.isInteger(m))return Z.k[m];else console.log(Z.U1+": unknown property ",m)}else if(Z.U1=="Application"){if(!1){}else if(m=="activeDocument")return{U1:"Document",k:S.Ru()};
else if(m=="documents"){var k={U1:"Documents",k:[]};for(var q=0;q<S.xk.length;q++)k.k.push({U1:"Document",k:S.xk[q]});
return k}else if(m=="fonts")return{U1:"TextFonts"};else if(m=="preferences")return{U1:"Preferences"};
else if(m=="displayDialogs")return{U1:"DialogModes"};else if(m=="foregroundColor"||m=="backgroundColor"){var j=m[0]=="f"?C.Nx:C.ZN;
return{U1:"SolidColor",k:[1,(j>>>16&255)/255,(j>>>8&255)/255,(j>>>0&255)/255]}}else if(m=="UI")return{U1:"UI"};
else console.log(Z,m)}else if(Z.U1=="Document"){var u=Z.k;if(!1){}else if(m=="activeLayer"){var v=u.g[u._[0]];
return{U1:"Layer",k:v}}else if(m=="resolution")return u.wd;else if(m=="width")return u.e;else if(m=="height")return u.n;
else if(m=="name")return u.name;else if(m=="saved")return!u.nc();else if(m=="selection")return{U1:"Selection"};
else if(m=="activeHistoryState")return{U1:"HistoryState",lU:u.qA};else if(m=="source")return u.Ha;else if(m=="layerComps"){var $=u.Z3.list.v,U=[];
for(var q=0;q<$.length;q++)U.push({U1:"LayerComp",k:q});return{U1:"LayerComps",k:U}}else if(m=="historyStates"){var H=[];
for(var q=0;q<u.history.length;q++)H.push({U1:"HistoryState",lU:q});return{U1:"HistoryStates",k:H}}else console.log(Z,m)}else if(Z.U1=="LayerComp"){if(m=="name")return u.Z3.list.v[Z.k].v.Nm.v;
else throw m}else if(Z.U1=="Layer"){var z={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},v=Z.k;
if(!1){}else if(m=="visible")return v.tm();else if(m=="selected")return u._.indexOf(u.g.indexOf(v))!=-1;
else if(m=="grouped")return v.GT;else if(z[m]!=null)return v.YL(z[m]);else if(m=="opacity")return v.opacity*100/255;
else if(m=="blendMode")return v.E4;else if(m=="name")return v.getName();else if(m=="textItem")return{U1:"TextItem",k:v};
else if(m=="bounds"){var f=g.Q.Cp(u,[u.g.indexOf(v)]);return fQ.c5.atQ(f,u)}else if(m=="parent"){var D=S.xk;
for(var q=0;q<D.length;q++)if(D[q].g.indexOf(v)!=-1)return{U1:"Document",k:D[q]}}else if(m=="kind"){var n=fQ.c5.v8;
for(var q=0;q<n.length;q++)if(v.add[n[q]]!=null)return q;return 0}else console.log(Z,m)}else if(Z.U1=="Selection"){if(!1){}else if(m=="bounds")return fQ.c5.atQ(S.Ru().$.rect,u);
else console.log(Z,m)}else if(Z.U1=="TextItem"){var L=Z.k.add.TySh,a=L.e7,F=e6.xu(a),A=L.A.l_(),T=e6.yH(a,0,Math.max(0,F.length-2));
if(m=="contents")return F.slice(0,F.length-1).replace(/\n/g,"\r");else if(m=="font")return T.n1.Font!=null?T.wb[T.n1.Font].Name:null;
else if(m=="size")return fQ.c5.IP(T.n1.FontSize*A,u);else if(m=="leading")return fQ.c5.IP(T.n1.Leading*A,u);
else if(m=="tracking")return fQ.c5.IP(T.n1.Tracking);else if(m=="baselineShift")return fQ.c5.IP(T.n1.BaselineShift);
else if(m=="fauxBold")return T.n1.FauxBold;else if(m=="fauxItalic")return T.n1.FauxItalic;else if(m=="kind")return 1-e6.w0(a);
else if(m=="useAutoLeading")return T.Q0.AutoLeading;else if(m=="hyphenation")return T.Q0.AutoHyphenate;
else if(m=="justification")return fQ.c5.IP(T.Q0.Justification);else if(m=="color")return{U1:"SolidColor",k:T.n1.FillColor.Values.slice(0)};
else if(m=="width"||m=="height"){var P=e6.fG(a),Y=(P[2]-P[0])*A,Q=(P[3]-P[1])*A;return fQ.c5.IP(m=="width"?Y:Q,u)}else if(m=="position"){var o=L.A;
return fQ.c5.aqB([o.s9,o.ku],u)}else if(m=="horizontalScale"||m=="verticalScale"){var I=m[0].toUpperCase()+m.slice(1);
return Math.round(T.n1[I]*100)}else if(m=="antiAliasMethod")e6.f9(L);else console.log(Z,m)}else if(Z.U1=="Preferences"){if(m=="rulerUnits")return C.Zd.Dj;
else console.log(Z,m)}else if(Z.U1=="SolidColor"){if(m=="rgb")return{U1:"RGBColor",k:Z.k};else console.log(Z,m)}else if(Z.U1=="RGBColor"){var f=Math.round(255*Z.k[1]),c=Math.round(255*Z.k[2]),y=Math.round(255*Z.k[3]);
if(!1){}else if(m=="red")return f;else if(m=="green")return c;else if(m=="blue")return y;else if(m=="hexValue")return"#"+l.L5(f<<16|c<<8|y).toUpperCase();
else console.log(Z,m)}else if(Z.U1=="UnitValue"){if(m=="value")return Z.k;else throw"e"}else if(Z.U1=="ExportOptionsSaveForWeb"){if(m=="format")return Z.k.EP;
else if(m=="PNG8"||m=="interlaced")return!1;else if(m=="quality")return Z.k.Zq;else if(m=="transparency")return!0;
else throw m}else if(Z.U1=="JPEGSaveOptions"||Z.U1=="PDFSaveOptions"){return 0}else console.log(Z,m)};
fQ.c5.atQ=function(Z,m){return fQ.c5.aqB([Z.x,Z.y,Z.x+Z.e,Z.y+Z.n],m)};fQ.c5.aqB=function(Z,m){var S=[];
for(var q=0;q<Z.length;q++)S.push(fQ.c5.IP(Z[q],m));return S};fQ.c5.a5S=function(Z){var m=[];for(var q=0;
q<Z.length;q++)m.push(Z[q].U1?Z[q].k:Z[q]);return m};fQ.c5.IP=function(Z,m){return{U1:"UnitValue",k:Z}};
fQ.c5.auF=function(Z,m){if(Z.U1=="UnitValue")return Z.k;return Z};fQ.c5.arn=function(Z,m,S,B,C){var u=new eY(_.E.Y,!0),r=new eY(_.E.W,!0),k=B.Ru(),v=B.mN;
if(!1){}else if(Z.U1=="Application"){if(!1){}else if(m=="activeDocument"){r.data={d:_.B.Yg,OB:S.k};B.c(r)}else if(m=="displayDialogs"){}else console.log(Z,m,S)}else if(Z.U1=="Document"){var e=Z.k;
if(!1){}else if(m=="name"){u.b=g.vJ;u.data={d:w.S5,k:S,a6O:!0,EF:e};k.SW=!0}else if(m=="source")e.Ha=S;
else if(m=="activeLayer"){e._=[e.g.indexOf(S.k)]}else if(m=="activeHistoryState"){u.b=g.C5;u.data={d:"h_itemchange",index:S.lU}}else console.log(Z,m)}else if(Z.U1=="Layer"){u.b=g.vJ;
var j={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},$=Z.k,U=k.g.indexOf($);
if(!1){}else if(m=="visible"){if($.tm()!=S)u.data={d:w.Xm,i:U}}else if(m=="opacity"){u.data={d:w.pZ,i:U,sk:Math.round(255*S/100)}}else if(m=="blendMode"){u.data={d:w.pk,i:U,sk:d1.WJ.indexOf(S)}}else if(m=="name"){u.data={d:w.k$,i:U,name:S}}else if(j[m]!=null){u.data={d:w.Il,i:U,sk:[[S],[j[m]]]}}else if(m=="kind"){u.data={d:w.OO,i:U,Bt:fQ.c5.v8[S]}}else if(m=="grouped"){u.data={d:w.Wc,i:U,sk:S}}else console.log(Z,m,S)}else if(Z.U1=="TextItem"){u.b=g.WH;
var $=Z.k,H=$.add.TySh,z=JSON.parse(JSON.stringify(H.e7)),D=H.A.clone(),n=H.A.l_(),L=e6.xu(z),a=e6.yH(z,0,L.length-2),F=!1;
if(!1){}else if(m=="contents"){e6.$R(z,0,L.length-1);e6.Hd(z,0,S.replace(/\r/g,"\n"))}else if(m=="size"){a.n1.FontSize=(S.k!=null?S.k:S)/n;
F=!0}else if(m=="leading"){a.n1.Leading=(S.k!=null?S.k:S)/n;F=!0}else if(m=="tracking"){a.n1.Tracking=S.k!=null?S.k:S;
F=!0}else if(m=="baselineShift"){a.n1.BaselineShift=S.k!=null?S.k:S;F=!0}else if(m=="fauxBold"){a.n1.FauxBold=S;
F=!0}else if(m=="fauxItalic"){a.n1.FauxItalic=S;F=!0}else if(m=="kind"){var A=e6.w0(z);if(A==1&&S==1){var T=new jN(z,B.mN.Pl).Q0[0],P=T.BG[0].end,Y=T.ZH[P-1].end;
e6.$R(z,0,L.length-1);e6.Hd(z,0,L.slice(0,Y-1))}if(A==S)e6.xx(z,1-S)}else if(m=="useAutoLeading"){a.Q0.AutoLeading=S;
F=!0}else if(m=="hyphenation"){a.Q0.AutoHyphenate=S;F=!0}else if(m=="justification"){a.Q0.Justification=S;
F=!0}else if(m=="font"){e6.VR(a,S);F=!0}else if(m=="color"){a.n1.FillColor.Values=S.k.slice(0);F=!0}else if(m=="width"||m=="height"){var Q=e6.fG(z).slice(0),o=fQ.c5.auF(S);
if(m=="width")Q[2]=Math.round(Q[0]+o/n);else Q[3]=Math.round(Q[1]+o/n);e6.Y8(z,Q)}else if(m=="position"){D.s9=S[0];
D.ku=S[1]}else if(m=="horizontalScale"||m=="verticalScale"){var I=m[0].toUpperCase()+m.slice(1);a.n1[I]=S/100;
F=!0}else if(m=="antiAliasMethod")e6.tg(H,S);else console.log(Z,m,S);if(F)e6.rj(z,0,L.length-1,a);u.data={d:"newED",rs:k.g.indexOf($),_v:z,A:D}}else if(Z.U1=="Preferences"){if(!1){}else if(m=="rulerUnits"){var c=JSON.parse(JSON.stringify(v.Zd));
c.Dj=S;r.data={d:_.B.L8,Lh:bo.Hf,sk:c};B.c(r)}else console.log(Z,m,S)}else if(Z.U1=="SolidColor"){if(m=="rgb")Z.k=S.k;
else throw m}else if(Z.U1=="RGBColor"){if(!1){}else if(m=="red")Z.k[1]=S/255;else if(m=="green")Z.k[2]=S/255;
else if(m=="blue")Z.k[3]=S/255;else if(m=="hexValue"){var y=l.da(S.slice(1));Z.k[1]=(y>>>16&255)/255;
Z.k[2]=(y>>>8&255)/255;Z.k[3]=(y>>>0&255)/255}else console.log(Z,m)}else if(Z.U1=="ExportOptionsSaveForWeb"){if(m=="format")Z.k.EP=S;
else if(m=="PNG8"||m=="transparency"||m=="interlaced"){}else if(m=="quality")Z.k.Zq=S;else throw m}else if(Z.U1=="JPEGSaveOptions"){if(m=="quality")Z.k.Zq=Math.round(100*S/12)}else if(Z.U1=="PDFSaveOptions"){if(m=="preset")Z.k.a5$=S}else console.log(Z,m,S);
if(u.data!=null)B.c(u)};fQ.c5.yQ=function(Z,m,S,B,C){var u=Z.U1,r=null,k=new eY(_.E.Y,!0),v=new eY(_.E.lX,!0),e=new eY(_.E.W,!0),j=B.Ru(),$=B.xk;
if(!1){}else if(u=="Application"){if(!1){}else if(m=="charIDToTypeID"){var U=S[0].trim(),H={slct:"select",Dlt:"delete",Mk:"make"};
return H[U]?H[U]:U}else if(m=="stringIDToTypeID"){var z=S[0].trim(),H={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},f=H[z];
return f==null?z:f}else if(m=="executeAction"){console.log(S);var D;if(S[1]){D=S[1].k;D.classID=S[0]}var n={setd:"set"},L=n[S[0]];
if(L==null)L=S[0];var a=e$.wx[S[0]];if(a&&e$.pd[a])L=e$.pd[a];v.data={CE:L,Oz:D}}else if(m=="executeActionGet"){return{U1:"ActionDescriptor",k:{classID:"null",null:{t:"obj ",v:S[0].k}}}}else if(m=="doAction"){e.data={d:_.B.uU,ZT:[S[0],S[1]]}}else if(m=="open"){e.data={d:_.B.FJ,Lh:{url:S[0]}};
if(S[2]&&$.length!=0)e.data.Lh.uz=$.indexOf(j)}else if(m=="echoToOE"){e.data={d:_.B.Kt,Lh:S[0]}}else console.log(m)}else if(u=="LayerComp"){if(m=="apply"){k.b=g.iU;
k.data={d:"setLC",lU:j.Z3.list.v[Z.k].v.compID.v}}else throw m}else if(u=="Document"){var j=Z.k;if(!1){}else if(m=="crop"){v.data=g.Gt.Cz(S[0])}else if(m=="trim"){var F=[];
for(var q=0;q<4;q++)F.push(S[q+1]!=null?S[q+1]:!0);v.data=g.Gt.v6(S[0]!=null?S[0]:0,F)}else if(m=="suspendHistory"){var A=acorn.parse(S[1]);
fQ.eval(A,B,C)}else if(m=="save"){e.data={d:_.B.Ac}}else if(m=="saveToOE"){e.data={d:_.B.Ac,jH:S}}else if(m=="rotateCanvas"){v.data=g.Q.$g(!0,S[0])}else if(m=="resizeImage"||m=="resizeCanvas"){var T=S[0],P=S[1];
if(typeof T!="number"){T=j.e*parseFloat(T.slice(0,T.length-1))/100;P=j.n*parseFloat(P.slice(0,P.length-1))/100}if(m=="resizeCanvas")v.data=g.Gt.xn(Math.round(T),Math.round(P),S[2]);
else v.data=g.Gt.HL(Math.round(T),Math.round(P),null,1)}else if(m=="paste"){e.data={d:_.B.cT,FB:S.length!=0&&S[0],$a:!0}}else if(m=="close"){e.data={d:_.B.jy,Lw:j}}else if(m=="exportDocument"||m=="saveAs"){var Y=C.__fs,Q=S[0].k.replace(":","").replace("~/",""),o=m=="exportDocument"?S[2].k:S[1].k,I=e2.$c(j,o.EP,null,null,o.EP=="pdf"?null:[o.Zq],B.mN);
Y[Q]=new Uint8Array(I)}else console.log(Z,m,S)}else if(u=="Layer"){var c=Z.k,y=j.g.indexOf(c);if(!1){}else if(m=="copy"){fQ.c5.sf(j,B,0);
e.data={d:_.B._I,mb:S[0],J0:y,$a:!0};B.c(e);delete e.data;fQ.c5.sf(j,B,1)}else if(m=="clear"){fQ.c5.sf(j,B,0);
v.data={CE:"delete"};B.c(v);delete v.data;fQ.c5.sf(j,B,1)}else if(m=="duplicate"){if(S.length==0){k.data={d:w.lD,i:y};
k.b=g.vJ;B.c(k);k.data=null;r={U1:"Layer",k:j.g[j._[0]]}}else if(S[0].U1=="Document"){k.data={d:w.k4,g:j.uO(y),Si:j,XC:S[0].k};
k.b=g.vJ}}else if(m=="merge"||m=="remove"){k.data={d:m=="merge"?w.x4:w.G7,i:y};k.b=g.vJ;if(m!="remove")r={U1:"Layer",k:j.g[j._[0]]}}else if(m=="move"){k.data={d:w.Kn,source:y,target:j.g.indexOf(S[0].k),z3:S[1]!=3?.6:.3};
k.b=g.vJ}else if(m=="rasterize"){v.data={CE:"rasterizeLayer",Oz:{classID:"rasterizeLayer",null:hX.NN("Lyr",!0)}}}else if(m=="rotate"){k.data={d:"rot",fm:[2,5],k:-S[0]*Math.PI/180,GB:S[1],i:y};
k.b=g.zp}else if(m=="resize"){k.data={d:"scl",fm:[2,4],k:new aS(S[0]/100,S[1]/100),GB:S[2],i:y};k.b=g.zp}else if(m=="translate"){var i=fQ.c5.a5S(S);
k.data={d:"trsl",i:y,V1:i[0],h7:i[1]};k.b=g.Ta}else if(m=="link"){k.data={d:w.eB,ai8:[y,j.g.indexOf(S[0].k)]};
k.b=g.vJ}else if(m=="invert"){k.b=g.b$;k.data={d:"start",sv:"nvrt"}}else if(m.startsWith("apply")&&bS.M4[m.slice(5)]){var i=fQ.c5.a5S(S),d=bS.M4[m.slice(5)];
v.data={CE:bS.pd[d]};var D=bS.ej(d);if(D){bS.j$["g"+d](D,i);v.data.Oz=D}}else console.log(Z,m,S)}else if(u=="Documents"){if(m=="getByName"){for(var q=0;
q<$.length;q++)if($[q].name==S[0])return{U1:"Document",k:$[q]};return null}else if(m=="add"){var V=S[5];
if(V==null)V=1;v.data=fl.Du(S[0],S[1],S[2],S[3],["Wht","Trns","BckC"][V],!1)}else throw"e"}else if(u=="Layers"){if(m=="getByName"){for(var q=0;
q<Z.k.length;q++)if(Z.k[q].k.getName()==S[0]){r=Z.k[q];break}if(r==null)C.__throw={message:"No layer with a name "+S[0]}}else if(m=="add"){k.data={d:Z._L=="layerSets"?w.IV:w.qR};
k.b=g.vJ;B.c(k);k.data=null;r={U1:"Layer",k:j.g[j._[0]]}}else console.log(Z,m,S)}else if(Z.U1=="Selection"){if(m=="select"){var G=S[0],M=[];
for(var q=0;q<G.length;q++)M.push(G[q][0],G[q][1]);v.data=g.nJ.lH(M)}else if(m=="clear"){v.data={CE:"delete"}}else if(m=="selectAll"){v.data=g.nJ.r_(!0)}else if(m=="invert"){v.data={CE:"inverse"}}else if(m=="copy"){e.data={d:_.B._I}}else if(m=="deselect"){v.data=g.nJ.r_()}else if(m=="fill"){var O=S[0].k;
O=l.X.M1({I:O[1]*255,z:O[2]*255,S:O[3]*255});v.data=g.T1.GZ("Clr",S[1],S[2]==null?1:S[2]/100,O)}else console.log(Z,m,S)}else if(Z.U1=="Window"){if(m=="show"){e.data={d:_.B.Me,ct:Z.k}}else throw"e"}else if(Z.U1=="ActionReference"){if(m=="putProperty"){Z.k.push({t:"prop",v:{classID:S[0],keyID:S[1]}})}else if(m=="putClass"){Z.k.push({t:"Clss",v:{classID:S[0]}})}else if(m=="putEnumerated"){Z.k.push({t:"Enmr",v:{classID:S[0],typeID:S[1],enum:S[2]}})}else if(m=="putName"){Z.k.push({t:"name",v:{classID:S[0],val:S[1]}})}else console.log(m,S)}else if(Z.U1=="ActionDescriptor"||Z.U1=="ActionList"){if(m=="putReference"){Z.k[S[0]]={t:"obj ",v:S[1].k}}else if(m=="putDouble"){Z.k[S[0]]={t:"doub",v:S[1]}}else if(m=="putUnitDouble"){Z.k[S[0]]={t:"UntF",v:{type:S[1],val:S[2]}}}else if(m=="putObject"){if(Z.U1=="ActionList"){var K=S[1].k;
K.classID=S[0];Z.k.push({t:"Objc",v:K})}else{var K=S[2].k;K.classID=S[1];Z.k[S[0]]={t:"Objc",v:K}}}else if(m=="putList"){Z.k[S[0]]={t:"VlLs",v:S[1].k}}else if(m=="putBoolean"){Z.k[S[0]]={t:"bool",v:S[1]}}else if(m=="putInteger"){Z.k[S[0]]={t:"long",v:S[1]}}else if(m=="putString"){Z.k[S[0]]={t:"TEXT",v:S[1]}}else if(m=="putEnumerated"){var W={};
W[S[1]]=S[2];Z.k[S[0]]={t:"enum",v:W}}else if(m=="hasKey"){var t=Z.k.null.v;for(var q=0;q<t.length;q++){if(t[q].v.keyID==S[0]){if(S[0]=="UsrM"){return j.g[j._[0]].sd()!=null}else throw S}}}else console.log(m,S)}else if(Z.U1=="$"){if(m=="writeln"){console.log(S[0])}else throw m}else if(Z.U1=="UI"){var X;
if(m=="zoomIn"||m=="zoomOut"){X={d:"zoom",FE:m=="zoomIn"}}else if(m=="fitTheArea"){X={d:"adapt",k:"fitscr"}}else if(m=="pixelToPixel"){X={d:"adapt",k:"pixel"}}k.b=g.ky;
k.data=X}else console.log(Z,m,S);if(k.data)B.c(k);if(v.data)B.c(v);if(e.data)B.c(e);return r};fQ.c5.sf=function(Z,m,S){var B=new eY(_.E.Y,!0);
B.b=g.Ml;var C=new eY(_.E.lX,!0);if(S==0){fQ.c5.aue=Z.$;C.data=g.nJ.r_(!0)}else{var u=fQ.c5.aue;if(u)B.data={d:"setsel",fm:"Restore Selection",$:{rect:u.rect.clone(),channel:u.channel.slice(0)}};
else C.data=g.nJ.r_()}m.c(B.data?B:C)};fQ.c5.aue=null;fQ.c5.rO={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
fQ.c5.rO.ColorBlendMode=fQ.c5.rO.BlendMode;fQ.c5.v8="---- SoLd TySh SoCo GdFl PtFl".split(" ");function i2(){}i2.zf={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
i2.C6={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
i2.a1V=function(Z,m){if(m==null)m={};var S=i2.C6,B=[],C=[],u="";for(var q=0;q<Z.length;q++){var r=Z[q],k=S[r[0]+""];
if(k&&m[k]==null)m[k]=r[1];else if(r[0]==12)C.push(r[1]);else if(r[0]==25)B.push(r[1]);else if(r[0]==55)u=r[1];
else if(r[0]==60)u+=";"+r[1]}if(u!=""&&m["exif:DateTimeOriginal"]==null)m["exif:DateTimeOriginal"]=u;
if(C.length!=0&&m["Iptc4xmpCore:SubjectCode"]==null)m["Iptc4xmpCore:SubjectCode"]=C.join(";");if(B.length!=0&&m["dc:Keywords"]==null)m["dc:Keywords"]=B.join(";");
return m};i2.auf=function(Z){var m=i2.C6,S=[];for(var B in m)if(Z[m[B]])S.push([parseInt(B),Z[m[B]]]);
if(Z["Iptc4xmpCore:SubjectCode"]){var C=Z["Iptc4xmpCore:SubjectCode"].split(";");for(var q=0;q<C.length;
q++)S.push([12,C[q].trim()])}if(Z["dc:Keywords"]){var C=Z["dc:Keywords"].split(";");for(var q=0;q<C.length;
q++)S.push([25,C[q].trim()])}S.sort(function(u,r){return u[0]-r[0]});return S};i2.a9x=function(Z,m){if(m==null)m={};
var S=new DOMParser,B=S.parseFromString(Z,"image/svg+xml"),C=B.getElementsByTagName("rdf:Description")[0];
if(C==null)return m;var u=i2.zf;for(var r in u){var k=u[r][2];if(k==null)continue;var v=C.getElementsByTagName(k)[0];
if(v==null)continue;var e=v.getElementsByTagName("rdf:li"),j=[];for(var q=0;q<e.length;q++)j.push(e[q].textContent);
m[r]=j.join("; ")}return m};i2.atE=function(Z){var m=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],S=i2.zf;
for(var B in S){var C=Z[B],u=S[B][2],r="Seq",k="";if(C==null||u==null)continue;if(u=="dc:title"||u=="dc:description"){r="Alt";
k=" xml:lang=\"x-default\""}if(u=="dc:subject")r="Bag";m.push("\t<"+u+"><rdf:"+r+">");var v=u=="dc:subject"?C.split(";").join(",").split(","):[C];
for(var q=0;q<v.length;q++)m.push("\t\t<rdf:li"+k+">"+v[q].trim()+"</rdf:li>");m.push("\t</rdf:"+r+"></"+u+">")}m.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return m.join("\n")};i2.a1a=function(Z){var m=[];for(var q=0;q<Z.length;q++)m[q]=Z[q][1]==0?0:Z[q][0]/Z[q][1];
return m};i2.aoJ=function(Z){var m=[];for(var q=0;q<Z.length;q++){var S=Z[q],B=1;if(S!=Math.round(S)){B=1e3;
S=Math.round(S*B)}m[q]=[S,B]}return m};i2.EW=function(Z,m){var S=i2.zf;if(m==null)m={};for(var B in S){var C=S[B][1],u="t"+C;
if(C!=null&&Z[u]!=null){var r=Z[u];if(C==0)r=r.join(".");else if(C==2||C==4){var k=Z["t"+(C-1)];if(k==null)k=[C==2?"N":"E"];
r=i2.a1a(r).join(",")+k[0]}else if(C==42034)r=i2.a1a(r).join(" ");else if(C==270||C==315){var v=r[0],e=new Uint8Array(v.length);
x.XI(e,0,v);r=x.QN(e)}else r=r[0];m[B]=r}}if(Z.exifIFD)i2.EW(Z.exifIFD,m);if(Z.gpsiIFD)i2.EW(Z.gpsiIFD,m);
return m};i2.YQ=function(Z,m,S){var B=i2.zf,u=0,k=0;if(m==null)m={};var C={},r={};for(var v in B){if(Z[v]==null||B[v][1]==null)continue;
var e=B[v][1],j="t"+e,$=m;if(v.startsWith("exif:")){$=C;u++;if(v.startsWith("exif:GPS")){$=r;k++}}var U=Z[v];
if(e==0)U=new Uint8Array(U.split(".").map(parseFloat));else if(e==2||e==4){var H=U.length;$["t"+(e-1)]=[U.slice(U.length-1)];
U=i2.aoJ(U.split(",").map(parseFloat))}else if(e==42034)U=i2.aoJ(U.split(" ").map(parseFloat));else if(e==270||e==315){var z=x.P8(U);
U=[x.aD(z,0,z.length)]}else U=[U];$[j]=U}if(u!=0){m.exifIFD=C;m.t34665=[0]}if(k!=0){m.gpsiIFD=r;m.t34853=[0]}var f=new Date,D=[f.getFullYear(),f.getMonth()+1,f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()];
for(var q=0;q<6;q++)D[q]=(D[q]+"").padStart(2,"0");m.t305=["Photopea Editor (www.photopea.com)"];if(S!=!0)m.t306=[D[0]+":"+D[1]+":"+D[2]+" "+D[3]+":"+D[4]+":"+D[5]];
return m};var J={};J.a7H=0;J.zE=function(){J.a7H++;return J.a7H};J.ara="uint8";J.am7=function(){var Z=J.a4o();
if(Z=="")return 0;if(Z!=J.Hj("_TXZRPB;d7@;")){var m=J.uP[dR.w9][dR.tL],S=m.indexOf(String.fromCharCode(35)),B;
if(S==-1)return 0;try{B=JSON.parse(J.uP[dR.a3B](m.slice(S+1)))}catch(iD){return 0}var C=B[J.Hj("bQ[ODL<E<M")];
if(C==null||C.length<<2!=64)return 0;var u=dR.mB(),r=parseInt(C.slice(3*4).split("").reverse().join(""),16)<<16;
if(r<u||C!=dR.a10(r,Z))return 0;return 2}return 1};J.a4o=function(){var Z=J.uP[J.Fr("}$z{2*35")][J.Hj("W[\\ZQAJ?")],m=String.fromCharCode(46),S=Z.split(m);
if(S.length<2)return"";var B=S.pop();B=S.pop()+m+B;return B};J.auX=function(){if(J.uP[dR.aoo][dR.afS]){var Z=new J.uP[dR.Jg];
Z[dR.rB](dR.aa3,J.Hj("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+J.a4o());Z[dR._h]()}};J.Wo=function(){if(window.top!=window.self)return!1;
var Z=navigator.userAgent.toLowerCase();if(Z.indexOf("android")!=-1)return!1;if(Z.indexOf("safari")!=-1&&Z.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};J.VQ=function(Z){this.gb=Z;this.aux=J.L("img");this.hH=J.L("canvas");
this.no=null;this.UB="";this.Gf=null;this.fn=new aS(0,0);J.Od(this.gb,this.nR.bind(this))};J.VQ.prototype.sc=function(Z,m){this.no=Z;
if(m)this.UB=m;this.nR()};J.VQ.prototype.nR=function(Z){if(Z)this.fn=J.W7(Z,this.gb);var m=this.no,S=typeof m=="string";
if(!S){var B=J.F(),C=this.fn,u=m.pe.e,r=m.pe.n,k=typeof m.dk=="string",v=k?this.aux:this.hH;if(k)v.setAttribute("src",m.dk);
else{v.width=u;v.height=r;var e=v.getContext("2d"),j=new ImageData(new Uint8ClampedArray(m.dk.buffer),u,r);
e.putImageData(j,0,0)}v.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(C.y-m.n3.y/B)+"px; left:"+(C.x-m.n3.x/B)+"px; width:"+u/B+"px; height:"+r/B+"px");
var $=this.Gf;if($==null||$!=v){if($)this.gb.removeChild($);this.gb.appendChild(v);this.Gf=v}}else if(this.Gf){this.gb.removeChild(this.Gf);
this.Gf=null}this.gb.setAttribute("style","cursor:"+(S?m:"none")+"; "+this.UB)};J.Wh=function(Z){return Z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
J.WN=function(Z,m){Z.zR(iD.get([12,41]).charAt(0)+":");m.zR(iD.get([12,42]).charAt(0)+":")};J.L=function(Z,m){var S=document.createElement(Z);
if(m!=null)S.setAttribute("class",m);return S};J.uq=function(Z){while(Z.firstChild)Z.removeChild(Z.firstChild)};
J._A=function(Z,m){var S=Z.getAttribute("class");if(S==null)S="";S=S.split(" ");if(S.indexOf(m)==-1)S.push(m);
Z.setAttribute("class",S.join(" "))};J.iB=function(Z,m){var S=Z.getAttribute("class");if(S==null)return;
S=S.split(" ");if(S.indexOf(m)!=-1)S.splice(S.indexOf(m),1);Z.setAttribute("class",S.join(" "))};J.Qt=function(Z){while(!0){if(Z==document)return!0;
if(Z==null)return!1;Z=Z.parentNode}};J.ed=function(Z){Z.appendChild(J.L("br"))};J.hx=function(Z){Z.appendChild(J.L("hr"))};
J.Pu=function(Z,m,S){var B=new dX([1,12,1],S==null?!0:S,null,!0);if(Z)B.h("click",Z.dQ,Z);if(m)m.appendChild(B.m);
return B};J.uP=document;J.xG=function(Z){var m=0;for(var q=0;q<Z;q++)m+=Math.random();return m/Z<Math.PI/4};
J.Hj=function(Z){var m="";if(!J.xG(28))Z+="-3";for(var q=0;q<Z.length;q++){var S=Z.charCodeAt(q);if(S<32||126<S)throw"e";
m+=String.fromCharCode(32+(S-32+17+3*q)%95)}return m};J.Fr=function(Z){var m="";if(!J.xG(28))Z+="-1";
for(var q=0;q<Z.length;q++){var S=Z.charCodeAt(q);S-=32;S+=95e4;S-=17+3*q;S=S%95;m+=String.fromCharCode(32+S)}return m};
J._r=function(Z){var m=Math.random();J.ara="uint"+(3+m);return new Z};(function(){var Z=window.PointerEvent,m=Z?"pointer":"mouse",S=m+"down",B=m+"move",C=m+"up",u=!1;
J.BQ=function(r,k){r.addEventListener(S,k,u);if(!Z)r.addEventListener("touchstart",k,u)};J.Od=function(r,k){r.addEventListener(B,k,u);
if(!Z)r.addEventListener("touchmove",k,u)};J.qq=function(r,k){r.addEventListener(C,k,u);if(!Z)r.addEventListener("touchend",k,u)};
J.aps=function(r,k){r.removeEventListener(S,k,u);if(!Z)r.removeEventListener("touchstart",k,u)};J.N3=function(r,k){r.removeEventListener(B,k,u);
if(!Z)r.removeEventListener("touchmove",k,u)};J.e6=function(r,k){r.removeEventListener(C,k,u);if(!Z)r.removeEventListener("touchend",k,u)}}());
J.Ew=function(Z){Z.addEventListener("touchstart",J.yD,!1);Z.addEventListener("touchmove",J.yD,!1);Z.addEventListener("touchend",J.yD,!1);
Z.addEventListener("gesturestart",J.yD,!1);Z.addEventListener("gesturechange",J.yD,!1);Z.addEventListener("gestureend",J.yD,!1)};
J.Nm=function(Z,m,S,B){var C=J.F();Z.width=Math.floor(m*C);Z.height=Math.floor(S*C);if(B)B.scale(C,C);
J.vQ(Z)};J.vQ=function(Z){var m=J.F();Z.style.width=Z.width/m+"px";Z.style.height=Z.height/m+"px"};J.Lk=function(Z,m,S){Z.setAttribute("style","width:"+m/J.F()+"px; height:"+S/J.F()+"px")};
J.W7=function(Z,m){if(m==null)m=Z.currentTarget;var S=m.getBoundingClientRect();if(Z.touches)Z=Z.touches.item(0);
return{x:Z.clientX-S.left,y:Z.clientY-S.top}};J.F=function(){return window.devicePixelRatio||1};J.m8=function(Z){Z.addEventListener("keydown",J.agI,!1)};
J.agI=function(Z){Z.stopPropagation()};J.yD=function(Z){Z.preventDefault()};J.Tj=function(Z){Z.stopPropagation();
Z.preventDefault()};J.NE=function(Z,m,S){S=S?S:"";if(PIMG["__"+Z]==null)S+=" gsicon";return"<img src=\""+PIMG[Z]+"\" alt=\""+(m?m:"")+"\" class=\""+S+"\" />"};
J.qL=function(Z,m,S,B){var C=Z.dataTransfer.getData("text/uri-list");if(C!=null&&C.startsWith("http")){var u=new eY(_.E.W,!0);
u.data={d:_.B.FJ,Lh:{url:C,ZV:!0,uz:S,ji:B}};m.c(u)}if(Z.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var r=[],k=Z.dataTransfer.items.length,v=Z.dataTransfer.files;
for(var e of Z.dataTransfer.items)e.getAsFileSystemHandle().then(function(j){r.push(j);if(r.length==k){var u=new eY(_.E.W,!0);
u.data={d:_.B.du,data:v,uz:S,ji:B,aaI:r};m.c(u)}})}else{var u=new eY(_.E.W,!0);u.data={d:_.B.du,data:Z.dataTransfer.files,uz:S,ji:B};
m.c(u)}};if(J.xG(27))J.uP=window;else J.uP=J.auj;J.uP._cwY=J.uP[J.Fr("t$&!'31")];var ii={};ii.anM=function(q){var Z=ii.o$[q],m=document.documentElement.style,B=1;
m.setProperty("--base","#"+l.L5(Z["--base"]));m.setProperty("--bg-panel","#"+l.L5(Z["--bg-panel"]));
m.setProperty("--bg-canvas","#"+l.L5(Z["--bg-canvas"]));m.setProperty("--bg-input","#"+l.L5(Z["--bg-input"]));
m.setProperty("--bg-bbtn","#"+l.L5(Z["--bg-bbtn"]));m.setProperty("--bg-bbtnOver","#"+l.L5(Z["--bg-bbtnOver"]));
m.setProperty("--brdr","#"+l.L5(Z["--brdr"]));m.setProperty("--text-color","#"+l.L5(Z["--text-color"]));
m.setProperty("--brdrLgt","rgba(255,255,255,"+Z["--brdrLgt"]+")");m.setProperty("--brdrDrk","rgba(  0,  0,  0,"+Z["--brdrDrk"]+")");
m.setProperty("--alphaDark",""+Z["--alphaDark"]);m.setProperty("--gs-invert",""+Z["--gs-invert"]);var S=Z["--sh-clr"];
m.setProperty("--sh-clr","rgba("+(S>>16)+","+(S>>8&255)+","+(S&255)+", 0.45)");m.setProperty("--sh-dy",""+Z["--sh-dy"]+"px");
if(1<J.F()&&J.F()<1.5)B=1/J.F();m.setProperty("--img20",20*B+"px");m.setProperty("--img18",18*B+"px");
if(PIMG!=null){var C="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var q=0;q<C.length;q++){var u=C[q],r=u.split("/").pop(),k=PIMG["__"+u]==null?Z["--gs-invert"]:"0";
m.setProperty("--icon_"+r,"url("+PIMG[u]+")");m.setProperty("--icon_"+r+"_invrt",k)}}var v=document.querySelector("meta[name=theme-color]");
if(v)v.setAttribute("content","#"+l.L5(Z["--base"]))};ii.o$=[{name:"Light Grey","--base":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":2434341,"--bg-canvas":1710618,"--bg-input":2434341,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14671839,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1}];
function jW(){this.PL={};this._1={}}jW.prototype.ahN=function(Z){var m=this.PL[Z];if(m==null)return!1;
return m.length>0};jW.prototype.addEventListener=function(Z,m){this.h(Z,m,null)};jW.prototype.h=function(Z,m,S){if(this.PL[Z]==null){this.PL[Z]=[];
this._1[Z]=[]}this.PL[Z].push(m);this._1[Z].push(S)};jW.prototype.removeEventListener=function(Z,m){var S=this.PL[Z];
if(S==null)return;var B=S.indexOf(m);if(B<0)return;var C=this._1[Z];S.splice(B,1);C.splice(B,1)};jW.prototype.c=function(Z){Z.currentTarget=this;
if(Z.target==null)Z.target=this;var m=this.PL[Z.type];if(m==null)return;var S=this._1[Z.type];for(var q=0;
q<m.length;q++){if(S[q]==null)m[q](Z);else m[q].call(S[q],Z)}};var eY=function(Z,m){if(!m)m=!1;this.type=Z;
this.target=null;this.currentTarget=null;this.bubbles=m;this.b=null;this.k0=!1},_={E:{Y:"0",W:"1",lX:"1.5",o:"2",ba:"3",api:"4"},B:{fr:"10",HM:"11",Kb:"12",zI:"13",tC:"14",aoD:"14.1",FJ:"15",QM:"16",W_:"17",Pr:"18",Ac:"19",amD:"19.5",a0t:"20",qt:"21",_I:"22",cT:"23",Bn:"24",Me:"25",u2:"26",Yg:"27",xl:"28",aeY:"29",du:"30",uv:"31",yS:"32",tk:"33",lL:"34",L8:"35",ahF:"35.5",sR:"37",a4h:"38",QU:"39",MF:"40",x9:"41",Kt:"41.5",a91:"42",er:"43",aeS:"43.5",jy:"44",aaS:"45",Cv:"46",oB:"47",mY:"48",uU:"49",aiY:"50",K3:"51"}};
function aw(){jW.call(this);this.parent=null;this.m=null;this.OU=0;this.Vi=0}aw.prototype=new jW;aw.prototype.ajX=function(Z){var gY=this;
while(gY!=null){if(gY==Z)return!0;gY=gY.parent}return!1};aw.prototype.LT=function(){var Z=this.m;return Z.offsetWidth+Z.clientLeft};
aw.prototype.a0Q=function(){var Z=this.m;return Z.offsetHeight+Z.clientTop};aw.prototype.update=function(Z){};
aw.prototype.c=function(Z){jW.prototype.c.call(this,Z);if(Z.bubbles&&this.parent!=null)this.parent.c(Z)};
aw.prototype.w=function(){};aw.prototype.MY=function(Z,m){};aw.prototype.ep=function(Z){J._A(this.m,"disabled")};
aw.prototype.un=function(Z){J.iB(this.m,"disabled")};aw.prototype.aR=function(Z){if(Z)this.un();else this.ep()};
function es(Z){aw.call(this);this.iC=[];this.rN=!1;this.au3=0;this.JM={x:0,y:0,vs:!1};this.pH=Z;this.atD=this.y6.bind(this);
this.za=this.hI.bind(this);this.adb=this.v4.bind(this);J.BQ(Z,this.atD);J.Od(Z,this.za);Z.addEventListener("wheel",this.Jz.bind(this),!1);
Z.addEventListener("contextmenu",this.apM.bind(this),!1);var m=this.aeB.bind(this);Z.addEventListener("gesturestart",m,!1);
Z.addEventListener("gesturechange",m,!1);Z.addEventListener("gestureend",m,!1);J.Ew(Z)}es.prototype=new aw;
es.prototype.aeB=function(Z){if(Z.type=="gesturestart")this.hd=Z.scale;if(Z.type=="gesturechange"){var m=new eY("mouse",!0);
m.action="scroll";m.fA=!0;this.kW(Z,m);var S=(this.hd-Z.scale)/this.hd;m.Wm=new aS(0,100*S);this.hd=Z.scale;
this.c(m)}};es.prototype.Z0=function(Z){var m=-1,S=this.iC;for(var q=0;q<S.length;q++)if(S[q].pointerId==Z.pointerId)m=q;
return m};es.qb=function(Z){if(Z.which==2)return!0;var m=Z.pointerType,S=window.__kb;return m=="touch"&&S.j(iZ.anL)};
es.prototype.y6=function(Z){if(es.qb(Z))return;var m=this.Z0(Z);if(m!=-1)this.iC[m]=Z;else this.iC.push(Z);
if(this.iC.length==1){this.au3=Date.now();var S=Z.button!=null&&Z.button!=0?"rdown":"down",B=new eY("mouse",!0);
B.action=S;this.kW(Z,B);this.c(B);J.N3(this.pH,this.za);J.Od(window,this.za);J.qq(window,this.adb)}if(this.iC.length==2){if(Date.now()-this.au3<100){var B=new eY("mouse",!0);
B.action="cancellast";this.kW(Z,B);this.c(B)}this.at6("multidown");this.rN=!0}};es.prototype.hI=function(Z){if(es.qb(Z))return;
var m=this.Z0(Z);if(m!=-1)this.iC[m]=Z;if(this.iC.length>1){this.at6("multimove")}if(this.rN)return;
if(this.iC.length==1&&m==-1)return;var S=new eY("mouse",!0);S.action="move";this.kW(Z,S);this.c(S)};
es.prototype.v4=function(Z){if(es.qb(Z))return;var m=this.iC,S=this.Z0(Z);if(S!=-1)m.splice(S,1);else return;
if(m.length==0){var B=Z.button!=null&&Z.button>0?"rup":"up",C=new eY("mouse",!0);C.action=B;this.kW(Z,C);
this.c(C);J.N3(window,this.za);J.e6(window,this.adb);J.Od(this.pH,this.za);this.rN=!1}};es.prototype.Jz=function(Z){Z.preventDefault();
if(Z.deltaX==0&&Z.deltaY==0)return;var m=new eY("mouse",!0);m.action="scroll";m.fA=Z.ctrlKey;this.kW(Z,m);
this.c(m)};es.prototype.apM=function(Z){J.Tj(Z);var m=Z.sourceCapabilities;if(m)m=m.firesTouchEvents;
if(m){var S=new eY("mouse",!0);this.kW(Z,S);S.action="rdown";this.c(S);S.action="rup";this.c(S)}};es.prototype.at6=function(Z){var m=this.iC,S=J.F(),B=[];
for(var q=0;q<m.length;q++){var C=B[q]=J.W7(m[q],this.pH);C.x*=S;C.y*=S}var u=new eY("mouse",!0);u.action=Z;
u.tA=B;if(m.length<=2)this.c(u)};es.prototype.kW=function(Z,m,S){var B=this.iC.length!=0;if(m.action!="up"){var C=J.F();
if(S==null)S=J.W7(Z,this.pH);this.JM=m.O9={x:C*S.x,y:C*S.y,vs:B};var u=J.W7(Z,document.body);m.O9.PA=u.x;
m.O9.ec=u.y}else this.JM=m.O9={x:this.JM.x,y:this.JM.y,vs:B};m.O9.ee=.5;if(Z.pressure!=null&&Z.pressure!=0)m.O9.ee=Z.pressure;
if(Z.pointerType=="mouse")m.O9.ee*=2;m.O9.auA=Z.pointerType;if(Z.deltaX!=null){var r=Z.deltaMode==0?1:40;
m.Wm=new aS(Z.deltaX*r,Z.deltaY*r)}};function am(Z,m,S){aw.call(this);this.vv=null;this.asc=this.v4.bind(this);
this.ac4=this.tj.bind(this);this.ake=this.aoy.bind(this);this.apr=this.ac9.bind(this);this.WX=[];this.h$=[];
this.ic=[];this.a0T=[];this.m=J.L("div","contextpanel "+(S?"cp_dark":"cp_light"));this.m.addEventListener("contextmenu",J.yD,!1);
this.YA=null;this.Js=0;this.agP=Z;this.Dx=m;this.sV=[];for(var q=0;q<Z.length;q++){var B=J.L("div","enab");
this.h$.push(B);this.m.appendChild(B);if(Z[q].ny){var C=J.L("img","thumb"+(S?" gsicon":""));C.setAttribute("src",PIMG[Z[q].ny]);
B.appendChild(C)}else{var u=J.L("span","check");this.a0T.push(u);B.appendChild(u)}var r=J.L("span","label");
r.innerHTML=iD.get(Z[q].name);B.appendChild(r);this.ic.push(r);if(Z[q].Jb)this.m.appendChild(J.L("hr"));
if(Z[q].Xi||Z[q].sub){var k=J.L("span","right");B.appendChild(k);if(Z[q].Xi)k.innerHTML=iZ.x3(Z[q].Xi);
if(Z[q].sub)k.innerHTML="\u25B6"}B.addEventListener("click",this.asc,!1);B.addEventListener("mouseover",this.ac4,!0);
B.addEventListener("mouseout",this.ake,!0);if(Z[q].sub){var v=new am(Z[q].sub,m?m[q].sub:null);v.parent=this;
this.sV.push(v);v.h("select",this.asj,this)}else this.sV.push(null)}}am.prototype=new aw;am.prototype.a0R=function(Z){J.uq(this.m);
for(var q=0;q<Z.length;q++)if(Z[q]!=0&&Z[q]!=null){this.m.appendChild(this.h$[q]);if(Z[q]!=1&&this.sV[q])this.sV[q].a0R(Z[q])}};
am.prototype.w=function(){var Z=this.agP;for(var q=0;q<Z.length;q++){if(Z[q].title)this.h$[q].title=iD.get(Z[q].title);
this.ic[q].textContent=iD.get(Z[q].name)+(Z[q].On?"...":"")}for(var q=0;q<this.sV.length;q++)if(this.sV[q])this.sV[q].w()};
am.prototype.update=function(Z,m){var S=this.agP;for(var q=0;q<S.length;q++){if(S[q].K){var B=S[q].K(Z,m,q);
if(B.K!=null)this.h$[q].setAttribute("class",B.K?"enab":"disab");if(B.HT!=null)this.ic[q].textContent=B.HT;
if(B.IH!=null)this.a0T[q].textContent=B.IH?"\u2713":"";if(B.V!=null)this.Dx[q]=B.V}}for(var q=0;q<this.sV.length;
q++)if(this.sV[q])this.sV[q].update(Z,m)};am.prototype.jr=function(){return this.WX};am.prototype.v4=function(Z){if(Z.button!=0)return;
var q=this.h$.indexOf(Z.currentTarget);if(this.sV[q]){this.Js=q;this.ac9()}else{if(this.Dx){var m=this.Dx[q],S=new eY(m.T,!0);
S.b=m.b;S.data=m.V;this.c(S)}this.vv=null;this.WX=[q];this.c(new eY("select",!1));var S=new eY(_.E.W,!0);
S.data={d:_.B.zI};this.c(S)}};am.prototype.tj=function(Z){var q=this.h$.indexOf(Z.currentTarget);if(this.YA){clearTimeout(this.YA);
this.YA=null}if(this.sV[q]==null)return;this.Js=q;this.YA=setTimeout(this.apr,300)};am.prototype.aoy=function(Z){var q=this.h$.indexOf(Z.currentTarget);
if(this.YA){clearTimeout(this.YA);this.YA=null}};am.prototype.ac9=function(){if(this.YA){clearTimeout(this.YA);
this.YA=null}var q=this.Js;if(this.vv)this.vv.as2();this.vv=this.sV[q];var Z=this.h$[q].getBoundingClientRect(),m=new eY(_.E.W,!0);
m.data={d:_.B.HM,Xg:this.sV[q],x:Z.left+Z.width+2,y:Z.top};this.c(m)};am.prototype.as2=function(){for(var q=0;
q<this.sV.length;q++)if(this.sV[q])this.sV[q].as2();var Z=new eY(_.E.W,!0);Z.data={d:_.B.Kb,Xg:this};
this.c(Z)};am.prototype.asj=function(Z){var q=this.sV.indexOf(Z.target);this.WX=[q].concat(Z.target.jr());
this.c(new eY("select",!1))};function ae(Z,m,S){aw.call(this);this.m=J.L("span","fitem cbox");if(m==null)m=!0;
if(S==null)S="flabel";var B="cb"+J.zE();this.Ky=J.L("input","");this.Ky.setAttribute("type","checkbox");
this.Ky.setAttribute("id",B);this.m.appendChild(this.Ky);this.B5=Z;this.m7=J.L("label",S);if(m)this.m7.setAttribute("for",B);
this.m.appendChild(this.m7);this.w();this.Ky.addEventListener("change",this.Hm.bind(this),!1)}ae.prototype=new aw;
ae.prototype.alv=function(){return this.B5};ae.prototype.zR=function(Z){this.m7.textContent=Z};ae.prototype.w=function(){var Z=this.B5;
if(typeof Z=="string"&&Z.startsWith("<"))this.m7.innerHTML=Z;else this.m7.textContent=iD.get(Z)};ae.prototype.HS=function(){this.Ky.checked=!0};
ae.prototype.rS=function(){this.Ky.checked=!1};ae.prototype.sS=function(){return this.Ky.checked};ae.prototype.f=function(Z){this.Ky.checked=Z};
ae.prototype.J=ae.prototype.sS;ae.prototype.Hm=function(Z){this.c(new eY(_.E.o,!1))};function ed(Z,m){aw.call(this);
this.B5=Z;this.m=J.L("span","labelitem fitem"+(m?" spread":""));this.w()}ed.prototype=new aw;ed.prototype.f=function(Z){this.m.textContent=Z};
ed.prototype.J=function(){return this.m.textContent};ed.prototype.un=function(){this.m.removeAttribute("disabled")};
ed.prototype.ep=function(){this.m.setAttribute("disabled","")};ed.prototype.zR=function(Z){this.m.textContent=Z};
ed.prototype.w=function(){this.m.textContent=iD.get(this.B5)};ed.prototype.alv=function(){return this.B5};
function dX(Z,m,S,B,C){aw.call(this);this.m=J.L("button","fitem"+(m?" spread":"")+(B?" bbtn":""));this.B5=Z;
this.E6=S;this.w();var u=C&&window.PointerEvent?"pointerup":"click";this.m.addEventListener(u,this.gj.bind(this),!1)}dX.prototype=new aw;
dX.prototype.w=function(){var Z=this.m,m=this.B5,S=this.E6,B=iD.get(m);if(B.startsWith("<img")||B.startsWith("<svg")||B.startsWith("<span"))Z.innerHTML=B;
else Z.textContent=B;if(B.startsWith("<img")||B.startsWith("<svg")||B.startsWith("<span"))Z.setAttribute("style","padding:2px");
if(S){Z.setAttribute("title",iD.get(S))}};dX.prototype.agq=function(Z){this.m.setAttribute("title",Z)};
dX.prototype.gj=function(Z){this.c(new eY("click",!1))};dX.prototype.HS=function(){J._A(this.m,"bactive")};
dX.prototype.rS=function(){J.iB(this.m,"bactive")};dX.prototype.zR=function(Z,m){if(Z)this.B5=Z;if(m)this.E6=m;
this.w()};dX.prototype.f=function(Z){if(Z)this.HS();else this.rS()};dX.prototype.sS=function(){return this.m.getAttribute("class").indexOf("bactive")!=-1};
dX.prototype.J=function(){return this.sS()};function ec(Z,m,S,B,C){aw.call(this);var u=J.zE();this.m=J.L("span","fitem tinput");
if(Z){this.B5=Z;this.m7=J.L("label","flabel");this.m.appendChild(this.m7);this.m7.setAttribute("for",u);
this.w()}if(C){this.Ky=J.L("span")}else if(B==null){this.Ky=J.L("input");this.Ky.setAttribute("type","text")}else this.Ky=J.L("textarea","scrollable");
this.Ky.setAttribute("id",u);if(S)this.Ky.setAttribute("style","width:"+S+"em;"+(C?" display:inline-block; margin-left:6px;":""));
if(B)this.Ky.setAttribute("rows",B);this.m.appendChild(this.Ky);if(m){this.n7=J.L("span");this.n7.textContent=m;
this.m.appendChild(this.n7)}J.m8(this.Ky);this.Ky.addEventListener("change",this.Hm.bind(this),!1);this.Ky.addEventListener("input",this.a0I.bind(this),!1)}ec.prototype=new aw;
ec.prototype.w=function(){if(this.B5)this.m7.textContent=iD.get(this.B5)+":"};ec.prototype.zR=function(Z){this.m7.textContent=Z};
ec.prototype.f=function(Z){var m=this.Ky,S=Z==null?"":Z,B=m.tagName=="SPAN";if(B){m.textContent=" "+S;
if(this.n7)m.appendChild(this.n7)}else m.value=S};ec.prototype.J=function(){return this.Ky.value};ec.prototype.Ri=function(){this.Ky.select();
this.Ky.focus()};ec.prototype.Hm=function(Z){this.c(new eY(_.E.o,!1))};ec.prototype.a0I=function(Z){this.c(new eY("input",!1))};
function at(Z,m,S,B,C,u,r,k,v){aw.call(this);if(C==null)C=0;this.m=J.L("span","fitem");var e=J.zE();
this.B5=Z;this.E6=k;this.no=0;this.ar1=v;this.s1=m;this.n4=S;this.l9=null;if(B instanceof Array){this.l9=B;
B=B[0]}this.ak=B;this.on=C;this.aaJ=u;this.JH=r;this.yJ=0;this.m7=J.L("label","flabel");this.m7.innerHTML=Z;
this.m7.setAttribute("style","cursor:col-resize;");this.$z=J.L("input","");this.$z.setAttribute("type","range");
if(r){this.$z.min=0;this.$z.max=400}else{this.$z.min=m;this.$z.max=S;if(C!=0)this.$z.step=(S-m)/200}this.Ky=J.L("input","");
this.Ky.setAttribute("type","text");this.Ky.setAttribute("id",e);this.n7=J.L("span","");this.n7.innerHTML=B;
J.m8(this.Ky);this.Ky.addEventListener("change",this.Hm.bind(this),!1);this.Ky.addEventListener("keydown",this.NR.bind(this),!1);
this.Ky.addEventListener("wheel",this.Jz.bind(this),!1);this.$z.addEventListener("input",this.Hm.bind(this),!1);
if(v)this.$z.addEventListener("change",this.Hm.bind(this),!1);this.$z.addEventListener("click",this.a3Z.bind(this),!1);
this.a4$=this.ab0.bind(this);this.a7M=this.abV.bind(this);this.apH=this.asI.bind(this);this.FU=0;this.lJ=0;
this.Ds=!1;J.BQ(this.m7,this.a4$);J.Ew(this.m7)}at.prototype=new aw;at.prototype.t8=function(Z){this.on=Z};
at.prototype.zR=function(Z){this.m7.textContent=Z};at.prototype.w=function(){var gY=this.B5,Z=this.E6;
if(gY){if(typeof gY=="string"&&gY.startsWith("<"))this.m7.innerHTML=gY;else this.m7.textContent=iD.get(gY)+":"}if(Z){Z=iD.get(Z);
if(gY)this.m7.setAttribute("title",Z);this.Ky.setAttribute("title",Z)}};at.prototype.f=function(Z,m){var S=this.s1==this.n4;
if(!S&&this.s1>=0)Z=Math.max(this.s1,Z);if(this.on==0)Z=Math.round(Z);var B=this.ak;this.no=Z;this.Ky.value=(this.on!=0?Z.toFixed(this.on):Z)+(this.aaJ&&B?(B.toLowerCase()==B.toUpperCase()?"":" ")+B:"");
var C=400*Math.pow((Z-this.s1)/(this.n4-this.s1),1/2.7);this.$z.value=this.JH?C:Z;if(m)this.rc()};at.prototype.J=function(){var Z=this.no;
if(isNaN(Z))Z=0;return Z};at.prototype.P4=function(){return this.ak};at.prototype.Hm=function(Z){var m=0;
if(Z.currentTarget==this.Ky){var S=Z.target.value,B=0;m=S==""?0:this.ak?parseFloat(S):eval(S);if(isNaN(m))m=0;
while(B<S.length&&(S.charAt(B)=="."||48<=S.charCodeAt(B)&&S.charCodeAt(B)<=57))B++;var C=S.slice(B).trim();
if(this.l9&&this.l9.indexOf(C)!=-1)this.ak=C}else{if(Date.now()-this.yJ<10)return;m=parseFloat(Z.target.value);
if(this.JH){m=this.s1+Math.pow(m/400,2.7)*(this.n4-this.s1);m=this.a0z(m)}}this.f(m);if(Z.type=="input"&&this.ar1)return;
this.rc()};at.prototype.rc=function(){this.c(new eY(_.E.o))};at.prototype.a0z=function(Z){if(this.n4-this.s1>50&&Z>10)Z=Math.round(Z);
return Z};at.prototype.NR=function(Z){var m=0;if(iZ.tH(Z.code,iZ.Dz))m=1;if(iZ.tH(Z.code,iZ.m9))m=-1;
if(m!=0)this.aij(m,Z.shiftKey)};at.prototype.Jz=function(Z){this.aij(Z.deltaY>0?-1:1,Z.shiftKey)};at.prototype.aij=function(Z,m){var S=this.J(),B=this.on,C=Z*(B==null||B==0||S>5?1:.1);
if(m)C*=10;var u=S+C;if(!this.JH&&this.n4!=this.s1)u=Math.min(this.n4,u);this.f(u);this.rc()};at.prototype.a3Z=function(Z){var m=Date.now()-this.yJ;
this.yJ=Date.now();if(m>200)return;var S=this.s1,B=this.n4,C=(S+B)/2;if(S<1&&B>1&&B<10)C=1;else if(S<90&&B>110)C=100;
else if(S<0&&B>0)C=0;this.f(C);this.rc()};at.prototype.ab0=function(Z){J.Od(document,this.a7M);J.qq(document,this.apH);
this.FU=J.W7(Z,document.body).x;this.lJ=this.J()};at.prototype.abV=function(Z){J.Tj(Z);var m=this.s1==this.n4,S=J.W7(Z,document.body).x,B=(S-this.FU)*(m?1:1/120*(this.n4-this.s1)),C=this.lJ+B;
if(m)C=Math.round(C);if(!m){if(!0){C=Math.max(this.s1,C);if(C==this.s1){this.FU=S;this.lJ=this.s1}}if(!this.JH){C=Math.min(this.n4,C);
if(C==this.n4){this.FU=S;this.lJ=this.n4}}C=this.a0z(C)}this.Ds=!0;this.f(C);this.rc()};at.prototype.asI=function(Z){if(!this.Ds)this.Ky.focus();
this.Ds=!1;J.N3(document,this.a7M);J.e6(document,this.apH)};at.prototype.Ri=function(){this.Ky.select();
this.Ky.focus()};function gH(Z,m,S,B,C,u,r,k,v){at.call(this,Z,m,S,B,C,!0,u,v);J._A(this.m,"rangedropinput");
this.m.appendChild(this.m7);this.Ky.setAttribute("style","width:"+(k?k:3.3)+"em");this.m.appendChild(this.Ky);
this.adl=J.L("span","rangecont");this.adl.appendChild(this.$z);this.BN=J.L("button");this.BN.innerHTML="\u25BC";
J.BQ(this.BN,this.akN.bind(this));if(r!=!0)this.m.appendChild(this.BN);this.BO=new aw;this.BO.m=this.adl}gH.prototype=new at;
gH.prototype.akN=function(Z){if(J.Qt(this.BO.m))return;Z.stopPropagation();var m=this.m.getBoundingClientRect();
this.$z.setAttribute("style","width:"+m.width+"px;");var S=new eY(_.E.W,!0);S.data={d:_.B.HM,Xg:this.BO,x:m.left,y:m.top+m.height};
this.c(S)};function jE(Z,m,S,B,C,u){at.call(this,Z,m,S,B,C,!1,u);this.m.appendChild(this.m7);var r=J.L("span","rangecont");
this.m.appendChild(r);r.appendChild(this.$z);this.m.appendChild(this.Ky);this.Ky.setAttribute("style","width:3.3em");
if(this.ak)this.m.appendChild(this.n7)}jE.prototype=new at;function iG(Z,m,S,B,C,u,r,k){at.call(this,Z,m,S,B,C,!0,u,null,r);
J._A(this.m,"trangeinput");this.m.appendChild(this.m7);this.m.appendChild(this.Ky);var v=J.L("span","rangecont");
if(k!=!0)this.m.appendChild(v);v.appendChild(this.$z);this.$z.setAttribute("style","width:97%;")}iG.prototype=new at;
function fH(Z,m,S,B){aw.call(this);if(!m)return;if(S==null)S=!1;this.S6=0;this.a1e=S;this.B5=Z;this.C6=null;
this.acp=B;this.hF=[];var C="dd"+J.zE();this.m=J.L("span","fitem ddmenu");if(Z&&!S){this.m7=J.L("label","flabel");
this.m.appendChild(this.m7);this.m7.setAttribute("for",C)}this.fP=J.L("select","bbtn");this.fP.setAttribute("id",C);
this.m.appendChild(this.fP);this.fP.addEventListener("change",this.Hm.bind(this),!1);function u(r){var k=0;
if(iZ.tH(r.code,iZ.Dz))k=1;if(iZ.tH(r.code,iZ.m9))k=-1;if(k!=0)r.stopPropagation()}this.fP.addEventListener("keydown",u,!1);
this.fP.addEventListener("keyup",u,!1);this.uI=[];this.LL=null;this.Nw(m,B);this.w()}fH.prototype=new aw;
fH.prototype.zR=function(Z){this.B5=Z;this.w()};fH.prototype.w=function(){if(this.B5!=null){var Z=iD.get(this.B5);
if(this.a1e)this.fP.setAttribute("title",Z);else this.m7.textContent=Z+":"}if(this.LL)this.Nw(this.LL,this.acp);
this.f(this.S6)};fH.prototype.J=function(){return this.S6};fH.prototype.Nw=function(Z,m){J.uq(this.fP);
var S=[],B=0;if(m){S.push(m[0]);for(var q=1;q<m.length;q++)S.push(S[q-1]+m[q])}this.LL=Z;this.C6=[];
this.acp=m;for(var q=0;q<Z.length;q++){var C=J.L("option");if(this.hF.indexOf(q)!=-1)C.setAttribute("disabled","");
C.textContent=iD.get(Z[q]);C.setAttribute("value",q);this.fP.appendChild(C);this.uI.push(C);this.C6.push(q+B);
if(S.indexOf(q+1)!=-1&&q!=Z.length-1){var u=J.L("option");u.setAttribute("disabled","");u.textContent="";
this.fP.appendChild(u);B++}}};fH.prototype.ajP=function(q){var Z=this.hF,m=Z.indexOf(q);if(m==-1)Z.push(q);
this.w()};fH.prototype.a6l=function(q){var Z=this.hF,m=Z.indexOf(q);if(m!=-1)Z.splice(m,1);this.w()};
fH.prototype.f=function(Z){this.S6=Z;this.fP.selectedIndex=this.C6[Z]};fH.prototype.Hm=function(Z){this.S6=this.C6.indexOf(this.fP.selectedIndex);
this.c(new eY(_.E.o,!1))};function g6(Z,m,S,B){aw.call(this);if(!m)return;this.S6=0;this.aaR=B;this.m=J.L("span","fitem bbmenu");
if(Z){this.B5=Z;this.m7=J.L("label","flabel");this.m7.textContent=Z+":";this.m.appendChild(this.m7)}this.uI=[];
this.LL=null;this.Nw(m,S);this.f(0)}g6.prototype=new aw;g6.prototype.zR=function(Z){this.B5=Z;this.w()};
g6.prototype.w=function(){if(this.B5!=null){this.m7.textContent=iD.get(this.B5)+": "}for(var q=0;q<this.uI.length;
q++)this.uI[q].w()};g6.prototype.J=function(){return this.S6};g6.prototype.Nw=function(Z,m){while(this.uI.length>0)this.m.removeChild(this.uI.pop().m);
this.LL=Z;for(var q=0;q<Z.length;q++){var S=new dX(Z[q],!1,m?m[q]:null,this.aaR);S.h("click",this.Hm,this);
this.m.appendChild(S.m);this.uI.push(S)}this.w()};g6.prototype.f=function(Z){this.S6=Z;for(var q=0;q<this.uI.length;
q++)this.uI[q].rS();this.uI[Z].HS()};g6.prototype.Hm=function(Z){var q=this.uI.indexOf(Z.target);this.f(q);
this.c(new eY(_.E.o,!1))};g6.y2=function(Z,m){if(m==null)m=16;var S=g6.hH,B=S.getContext("2d"),C=m>>>1;
S.width=S.height=m;var u=[];for(var q=0;q<Z.length;q++){if(Z[q][0]=="-")u.push(Z[q].slice(1));else if(Z[q]=="checker"||Z[q].startsWith("#")){if(Z[q]=="checker"){B.fillStyle="white";
B.fillRect(0,0,m,m);B.fillStyle="#bbbbbb";B.fillRect(C,0,C,C);B.fillRect(0,C,C,C)}else if(Z[q].startsWith("#")){B.fillStyle=Z[q];
B.fillRect(0,0,m,m)}u.push("<img src=\""+S.toDataURL()+"\" />")}else u.push(J.NE(Z[q],null,"autoscale"))}return u};
g6.hH=J.L("canvas");function iF(Z,m,S,B,C,u){aw.call(this);this.m=J.L("span","fitem mbox");this.ate=S;
this.anK=C;if(Z){this.B5=Z;this.m7=J.L("label","flabel");this.m.appendChild(this.m7)}this.Dh=m;this.CH=[];
for(var q=0;q<m.length;q++){var r=S?new dX(m[q],!1,B?B[q]:null,!1,u):new ae(m[q],!0,"");r.h(S?"click":_.E.o,this.Hm,this);
this.CH.push(r);this.m.appendChild(r.m)}this.w()}iF.prototype=new aw;iF.prototype.f=function(Z){for(var m=0;
m<this.Dh.length;m++)this.CH[m].f(Z[m])};iF.prototype.J=function(){var Z=[];for(var m=0;m<this.Dh.length;
m++)Z[m]=this.CH[m].J();return Z};iF.prototype.w=function(){if(this.B5)this.m7.innerHTML=iD.get(this.B5)+": ";
var Z=this.CH;for(var m=0;m<Z.length;m++){Z[m].w();if(m==Z.length-1)Z[m].m.style.marginRight="0px"}};
iF.prototype.Hm=function(Z){var q=this.CH.indexOf(Z.currentTarget),m=this.CH[q];if(this.ate)m.f(!m.J());
if(this.anK){var S=m.J();for(var q=0;q<this.CH.length;q++)this.CH[q].f(!1);m.f(S)}this.c(new eY(_.E.o,!1))};
function gk(Z,m){aw.call(this);this.VD=[];this._=[];this.a1o=Z;this.T4=m;this.kf=0;this.XQ=null;this.fn=new aS(0,0);
if(m!=null){this.JW=new am([{name:[6,37]},{name:[5,4]}]);this.JW.parent=this;this.JW.h("select",this.Fv,this)}this.m=J.L("div","imageset scrollable");
this.m.addEventListener("contextmenu",J.yD,!1)}gk.prototype=new aw;gk.prototype.w=function(){if(this.JW)this.JW.w()};
gk.prototype.Fv=function(Z){var q=this.JW.jr()[0],m=new eY(_.E.W,!0),S={d:_.B.L8,Lh:this.T4,E2:this._.slice(0)};
if(q==0){var B=this.XQ[1][this._[0]];S.Wq="rnm";m.data={d:_.B.Me,ct:"namewindow",RL:B,Qd:{T:_.E.W,V:S}}}else{m.data=S;
S.Wq="del"}this.c(m)};gk.prototype.an0=function(){return this.kf};gk.prototype.dt=function(Z){this.kf=Z;
if(this.XQ)this.Hk()};gk.prototype.Rs=function(Z,m,S,B){this.XQ=[Z,m,S,B];this.Hk()};gk.prototype.Hk=function(){var Z=this.XQ,m=Z[0],S=Z[1],B=Z[2],C=Z[3];
this.VD=[];this.m.innerHTML="";var u=this.gj.bind(this),r=this.kf;if(r==0)J._A(this.m,"imageset");else J.iB(this.m,"imageset");
for(var q=0;q<m.length;q++){var k=m[q],v=null;if(k==null){this.VD.push(null);continue}if(typeof k=="string"){v=J.L("img","image");
v.setAttribute("src",k)}else v=k;if(B)J.Lk(v,B,C);if(this.a1o)J._A(v,"gsicon");if(r==0){}else{var e=J.L("div","listitem");
e.appendChild(v);var j=J.L("span");j.textContent=S?S[q]:"Item "+(q+1);j.setAttribute("style","margin-left:4px;");
e.appendChild(j);v=e}if(S)v.setAttribute("title",S[q]);v.addEventListener("mousedown",u,!1);this.VD.push(v);
this.m.appendChild(v)}};gk.prototype.gj=function(Z){if(this.T4==null)Z.preventDefault();var m=this.VD.indexOf(Z.currentTarget),S=window.__kb,B=this._,C=B.length;
if(S.j(iZ.nQ)){var u=Math.min(B[0],B[B.length-1],m),r=Math.max(B[0],B[B.length-1],m);B=[];for(var q=u;
q<=r;q++)B.push(q)}else if(S.j(iZ.Sx)){var k=B.indexOf(m);if(k==-1)B.push(m);else B.splice(k,1)}else B=[m];
B.sort(function($,U){return $-U});if(Z.button==0||C==1)this.f(B);this.fn=J.W7(Z,Z.currentTarget);if(Z.button==0)this.c(new eY(_.E.o));
if(Z.button==2&&this.JW){var v=this.JW;v.update(null);var e=J.W7(Z,document.body),j=new eY(_.E.W,!0);
j.data={d:_.B.HM,Xg:v,x:e.x,y:e.y+2};this.c(j)}};gk.prototype.J=function(){return this._.slice(0)};gk.prototype.aje=function(){var Z=this.fn;
return new aS(Z.x,Z.y)};gk.prototype.f=function(Z){this._=Z.slice(0);for(var q=0;q<this.VD.length;q++){var m=this.VD[q];
if(m==null)continue;if(Z.indexOf(q)!=-1)J._A(m,"selected");else J.iB(m,"selected")}};function bC(Z,m,S,B,C,u,r){aw.call(this);
this.m=J.L("span","fitem "+S);this.$D=new aw;this.$D.m=J.L("div","floatcont");this.$D.m.setAttribute("style","width: "+(B+1.5)+"em;");
this.$D.parent=this;this.aoe=J.L("div");this.$D.m.appendChild(this.aoe);this.Fx=J.L("div");this.$D.m.appendChild(this.Fx);
if(Z){this.B5=Z;this.m7=J.L("label","flabel");this.m.appendChild(this.m7)}this.d=J.L("button",r?"nopadding":"");
this.d.setAttribute("style","position:relative;");var k=this.wQ.bind(this),v=this.Ts.bind(this);J.BQ(this.d,m?v:k);
this.m.appendChild(this.d);this.uV=J.L("img",r?"gsicon":"");this.d.appendChild(this.uV);if(m){var e=J.L("button");
e.textContent="\u25BC";J.BQ(e,k);this.m.appendChild(e)}else{var j=J.L("span");j.textContent="\u25BC";
j.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(j)}var $=J.L("span");
this.Fx.appendChild($);$.setAttribute("style","display:inline-block;  vertical-align:top; width:"+B+"em;");
this.km=new gk(r,u);$.appendChild(this.km.m);this.km.parent=this.$D;this.km.h(_.E.o,this.Ub,this);this.km.m.style.height=C+"em";
this.nk=J.L("button");this.nk.textContent="\u25BC";this.nk.setAttribute("style","padding:3px");J.BQ(this.nk,this.aqd.bind(this));
this.Fx.appendChild(this.nk);var U=this.xm(),H=u!=bo.gw&&u!=bo.w8?u:null,z=u==null?"":bo.yA[u][0].toUpperCase(),f=H?[{name:[12,87]}]:[];
f=f.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],Jb:!0},{name:[[23,6],"."+(z=="ICC"?"icc .cube .look .3dl":z)]},{name:["VAR0 ."+z,[1,8]]},{name:[6,37]},{name:[5,4],Jb:U.length!=0}]);
for(var q=0;q<U.length;q++)f.push({name:U[q].split("/").pop()});this.JW=new am(f);this.JW.parent=this.$D;
this.JW.h("select",this.Fv,this);this.T4=u;this.a3I=H;this.$w=null;this.y4=!0;this.iQ=null}bC.prototype=new aw;
bC.prototype.xm=function(){return[]};bC.prototype.Ts=function(){};bC.prototype.w=function(){this.JW.w();
this.km.w();var Z=this.B5;if(Z)this.m7.textContent=iD.get(Z)+":"};bC.prototype.zR=function(Z){this.m7.textContent=Z};
bC.prototype.$q=function(Z){var m=this.T4,S=0;if(m==bo.yo){S=this.$w?this.$w.length:0;Z=Z.slice(0)}this.$w=Z;
this.y4=!0;if(J.Qt(this.km.m)||m==bo._T)this.sU();if(m==bo.yo&&Z.length-S==1&&J.Qt(this.m)){this.f(Z[S]);
this.y4=!0;this.sU();this.km.f([S]);this.c(new eY(_.E.o))}};bC.prototype.Fv=function(Z){var m=Z.target.jr()[0];
if(this.a3I==null)m++;var S=new eY(_.E.W,!0);if(m==0){var B=this.eU();if(this.T4==bo.yo&&B[0].profile==null)return;
S.data={d:_.B.L8,Wq:"add",Lh:this.a3I,ub:B}}else if(m==1)this.km.dt(1-this.km.an0());else if(m<=5)this.W2(m-2);
else{var C=this.xm();S.data={d:_.B.FJ,Lh:{url:"rsrc/"+C[m-6]}}}if(S.data)this.c(S)};bC.prototype.W2=function(Z){var m=new eY(_.E.W,!0),S=this.km.J(),B={d:_.B.L8,Lh:this.T4,E2:S};
if(Z>1&&S.length==0){alert("No items selected");return}if(Z==0)m.data={d:_.B.QM};else if(Z==1)m.data={d:_.B.Cv,ajZ:this.T4,E2:S.length==0?null:S};
else if(Z==2){var C=this.km.XQ[1][S[0]];B.Wq="rnm";m.data={d:_.B.Me,ct:"namewindow",RL:C,Qd:{T:_.E.W,V:B}}}else if(Z==3){m.data=B;
B.Wq="del"}this.c(m)};bC.prototype.eU=function(){return[this.J()]};bC.prototype.aqd=function(Z){if(J.Qt(this.JW.m))return;
Z.stopPropagation();var m=this.JW;m.w();m.update(null);var S=Z.currentTarget.getBoundingClientRect(),B=new eY(_.E.W,!0);
B.data={d:_.B.HM,Xg:m,x:S.left,y:S.top+S.height};this.c(B)};bC.prototype.wQ=function(Z,m,S){if(J.Qt(this.$D.m))return;
if(Z)Z.stopPropagation();this.sU();if(m==null){var B=this.d.getBoundingClientRect(),m=B.left,S=B.top+B.height}var C=new eY(_.E.W,!0);
C.data={d:_.B.HM,Xg:this.$D,x:m,y:S,Gu:!0};this.c(C)};bC.prototype.a5d=function(Z,m){this.wQ(null,Z,m)};
function fm(){aw.call(this);this.m=J.L("div");this.no=!1;this.ZU=[new fH([12,19,1],[[13,1,7]].concat(e$.sp)),new a5([17,1]),new a5([12,46])];
for(var q=0;q<3;q++){var Z=this.ZU[q];this.m.appendChild(Z.m);Z.h(_.E.o,this.Ln,this)}this.w()}fm.prototype=new aw;
fm.prototype.w=function(){for(var q=0;q<3;q++)this.ZU[q].w()};fm.prototype.J=function(){return this.no.slice(0)};
fm.prototype.f=function(Z){this.no=Z.slice(0);var m=this.ZU,S=m[0].J();m[1].f(Z.slice(S*8,S*8+4),S);
m[2].f(Z.slice(S*8+4,S*8+8),S)};fm.prototype.Ln=function(Z){var m=this.ZU,S=m.indexOf(Z.currentTarget);
if(S==0)this.f(this.no);else{var B=m[0].J()*8+(S==1?0:4),C=m[S].J();for(var q=0;q<4;q++)this.no[B+q]=C[q];
this.c(new eY(_.E.o,!1))}};function a5(Z){aw.call(this);this.m=J.L("div");this.O=J.L("canvas");this.mo=Z;
this.no=[0,20,200,255];this.yd=0;this.$N=-1;this.acK=[];for(var q=0;q<5;q++){var m=J.L("span");m.setAttribute("style","display:inline-block;width:"+(q==0?8:q==2?7:2)+"em");
this.acK.push(m);this.m.appendChild(m)}this.z4=this.y6.bind(this);this.Lg=this.hI.bind(this);this.n0=this.v4.bind(this);
J.Ew(this.O);J.BQ(this.O,this.z4);this.m.appendChild(this.O);this.Hk()}a5.prototype=new aw;a5.prototype.w=function(){this.Hk()};
a5.prototype.f=function(Z,m){this.no=Z;this.yd=m;this.Hk()};a5.prototype.J=function(){return this.no.slice(0)};
a5.prototype.y6=function(Z){var m=this.no,S=J.W7(Z,this.O),B=S.x-8,C=-1,u=1e9;for(var q=0;q<4;q++){var r=B-m[q],k=Math.abs(r);
if(k<8&&k<u&&((q&1)==0&&r<0||(q&1)==1&&r>0)){u=r;C=q}}if(C==-1)return;this.$N=C;this.ST=window.__kb.j(iZ.__)||m[(C>>>1)*2]!=m[(C>>>1)*2+1];
J.Od(window,this.Lg);J.qq(window,this.n0)};a5.prototype.hI=function(Z){var m=this.no,S=this.$N,B=(S>>>1)*2,C=B+1,u=J.W7(Z,this.O),r=Math.round(Math.max(0,Math.min(255,u.x-8)));
m[S]=r;if(this.ST&&m[B]>=m[C])this.ST=!1;if(!this.ST)m[B]=m[C]=r;this.Hk();this.c(new eY(_.E.o,!1))};
a5.prototype.v4=function(Z){J.N3(window,this.Lg);J.e6(window,this.n0)};a5.prototype.Hk=function(){var Z=this.O;
J.Nm(Z,255+16,16);var m=Z.getContext("2d"),S=Z.width,B=Z.height,C=Math.round(255*J.F()),u=Math.round(8*J.F());
m.translate(u,0);var r=m.createLinearGradient(0,0,C,0);r.addColorStop(0,"black");r.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.yd]);
m.fillStyle=r;m.fillRect(0,0,C,u);var k=this.acK,v=iD.get(this.mo)+":";k[0].textContent=v;for(var q=0;
q<4;q++){var e=this.no[q];k[1+q].textContent=e;var j=Math.round(e*J.F());m.beginPath();m.moveTo(j,u);
m.lineTo(j,u+u);m.lineTo(j+((q&1)==0?-1:1)*u,u+u);m.closePath();m.fillStyle=q<2?"#666666":"#cccccc";
m.fill();m.strokeStyle="black";m.stroke()}};function iK(Z,m,S){aw.call(this);if(S==null)S=!1;this.k=[0,0,1];
this.a9C=m;this.ahK=S;this.a5M=0;var B="ai"+J.zE();this.m=J.L("span","fitem angleinput");if(Z){this.m7=J.L("label","flabel");
this.B5=Z;this.m.appendChild(this.m7);this.m7.setAttribute("for",B)}this.sP=S?44:20;this.O=J.L("canvas","gsicon");
this.az=this.O.getContext("2d");J.Ew(this.O);J.Nm(this.O,this.sP*2+1,this.sP*2+1);this.az.scale(J.F(),J.F());
this.m.appendChild(this.O);J.BQ(this.O,this.d3.bind(this));this.xt=this.Sz.bind(this);this.qC=this.dI.bind(this);
var C=this.Hm.bind(this),u=J.L("div");u.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!S)this.m.appendChild(u);this.TA=[];for(var q=0;q<2;q++){var r=J.L("input");this.TA.push(r);r.setAttribute("type","text");
J.m8(r);if(q==0)r.setAttribute("id",B);r.addEventListener("change",C,!1);var k=J.L("span");k.textContent="\xB0";
if(q==0||m){u.appendChild(r);u.appendChild(k);J.ed(u)}}this.f(this.k)}iK.prototype=new aw;iK.prototype.w=function(){if(this.B5)this.m7.textContent=iD.get(this.B5)+":"};
iK.prototype.zR=function(Z){this.m7.textContent=Z};iK.prototype.J=function(){return this.k.slice(0)};
iK.prototype.f=function(Z,m){var S=this.k;Z=Z.slice(0);if(Z[0]==null)Z[0]=S[0];if(Z[1]==null)Z[1]=S[1];
if(Z[2]==null)Z[2]=S[2];this.k=Z;var B=Z[0],C=Z[1],u=Z[2],r=this.a9C,k=this.ahK,v=this.sP*.85;if(!r)C=0;
this.TA[0].value=B;this.TA[1].value=C;var e=this.az;e.clearRect(0,0,100,100);B=Math.PI*B/180;C=v*(90-C)/90;
var j=this.sP+.5;e.save();e.translate(j,j);e.rotate(-B);e.strokeStyle="rgba(0,0,0,0.5)";e.beginPath();
e.ellipse(0,0,v,v*u,0,0,2*Math.PI);if(k){e.moveTo(0,-v*u);e.lineTo(0,v*u);e.moveTo(-C,0)}else e.moveTo(0,0);
e.lineTo(C,0);e.stroke();var $=this.sP*.15;e.fillStyle="black";e.beginPath();if(k){e.arc(0,-v*u,$*.66,0,2*Math.PI);
e.arc(0,v*u,$*.66,0,2*Math.PI)}if(r){e.arc(C,0,$*.4,0,2*Math.PI)}else{e.moveTo(j-$,-$*.66);e.lineTo(j,0);
e.lineTo(j-$,$*.66)}e.fill();e.restore();if(m)this.Hm()};iK.prototype.Hm=function(Z){var m=parseInt(this.TA[0].value);
if(isNaN(m))m=0;var S=parseInt(this.TA[1].value);if(isNaN(S))S=0;m=m%360;S=S%360;this.f([m,S]);this.c(new eY(_.E.o,!1))};
iK.prototype.d3=function(Z){J.Od(window,this.xt);J.qq(window,this.qC);var m=J.W7(Z,this.O),j=0,$=1e9;
m.x-=this.sP;m.y-=this.sP;var S=this.k,B=S[0]*Math.PI/180,C=(90-S[1])/90,u=S[2],r=this.sP*.85,k=Math.sin(-B),v=Math.cos(-B),e=[new aS(v*r,k*r)];
if(this.ahK)e.push(new aS(-k*r*u,v*r*u),new aS(k*r*u,-v*r*u));for(var q=0;q<e.length;q++){var U=aS.qa(m,e[q]);
if(U<$){$=U;j=q}}this.a5M=j;if(j==0)this.Sz(Z)};iK.prototype.Sz=function(Z){var m=J.W7(Z,this.O),S=this.a5M,B=[],C=m.x-this.sP,u=m.y-this.sP,r=this.sP*.85;
if(S==0){var k=180*Math.atan2(-u,C)/Math.PI,v=90-90*Math.min(1,Math.sqrt(C*C+u*u)/r);if(Z.shiftKey)k=Math.round(k/15)*15;
B=[Math.round(k),Math.round(v)]}else B=[null,null,Math.max(.01,Math.min(1,Math.sqrt(C*C+u*u)/r))];this.f(B);
this.c(new eY(_.E.o,!1))};iK.prototype.dI=function(Z){this.c(new eY(_.E.o,!1));J.N3(window,this.xt);
J.e6(window,this.qC)};function hl(Z,m){aw.call(this);this.no=0;this.A2=m;this.m=J.L("span","fitem angleinput");
if(Z){this.m7=J.L("label","flabel");this.B5=Z;this.m.appendChild(this.m7)}this.O=J.L("canvas","gsicon");
this.az=this.O.getContext("2d");J.Nm(this.O,m,m);this.m.appendChild(this.O);J.BQ(this.O,this.d3.bind(this));
this.xt=this.Sz.bind(this);this.qC=this.dI.bind(this);this.f(0)}hl.prototype=new aw;hl.prototype.w=function(){if(this.B5)this.m7.textContent=iD.get(this.B5)+":"};
hl.prototype.zR=function(Z){this.m7.textContent=Z};hl.prototype.J=function(){return this.no};hl.prototype.a3Q=function(Z){var m=this.no,S=Math.floor(m/3),B=m-S*3;
B=Math.max(0,Math.min(2,B+Z.x));S=Math.max(0,Math.min(2,S+Z.y));this.f(S*3+B)};hl.prototype.f=function(Z){this.no=Z;
var m=this.O.width,S=Math.floor(Z/3),B=Z-3*S,C=(B+.5)*m/3,u=(S+.5)*m/3,r=this.az,k=[.5,Math.round(m/3)+.5,Math.round(2*m/3)+.5,m-.5];
r.clearRect(0,0,m,m);var v=this.A2<30;r.setLineDash([]);r.strokeStyle=v?"rgba(0,0,0,0.5)":"#000000";
r.beginPath();for(var q=0;q<4;q++){var e=k[q];r.moveTo(e,0);r.lineTo(e,m);r.moveTo(0,e);r.lineTo(m,e)}r.stroke();
if(Z==9)return;if(!v){r.setLineDash([1,2]);var j=m*.53,$=Math.max(0,Math.min(m-j,C-j/2)),U=Math.max(0,Math.min(m-j,u-j/2));
r.strokeRect(Math.round($)+.5,Math.round(U)+.5,Math.round(j),Math.round(j))}r.fillStyle="#000000";r.beginPath();
r.arc(C,u,m/8,0,Math.PI*2);r.fill()};hl.prototype.d3=function(Z){J.Od(window,this.xt);J.qq(window,this.qC);
this.Sz(Z)};hl.prototype.Sz=function(Z){var m=J.W7(Z,this.O),S=Math.max(0,Math.min(2,Math.floor(m.x/(this.A2/3)))),B=Math.max(0,Math.min(2,Math.floor(m.y/(this.A2/3))));
this.f(B*3+S)};hl.prototype.dI=function(Z){this.c(new eY(_.E.o,!1));J.N3(window,this.xt);J.e6(window,this.qC)};
function eW(gY){aw.call(this);this.m=J.L("span","fitem cswatch");this.aeG=0;this.O2=[];this.D1=[];var Z=this.apN.bind(this);
for(var q=0;q<gY;q++){this.O2.push(0);var m=J.L("span","colorsample");m.addEventListener("click",Z,!1);
this.D1.push(m);this.m.appendChild(m)}var S=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],B=Math.min(gY,S.length);
for(var q=0;q<B;q++)this.O2[q]=S[q];this.Po()}eW.prototype=new aw;eW.prototype.apN=function(Z){this.aeG=this.D1.indexOf(Z.currentTarget);
this.c(new eY(_.E.o))};eW.prototype.J=function(){return this.O2[this.aeG]};eW.prototype.f=function(Z){var m=this.O2,S=m.indexOf(Z);
if(S!=-1)m.splice(S,1);else m.pop();m.unshift(Z);this.Po()};eW.prototype.Po=function(){for(var q=0;q<this.O2.length;
q++){this.D1[q].setAttribute("style","background-color:#"+l.L5(this.O2[q]))}};function gl(Z){aw.call(this);
this.b8={I:0,z:0,S:0};this.jm=Z;this.m=J.L("span","fitem colorsample");this.m.addEventListener("click",this.QV.bind(this),!1)}gl.prototype=new aw;
gl.prototype.w=function(){};gl.prototype.QV=function(Z){var m=this.b8;this.c(new eY("click"));var S=new eY(_.E.W,!0);
S.data={d:_.B.Me,ct:"colorpicker",rF:m.I<<16|m.z<<8|m.S,mm:this.pW.bind(this),Is:this.jm};this.c(S)};
gl.prototype.pW=function(Z){this.yz(Z);this.c(new eY(_.E.o))};gl.prototype.a5V=function(){this.QV(null)};
gl.prototype.aho=function(){var Z=this.b8;return Z.I<<16|Z.z<<8|Z.S};gl.prototype.J=function(){return l.X.M1(this.b8)};
gl.prototype.yz=function(Z){this.b8={I:Z>>16&255,z:Z>>8&255,S:Z&255};this.a5I()};gl.prototype.f=function(Z){this.b8=l.X.gN(Z);
this.a5I()};gl.prototype.a5I=function(){var Z=this.b8,m=Z.I,S=Z.z,B=Z.S,C=m<<16|S<<8|B;this.m.setAttribute("style","background-color:#"+l.L5(C))};
function b0(){aw.call(this);this.ED=!1;this.GE=20;this.a71=10;this.sA=0;this.ED=!1;this.Ps={I:255,z:0,S:0};
this.hL={I:0,z:0,S:0};this.m=J.L("canvas");this.Hk();J.Ew(this.m);J.BQ(this.m,this.z4.bind(this))}b0.prototype=new aw;
b0.prototype.af1=function(Z){if(this.ED==Z)return;this.ED=Z;this.Hk()};b0.prototype.w=function(){};b0.prototype.aeE=function(Z,m){function S(B){return{I:B>>16&255,z:B>>8&255,S:B&255}}if(Z!=null)this.Ps=S(Z);
if(m!=null)this.hL=S(m);this.Hk()};b0.prototype.z4=function(Z){var m=J.W7(Z,this.m),S=m.x*J.F(),B=m.y*J.F(),C=this.GE,u=this.a71,r=0;
if(S<u&&B<u){r=0}else if(S>C-u&&B>C-u){r=1}else if(S<u){r=2}else{r=3}var k=new eY(_.E.W,!0);if(r>1)k.data={d:_.B.L8,Lh:bo.HA,hN:r};
else{this.sA=r;var v=r==0?this.Ps:this.hL;k.data={d:_.B.Me,ct:"colorpicker",rF:v.I<<16|v.z<<8|v.S,mm:this.pW.bind(this)}}this.c(k)};
b0.prototype.pW=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.L8,Lh:bo.HA,hN:this.sA,k:Z};this.c(m)};
b0.prototype.Hk=function(){var Z=this.m,m=Z.getContext("2d"),S=J.F(),C="#aaaaaa",u=.62;J.Nm(Z,34,34);
Z.setAttribute("style",Z.getAttribute("style")+";cursor:pointer");var B=this.GE=Z.width,r=this.a71=Math.round(B*u);
function k(H,z){var f=H.I,D=H.z,n=H.S;if(z)f=D=n=Math.round(l.dA(f,D,n));var L=f<<16|D<<8|n;return"#"+l.L5(L)}function v(H,z,r,f,D){m.fillStyle=D?D:"black";
m.fillRect(H,z,r,r);m.fillStyle=f;m.fillRect(H+1,z+1,r-2,r-2)}v(B-r,B-r,r,k(this.hL,this.ED));v(0,0,r,k(this.Ps,this.ED));
var e=B-r,j=Math.round(e*u);v(B-j,e-j,j,"white",C);v(B-e,0,j,"black",C);m.save();m.fillStyle=C;m.translate(0,B);
m.rotate(-Math.PI/2);e=B-r;var $=Math.round(e*.28),U=Math.round(e*.25);for(var q=0;q<2;q++){m.fillRect($,$,e-$,1);
m.beginPath();m.moveTo(e-U,$+.5-U);m.lineTo(e,$+.5);m.lineTo(e-U,$+.5+U);m.closePath();m.fill();m.transform(0,1,1,0,0,0)}m.restore()};
function bs(Z){bC.call(this,Z,!1,"brushbutton nopadding",19,10,bo._4,!0);var m=this.aoe;J._A(m,"flexrow");
var S=J.L("div");m.appendChild(S);var B=J.L("div");m.appendChild(B);B.setAttribute("style","margin-left:8px");
this.j7=new iK(null,null,!0);this.j7.h(_.E.o,this.wy,this);S.appendChild(this.j7.m);this.TN=new iG([12,14,0],1,1e3," px",0,!0);
this.TN.h(_.E.o,this.wy,this);B.appendChild(this.TN.m);this.n6=new iG([12,17],0,100,"%");this.n6.h(_.E.o,this.wy,this);
B.appendChild(this.n6.m)}bs.prototype=new bC;bs.prototype.xm=function(){var Z=["pencil","trees"];for(var q=0;
q<Z.length;q++)Z[q]="brushes/"+Z[q]+".abr";return Z};bs.prototype.f=function(Z,m,S){this.iQ=JSON.parse(JSON.stringify(Z));
var B=Math.floor(20*J.F()),C=Math.floor(36*J.F()),u=Math.floor(24*J.F()),r=fK.bW(Z,m,S,B,u,C);this.uV.setAttribute("src",r);
J.Lk(this.uV,C,u);var k=Z.Brsh.v;this.TN.f(k.Dmtr.v.val);if(k.Hrdn!=null){this.n6.un();this.n6.f(k.Hrdn.v.val)}else this.n6.ep();
if(k.Angl!=null)this.j7.f([k.Angl.v.val]);if(k.Rndn!=null)this.j7.f([null,null,k.Rndn.v.val/100])};bs.prototype.eU=function(){return{list:[{t:"Objc",v:this.J()}],VV:[],Km:[]}};
bs.prototype.J=function(){return this.iQ};bs.prototype.sU=function(){if(!this.y4)return;var Z=[],m=[],S=this.$w,B=Math.floor(33*J.F()),C=Math.floor(40*J.F());
for(var q=0;q<S.list.length;q++){var u=S.list[q].v,r=fK.bW(u,S.VV,S.Km,B,C);Z.push(r);m.push(u.Nm.v.split("=").pop())}this.km.Rs(Z,m,B,C);
this.y4=!1};bs.prototype.Ub=function(Z){var m=this.$w;this.f(m.list[this.km.J()[0]].v,m.VV,m.Km);this.c(new eY(_.E.o))};
bs.prototype.w=function(){bC.prototype.w.call(this);this.j7.w();this.TN.w();this.n6.w()};bs.prototype.wy=function(Z){var m=this.$w,S=this.iQ,B=S.Brsh.v;
B.Dmtr.v.val=this.TN.J();if(B.Hrdn!=null)B.Hrdn.v.val=this.n6.J();if(B.Angl!=null)B.Angl.v.val=this.j7.J()[0];
if(B.Rndn!=null)B.Rndn.v.val=Math.round(this.j7.J()[2]*100);this.f(S,m.VV,m.Km);this.c(new eY(_.E.o))};
function hg(Z){bC.call(this,Z,!0,"contourbutton",17,10.5,bo.le)}hg.prototype=new bC;hg.prototype.Ub=function(Z){this.f(this.$w[Z.target.J()]);
this.c(new eY(_.E.o))};hg.prototype.Ts=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.Me,ct:"contoureditor",ma:this.iQ,response:this.aqz.bind(this)};
this.c(m)};hg.prototype.aqz=function(Z){this.f(Z);this.c(new eY(_.E.o))};hg.prototype.sU=function(){if(!this.y4)return;
var Z=Math.floor(38*J.F()),m=Math.floor(38*J.F()),S=[],B=[],C=this.$w;for(var q=0;q<C.length;q++){B.push(C[q].Nm?C[q].Nm.v:"");
S.push(l.dL.bW(C[q].Crv.v,Z,m))}this.km.Rs(S,B,Z,m);this.y4=!1};hg.prototype.f=function(Z){this.iQ=JSON.parse(JSON.stringify(Z));
var m=this.iQ.Crv.v;for(var q=0;q<m.length;q++)if(m[q].v.Cnty==null)m[q].v.Cnty={t:"bool",v:!0};this.RI()};
hg.prototype.RI=function(){var Z=Math.floor(30*J.F()),m=Math.floor(30*J.F()),S=l.dL.bW(this.iQ.Crv.v,Z,m);
this.uV.setAttribute("src",S);J.Lk(this.uV,Z,m)};hg.prototype.J=function(){return JSON.parse(JSON.stringify(this.iQ))};
function dv(Z){aw.call(this);this.wi=null;this._q=null;this.r7=null;this.hT=null;this.ahX=[];this.aad=[];
this.m=J.L("span","fitem fillbutton");this.$D=new aw;this.$D.m=J.L("div","floatcont form");this.$D.m.setAttribute("style","width: 21em;");
this.$D.parent=this;this.uD=Z;this.m7=this.m7=J.L("label","flabel");this.m.appendChild(this.m7);this.O=J.L("canvas");
this.az=this.O.getContext("2d");this.ag4=null;this.m.appendChild(this.O);J.BQ(this.O,this.wQ.bind(this));
this.rZ=new g6([12,66],["","Color","Grad","Patt"]);this.$D.m.appendChild(this.rZ.m);this.rZ.h(_.E.o,this.Ln,this);
this.$D.m.appendChild(J.L("hr"));this.asu=J.L("span");this.OD=new gl(!0);this.OD.parent=this.$D;this.OD.h(_.E.o,this.Ln,this);
this.NF=new eW(10);this.NF.h(_.E.o,this.Ln,this);this.QR=J.L("div","marged hiline");this.QR.appendChild(this.OD.m);
J.ed(this.QR);this.QR.appendChild(this.NF.m);this.f$=new iR("GrFl",!0);this.f$.parent=this.$D;this.f$.h(_.E.o,this.Ln,this);
this.Rv=J.L("div","marged hiline");var m="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var q=0;
q<m.length;q++){var S=this.f$.l$[m[q]].m;this.Rv.appendChild(S)}this.rE=new iR("patternFill",!0);this.rE.parent=this.$D;
this.rE.h(_.E.o,this.Ln,this);this.vG=J.L("div","marged hiline");var m=["Ptrn","Angl","Scl","Algn","phase"];
for(var q=0;q<m.length;q++){var S=this.rE.l$[m[q]].m;this.vG.appendChild(S)}}dv.prototype=new aw;dv.prototype.C7=function(Z,m){if(m==bo.uN){this.ahX=[];
this.aad=[];if(this.wi)this.f(this.r7,this.J(),this.wi)}this._q=Z;this.f$.C7(Z,m);this.rE.C7(Z,m)};dv.prototype.w=function(){this.m7.textContent=iD.get(this.uD)+": ";
this.rZ.w();this.OD.w();this.f$.w();this.rE.w()};dv.prototype.Ln=function(Z){var m=Z.currentTarget;if(m==this.rZ){var S=this.rZ.J(),B={lE:S,aI:this.wi[S]};
if(S>0&&B.aI==null)B.aI=JSON.parse(JSON.stringify(fp.wv[S-1]));if(this.wi)this.f(this.r7,B,this.wi)}if(m==this.NF)this.OD.yz(m.J());
this.c(new eY(_.E.o,!1))};dv.prototype.wQ=function(Z){if(J.Qt(this.$D.m))return;Z.stopPropagation();
var m=this.O.getBoundingClientRect(),S=new eY(_.E.W,!0);S.data={d:_.B.HM,Xg:this.$D,x:m.left,y:m.top+m.height+4};
this.c(S);this.NF.f(this.OD.aho())};dv.prototype.f=function(Z,m,S){this.wi=S;this.r7=Z;var B=[[13,1,0],[13,0],[12,37],[12,62]],C=this.ahX,u=this.aad,r=!1,j;
for(var q=0;q<4;q++){var k={lE:q,aI:S[q]},v=dv.af9(k);if(u[q]==v)continue;r=!0;var e=dv.asJ(null,k,this._q,this.r7,22,22,!1);
C[q]="<img width=\"22\" height=\"22\" src=\""+e+"\" />";u[q]=v}if(r)this.rZ.Nw(C,B);this.rZ.f(m.lE);
var v=dv.af9(m);if(v!=this.ag4)dv.asJ(this.az,m,this._q,this.r7,30,23,!0);this.ag4=v;var $=m.lE;if($==0){j=this.asu}if($==1){this.OD.f(m.aI.Clr.v);
j=this.QR}if($==2){this.f$.update(Z,m.aI);j=this.Rv}if($==3){this.rE.update(Z,m.aI);j=this.vG}if(j!=this.hT){if(this.hT!=null){this.$D.m.removeChild(this.hT)}this.$D.m.appendChild(j);
this.hT=j}};dv.prototype.J=function(){var Z={lE:this.rZ.J()};if(Z.lE==1){Z.aI=JSON.parse(JSON.stringify(fp.wv[0]));
Z.aI.Clr.v=this.OD.J()}if(Z.lE==2){Z.aI=this.f$.J()}if(Z.lE==3){Z.aI=this.rE.J()}return Z};dv.af9=function(Z){var m=Z.lE,S=Z.aI,B="empty";
if(m==1){B=l.X.gN(S.Clr.v);B=B.I+","+B.z+","+B.S}if(m==2)B=JSON.stringify(S.Grad.v);if(m==3)B=S.Ptrn.v.Idnt.v;
return B};dv.asJ=function(Z,m,S,B,C,u,r){if(Z==null)Z=dv.az;var k=Math.floor(C*J.F()),v=Math.floor(u*J.F()),e=Z.canvas,j;
e.width=k;e.height=v;J.Lk(e,k,v);var $=m.lE;if($==0){Z.fillStyle="#ffffff";Z.fillRect(0,0,k,v);Z.strokeStyle="#ff0000";
Z.lineWidth=2;Z.moveTo(0,0);Z.lineTo(k,v);Z.moveTo(0,v);Z.lineTo(k,0);Z.stroke()}if($==1){var U=m.aI.Clr.v;
U=l.X.gN(U);Z.fillStyle="#"+l.L5(U.I<<16|U.z<<8|U.S);Z.fillRect(0,0,k,v)}if($==2){g.eN.bW(m.aI.Grad.v,k,v,0,S.Nx,S.ZN,e)}if($==3){var H=m.aI.Ptrn.v,z;
if(B!=null)z=aK.Vr(H,B.add.Patt);if(z==null)z=aK.Vr(H,S.jx);au.bW(z,k,v,e)}if(r){Z.beginPath();Z.strokeStyle="#000000";
Z.fillStyle="#ffffff";Z.lineWidth=2;var f=k*.7,D=Math.floor(v*.7),n=7*J.F();Z.moveTo(f,D);Z.lineTo(f+n,D);
Z.lineTo(f+n/2,D+n/2);Z.closePath();Z.stroke();Z.fill()}if(Z==dv.az)return e.toDataURL()};dv.az=J.L("canvas").getContext("2d");
function au(Z){bC.call(this,Z,!1,"patternbutton",18,10,bo.uN);this.aH=null}au.prototype=new bC;au.prototype.Ub=function(Z){var m=this.$w[this.km.J()];
this.iQ={classID:"Ptrn",Nm:{t:"TEXT",v:m.name},Idnt:{t:"TEXT",v:m.id}};this.c(new eY(_.E.o));this.RI()};
au.Xj=!1;au.prototype.sU=function(){if(!this.y4)return;var Z=this.$w;if(Z==null||!au.Xj){var m=new eY(_.E.W,!0);
m.data={d:_.B.FJ,Lh:{url:"rsrc/basic/basic.pat"}};this.c(m);au.Xj=!0;return}var S=Math.floor(34*J.F()),B=Math.floor(34*J.F()),C=[],u=[];
for(var q=0;q<Z.length;q++){C.push(au.bW(Z[q],S,B));u.push(Z[q].name)}this.km.Rs(C,u,S,B);this.y4=!1};
au.prototype.f=function(Z,m){if(this.iQ&&Z.Idnt.v==this.iQ.Idnt.v)return;this.iQ=JSON.parse(JSON.stringify(Z));
this.RI(m)};au.prototype.J=function(){return JSON.parse(JSON.stringify(this.iQ))};au.prototype.eU=function(){return this.aH?[this.aH]:[]};
au.prototype.RI=function(Z){var m=Math.floor(50*J.F()),S=Math.floor(50*J.F()),B;if(Z!=null)B=aK.Vr(this.iQ,Z.add.Patt);
if(B==null)B=aK.Vr(this.iQ,this.$w);this.aH=B;var C=au.bW(B,m,S);this.uV.setAttribute("src",C);J.Lk(this.uV,m,S)};
au.O=J.L("canvas","");au.bW=function(Z,m,S,B){if(B==null)B=au.O;var C=B.getContext("2d");B.width=m;B.height=S;
if(Z){var u=Z.Pg[1],r=u.e,k=u.n,v=Z.Pg[0],e=Math.min(m/r,S/k),j=e;if(j*r<2)j=2/r;var $=e;if($*k<2)$=2/k;
var U=g.Q.zr([v,u],new ht(j,0,0,$,0,0),j>2),H=U.rect.e,z=U.rect.n,f=C.createImageData(H,z);l.Yx(U.buffer,f.data);
C.putImageData(f,Math.floor((m-H)/2),Math.floor((S-z)/2))}return B.toDataURL()};function hM(Z,m,S){if(m==null)m=24.2;
if(S==null)S=17;bC.call(this,Z,!1,"patternbutton",m,S,bo.gw);this.HG=""}hM.prototype=new bC;hM.prototype.Ub=function(Z){this.iQ=JSON.parse(JSON.stringify(this.$w[0][this.km.J()[0]]));
this.c(new eY(_.E.o))};hM.prototype.sU=function(){var Z=this.$w;if(Z==null||!this.y4)return;var m=Math.floor(50*J.F()),S=Math.floor(50*J.F()),B=[],C=[];
for(var q=0;q<Z[0].length;q++){B.push(hM.bW(this.$w[0][q].lS,m,S,this.$w[1]));C.push(Z[0][q].Ym.Nm.v.split("=").pop())}this.km.Rs(B,C,m,S);
this.y4=!1};hM.prototype.f=function(Z,m,S,B){var C=JSON.stringify(Z.lS)+","+S+","+B;if(this.HG!=C){this.HG=C;
this.iQ=JSON.parse(JSON.stringify(Z));this.RI(m,S,B)}};hM.prototype.J=function(){return JSON.parse(JSON.stringify(this.iQ))};
hM.prototype.RI=function(Z,m,S){var B=Math.floor(68*J.F()),C=Math.floor(68*J.F()),u=hM.bW(this.iQ.lS,B,C,Z?Z:this.$w[1],m,S);
this.uV.setAttribute("src",u);J.Lk(this.uV,B,C)};hM.bW=function(Z,m,S,B,C,u){var r=new fl;r.e=m;r.n=S;
r.buffer=l.U(m*S*4);r.add.Patt=B;r.yt(C==null?90:C);r.t7(u==null?30:u);var k=new bq(0,0,Math.round(m*.5),Math.round(S*.5));
k.x=Math.round((m-k.e)/2);k.y=Math.round((S-k.n)/2);var v=r.AB();v.rect=k;v.buffer=l.U(k.Z()*4);l._z(v.buffer,4284045657);
aK.al9(Z,v,.5*100);r.g.push(v);r.fa();r.G();var e=N.V8;N.V8=!1;r.dK();var j=r.Jy();N.V8=e;var $=e2.G8(j.buffer,r.e,r.n);
return $};function dK(Z){bC.call(this,null,!1,"tpresetbutton",18,24,bo.L1,!0);J.iB(this.m,"fitem");this.km.dt(1);
this.id=Z;this.RI();this.d.style.overflow="hidden";this.LW=new ae([15,7,9]);this.LW.f(!0);this.LW.h(_.E.o,this.ab5,this);
this.Fx.appendChild(this.LW.m)}dK.prototype=new bC;dK.prototype.a6K=function(Z){if(this.id==Z)return;
this.id=Z;this.$q(this.$w)};dK.prototype.Ub=function(Z){var m=this.$w[this.km.J()],S=new eY(_.E.W,!0);
S.data={d:_.B.L8,Wq:"set",Lh:bo.L1,ub:m};this.c(S)};dK.prototype.w=function(){bC.prototype.w.call(this);
this.LW.w()};dK.prototype.ab5=function(){this.y4=!0;this.sU()};dK.prototype.sU=function(){if(!this.y4)return;
var Z=Math.floor(16*J.F()),m=Math.floor(16*J.F()),S=[],B=[],C=this.$w,u=this.LW.J();for(var q=0;q<C.length;
q++){var r=g.jM(C[q]);if(!u||r==this.id){B.push(C[q][0]?C[q][0].split("=").pop():"");S.push(r==-1?"":PIMG[g.JV[r][0]])}else{S.push(null);
B.push(null)}}this.km.Rs(S,B,Z,m);this.y4=!1};dK.prototype.RI=function(){var Z=this.uV;Z.setAttribute("src",PIMG[g.JV[this.id][0]]);
J._A(Z,"toolicon")};dK.prototype.eU=function(){return null};dK.kD={};dK.bW=function(Z,m,S){var B=dK.az,C=dK.kD,u=l.L5(Z.I<<16|Z.z<<8|Z.S);
if(C[u])return C[u];if(B==null){var r=J.L("canvas");B=dK.az=r.getContext("2d")}var r=B.canvas;r.width=m;
r.height=S;B.fillStyle="#"+u;B.fillRect(0,0,m,S);var k=C[u]=r.toDataURL();return k};function eB(Z,m,S){aw.call(this);
this.m=J.L("span","fitem curveeditor");this.o4=null;this.a8S=0;this.yd="";this.mode=0;this.eA=Z;this.adN=m;
this.ati=S;this.ei=null;this.$K=null;this.apG=0;this.a13=0;this.wL=new aS;this.zA=this.Sz.bind(this);
this.JI=this.dI.bind(this);this.A2=256;this.O=J.L("canvas");this.az=this.O.getContext("2d");J.Ew(this.O);
this.m.appendChild(this.O);this.MY(256,256);J.BQ(this.O,this.d3.bind(this));this.coords=J.L("div","");
this.coords.setAttribute("style","width:250px");this.m.appendChild(this.coords);var B=this.n4=S?100:255,C=null;
this.ve=new gH("X (in):",0,B,C,0,!1,!0);this.i5=new gH("Y (out):",0,B,C,0,!1,!0);this.LI=new ae([19,3,0]);
this.ve.h(_.E.o,this.J7,this);this.i5.h(_.E.o,this.J7,this);this.LI.h(_.E.o,this.J7,this);this.coords.appendChild(this.ve.m);
if(S)this.coords.appendChild(this.LI.m);this.coords.appendChild(this.i5.m)}eB.prototype=new aw;eB.prototype.w=function(){this.LI.w()};
eB.prototype.MY=function(Z,m){this.A2=Math.round(Z);this.az.resetTransform();J.Nm(this.O,this.A2,this.A2,this.az);
this.az.scale(this.A2/256,this.A2/256);if(this.ei)this.os()};eB.prototype.J7=function(Z){var q=this.aa7(),m=this.ei[q],S=255/this.n4;
m.v.Hrzn.v=this.ve.J()*S;m.v.Vrtc.v=this.i5.J()*S;if(this.ati)m.v.Cnty.v=this.LI.J();this.ei.sort(function(B,C){return B.v.Hrzn.v-C.v.Hrzn.v});
this.os();this.c(new eY(_.E.o))};eB.prototype.f=function(Z,q){var m=JSON.stringify(Z);if(m==JSON.stringify(this.ei))return;
this.mode=Z.length==256?1:0;this.ei=JSON.parse(m);if(q!=null)this.$K=this.ei[q];this.os()};eB.prototype.gV=function(Z,m,S){this.o4=Z;
this.a8S=m;this.yd=S;this.os()};eB.prototype.J=function(){return JSON.parse(JSON.stringify(this.ei))};
eB.prototype.aa7=function(){return this.ei.indexOf(this.$K)};eB.prototype.d3=function(Z){var m=256/this.A2,S=J.W7(Z,this.O);
S.x*=m;S.y*=m;var B=S.x,C=256-S.y;if(this.eA){var u=B;B=256-C;C=u}this.wL.r8(B,C);if(this.mode==0){var r=0,k=1e9,U;
for(var q=0;q<this.ei.length;q++){var v=this.ei[q].v,e=v.Hrzn.v-B,j=v.Vrtc.v-C,$=Math.sqrt(e*e+j*j);
if($<k){k=$;r=q}}if(k<15)U=this.ei[r];else{U=l.dL.f2(B,C,!0);this.ei.push(U);this.ei.sort(function(H,z){return H.v.Hrzn.v-z.v.Hrzn.v})}this.$K=U;
this.a13=this.ei.slice(0)}J.Od(document.body,this.zA);J.qq(document.body,this.JI);this.Sz(Z)};eB.prototype.Sz=function(Z){var m=256/this.A2,S=J.W7(Z,this.O);
S.x*=m;S.y*=m;var B=S.x,C=256-S.y;if(this.eA){var u=B;B=256-C;C=u}if(this.mode==0){var r=this.ei,k=this.$K,v=this.a13,e=v.indexOf(k),j=r.indexOf(k)!=-1,$=v.length-1,U=B;
if(e==0){U=Math.max(0,Math.min(v[1].v.Hrzn.v-1,B))}else if(e==$){U=Math.min(255,Math.max(v[$-1].v.Hrzn.v+1,B))}else{var H=B<0||B>255||C<0||C>255;
if(B<=v[e-1].v.Hrzn.v||B>=v[e+1].v.Hrzn.v)H=!0;if(!H&&!j)r.splice(e,0,k);if(H&&j)r.splice(e,1)}if(this.adN&&(e==0||e==v.length-1)){}else k.v.Hrzn.v=Math.round(U);
k.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(C)))}else{B=Math.round(B);C=Math.round(C);B=Math.max(0,Math.min(255,B));
C=Math.max(0,Math.min(255,C));var z=this.wL.x,f=B,D=this.wL.y,n=C;if(B<this.wL.x){f=z;z=B;n=D;D=C}this.ei[B]=C;
if(z!=f)for(var L=z;L<=f;L++)this.ei[L]=Math.round(D+(L-z)*(n-D)/(f-z))}this.wL.r8(B,C);this.os();this.c(new eY(_.E.o))};
eB.prototype.dI=function(Z){J.N3(document.body,this.zA);J.e6(document.body,this.JI);this.c(new eY(_.E.o))};
eB.prototype.os=function(){var Z=this.az,m=this.O;Z.fillStyle="#ffffff";Z.fillRect(0,0,256,256);var S=256/m.width;
if(this.o4){Z.save();Z.translate(0,256);Z.scale(1,-1);fu.a88(Z,this.o4,5700/this.a8S,this.yd);Z.restore()}Z.strokeStyle="#aaaaaa";
Z.lineWidth=1*S;Z.beginPath();for(var q=1;q<4;q++){var B=(Math.floor(64*q/S)+.5)*S;Z.moveTo(0,B);Z.lineTo(255,B);
Z.moveTo(B,0);Z.lineTo(B,255)}Z.stroke();if(this.eA){Z.save();Z.transform(0,1,-1,0,256,0)}if(this.mode==0){var C=this.ei,u=l.dL.fM(C,256);
Z.strokeStyle="#000000";Z.beginPath();Z.moveTo(0,255.5-u[0]);for(var q=0;q<256;q++)Z.lineTo(q,255.5-u[q]);
Z.stroke();Z.lineWidth=2*S;for(var q=0;q<C.length;q++){var r=C[q].v;Z.fillStyle=this.$K==C[q]?"#333":"#fff";
Z.beginPath();Z.moveTo(r.Hrzn.v,255.5-r.Vrtc.v);Z.arc(r.Hrzn.v,255.5-r.Vrtc.v,5*S,0,2*Math.PI);Z.stroke();
Z.fill()}}else{var u=this.ei;Z.strokeStyle="#000000";Z.beginPath();Z.moveTo(0,255.5-u[0]);for(var q=0;
q<256;q++)Z.lineTo(q,255.5-u[q]);Z.stroke()}if(this.eA)Z.restore();var q=this.aa7();this.coords.setAttribute("class",q==-1?"disabled":"");
if(q==-1)return;var r=this.ei[q].v,k=255/this.n4;this.ve.f(Math.round(r.Hrzn.v/k));this.i5.f(Math.round(r.Vrtc.v/k));
if(r.Cnty)this.LI.f(r.Cnty.v)};function fu(Z,m){aw.call(this);this.m=J.L("span","");this.Qf=new fH([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.Qf.h(_.E.o,this.Hk,this);this.m.appendChild(this.Qf.m);J.ed(this.m);this.O=J.L("canvas");var S=this.O;
this.m.appendChild(S);S.width=Math.round(Z*J.F());S.height=Math.round(100*J.F());J.Lk(S,S.width,S.height);
this.az=S.getContext("2d");this.o4=null;this.Ar=0;this.auw=null;this.abb=[];this.Ai=[];var B=["Mean:","Pixels:"],C=this.m;
for(var q=0;q<B.length;q++){var u=new ed(B[q]);this.abb.push(u);if(m)C.appendChild(u.m);var r=new ed("hi");
this.Ai.push(r);if(m)C.appendChild(r.m);J.ed(C)}}fu.prototype=new aw;fu.prototype.w=function(){this.Qf.w()};
fu.prototype.dt=function(Z){this.Qf.f(Z);this.Hk()};fu.prototype.f=function(Z,m){this.o4=Z;this.auw=m;
this.Hk()};fu.prototype.yz=function(Z){if(Z==this.Ar)return;this.Ar=Z;this.Hk()};fu.prototype.Hk=function(){if(this.o4==null)return;
var Z=this.O,m=this.az,S=this.o4,B=this.auw,C=this.Qf.J(),u=6e3/S[4],r="#"+l.L5(this.Ar),k=fu.a88;Z.width=Z.width;
m.setTransform(Z.width/256,0,0,-Z.height/100,0,Z.height);m.globalCompositeOperation="lighter";if(C==0)k(m,S[0],u/3,r);
else if(C<4)k(m,S[C],u,r);else{k(m,S[1],u,"#ff0000");k(m,S[2],u,"#00ff00");k(m,S[3],u,"#0000ff")}m.setTransform(1,0,0,1,0,0);
if(B!=null){var v=0;for(var q=0;q<256;q++)v+=q*S[C][q];if(C==0)v/=3;this.Ai[0].f((v/B).toFixed(1)+"");
this.Ai[1].f(B+"")}};fu.a88=function(Z,m,S,B){Z.beginPath();Z.moveTo(0,0);for(var C=0;C<256;C++)Z.lineTo(C,m[C]*S);
Z.lineTo(256,0);Z.closePath();Z.fillStyle=B;Z.fill()};function jm(Z){aw.call(this);this.g2={I:0,z:0,S:0};
if(Math.abs(Z-256/J.F())<10)Z=256/J.F();var m=this.m=J.L("div","flexrow");this.Gz=new aS;this.tu=new aS;
this.xt=this.aay.bind(this);this.qC=this.asC.bind(this);this.O=J.L("canvas","");this.az=this.O.getContext("2d");
this.O.width=this.O.height=256;this.a5K=this.az.getImageData(0,0,256,256);this.ak_=-1;J.Ew(this.O);J.BQ(this.O,this.ad0.bind(this));
m.appendChild(this.O);this.alb=this.agQ.bind(this);this.agG=this.a7O.bind(this);this.Jn=J.L("canvas","");
this.Sn=this.Jn.getContext("2d");this.Jn.width=20;this.Jn.height=256;this.a6S=this.Sn.getImageData(0,0,20,256);
jm.ao3(this.a6S.data,20,256);J.Ew(this.Jn);J.BQ(this.Jn,this.atY.bind(this));m.appendChild(this.Jn);
this.O.setAttribute("style","width:"+Z+"px; height:"+Z+"px");this.Jn.setAttribute("style","width:16px; height:"+Z+"px")}jm.prototype=new aw;
jm.prototype.MY=function(Z,m){this.O.style.width=Z-16+"px"};jm.prototype.f=function(Z){this.g2=Z;this.update()};
jm.prototype.J=function(){return JSON.parse(JSON.stringify(this.g2))};jm.prototype.update=function(){var Z=this.g2,m=l.$C(Z.I,Z.z,Z.S);
if(m.jA==0)m.Ve=this.Gz.x/255;if(m.Ve==0||m.jA==0)m.Vi=(255-this.uu(this.tu.y))/255;if(m.jA!=0)this.Gz.x=m.Ve*255;
this.Gz.y=(1-m.jA)*255;this.tu.y=(1-m.Vi)*255;var S=this.a5K;if(Math.abs(m.Vi-this.ak_)>.002){this.a7F(S.data,256,256,m.Vi);
this.ak_=m.Vi}var B=this.az;B.putImageData(S,0,0);B.strokeStyle="#000000";B.beginPath();B.arc(this.Gz.x+1,this.Gz.y+1,5,0,2*Math.PI);
B.stroke();B.strokeStyle="#ffffff";B.beginPath();B.arc(this.Gz.x,this.Gz.y,5,0,2*Math.PI);B.stroke();
S=this.a6S;B=this.Sn;B.putImageData(S,0,0);B.strokeStyle="#ffffff";B.beginPath();B.moveTo(0,this.tu.y);
B.lineTo(20,this.tu.y);B.lineWidth=2;B.stroke()};jm.prototype.a7F=function(Z,m,S,B){var C=1/m,u=1/S;
for(var r=0;r<S;r++)for(var k=0;k<m;k++){var v=l.TX(B,k*C,(S-r-1)*u),q=r*m+k<<2;Z[q+0]=~~(v.I*255);Z[q+1]=~~(v.z*255);
Z[q+2]=~~(v.S*255);Z[q+3]=255}};jm.ao3=function(Z,m,S,B,C){if(B==null)B=1;if(C==null)C=0;var u=new Uint32Array(Z.buffer);
for(var r=0;r<S;r++){var k=l.TX((1+B*(1-r/S)+C)%1,1,1),v=255<<24|k.S*255<<16|k.z*255<<8|k.I*255;for(var e=0;
e<m;e++)u[r*m+e]=v}};jm.prototype.ad0=function(Z){J.Od(window,this.xt);J.qq(window,this.qC);this.aay(Z)};
jm.prototype.asC=function(Z){J.N3(window,this.xt);J.e6(window,this.qC)};jm.prototype.aay=function(Z){var m=J.W7(Z,this.O);
m.x=m.x*(256/parseFloat(this.O.style.width));m.y=m.y*(256/parseFloat(this.O.style.height));this.Gz.r8(this.uu(m.x),this.uu(m.y));
this.rc()};jm.prototype.rc=function(){this.g2=this.a9j();this.c(new eY(_.E.o))};jm.prototype.a9j=function(){var Z=l.TX((255-this.uu(this.tu.y))/255,this.hX(this.Gz.x/255),this.hX(1-this.Gz.y/255));
return{I:Z.I,z:Z.z,S:Z.S}};jm.prototype.atY=function(Z){J.Od(window,this.alb);J.qq(window,this.agG);
this.agQ(Z)};jm.prototype.a7O=function(Z){J.N3(window,this.alb);J.e6(window,this.agG)};jm.prototype.agQ=function(Z){var m=J.W7(Z,this.Jn);
m.y=m.y*(256/parseFloat(this.Jn.style.height));this.tu.r8(this.uu(m.x),this.uu(m.y));this.rc()};jm.prototype.uu=function(Z){return Math.max(0,Math.min(255,Z))};
jm.prototype.hX=function(Z){return Math.max(0,Math.min(1,Z))};function fG(Z,m,S,B){var C=g6.y2(m,B);
g6.call(this,Z,C,S)}fG.prototype=new g6;function bU(){aw.call(this);this.YS=null;this.TK=new ag;this.TK.h(_.E.o,this.aac,this);
this.TK.parent=this;this.Vq=new gH([12,14,0],1,150,"px",0,!0);this.Vq.h(_.E.o,this.eY,this);this.Vq.parent=this;
this.bJ=new gH([16,0],.01,100,"px",2,!0,null,5);this.bJ.h(_.E.o,this.eY,this);this.bJ.parent=this;this.BW=new ae("Auto");
this.BW.h(_.E.o,this.eY,this);this.lV=new gH([16,1],-500,5e3,"%",0,!0);this.lV.h(_.E.o,this.eY,this);
this.lV.parent=this;this.kj=new gH("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.kj.h(_.E.o,this.eY,this);
this.kj.parent=this;this.Gk=new gH("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.Gk.h(_.E.o,this.eY,this);
this.Gk.parent=this;this.by=new gH([16,2],-10,10,"px");this.by.h(_.E.o,this.eY,this);this.by.parent=this;
this.TJ=new gl(!0);this.TJ.h(_.E.o,this.KA,this);this.TJ.parent=this;this.Qy=new gl(!0);this.Qy.h(_.E.o,this.KA,this);
this.Qy.parent=this;this.Y4=new gl(!0);this.Y4.h(_.E.o,this.KA,this);this.Y4.parent=this;this.hR=new gl(!0);
this.hR.h(_.E.o,this.KA,this);this.hR.parent=this;this.rW=new ae([2,3]);this.rW.h(_.E.o,this.eY,this);
this.Ke=new ae([14,9]);this.Ke.h(_.E.o,this.eY,this);this.tf=new ae([12,46]);this.tf.h(_.E.o,this.eY,this);
this.Mn=new dX("...",null,null,!0);this.Mn.m.style.marginLeft="-8px";J.BQ(this.Mn.m,this.a6R.bind(this));
this.$D=new aw;var Z=this.$D.m=J.L("div","floatcont form");this.$D.parent=this;this.D7=new gH([12,41],1,20,"px",0,!0,!0);
this.D7.m.style.marginLeft="16px";this.D7.h(_.E.o,this.eY,this);this.D7.parent=this.$D;Z.appendChild(this.Qy.m);
Z.appendChild(this.rW.m);J.ed(this.$D.m);Z.appendChild(this.Y4.m);Z.appendChild(this.Ke.m);Z.appendChild(this.D7.m);
J.ed(this.$D.m);Z.appendChild(this.hR.m);Z.appendChild(this.tf.m);this.Lt=new dX("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.Wp=new dX("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.Ls=new dX("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.NJ=new dX("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.qr=new dX("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.Lv=new dX("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Mj=new dX("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.rw=new dX("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var m=[this.Lt,this.Wp,this.Ls,this.NJ,this.qr,this.Lv,this.Mj,this.rw];
for(var q=0;q<m.length;q++)m[q].h("click",this.ahU,this);this.fY=new dX("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.rV=new dX("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.JX=new dX("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.auV=new dX("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.amI=new dX("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.aiH=new dX("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aud=new dX("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.RF=[this.fY,this.rV,this.JX,this.auV,this.amI,this.aiH,this.aud];for(var q=0;q<this.RF.length;q++)this.RF[q].h("click",this.eY,this);
var S=["lind","rind","flind","bind","aind"],B=[];for(var q=0;q<5;q++)B.push("<img src=\""+PIMG["par/"+S[q]]+"\" class=\"autoscale gsicon\" /> ");
this.sT=new gH(B[0],-20,20,"px");this.sT.h(_.E.o,this.eY,this);this.sT.parent=this;this.VS=new gH(B[1],-20,20,"px");
this.VS.h(_.E.o,this.eY,this);this.VS.parent=this;this.gh=new gH(B[2],-20,20,"px");this.gh.h(_.E.o,this.eY,this);
this.gh.parent=this;this.fE=new gH(B[3],-20,20,"px");this.fE.h(_.E.o,this.eY,this);this.fE.parent=this;
this.zb=new gH(B[4],-20,20,"px");this.zb.h(_.E.o,this.eY,this);this.zb.parent=this;this.po=new g6([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.po.h(_.E.o,this.eY,this);this.po.parent=this;this.NW=new gH(["Auto VAR0",[16,0]],0,500,"%");this.NW.h(_.E.o,this.eY,this);
this.NW.parent=this}bU.prototype=new aw;bU.prototype.a6R=function(Z){if(J.Qt(this.$D.m))return;Z.stopPropagation();
var m=this.Mn.m.getBoundingClientRect(),S=new eY(_.E.W,!0);S.data={d:_.B.HM,Xg:this.$D,x:m.left,y:m.top+m.height+4};
this.c(S)};bU.prototype.w=function(){this.TK.w();this.Vq.w();this.bJ.w();this.lV.w();this.by.w();this.kj.w();
this.Gk.w();this.rW.w();this.Ke.w();this.tf.w();this.D7.w();this.po.w();this.NW.w()};bU.prototype.f=function(Z,m,S){this.E7=JSON.parse(JSON.stringify(Z));
var B=this.E7,C=B.n1,u=B.Q0;this.Lt.f(C.FauxBold!=null?C.FauxBold:!1);this.Wp.f(C.FauxItalic!=null?C.FauxItalic:!1);
this.Ls.f(C.FontCaps==2);this.NJ.f(C.FontCaps==1);this.Lv.f(C.FontBaseline==1);this.qr.f(C.FontBaseline==2);
this.Mj.f(C.Underline);this.rw.f(C.Strikethrough);this.TK.f(C.Font==null?null:B.wb[C.Font].Name,m,S);
var r=C.FontSize==null?20:C.FontSize;this.Vq.f(r);var k=C.Tracking;this.lV.f(k==null?0:k);this.D7.f(C._LineWidth!=null?C._LineWidth:1);
this.bJ.f(C.Leading!=null&&C.Leading!=0?C.Leading:r);this.BW.f(C.AutoLeading);this.kj.f((C.VerticalScale!=null?C.VerticalScale:0)*100);
this.Gk.f((C.HorizontalScale!=null?C.HorizontalScale:0)*100);this.by.f(C.BaselineShift!=null?C.BaselineShift:0);
this.rW.f(C.FillFlag!=null?C.FillFlag:!1);this.Ke.f(C.StrokeFlag!=null?C.StrokeFlag:!1);this.tf.f(C._FillBackgroundFlag!=null?C._FillBackgroundFlag:!1);
this.IS(C.FillColor,this.TJ);this.IS(C.FillColor,this.Qy);this.IS(C.StrokeColor,this.Y4);this.IS(C._FillBackgroundColor,this.hR);
var v=u._Direction!=null?u._Direction:0,e=e6.ue(u);for(var q=0;q<this.RF.length;q++)this.RF[q].f(e==q);
this.po.f(v);this.NW.f((u.AutoLeading!=null?u.AutoLeading:1.2)*100);this.sT.f(u.StartIndent!=null?u.StartIndent:0);
this.VS.f(u.EndIndent!=null?u.EndIndent:0);this.gh.f(u.FirstLineIndent!=null?u.FirstLineIndent:0);this.fE.f(u.SpaceBefore!=null?u.SpaceBefore:0);
this.zb.f(u.SpaceAfter!=null?u.SpaceAfter:0)};bU.prototype.IS=function(Z,m){if(Z){var S=e6.gN(Z);m.yz(Math.round(S.I)<<16|Math.round(S.z)<<8|Math.round(S.S))}else m.yz(0)};
bU.prototype.EM=function(){var Z=new eY(_.E.W,!0);Z.data={d:_.B.L8,Lh:bo.Vs,E7:this.E7};this.c(Z);var Z=new eY(_.E.Y,!0);
Z.b=g.WH;Z.data={d:"updateStyles"};this.c(Z)};bU.prototype.ahU=function(Z){var m=this.E7.n1,S=Z.target,B=!S.sS();
if(S==this.Lt)m.FauxBold=B;if(S==this.Wp)m.FauxItalic=B;if(S==this.Ls)m.FontCaps=B?2:0;if(S==this.NJ)m.FontCaps=B?1:0;
if(S==this.Lv)m.FontBaseline=B?1:0;if(S==this.qr)m.FontBaseline=B?2:0;if(S==this.Mj)m.Underline=B;if(S==this.rw)m.Strikethrough=B;
this.EM()};bU.prototype.eY=function(Z){var m=this.E7.n1,S=this.E7.Q0,B=Z.target;if(B==this.lV){var C=this.lV.J();
m.Tracking=C}if(B==this.bJ){m.AutoLeading=!1;m.Leading=this.bJ.J()}if(B==this.BW){m.AutoLeading=this.BW.J()}if(B==this.D7)m._LineWidth=B.J();
if(B==this.Vq)m.FontSize=B.J();if(B==this.kj)m.VerticalScale=B.J()/100;if(B==this.Gk)m.HorizontalScale=B.J()/100;
if(B==this.by)m.BaselineShift=B.J();if(B==this.rW)m.FillFlag=B.J();if(B==this.Ke)m.StrokeFlag=B.J();
if(B==this.tf)m._FillBackgroundFlag=B.J();if(this.RF.indexOf(B)!=-1){S.Justification=e6.ue(S,this.RF.indexOf(B))}if(B==this.sT)S.StartIndent=B.J();
if(B==this.VS)S.EndIndent=B.J();if(B==this.gh)S.FirstLineIndent=B.J();if(B==this.fE)S.SpaceBefore=B.J();
if(B==this.zb)S.SpaceAfter=B.J();if(B==this.po)S._Direction=B.J();if(B==this.NW)S.AutoLeading=B.J()/100;
this.EM()};bU.prototype.aac=function(Z){var m=this.E7,S=this.TK.J(),B=-1;for(var q=0;q<m.wb.length;q++)if(m.wb[q].Name==S)B=q;
if(B==-1){B=m.wb.length;var C=JSON.parse(JSON.stringify(m.wb[0]));C.Name=S;m.wb.splice(B,0,C)}m.n1.Font=B;
this.EM()};bU.prototype.KA=function(Z){var m=Z.target,S=m.aho(),B={Type:1,Values:[1,(S>>16&255)/255,(S>>8&255)/255,(S>>0&255)/255]};
for(var q=0;q<4;q++)B.Values[q]=Math.round(B.Values[q]*1e3)/1e3;var C=m==this.TJ||m==this.Qy?0:m==this.Y4?1:2;
this.E7.n1[["FillColor","StrokeColor","_FillBackgroundColor"][C]]=B;this.EM()};function ag(){aw.call(this);
this.m=J.L("span","fontinput");this.a$=null;this.dO=null;this.tT=null;this.LF="";this.VD={};this.Yl=[];
this.a4F={};this.HE=!1;this.Xd=J.L("button","fitem");this.Xd.setAttribute("style","width:9em;");this.Xd.textContent="Family Name \u25BC";
this.m.appendChild(this.Xd);J.BQ(this.Xd,this.am9.bind(this));this.UH=new aw;this.UH.parent=this;this.UH.m=J.L("div","floatcont");
this.UH.m.addEventListener("keyup",this.a3k.bind(this),!1);this.yC=new f_(6.8);this.UH.m.appendChild(this.yC.a8N());
this.yC.parent=this.UH;this.yC.h(_.E.o,this.Az,this);var Z=J.L("div","form");this.UH.m.appendChild(Z);
this.fK=new dX(J.NE("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.fK.h("click",this.aom,this);
Z.appendChild(this.fK.m);this.wC=new ec([12,86],null,8.4);this.wC.h("input",this.j9,this);Z.appendChild(this.wC.m);
var m=this.a6k=new dX([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);m.h("click",this.ana,this);
m.m.style.marginLeft="1.5em";m.m.style.marginRight="0";Z.appendChild(m.m);this.jP=J.L("span","fitem imageset scrollable");
this.jP.style.height="30em";this.UH.m.appendChild(this.jP);this.Gx=J.L("button","fitem");this.Gx.setAttribute("style","width:7em;");
this.Gx.textContent="SubFamily Name \u25BC";this.m.appendChild(this.Gx);J.BQ(this.Gx,this.am9.bind(this));
this.$S=new aw;this.$S.parent=this;this.$S.m=J.L("div","floatcont");this.db=J.L("span","fitem imageset scrollable marged");
this.$S.m.appendChild(this.db)}ag.prototype=new aw;ag.prototype.a3k=function(Z){var m=0;if(iZ.tH(Z.code,iZ.Dz))m=-1;
if(iZ.tH(Z.code,iZ.m9))m=1;if(m!=0){var S=this.Yl,B=S.length,C=this.a$.eI()[this.tT];if(C==null&&B==0)return;
var u=S.indexOf(C[0]);if(u==-1)return;u=(u+m+B)%B;this.w6(S[u],null)}};ag.prototype.ana=function(){var Z=new eY(_.E.W,!0);
Z.data={d:_.B.QM,ap_:".otf,.ttf,.ttc"};this.c(Z)};ag.prototype.w=function(){this.yC.w();this.a6k.w();
this.fK.zR(J.NE("tools/cshape",null,"autoscale"))};ag.prototype.aom=function(Z){this.fK.f(!this.fK.sS());
this.Az()};ag.prototype.j9=function(Z){this.LF=this.wC.J().toLowerCase();this.Az()};ag.prototype.am9=function(Z){J.Tj(Z);
var m=Z.currentTarget,S=m.getBoundingClientRect(),B=m==this.Xd,C=B?this.UH:this.$S;if(J.Qt(C.m)){this.a0o(C);
return}if(!B&&this.a$.eI()[this.tT]==null)return;var u=new eY(_.E.W,!0);u.data={d:_.B.HM,Xg:C,x:S.left,y:S.top+S.height};
this.c(u);if(B){this.Az()}};ag.prototype.as7=function(Z){var m=Z.currentTarget.firstChild.nextSibling.textContent;
if(Z.target.tagName.toLowerCase()=="button"){var S=this.dO.slice(0),B=S.indexOf(m);if(B==-1){S=S.slice(Math.max(0,S.length-29));
S.push(m)}else S.splice(B,1);var C=new eY(_.E.W,!0);C.data={d:_.B.L8,Lh:bo.fj,sk:S};this.c(C);this.HE=!0;
this.Az()}else{this.w6(m,null)}};ag.prototype.acc=function(Z){this.w6(null,Z.currentTarget.firstChild.textContent)};
ag.prototype.w6=function(Z,m){var S=Z==null?this.$S:this.UH,B=this.a$;if(Z==null)Z=B.eI()[this.tT][0];
else{var C=B.G5(Z),u=B.eI()[this.tT];m=jF.mk(C,u?u[1]:"regular")}var r=B.xp(Z,m)[2];this.f(r,B);this.c(new eY(_.E.o,!1));
this.a0o(S);this.Az()};ag.prototype.a0o=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.Kb,Xg:Z};this.c(m)};
ag.prototype.J=function(){return this.tT};ag.prototype.f=function(Z,m,S){var B=this.a$;if(Z!=null)this.tT=Z;
else Z=this.tT;this.a$=m;this.dO=S;if(Z!=null){var C=m.eI()[Z],u,r;if(C==null){u="- "+Z;r="-------"}else{u=C[0];
r=C[1];var k=m.G5(u);k.sort(jF.arl);var v=k.indexOf(r),e=this.acc.bind(this);this.db.textContent="";
for(var q=0;q<k.length;q++){var C=m.xp(u,k[q]);if(!this.yC.oZ(C))continue;var j=this.apc(C,C[1],e,!1);
this.db.appendChild(j)}}this.Xd.textContent=u.substring(0,15)+" \u25BC";this.Xd.setAttribute("title",u+", \""+Z+"\"");
this.Gx.textContent=r.substring(0,10)+" \u25BC";this.Gx.setAttribute("title",r)}};ag.prototype.Az=function(){var Z=this.a$.eI()[this.tT],m=this.dO,S=null,B=this.a$.a1j(),C=this.as7.bind(this);
this.Yl=[];for(var u in B){var r=jF.mk(B[u],"regular"),k=this.a$.xp(u,r),v=m.indexOf(u)!=-1,e=!0;if(this.LF.length>0&&k[0].toLowerCase().indexOf(this.LF)==-1)e=!1;
else if(!this.yC.oZ(k))e=!1;else if(this.fK.sS()&&!v)e=!1;var j=this.VD[u];if(j==null){var j=this.apc(k,u,C,!0);
this.VD[u]=j;this.jP.appendChild(j)}if(e)this.Yl.push(u);var $=e?"":"display:none; ",U="opacity: "+(v?"1":"0.2");
if(Z&&Z[0]==u){$+="background-color:rgba(0,0,0,0.13);";S=j}if(this.a4F[u]!=$+U){j.setAttribute("style",$);
j.firstChild.setAttribute("style",U);this.a4F[u]=$+U}}if(S&&!this.HE)this.jP.scrollTop=S.offsetTop-210;
this.HE=!1};ag.prototype.apc=function(Z,m,S,B){var C=J.L("div","fontitem"),v="";C.addEventListener("click",S,!1);
if(B)C.appendChild(J.L("button","star"));var u=J.L("span","label");u.setAttribute("title",m);u.textContent=m;
C.appendChild(u);var r=J.F(),k=1/r,e=jF.k5*k,j=jF.f6*k;if(1<r&&r<1.5)v="width:"+e+"px; height:"+j+"px;";
var $=J.L("span","thumb gsicon");if(Z.aup){v+="background: url("+Z.aup+");";if(1<r&&r<1.5)v+="background-size: "+e+"px "+j+"px;"}else{var U=Math.ceil(FNTS.list.length/jF.cols),H=Math.floor(Z.lU/U),z=Z.lU%U,f=H*jF.k5,D=z*jF.f6;
if(1<r&&r<1.5){v+="background-size: "+jF.cols*e+"px "+U*j+"px;";f*=k;D*=k}v+="background-position:-"+f+"px -"+D+"px;"}$.setAttribute("style",v);
C.appendChild($);return C};function f_(Z){aw.call(this);this.m=J.L("button","fitem bbtn");this.m.addEventListener("click",this.asY.bind(this),!1);
this.$D=new aw;this.$D.m=J.L("div","floatcont");this.$D.parent=this;this.Mr=J.L("div","flexrow");this.$D.m.appendChild(this.Mr);
this.NV=[];this.xK=[];var m=this.Mr,S=J.L("div",""),B=J.L("div","");m.appendChild(S);m.appendChild(B);
this.n2=[];for(var q=0;q<FNTS.cats.length;q++)this.n2.push({name:FNTS.cats[q],index:q,UO:0});this.$$=new ae([7,0]);
this.$$.f(!0);this.$$.h(_.E.o,this.a5c,this);S.appendChild(this.$$.m);this.$s=J.L("div","vlist marged scrollable");
this.$s.setAttribute("style","width:10.3em; height:"+Z+"em; ");S.appendChild(this.$s);this.Ev=[];for(var q=0;
q<this.n2.length;q++){var C=this.n2[q],u=new ae(C.name);this.Ev.push(u);u.h(_.E.o,this.ai4,this);u.f(!0);
this.$s.appendChild(u.m);this.NV.push(1)}this.agz=new ae([7,0]);this.agz.h(_.E.o,this.a8b,this);this.CN=J.L("div","vlist marged scrollable");
this.CN.setAttribute("style","width:8.6em; height:"+(Z+1.5)+"em; ");B.appendChild(this.CN);this.mO=[];
for(var q=0;q<FNTS.subsetNames.length;q++){var u=new ae(FNTS.subsetNames[q]);this.mO.push(u);u.h(_.E.o,this.a68,this);
u.f(!1);this.CN.appendChild(u.m);this.xK.push(0)}}f_.prototype=new aw;f_.prototype.amj=function(Z){var m=this.mO;
for(var q=0;q<m.length;q++){var S=(Z>>>q&1)==1;this.xK[q]=S;m[q].f(S)}};f_.prototype.a8N=function(){return this.Mr};
f_.prototype.w=function(){this.m.textContent=iD.get([25,1,0])+" \u25BC";this.$$.w();this.agz.w()};f_.prototype.asY=function(Z){var m=this.m.getBoundingClientRect(),S=new eY(_.E.W,!0);
S.data={d:_.B.HM,Xg:this.$D,x:m.left,y:m.top+m.height,Gu:!1};this.c(S)};f_.prototype.oZ=function(Z){if(this.NV[Z[4]]==0)return!1;
else for(var m=0;m<this.xK.length;m++)if(this.xK[m]==1&&(Z[3]>>>m&1)==0)return!1;return!0};f_.prototype.a5c=function(Z){var m=Z.target.J(),S=this.Ev,B=this.NV;
for(var q=0;q<S.length;q++){S[q].f(m);B[q]=m?1:0}this.c(new eY(_.E.o,!1))};f_.prototype.a8b=function(Z){var m=Z.target.J(),S=this.mO,B=this.xK;
for(var q=0;q<S.length;q++){S[q].f(m);B[q]=m?1:0}this.c(new eY(_.E.o,!1))};f_.prototype.ai4=function(Z){var q=this.Ev.indexOf(Z.target),m=this.n2[q].index;
this.NV[m]=1-this.NV[m];this.c(new eY(_.E.o,!1))};f_.prototype.a68=function(Z){var q=this.mO.indexOf(Z.target);
this.xK[q]=1-this.xK[q];this.c(new eY(_.E.o,!1))};function hW(Z,m,S){bC.call(this,m,!0,"gradientbutton",18,10,bo.td);
this.Nx=-1;this.ZN=-1;this.a58=null;this.aiZ=Z;this.jm=S}hW.prototype=new bC;hW.prototype.Ub=function(Z){var m=this.$w;
this.f(m[this.km.J()]);this.c(new eY(_.E.o))};hW.prototype.Ts=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.Me,ct:"gradienteditor",X:this.iQ,mm:this.av3.bind(this),Is:this.jm};
this.c(m)};hW.prototype.av3=function(Z){this.f(Z);this.c(new eY(_.E.o))};hW.prototype.sU=function(){if(!this.y4)return;
var Z=Math.floor(36*J.F()),m=Math.floor(36*J.F()),S=[],B=[],C=this.$w;for(var q=0;q<C.length;q++){var u=C[q];
B.push(u.Nm?u.Nm.v.split("=").pop():"");var r=g.eN.bW(u,Z,m,Math.PI/4,this.Nx,this.ZN);S.push(r)}this.km.Rs(S,B,Z,m);
this.y4=!1};hW.prototype.lP=function(Z,m){this.aiz(this.iQ,Z,m)};hW.prototype.f=function(Z){this.aiz(Z,this.Nx,this.ZN)};
hW.prototype.aiz=function(Z,m,S){this.Nx=m;this.ZN=S;if(Z==null)return;var B=JSON.stringify(Z),C=B+m+","+S;
if(C==this.a58)return;this.a58=C;this.iQ=JSON.parse(B);var u=Math.floor(80*J.F()),r=Math.floor(16*J.F()),k=g.eN.bW(this.iQ,u,r,0,this.Nx,this.ZN);
this.uV.setAttribute("src",k);J.Lk(this.uV,u,r)};hW.prototype.J=function(){var Z;if(this.aiZ)Z=g.eN.a8H(this.iQ,this.Nx,this.ZN);
else Z=JSON.parse(JSON.stringify(this.iQ));return Z};function ha(Z){bC.call(this,Z,!1,"swatchbutton",16,8.75,bo._T)}ha.prototype=new bC;
ha.prototype.Ub=function(Z){this.f(this.$w[Z.target.J()]);this.c(new eY(_.E.o))};ha.prototype.sU=function(){if(!this.y4)return;
var Z=Date.now(),m=Math.floor(10*J.F()),S=Math.floor(10*J.F()),B=[],C=[],u=this.$w;for(var q=0;q<u.length;
q++){C.push(u[q].G6?u[q].G6.split("=").pop():"");B.push(ha.bW(u[q],m,S))}this.km.Rs(B,C,m,S);this.y4=!1};
ha.prototype.f=function(Z){this.iQ=JSON.parse(JSON.stringify(Z));this.RI()};ha.prototype.RI=function(){var Z=Math.floor(24*J.F()),m=Math.floor(20*J.F()),S=ha.bW(this.iQ,Z,m);
this.uV.setAttribute("src",S);J.Lk(this.uV,Z,m)};ha.prototype.J=function(){return JSON.parse(JSON.stringify(this.iQ))};
ha.kD={};ha.bW=function(Z,m,S){var B=ha.az,C=ha.kD,u=l.L5(Z.I<<16|Z.z<<8|Z.S);if(C[u])return C[u];if(B==null){var r=J.L("canvas");
B=ha.az=r.getContext("2d")}var r=B.canvas;r.width=m;r.height=S;B.fillStyle="#"+u;B.fillRect(0,0,m,S);
var k=C[u]=r.toDataURL();return k};function hs(Z,m,S,B,C){if(Z==null)Z=!1;if(m==null)m=!1;if(S==null)S=!1;
aw.call(this);this.ng=new aS;this.wp=new aS;this.sJ=72;this.LH=72;this.uT=!0;this.m=J.L("span");this.gA=new gH([12,41],0,0,null,0,!1,!0);
this.m.appendChild(this.gA.m);this.gA.h(_.E.o,this.Ln,this);var u=["px","%"];if(Z)u=u.concat(["mm","in"]);
if(C){u=[[12,76,2],[12,76,6]];if(Z)u=u.concat([[12,76,5],[12,76,3]])}this.cF=new fH(null,u);this.m.appendChild(this.cF.m);
J.ed(this.m);this.cF.h(_.E.o,this.Ln,this);this.Xq=new gH([12,42],0,0,null,0,!1,!0);this.m.appendChild(this.Xq.m);
this.Xq.h(_.E.o,this.Ln,this);var r=new dX("\u21F5",!1,null,!0);r.h("click",this.aoh,this);this.vD=new dX("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.vD.h("click",this.Ln,this);this.ad6=new ed("");if(m){this.m.appendChild(this.vD.m);this.m.appendChild(this.ad6.m);
this.vD.HS()}else this.m.appendChild(r.m);this.Lo=new gH("DPI",0,0,null,3,!1,!0,4);if(Z&&B==null){J.ed(this.m);
this.m.appendChild(this.Lo.m)}this.Lo.h(_.E.o,this.Ln,this);this.nu=new ae([12,23,1]);this.nu.h(_.E.o,this.Ln,this);
if(S){J.ed(this.m);this.m.appendChild(this.nu.m)}J.ed(this.m)}hs.prototype=new aw;hs.prototype.Ri=function(){this.gA.Ri()};
hs.prototype.au1=function(){this.uT=!1;if(this.cF.J()==0){this.cF.f(3);this.P3()}};hs.prototype.a1$=function(){this.uT=!0};
hs.prototype.a3L=function(Z){this.vD.f(Z)};hs.prototype.w=function(){this.gA.w();this.Xq.w();this.Lo.w();
this.vD.w();this.nu.w();this.cF.w()};hs.prototype.aoh=function(Z){var m=this.wp.x;this.wp.x=this.wp.y;
this.wp.y=m;this.P3();this.c(new eY(_.E.o,!1))};hs.prototype.Ln=function(Z){if(Z.target==this.cF&&!this.uT&&this.cF.J()==0)this.cF.f(3);
if(Z.target==this.cF||Z.target==this.nu){this.P3();return}if(Z.target==this.vD)Z.target.f(!Z.target.J());
var m=this.ng,S=parseFloat(this.gA.J());if(isNaN(S))S=1;var B=parseFloat(this.Xq.J());if(isNaN(B))B=1;
var C=this.cF.J();if(this.uT){var u=this.LH;if(C==1){S=this.ng.x*(S/100);B=this.ng.y*(B/100)}var r=[1,1,25.4/u,1/u][C];
S/=r;B/=r;if(this.nu.J()){S+=this.ng.x;B+=this.ng.y}if(Z.target==this.Lo){var k=this.Lo.J();if(!0){var v=k/u;
S*=v;B*=v}u=k}if(this.vD.J()){if(Z.target==this.gA)B=S*(m.y/m.x);else S=B*(m.x/m.y)}S=Math.max(Math.abs(S),1);
B=Math.max(Math.abs(B),1)}else{var u=this.sJ;if(Z.target==this.Lo)u=this.Lo.J();else{if(this.vD.J()){if(Z.target==this.gA)B=S*(m.y/m.x);
else S=B*(m.x/m.y)}var r=[1,1,25.4/u,1/u][C],e=S/(C==1?100:m.x*r);u=u/e}S=m.x;B=m.y}this.wp=new aS(Math.round(S),Math.round(B));
this.LH=u;this.P3();this.c(new eY(_.E.o,!1))};hs.prototype.amR=function(q){this.cF.f(q);this.P3()};hs.prototype.f=function(Z,m,S){if(S!=!0)this.ng=Z.clone();
this.wp=Z.clone();if(m!=null){this.sJ=m;this.LH=m}this.P3()};hs.prototype.P3=function(){var Z=this.wp.x,m=this.wp.y,S=this.LH,B=(Z/m).toFixed(3);
while(B.charAt(B.length-1)=="0")B=B.substring(0,B.length-1);if(B.charAt(B.length-1)==".")B=B.substring(0,B.length-1);
var C="  "+B+" : 1",u=function(j,$){while($!=0){var U=$;$=j%$;j=U}return j},r=u(Z,m);if(Math.min(Z,m)/r<10)C="  "+Math.round(Z/r)+" : "+Math.round(m/r);
this.ad6.f(C);if(this.nu.J()){Z-=this.ng.x;m-=this.ng.y}var k=this.cF.J();if(k==1){if(this.uT){Z=100*Z/this.ng.x;
m=100*m/this.ng.y}else{Z=m=100*this.sJ/this.LH}}else{Z=Math.round(Z);m=Math.round(m)}var v=[1,1,25.4/S,1/S][k];
Z*=v;m*=v;var e=k==1||k==3?2:0;this.gA.t8(e);this.Xq.t8(e);this.gA.f(Z);this.Xq.f(m);this.Lo.f(S)};hs.prototype.J=function(){return this.wp.clone()};
hs.prototype.nN=function(){return this.LH};function gS(Z,m){aw.call(this);var S=Z==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.or=Z;this.aot=m;this.cY=1;this.IZ=[1,1,0];var B=this.m=J.L("div","numlist"),C=this.TP=[];for(var q=0;
q<4;q++){var u=new gH(S[q],0,0,null,2,!1,!0,4);u.h(_.E.o,this.Ln,this);B.appendChild(u.m);C[q]=u;if(q==1||q==3)J.ed(B)}C[4]=new ae(Z==0?[12,51]:[12,91,2]);
C[4].f(!0);B.appendChild(C[4].m)}gS.prototype=new aw;gS.prototype.w=function(){var Z=this.TP;for(var q=0;
q<5;q++)Z[q].w();if(this.or==0)J.WN(Z[0],Z[2])};gS.prototype.f=function(Z,m,S){if(m)this.IZ=m;m=this.IZ;
var B=S?Z:this.or==0?[Z[2],Z[0],Z[3],Z[1]]:[Z[0],Z[1],Z[3],Z[2]];this.cY=B[0]/B[2];for(var q=0;q<4;q++){var C=this.TP[q];
C.t8(m[2]==0&&this.aot?0:2);C.f(l.Zv.a7N(B[q],m[0],m[1],m[2]))}};gS.prototype.J=function(Z){var m=[],S=this.IZ;
for(var q=0;q<4;q++){var B=l.Zv.Vj(this.TP[q].J(),S[0],S[1],S[2]);m[q]=this.aot?Math.round(B):B}return Z?m:this.or==0?[m[1],m[3],m[0],m[2]]:[m[0],m[1],m[3],m[2]]};
gS.prototype.Ln=function(Z){var m=this.or,S=this.TP.indexOf(Z.currentTarget),B=this.J(!0),C=this.TP[4].J();
if(m==0){B[0]=Math.max(1,B[0]);B[2]=Math.max(1,B[2]);if(C&&S==0)B[2]=B[0]/this.cY;if(C&&S==2)B[0]=B[2]*this.cY}if(m==1){B[S]=Math.max(0,B[S]);
if(C)for(var q=0;q<4;q++)B[q]=B[S]}this.f(B,null,!0);this.c(new eY(_.E.o,!1))};function jv(){aw.call(this);
this.nH=0;this.Ai=[0,0,1,1,100,100];this.m=J.L("span","fitem");this.rQ=new fH(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.m.appendChild(this.rQ.m);this.rQ.h(_.E.o,this.Ln,this);this.gA=new gH("W",0,0,null,0,!1,!0);this.m.appendChild(this.gA.m);
this.gA.h(_.E.o,this.Ln,this);this.Xq=new gH("H",0,0,null,0,!1,!0);this.m.appendChild(this.Xq.m);this.Xq.h(_.E.o,this.Ln,this);
this.f({aU:0,x:0,y:0})}jv.prototype=new aw;jv.prototype.w=function(){J.WN(this.gA,this.Xq);this.rQ.w()};
jv.prototype.Ln=function(Z){if(Z.target==this.rQ){var m=this.J(),S=this.Ai;S[this.nH*2]=m.x;S[this.nH*2+1]=m.y;
this.nH=m.aU;this.f({aU:m.aU,x:S[m.aU*2],y:S[m.aU*2+1]})}if(this.gA.J()<1)this.gA.f(1);if(this.Xq.J()<1)this.Xq.f(1);
this.c(new eY(_.E.o,!1))};jv.prototype.f=function(Z){this.rQ.f(Z.aU);this.gA.f(Z.x);this.Xq.f(Z.y);if(Z.aU==0){this.gA.ep();
this.Xq.ep()}else{this.gA.un();this.Xq.un()}};jv.prototype.J=function(){return{aU:this.rQ.J(),x:this.gA.J(),y:this.Xq.J()}};
function de(Z){aw.call(this);this.m=J.L("span","");this.a8D=Z;this.Ww=new jE("Off X",-100,100,Z?"%":"px",0,!1);
this.qU=new jE("Off Y",-100,100,Z?"%":"px",0,!1);this.Ww.h(_.E.o,this.Ln,this);this.qU.h(_.E.o,this.Ln,this);
this.m.appendChild(this.Ww.m);this.m.appendChild(this.qU.m)}de.prototype=new aw;de.prototype.w=function(){this.Ww.w();
this.qU.w()};de.prototype.Ln=function(Z){this.c(new eY(_.E.o,!1))};de.prototype.ajO=function(Z){this.Ww.f(Z.x);
this.qU.f(Z.y)};de.prototype.auE=function(){return new aS(this.Ww.J(),this.qU.J())};de.prototype.f=function(Z,m){var S=Z.Hrzn.v,B=Z.Vrtc.v;
if(this.a8D){S=S.val;B=B.val}this.Ww.f(S);this.qU.f(B);if(m==!0)this.Ln()};de.prototype.J=function(){var Z=this.Ww.J(),m=this.qU.J();
if(this.a8D)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:Z}},Vrtc:{t:"UntF",v:{type:"#Prc",val:m}}};
else return{classID:"Pnt",Hrzn:{v:Z,t:"doub"},Vrtc:{v:m,t:"doub"}}};function cT(){aw.call(this);this.m=J.L("span","fitem strokebutton");
this.fT=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.Tu=JSON.parse(JSON.stringify(fp.Rw.default));
this.nW=J.L("button");this.m.appendChild(this.nW);J.BQ(this.m,this.wQ.bind(this));var Z=J.L("canvas","gsicon");
this.az=Z.getContext("2d");this.nW.appendChild(Z);var m=J.L("span");m.textContent=" \u25BC";this.nW.appendChild(m);
this.$D=new aw;this.$D.parent=this;this.$D.m=J.L("div","floatcont form");var S=this.$D.m;S.setAttribute("style","width: 14em;");
this.VD=[new fH([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new g6([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new g6([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new ec([19,9,2])];
for(var q=0;q<this.VD.length;q++){var B=this.VD[q];S.appendChild(B.m);var C=q<4?_.E.o:"click";B.h(C,this.Ln,this)}J.ed(S);
this.D1=[];var u=this.agO.bind(this);for(var q=0;q<this.fT.length;q++){var r=J.L("button","fitem");this.D1.push(r);
S.appendChild(r);r.addEventListener("click",u,!1);var Z=J.L("canvas","gsicon"),k=Z.getContext("2d");
r.appendChild(Z);this.auU(k,40,20,this.fT[q])}}cT.prototype=new aw;cT.prototype.wQ=function(Z){if(J.Qt(this.$D.m))return;
Z.stopPropagation();var m=this.nW.getBoundingClientRect(),S=new eY(_.E.W,!0);S.data={d:_.B.HM,Xg:this.$D,x:m.left,y:m.top+m.height+4};
this.c(S)};cT.prototype.Ln=function(Z){var m=this.VD,S=m.indexOf(Z.target),B=[];for(var q=0;q<4;q++)B.push(m[q].J());
this.Tu=this.ac8(B);this.c(new eY(_.E.o,!1))};cT.prototype.agO=function(Z){var m=this.D1.indexOf(Z.currentTarget);
this.f(this.ac8(this.fT[m]));this.c(new eY(_.E.o,!1))};cT.prototype.ac8=function(Z){var m=JSON.parse(JSON.stringify(this.Tu)),S=Z[0],B=Z[1],C=Z[2],u=Z[3];
if(S!=null)m.strokeStyleLineAlignment.v.strokeStyleLineAlignment=fp.Rw.Rg[S];if(B!=null)m.strokeStyleLineCapType.v.strokeStyleLineCapType=fp.Rw.Fa[B];
if(C!=null)m.strokeStyleLineJoinType.v.strokeStyleLineJoinType=fp.Rw.join[C];var r=m.strokeStyleLineDashSet.v=[];
u=u.split(" ");while((u.length&1)!=0)u.pop();for(var q=0;q<u.length;q++)r.push({t:"UntF",v:{type:"#Nne",val:parseInt(u[q])}});
return m};cT.prototype.w=function(){for(var q=0;q<this.VD.length;q++)this.VD[q].w()};cT.prototype.f=function(Z){this.Tu=JSON.parse(JSON.stringify(Z));
var m=fp.Rw.Rg.indexOf(Z.strokeStyleLineAlignment.v.strokeStyleLineAlignment),S=fp.Rw.Fa.indexOf(Z.strokeStyleLineCapType.v.strokeStyleLineCapType),B=fp.Rw.join.indexOf(Z.strokeStyleLineJoinType.v.strokeStyleLineJoinType),C=[],u=Z.strokeStyleLineDashSet.v;
for(var r=0;r<u.length;r++)C.push(u[r].v.val);var k=this.VD;k[0].f(m);k[1].f(S);k[2].f(B);k[3].f(C.join(" "));
var v=[];for(var q=0;q<4;q++)v.push(k[q].J());this.auU(this.az,40,16,v)};cT.prototype.J=function(){return JSON.parse(JSON.stringify(this.Tu))};
cT.prototype.auU=function(Z,m,S,B){var C=B[0],u=B[1],r=B[2],k=B[3].split(" ").map(parseFloat);J.Nm(Z.canvas,m,S);
var v=Math.min(5,this.Tu.strokeStyleLineWidth.v.val);for(var q=0;q<k.length;q++)k[q]*=v;Z.clearRect(0,0,m,S);
Z.setLineDash(k);Z.lineCap=["butt","round","square"][u];Z.lineJoin=["miter","round","bevel"][r];Z.lineWidth=v;
Z.beginPath();Z.moveTo(0,S/2);Z.lineTo(m*2,S/2);Z.stroke()};function jS(Z){bC.call(this,Z,!1,"contourbutton",34,16,bo.w8,!0);
this.wC=new ec([12,86],null,16);this.wC.h("input",this.j9,this);this.$D.m.appendChild(this.wC.m);this.Z$=null;
this.LF="";this.e_=null;this.f(go.ej())}jS.prototype=new bC;jS.prototype.w=function(){bC.prototype.w.call(this);
this.wC.w()};jS.prototype.Ub=function(Z){this.f(this.Z$[Z.target.J()[0]]);this.c(new eY(_.E.o))};jS.prototype.j9=function(Z){this.LF=this.wC.J().toLowerCase();
this.a6z()};jS.Xj=!1;jS.prototype.sU=function(){if(!this.y4)return;var Z=this.$w;if(Z==null||!jS.Xj){var m=new eY(_.E.W,!0);
m.data={d:_.B.FJ,Lh:{url:"rsrc/basic/fa_basic.csh"}};this.c(m);jS.Xj=!0}else{var S=Math.floor(38*J.F()),B=Math.floor(38*J.F());
this.e_=[];for(var q=0;q<Z.length;q++)this.e_.push(jS.amJ(Z[q],S,B));this.a6z();this.y4=!1}};jS.prototype.a6z=function(){var Z=Math.floor(38*J.F()),m=Math.floor(38*J.F());
this.Z$=[];var S=[],B=[],C=this.$w;for(var q=0;q<C.length;q++){if(C[q].Nv.toLowerCase().indexOf(this.LF)==-1)continue;
this.Z$.push(C[q]);S.push(this.e_[q]);B.push(C[q].Nv)}this.km.Rs(S,B,Z,m)};jS.prototype.f=function(Z){this.iQ=jS.clone(Z);
this.RI()};jS.prototype.RI=function(){var Z=Math.floor(23*J.F()),m=Math.floor(23*J.F()),S=jS.amJ(this.iQ,Z,m);
this.uV.setAttribute("src",S);J.Lk(this.uV,Z,m)};jS.prototype.J=function(){return jS.clone(this.iQ)};
jS.clone=function(Z){return{Nv:Z.Nv,Ym:Z.Ym,u:w.r6.Vu(Z.u),rK:Z.rK.clone()}};jS.O=null;jS.Xy=null;jS.amJ=function(Z,m,S){var B=w.r6.Vu(Z.u),C=Z.rK,u=Math.min(m/C.e,S/C.n)*.9,r=new ht;
r.translate(-.5,-.5);r.scale(.95,.95);r.translate(.5,.5);r.scale(u*C.e,u*C.n);l.q.uA(B,r);var k=new w.r6;
k.u=B;var v=k.sd();v.rect.x=Math.floor((m-v.rect.e)/2);v.rect.y=Math.floor((S-v.rect.n)/2);var e=l.U(v.rect.Z()*4);
l.cN(v.channel,e,3);var j=jS;if(j.O==null)j.O=J.L("canvas");var $=j.O,U=$.getContext("2d");if($.width!=m||$.height!=S||j.Xy==null){$.width=m;
$.height=S;j.Xy=U.createImageData(m,S)}var H=j.Xy;H.data.fill(0);l.pY(e,v.rect,H.data,new bq(0,0,m,S));
U.putImageData(H,0,0);return $.toDataURL()};function e5(Z){bC.call(this,Z,!1,"ICCButton",16,12,bo.yo,!0);
this.km.dt(1)}e5.prototype=new bC;e5.prototype.xm=function(){var Z="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var q=0;q<Z.length;q++)Z[q]="luts/"+Z[q]+".CUBE";return Z};e5.prototype.Ub=function(Z){this.f(this.$w[Z.target.J()]);
this.c(new eY(_.E.o))};e5.prototype.sU=function(){if(!this.y4)return;var Z=Math.floor(1*J.F()),m=Math.floor(1*J.F()),S=[],B=[],C=this.$w;
for(var q=0;q<C.length;q++){var u=C[q].Nm.v.split("\\").pop().split("/").pop();B.push(u);S.push(e5.bW(C[q],Z,m))}this.km.Rs(S,B,Z,m);
this.y4=!1};e5.prototype.f=function(Z){this.iQ=JSON.parse(JSON.stringify(Z));this.RI()};e5.bW=function(Z,m,S){var B=J.L("canvas"),r="ICC / 3DL / look / cube";
B.width=m;B.height=S;var C=B.getContext("2d"),u=Math.floor(14*J.F());C.font=u+"px sans-serif";if(Z.Nm)r=Z.Nm.v.split("\\").pop().split("/").pop();
C.fillText(r,10,u);return B.toDataURL()};e5.prototype.RI=function(){var Z=Math.floor(120*J.F()),m=Math.floor(20*J.F());
this.uV.setAttribute("src",e5.bW(this.iQ,Z,m));J.Lk(this.uV,Z,m)};e5.prototype.J=function(){return JSON.parse(JSON.stringify(this.iQ))};
function by(){aw.call(this);this.g2=null;this.m=J.L("span","fitem");this.GM=new dv([14,9]);this.vP=new gH(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.bS=new cT;this.U5=[this.GM,this.vP,this.bS];for(var q=0;q<this.U5.length;q++){var Z=this.U5[q];
this.m.appendChild(Z.m);Z.parent=this;Z.h(_.E.o,this.Ln,this)}}by.prototype=new aw;by.prototype.w=function(){for(var q=0;
q<this.U5.length;q++)this.U5[q].w()};by.prototype.C7=function(Z,m){this.GM.C7(Z,m)};by.prototype.Ln=function(Z){var m=this.g2,S=this.GM.J(),B=S.lE;
m.strokeEnabled.v=B!=0;if(B!=0){m.strokeStyleContent.v=S.aI;S.aI.classID=fp.Rw.lf[B-1]}m.strokeStyleLineWidth.v.val=this.vP.J();
if(Z.target==this.bS)m=this.bS.J();this.g2=m;this.c(new eY(_.E.o,!1))};by.prototype.f=function(Z,m,S){this.g2=JSON.parse(JSON.stringify(m));
var B=m.strokeEnabled.v,C=m.strokeStyleContent.v,u=B?{lE:1+fp.Rw.lf.indexOf(C.classID),aI:C}:{lE:0};
this.GM.f(Z,u,S);this.vP.f(m.strokeStyleLineWidth.v.val);this.bS.f(m)};by.prototype.J=function(){return JSON.parse(JSON.stringify(this.g2))};
function iE(Z){var m=[[18,0],[18,1],[18,2],[18,3]],S=g6.y2(["set/front","set/union","set/difference","set/intersection"]);
g6.call(this,Z?[12,36]:null,S,m)}iE.prototype=new g6;function du(){aw.call(this);this.m=J.L("button","fitem bbtn");
J.BQ(this.m,this.wQ.bind(this));this.$D=new aw;this.$D.m=J.L("div","floatcont form");this.$D.m.setAttribute("style","max-width: 200px;");
this.$D.parent=this;var Z=iG;this.X5=[new ae("Start"),new ae("End"),new Z([12,41],0,100,"px",null,!0,null,!0),new Z([12,80,0],0,100,"px",null,!0,null,!0),new Z("Concavity",-50,50,"%",null,null,null,!0)];
for(var q=0;q<this.X5.length;q++){var m=this.X5[q];m.parent=this;m.h(_.E.o,this.rc,this);this.$D.m.appendChild(m.m)}this.afL=J.L("div");
this.$D.m.appendChild(this.afL)}du.prototype=new aw;du.prototype.f=function(Z){for(var q=0;q<5;q++)this.X5[q].f(Z[q]);
this.Hk()};du.prototype.J=function(Z){var m=[];for(var q=0;q<5;q++)m[q]=this.X5[q].J();return m};du.prototype.w=function(){this.m.textContent=iD.get([12,93,4]);
for(var q=0;q<this.X5.length;q++)this.X5[q].w()};du.prototype.rc=function(Z){this.c(new eY(_.E.o,!1));
this.Hk()};du.prototype.Hk=function(Z){var m=this.J(),S=200,B=60;m[2]/=J.F();m[3]/=J.F();var C=l.q.eF.gS(0,B/2,S,B/2,5,m),u=l.q.y3(C);
this.afL.innerHTML="<svg width=\""+S+"\" height=\""+B+"\" class=\"gsicon\">\t\t\t<path d=\""+u.Wk+"\" />\t\t\t</svg>"};
du.prototype.wQ=function(Z){if(J.Qt(this.$D.m))return;Z.stopPropagation();var m=this.m.getBoundingClientRect(),S=new eY(_.E.W,!0);
S.data={d:_.B.HM,Xg:this.$D,x:m.left,y:m.top+m.height,Gu:!0};this.c(S)};function bQ(){aw.call(this);
this.XQ=[16,!0,!0];this.m=J.L("span","");this.ZU=[new gH([12,24],0,255),new ae([12,25,1]),new ae([12,25,0])];
for(var q=0;q<3;q++){var Z=this.ZU[q];Z.parent=this;Z.f(this.XQ[q]);this.m.appendChild(Z.m);Z.h(_.E.o,this.Ln,this)}}bQ.prototype=new aw;
bQ.prototype.Ln=function(){for(var q=0;q<3;q++)this.XQ[q]=this.ZU[q].J();this.c(new eY(_.E.o,!1))};bQ.prototype.f=function(Z){this.XQ=Z.slice(0);
for(var q=0;q<3;q++)this.ZU[q].f(Z[q])};bQ.prototype.J=function(){return this.XQ.slice(0)};bQ.prototype.w=function(){for(var q=0;
q<3;q++)this.ZU[q].w()};function d$(Z,m){aw.call(this);if(m==null)m=!1;this.e_=[];this.eb=Math.floor(120*J.F());
this.a1L=Math.floor(23*J.F());this.F$=0;this.Pn=[];this.JN=[];for(var S in l.BF.type){if(S=="warpCustom"&&!m)continue;
this.Pn.push(S);this.JN.push(l.BF.type[S])}this.m=J.L("span","fitem warpbutton");this.$D=new aw;this.$D.m=J.L("div","floatcont");
if(Z){this.CP=Z;this.m7=J.L("label","flabel");this.m.appendChild(this.m7)}this.d=J.L("button");this.m.appendChild(this.d);
J.BQ(this.d,this.wQ.bind(this));this.C_=new gk(!0);this.$D.m.appendChild(this.C_.m);this.C_.h(_.E.o,this.aiy,this);
this.$D.m.setAttribute("style","width:"+Math.floor(8+this.eb/J.F())+"px;");this.w()}d$.prototype=new aw;
d$.prototype.zR=function(Z){this.m7.textContent=Z};d$.prototype.w=function(){if(this.CP)this.m7.innerHTML=iD.get(this.CP)+":";
this.RI()};d$.aia={};d$.ahQ=function(Z,m,S){var B=iD.get(l.BF.type[Z]),C=B+"-"+Z+"-"+m+"-"+S,u=d$.aia[C];
if(u)return u;var r=d$.az;if(k==null){var k=J.L("canvas");r=d$.az=k.getContext("2d")}var k=r.canvas;
if(k.width!=m||k.height!=S){k.width=m;k.height=S}r.font=Math.floor(13*J.F())+"px sans-serif";r.lineWidth=1;
r.strokeStyle="#000000";var v=Math.floor(16*J.F()),e=new bq(0,0,v,v);r.clearRect(0,0,k.width,k.height);
var j=l.BF.BF(e,Z,!0,.3,0,0),$=l.H.ez(e);$.C.push("M","L","M","L");$.t.push(0,v/2,v,v/2);$.t.push(v/2,0,v/2,v);
$=l.H.Kg($);$=l.H.QL($,v/5);l.oI.A(j,$.t,e);l.H.A($.t,new ht(1,0,0,1,Math.floor(8*J.F())+.5,Math.floor(3*J.F())+.5),$.t);
r.beginPath();Typr.U.pathToContext({cmds:$.C,crds:$.t},r);r.stroke();r.fillText(B,Math.floor(40*J.F()),Math.floor(16*J.F()));
u=d$.aia[C]=k.toDataURL();return u};d$.prototype.wQ=function(Z){if(J.Qt(this.$D.m))return;Z.stopPropagation();
var m=this.eb,S=this.a1L;for(var q=0;q<this.Pn.length;q++)this.e_[q]=d$.ahQ(this.Pn[q],m,S);this.C_.Rs(this.e_,null,m,S);
var B=this.d.getBoundingClientRect(),C=new eY(_.E.W,!0);C.data={d:_.B.HM,Xg:this.$D,x:B.left,y:B.top+B.height+4};
this.c(C)};d$.prototype.aiy=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.Kb,Xg:this.$D};this.c(m);
this.F$=Z.target.J()[0];this.RI();this.c(new eY(_.E.o))};d$.prototype.RI=function(){var Z=this.eb,m=this.a1L;
this.C_.f([this.F$]);this.d.innerHTML="<img src=\""+d$.ahQ(this.Pn[this.F$],Z,m)+"\" class=\"gsicon\" />";
J.Lk(this.d.firstChild,Z,m)};d$.prototype.J=function(){return this.Pn[this.F$]};d$.prototype.f=function(Z){this.F$=this.Pn.indexOf(Z);
this.RI()};function hj(Z,m,S){aw.call(this);if(Z==null)Z=!1;if(m==null)m=!1;if(S==null)S=!1;this.a6N=m;
this.BF=null;this.sr=new d$([12,22],S);this.sr.parent=this;this.sr.h(_.E.o,this.EM,this);this.RQ=new fH([22,0],[[22,4,0],[22,4,1]]);
this.RQ.h(_.E.o,this.EM,this);var B=Z?gH:iG;this.LC=new B([22,1],-100,100,"%");this.yp=new B("Horizontal Distortion:",-100,100,"%");
this.Pm=new B("Vertical Distortion:",-100,100,"%");this.LC.parent=this.yp.parent=this.Pm.parent=this;
this.LC.h(_.E.o,this.EM,this);this.yp.h(_.E.o,this.EM,this);this.Pm.h(_.E.o,this.EM,this)}hj.prototype=new aw;
hj.prototype.w=function(){this.sr.w();this.RQ.w();this.LC.w();var Z=this.a6N?1:100;this.yp.zR(iD.get([22,2]).substring(0,Z)+":");
this.Pm.zR(iD.get([22,3]).substring(0,Z)+":")};hj.prototype.EM=function(){var Z=this.BF,m=this.sr.J(),S=Z.warpStyle.v.warpStyle;
if(m=="warpCustom")l.BF.ol(l.BF.f8(Z),Z);else delete Z.customEnvelopeWarp;Z.warpStyle.v.warpStyle=this.sr.J();
Z.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.RQ.J()];Z.warpValue.v=this.LC.J();Z.warpPerspective.v=this.yp.J();
Z.warpPerspectiveOther.v=this.Pm.J();if(m=="warpNone"||m=="warpCustom"){Z.warpValue.v=0;Z.warpPerspective.v=0;
Z.warpPerspectiveOther.v=0}else if(S=="warpNone"||S=="warpCustom")Z.warpValue.v=50;this.c(new eY(_.E.o,!1));
this.f(Z)};hj.prototype.J=function(Z){return JSON.parse(JSON.stringify(this.BF))};hj.prototype.f=function(Z){this.BF=JSON.parse(JSON.stringify(Z));
this.sr.f(Z.warpStyle.v.warpStyle);this.RQ.f(Z.warpRotate.v.Ornt=="Hrzn"?0:1);this.LC.f(Z.warpValue.v);
this.yp.f(Z.warpPerspective.v);this.Pm.f(Z.warpPerspectiveOther.v);var m=Z.warpStyle.v.warpStyle,S=m=="warpNone"||m=="warpCustom",B=[this.RQ,this.LC,this.yp,this.Pm];
for(var q=0;q<B.length;q++)if(S)B[q].ep();else B[q].un()};function gf(Z,m){aw.call(this);this.m=J.L("div");
this._G=Z;this.BD=null;this.fn=new aS(0,0);this.UB="position:relative;overflow:hidden;";this.qk=null;
this.zG=new J.VQ(this.m);this.a2K=m;this.Tg("grab");this.O=J.L("canvas","canv");this.m.appendChild(this.O);
this.az=this.O.getContext("2d");this.a1G=null;this.Zc=null;this.QT=null;this.Xk=0;this.nY=0;this.ef=0;
this.afF=this.aoz.bind(this);this.alR=null;this.s=new h_({e:1,n:1});this.cA=null;this.Tn=null;this.iC=[];
this.aky=0;this.aQ=0;this.a1l=this.y6.bind(this);this.asQ=this.hI.bind(this);this.adU=this.v4.bind(this);
this.ajE=this.Jz.bind(this);this.a04=0;this.ud=null;this.age(this.O);this.d8(this)}gf.prototype=new aw;
gf.a63=function(Z){var m=new iZ(!0);if(Z>=0)m.Wt("Space");if(Z>=1){m.Wt("ControlLeft");if(Z==2)m.Wt("AltLeft")}return m};
gf.prototype._s=function(Z){var m=this.qk,S=null;if(Z.j(iZ.MO)){S="grab";if(Z.j(iZ.Sx)){S="zoom-in";
if(Z.j(iZ.__))S="zoom-out"}}this.BD=S;if(S)m=S;this.zG.sc(m,this.UB);if(Z.j(iZ.Sx)){var B=0;if(Z.j(iZ.ni))B=1;
if(Z.j(iZ.Kq))B=-1;if(B!=0){this.tI(new aS(this.O.width/2,this.O.height/2),B==1)}}};gf.prototype.Tg=function(Z){this.qk=Z;
if(this.BD)return;this.zG.sc(Z,this.UB)};gf.prototype.age=function(Z){J.BQ(Z,this.a1l);J.Ew(Z);Z.addEventListener("wheel",this.ajE,!1)};
gf.prototype.d8=function(Z){Z.h("viewchange",this.anb,this)};gf.prototype.anb=function(Z){var m=this.s.R,S=Z.currentTarget.z7();
this.s.R=S.R;this.s.r=S.r.clone();if(m!=S.R)this.WR();this.os()};gf.prototype.z7=function(){return{R:this.s.R,r:this.s.r}};
gf.prototype.f=function(Z,m){var S=Z[0].cR;if(this.Zc!=null&&this.Zc[0].cR.Qu(S)){}else{this.s.OB={e:S.e,n:S.n};
this.s.r=new aS(0,0);this.s.R=1}this.Zc=Z;this.WR();this.R2();this.Xk=0;this.nY=0;this.ef=m==null?0:m;
this.aoz()};gf.prototype.Jz=function(Z){Z.preventDefault();if(Z.deltaY==0||Date.now()-this.a04<100)return;
var m=J.W7(Z);m.x=J.F()*m.x;m.y=J.F()*m.y;this.a04=Date.now();this.tI(m,Z.deltaY<0)};gf.prototype.tI=function(Z,m){g.Ol.IF(this.s,Z,m);
this.aeM()};gf.prototype.vn=function(){var Z=this.s,m=Z.OB;this.s.R=g.Ol.LS(m.e,m.n,Z.ma.e,Z.ma.n);this.aeM()};
gf.prototype.aeM=function(){this.WR();this.c(new eY("viewchange"));this.c(new eY("zoom"))};gf.prototype.WR=function(){this.QT=[];
var Z=this.s.R;if(this.Zc==null)return;for(var q=0;q<this.Zc.length;q++){var m=this.Zc[q],S=new Uint8Array(m.data),B;
if(Z>=1)B={MW:S,rect:m.cR};else B=l.a2A(S,m.cR,Z);this.QT.push(B)}};gf.prototype.R2=function(){clearTimeout(this.alR)};
gf.prototype.os=function(){if(this.Zc==null||!J.Qt(this.O))return;var Z=this.a1G,m=this.O.width,S=this.O.height,z,f;
if(Z==null||Z.width!=m||Z.height!=S){Z=this.a1G=this.az.createImageData(m,S);console.log("creating image data")}var B=this.Zc[this.Xk],C=this.QT[this.Xk],u=this.s,r=u.OB,k=u.ma,v=k.e,e=k.n,j=r.e*u.R,$=r.n*u.R,U=Math.round((v-j)/2+u.r.x),H=Math.round((e-$)/2+u.r.y);
if(u.R<=1){f=C.rect.clone();f.x=U;f.y=H;j=f.e;$=f.n;z=C.MW}else{var D=1/u.R,n=new bq(Math.floor((k.x-U)*D),Math.floor((k.y-H)*D),Math.ceil(k.e*D)+1,Math.ceil(k.n*D)+1),L=new bq(0,0,n.e*u.R,n.n*u.R);
L.x=n.x*u.R+U;L.y=n.y*u.R+H;if(u.Af==null||u.Af.length!=n.Z()*4){u.Af=l.U(n.Z()*4)}if(u.G9==null||u.G9.length!=L.Z()*4){u.G9=l.U(L.Z()*4)}l._z(u.Af,0);
l.pY(C.MW,C.rect,u.Af,n);l.scale.$U(u.Af,n.e,n.n,u.G9,L.e,L.n,u.R);z=u.G9;f=L}var a=new Uint8Array(Z.data.buffer);
l.AN(a,v,e,8,-U,-H);l.a.qn("norm",z,f,a,k,k,1);var F=this.az;F.setTransform(1,0,0,1,0,0);F.putImageData(Z,0,0);
F.clearRect(U-1e3,H,1e3,$);F.clearRect(U+j,H,1e3,$);F.clearRect(U-1e3,H-1e3,j+2e3,1e3);F.clearRect(U-1e3,H+$,j+2e3,1e3);
var A=gf.abn(u.R,"#ffffff",this.a2K);F.putImageData(A,0,u.ma.n-A.height)};gf.aoY={};gf.abn=function(Z,m,S){if(S==null)S=!1;
var B="z"+Z+","+m+","+S,C=gf.aoY[B];if(C)return C;var u=Math.round(50*J.F()),r=Math.round(18*J.F()),k=S?2*r:0,v=J.L("canvas"),e=v.getContext("2d");
v.width=u+k;v.height=r;e.fillStyle="rgba(1,1,1,1)";e.fillRect(0,0,u+k,r);e.font=Math.round(11*J.F())+"px monospace";
e.fillStyle=m;var j=Z*100;if(j<100)j=j.toFixed(2);else j=Math.round(j);j=j+"%";var $=e.measureText(j).width;
e.fillText(j,k+(u-$)/2,Math.round(r*.7));C=gf.aoY[B]=e.getImageData(0,0,u+k,r);return C};gf.prototype.aoz=function(){var Z=this.Zc,m=Z.length,S=this.Xk,B=this.Zc[S],C=(S+1)%m;
this.os();if(m!=1&&Z[C].cR.Qu(B.cR)){var u=B.yw?parseInt(B.yw.split(",").pop()):30;if(u==0)u=16;if(C==0)this.nY++;
if(this.ef==0||this.nY<this.ef)this.alR=setTimeout(this.afF,u)}this.Xk=C};gf.prototype.MY=function(Z,m){if(Z<=0||m<=0)return;
var S=Math.floor(Z*J.F()),B=Math.floor(m*J.F());this.s.ma=new bq(0,0,S,B);this.O.width=S;this.O.height=B;
this.O.setAttribute("style","width:"+S/J.F()+"px; height:"+B/J.F()+"px; display:block;");this.os()};
gf.prototype.Z0=function(Z){var m=-1,S=this.iC;for(var q=0;q<S.length;q++)if(S[q].pointerId==Z.pointerId)m=q;
return m};gf.prototype.y6=function(Z){var m=this.Z0(Z),S=this.iC;if(m!=-1)S[m]=Z;else S.push(Z);if(S.length==1){this.ud=Z.target;
J.Od(window,this.asQ);J.qq(window,this.adU);this.cA=J.W7(Z,this.O);this.cA.x*=J.F();this.cA.y*=J.F();
this.fn=this.cA;this.Tn=this.s.r.clone();if(this._G&&this.ud==this.O&&!this.BD)this.c(new eY("mousedown"))}else this.aky=this.aQ=aS.qa(J.W7(S[0],this.O),J.W7(S[1],this.O))};
gf.prototype.hI=function(Z){var m=this.Z0(Z),S=this.iC;if(m!=-1)S[m]=Z;var B=this.s,C=this.BD,u=this.Zc[this.Xk].cR.clone();
u.e*=B.R;u.n*=B.R;var r=J.W7(Z,this.O);r.x*=J.F();r.y*=J.F();this.fn=r;if(this._G&&this.ud==this.O&&!C)this.c(new eY("mousemove"));
else if((C=="grab"||C==null)&&(S.length>1||!B.ma.wZ(u))){if(S.length>1){var k=J.W7(S[0],this.O),v=J.W7(S[1],this.O),e=new aS(J.F()*(k.x+v.x)/2,J.F()*(k.y+v.y)/2),j=aS.qa(k,v),$=null;
if(j>this.aQ+50){this.aQ+=50;$=!0}if(j<this.aQ-50){this.aQ-=50;$=!1}if($!=null)this.tI(e,$);return}else{var U=r.x-this.cA.x,H=r.y-this.cA.y;
B.r.x=this.Tn.x+Math.round(U);B.r.y=this.Tn.y+Math.round(H)}this.c(new eY("viewchange"))}};gf.prototype.v4=function(Z){var m=this.Z0(Z),S=this.iC;
S.splice(m,1);if(S.length==0){J.N3(window,this.asQ);J.e6(window,this.adU);var B=this.BD;if(Z.detail>1){this.s.R=1;
this.s.r.r8(0,0);this.os()}if(this._G&&this.ud==this.O&&!this.BD)this.c(new eY("mouseup"));else{if(B=="zoom-in"||B=="zoom-out")this.tI(this.fn,B=="zoom-in")}}else{var C=this.cA=J.W7(S[0],this.O);
C.x*=J.F();C.y*=J.F()}};gf.prototype.mj=function(){return this.s.tr(this.fn.x,this.fn.y)};function eM(){aw.call(this);
this.t4=null;this.GE=null;this.o8=null;this.Ca=null;this.ag1="";this.yX=[];this._S=0;this.hw=[];this.ZA=0;
this._q=null;var Z=this.m=J.L("div",""),m=this.ahu=J.L("div","form");m.setAttribute("style","line-height:0; margin-bottom:0.5em;");
Z.appendChild(m);var S=this.CP=J.L("span");m.appendChild(S);S.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var B=this.aor=new ae([25,2,0]);B.f(!0);m.appendChild(B.m);B.h(_.E.o,this.Po,this);var C=this.oC=new ae([25,2,1]);
C.f(!0);m.appendChild(C.m);C.h(_.E.o,this.Po,this);var u=new ed(" ");m.appendChild(u.m);var r=this.en=new ec([25,1,1]);
m.appendChild(r.m);r.h(_.E.o,this.Po,this);this.yC=new f_(14);this.yC.amj(3);m.appendChild(this.yC.m);
this.yC.parent=this;this.yC.h(_.E.o,this.al1,this);var k=this.a7W=new dX([25,1,2],null,null,!0);m.appendChild(k.m);
k.h("click",this._p,this);this.a4B=this.a4U.bind(this);this.sB=J.L("div","svggallery scrollable");Z.appendChild(this.sB);
this.sB.addEventListener("scroll",this.a5N.bind(this))}eM.prototype=new aw;eM.prototype.C7=function(Z){this.ajq=Z};
eM.prototype.w=function(){this.CP.textContent=iD.get([25,0]);this.yC.w();this.aor.w();this.oC.w();this.en.w();
this.a7W.w()};eM.prototype.MY=function(Z,m){this.t4=new aS(Z,m);this.ahu.setAttribute("style","width:"+Z+"px");
var S=this.ahu.getBoundingClientRect();m-=S.height;this.sB.setAttribute("style","width:"+Z+"px; height:"+m+"px");
if(J.Qt(this.m))this.Po()};eM.prototype.f=function(Z){this.GE=Z;this.Po()};eM.prototype.a5N=function(Z){var m=this.sB;
if(m.scrollTop+m.clientHeight+10>=m.scrollHeight){this.Po(!0)}};eM.prototype.al1=function(Z){this.o8=null;
this.Po()};eM.prototype.a4U=function(Z){if(Date.now()-this.ZA<2e3)return;this.ZA=Date.now();this._S=this.hw.indexOf(Z.currentTarget);
var m=this.ag(this.GE.x,this.GE.y);if(m[1]){var S=m[1].largeImageURL,B=new XMLHttpRequest;B.responseType="arraybuffer";
B.open("GET",S,!0);B.onload=this.are.bind(this);B.send();return}this.aap(m)};eM.prototype.are=function(Z){var m=Z.target.response,S=e2.SL(m),B=e2.Vh(S),C=B.af(m),u=this.ag(this.GE.x,this.GE.y,[m,C[0].cR.e,C[0].cR.n]);
this.aap(u)};eM.prototype.aap=function(Z){var m=Z[0],S=e2.SL(m),B=e2.Vh(S),C=new fl("template.psd");
B.af(m,C);var u=new eY("tempready",!0);u.data={OB:C};this.c(u)};eM.prototype._p=function(Z){var m=Z.target;
this.yX=[];this.Po()};eM.prototype.a73=function(Z){var m=JSON.parse(Z.target.response);this.Ca=m.hits;
this.Po()};eM.prototype.Po=function(Z){if(this.GE==null||this.t4==null||this.ajq==null)return;if(this.t4.x<=0)return;
var m=this.GE.x,S=this.GE.y;if(Math.min(m,S)<50)return;if(Z!=!0){this.hw=[];J.uq(this.sB);this.sB.scrollTop=0}if(this.hw.length>300)return;
var B=Math.min(1,300/Math.max(m,S)),C=this.t4.clone();C.x-=20;var u=Math.max(1,Math.floor(C.x/(m*B))),r=Math.max(1,Math.ceil(C.y/(S*B)));
B=C.x/u/m;var k=u*r;if(this.o8==null){var v=this.ajq.Pl.eI();this.o8=[];for(var e in v){var j=v[e],$=j[3];
if(!this.yC.oZ(j))continue;if(j[5]==null||j[5].slice(0,2)=="gf")continue;this.o8.push(j)}if(this.o8.length==0)this.o8.push(v.DejaVuSans)}var U=this.oC.J(),H=this.en.J().trim();
this.en.aR(U);if(U&&(this.Ca==null||H!=this.ag1)){var z=new XMLHttpRequest,f="https://pixabay.com/api/?image_type=photo"+(H==""?"":"&q="+encodeURIComponent(H))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(H=="")f+="&safesearch=true";if(H=="")f="plugins/gallery.json";z.open("GET",f,!0);z.onload=this.a73.bind(this);
z.onerror=function(A){console.log(A.target.response)};z.send();this.ag1=H;return}B*=(m*B-5)/(m*B);var D=this.hw.length;
for(var q=0;q<k;q++){var n=this._S=D+q;if(this.yX[n]==null)this.yX[n]=Math.floor(Math.random()*4294967295);
var L=this.ag(Math.round(m*B),Math.round(S*B)),a=L[0];a=x.QN(new Uint8Array(a));var F=J.L("span");F.innerHTML=a;
this.hw.push(F);this.sB.appendChild(F);F.addEventListener("click",this.a4B,!1)}};eM.prototype.ag=function(Z,m,S){var B=this.oC.J(),C=this.aor.J(),u=B&&this.Ca.length!=0?this.Ca:null;
if(C&&!B)u=null;if(C&&B&&(this._S&1)==0)u=null;return gj.eF(Z,m,this.yX[this._S],this.o8,S?S:u)};function fY(){aw.call(this);
this.m=J.L("div");this.oJ=null;this.alZ=null;this.DD=-1;this.zX={JPG:[{uG:new iG([12,52,0],0,100,"%",null,null,!0),va:70},{uG:new ae("attach metadata"),va:!1}],TIFF:[{uG:new ae("attach metadata"),va:!1}],WEBP:[{uG:new iG([12,52,0],0,100,"%",null,null,!0),va:70}],GIF:[{uG:new iG([12,52,0],0,100,"%",null,null,!0),va:100},{uG:new ae([12,23,3]),va:!1}],PNG:[{uG:new iG([12,52,0],0,100,"%",null,null,!0),va:100},{uG:new ae("don't use palettes"),va:!1}],PDF:[{uG:new ec([12,52,1]),va:""},{uG:new iG([12,52,0],0,100,"%",null,null,!0),va:100},{uG:new ae("rasterize all"),va:!1},{uG:new ae("rasterize text"),va:!1},{uG:new ae("vectorize text"),va:!1},{uG:new iG("Add Margin",0,5,"in",2),va:0}],EMF:[{uG:new ec([12,52,1]),va:""},{uG:new ae("rasterize all"),va:!1},{uG:new ae("rasterize text"),va:!1},{uG:new ae("vectorize text"),va:!1}],SVG:[{uG:new ae("add raster graphics"),va:!0},{uG:new ae("add hidden layers"),va:!1},{uG:new ae("vectorize text"),va:!1},{uG:new ae("rasterize text"),va:!1},{uG:new ae("add layer names"),va:!0},{uG:new ae("pretty-print"),va:!0}],RAW:[{uG:new g6([12,72],["1","3","4"]),va:2},{uG:new g6([12,34],["8 Bits","16 Bits"]),va:0},{uG:new g6("Byte Order",["12-34","34-12"]),va:0}],DDS:[{uG:new ae("Add Mipmaps"),va:!0},{uG:new ae("Compression"),va:!0}],anim:[{uG:new iG("Speed",10,800,"%",null,!0,!0),va:100},{uG:new gH("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),va:0},{uG:new ae("reverse frames"),va:!1},{uG:new ae("boomerang"),va:!1}],slcs:[{uG:new ae("As Slices"),va:!0}],artb:[{uG:new ae("As Artboards"),va:!0}],hicc:[{uG:new ae("convert to sRGB"),va:!0}]};
for(var Z in this.zX){var m=this.zX[Z];for(var q=0;q<m.length;q++){m[q].uG.f(m[q].va);m[q].uG.h(_.E.o,this.Ra,this)}}}fY.prototype=new aw;
fY.prototype.aqq=function(){this.DD=-1};fY.prototype.w=function(){for(var Z in this.zX)for(var q=0;q<this.zX[Z].length;
q++)this.zX[Z][q].uG.w()};fY.prototype.Ra=function(){this.Po();this.c(new eY(_.E.o,!1))};fY.prototype.Po=function(){var Z=this.oJ,m=Z[0],S=Z[1],B=Z[2],C=Z[3],u=Z[4],r=this.zX[m];
if(r==null)r=[];else r=r.slice(0);if(S)r=r.concat(this.zX.anim);if(["GIF","PNG","JPG"].indexOf(m)!=-1&&B)r=r.concat(this.zX.slcs);
else if(["GIF","PNG","JPG"].indexOf(m)!=-1&&C)r=r.concat(this.zX.artb);if(u)r=r.concat(this.zX.hicc);
var k=Z.join(",");if(k!=this.DD){this.DD=k;J.uq(this.m);for(var q=0;q<r.length;q++){if(m=="PDF"&&!C&&q==0)continue;
this.m.appendChild(r[q].uG.m);J.ed(this.m)}}var v=this.alZ=[];for(var q=0;q<r.length;q++)v.push(r[q].uG.J())};
fY.prototype.ahB=function(Z,m,S,B,C){this.oJ=[Z,m,S,B,C];this.Po()};fY.prototype.J=function(){return this.alZ.slice(0)};
function gQ(){aw.call(this);this.m=J.L("span","fitem");this.no=!1;this.OH=new dX("No",!1,"Cancel");this.DQ=new dX("Yes",!1,"Confirm");
this.m.appendChild(this.OH.m);this.m.appendChild(this.DQ.m);this.OH.h("click",this.XM,this);this.DQ.h("click",this.XM,this);
this.w()}gQ.prototype=new aw;gQ.prototype.w=function(){this.OH.zR(J.NE("cross",null,"autoscale"));this.DQ.zR(J.NE("checkmark",null,"autoscale"))};
gQ.prototype.XM=function(Z){this.no=Z.target==this.DQ;this.c(new UIEvent("click"))};gQ.prototype.J=function(){return this.no};
function dm(Z){aw.call(this);this.m=J.L("span","fitem");this.Tb=new dX("\u25BC",null,"Auto Options",!0);
J.BQ(this.Tb.m,this.a2Y.bind(this));this.m.appendChild(this.Tb.m);this.pb=new dX("Auto",null,null,!0);
this.pb.h("click",this.rc,this);this.m.appendChild(this.pb.m);this.zi=new iF("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.zi.h(_.E.o,this.rc,this);this.zi.f([!1,!1,!1,!0]);this.$D=new aw;var m=this.$D.m=J.L("div","floatcont form");
m.setAttribute("style","width: 250px;");this.$D.parent=this;m.appendChild(this.zi.m);this.y9=[];for(var q=0;
q<2;q++){var S=new gH((q==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);S.f(.1);S.h(_.E.o,this.rc,this);
this.y9.push(S);m.appendChild(S.m)}}dm.prototype=new aw;dm.prototype.rc=function(Z){this.c(new eY(_.E.o,!1))};
dm.prototype.w=function(){};dm.prototype.J=function(){return[this.zi.J().indexOf(!0),this.y9[0].J(),this.y9[1].J()]};
dm.prototype.a2Y=function(Z){if(J.Qt(this.$D.m))return;Z.stopPropagation();var m=this.Tb.m.getBoundingClientRect(),S=new eY(_.E.W,!0);
S.data={d:_.B.HM,Xg:this.$D,x:m.left,y:m.top+m.height+4};this.c(S)};function jV(){aw.call(this);var Z=this.m=J.L("div","fitem");
this.lY=new fH([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.lY.h(_.E.o,this.Ln,this);Z.appendChild(this.lY.m);
this.J9=new gl(!1);this.J9.parent=this;this.J9.yz(16777215);this.J9.h(_.E.o,this.Ln,this);Z.appendChild(this.J9.m)}jV.prototype=new aw;
jV.prototype.w=function(){this.lY.w();this.J9.w()};jV.prototype.ahx=function(Z){var m=[Z.artboardBackgroundType.v-1];
if(Z.Clr)m.push(Z.Clr.v);this.f(m)};jV.prototype.a4e=function(){var Z=this.J();return{classID:"artboard",Clr:{t:"Objc",v:Z[1]},artboardBackgroundType:{t:"long",v:Z[0]+1}}};
jV.prototype.f=function(Z){this.lY.f(Z[0]);if(Z[1])this.J9.f(Z[1])};jV.prototype.J=function(){return[this.lY.J(),this.J9.J()]};
jV.prototype.Ln=function(Z){if(Z.target==this.J9)this.lY.f(3);this.c(new eY(_.E.o,!1))};function s(Z){aw.call(this);
this.nO=Z;this.m=J.L("div","");this.P9=[];this.li=null;this.akQ=[]}s.prototype=new aw;s.prototype.o0=function(Z){};
s.prototype.fc=function(){return!1};s.prototype.MY=function(Z,m){};s.prototype.C7=function(Z,m){};s.prototype.gV=function(Z){};
s.prototype.f=function(Z,m,S,B,C,u){var r=[],k=this.P9,v=0,e=bS.j$["s"+this.nO];e?e(Z,r,u):this.EU(Z,r,u);
for(var q=0;q<k.length;q++)if(!(k[q]instanceof ed))k[q].f(r[v++]);if(Z.RndS)this.li=Z.RndS.v};s.prototype.J=function(){var Z=bS.ej(this.nO),m=[],S=this.P9,B=0;
for(var q=0;q<S.length;q++)if(!(S[q]instanceof ed))m[B++]=S[q].J();var C=bS.j$["g"+this.nO];C?C(Z,m):this.eH(Z,m);
if(Z.RndS)Z.RndS.v=this.li;return Z};s.prototype._s=function(Z){};s.prototype.EM=function(Z){if(Z&&Z.target instanceof dX){this.li=Math.floor(Math.random()*4294967295)}var m=this.akQ;
for(var q=0;q<m.length;q+=2){var S=this.P9[m[q]],B=this.P9[m[q+1]],C=S.J(),u=B.J();if(Z.target==S)B.f(Math.max(C,u));
else S.f(Math.min(C,u))}this.c(new eY(_.E.o))};s.prototype.w=function(){for(var q=0;q<this.P9.length;
q++)this.P9[q].w();var Z=this.al0;if(Z)Z.w()};s.prototype.R$=function(Z){J._A(this.m,"form");var m=this.P9;
for(var q=0;q<m.length;q++){var S=m[q];S.parent=this;S.h(_.E.o,this.EM,this);this.m.appendChild(S.m);
if(S instanceof ae&&m[q+1]instanceof gl)continue;if(Z&&Z.indexOf(q)!=-1)J.hx(this.m);else J.ed(this.m)}var B=bS.ej(this.nO);
if(B.RndS){var C=this.al0=new dX([25,1,2],null,null,!0);this.m.appendChild(C.m);C.h("click",this.EM,this)}};
s.prototype.NM=function(){return!1};s.prototype.kV=function(Z,m,S,B,C){};s.prototype.hJ=function(Z,m,S,B,C){};
s.prototype.qB=function(Z,m,S,B,C){};s.prototype.eH=function(Z,m){};s.prototype.EU=function(Z,m){};s.prototype.$A=function(Z){var m=Z.target.J().indexOf(!0)!=-1,S=new eY(_.E.W,!0);
S.k0=!0;S.data={d:m?_.B.uv:_.B.yS,b:g.Xu};this.c(S);S=new eY(_.E.Y,!0);S.b=g.Xu;S.k0=!0;S.data={d:"supertool",b:m?this:null};
this.c(S)};s.am4=function(Z){Z.NM=function(){return!0};Z.kV=function(m,S,B,C,u){this.yi=!0;this.ak8(m,u)};
Z.hJ=function(m,S,B,C,u){if(!this.yi)return;this.ak8(m,u)};Z.qB=function(m,S,B,C,u){this.yi=!1};Z.ak8=function(m,S){var B=new bq(0,0,m.e,m.n);
if(m.$)B=m.$.rect;var C=m.s.tr(S.x,S.y);C.x-=B.x;C.y-=B.y;function u(r,k){return Math.round(Math.max(0,Math.min(100,100*r/k)))}this.P9[2].f(u(C.x,B.e));
this.P9[3].f(u(C.y,B.n));this.EM()}};s.Bokh=function(){s.call(this,"Bokh");this.P9=[new fH("Depth Map",["A","b"]),new iG("Focal Distance",0,255),new ae([4,11]),new fH([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new iG([12,56],0,100),new iG([12,15],0,360),new iG([12,2],0,100),new iG([4,13],0,255),new iG([24,6],0,100),new g6([12,58],[[12,59,0],[12,59,1]]),new ae([12,60])];
this.R$([5,7])};s.Bokh.prototype=new s;s.Bokh.prototype.EU=function(Z,m,S){var B=[[22,5,0],[6,5,3],[6,2]],C=Z.BkDi.v.BtDi,u=Z.BkDc,r=0;
if(C=="BeIn")r=0;else if(C=="BeIt"&&u.v.BtDc=="BeCt")r=1;else if(C=="BeIt"&&u.v.BtDc=="BeCm")r=2;else r=3+u.v;
for(var q=0;q<S[1].length;q++)B.push(S[1][q].name);this.P9[0].Nw(B,[3]);m[0]=r;m[1]=Z.BkDp.v;m[2]=Z.BkDs.v;
m[3]=parseInt(Z.BkIs.v.BtIs.slice(3))-3;m[4]=Z.BkIb.v;m[5]=Z.BkIr.v;m[6]=Z.BkSb.v;m[7]=Z.BkSt.v;m[8]=Z.BkNa.v;
m[9]=Z.BkNt.v.BtNt=="BeNu"?0:1;m[10]=Z.BkNm.v};s.Bokh.prototype.eH=function(Z,m){var S;if(m[0]==0){S="BeIn";
delete Z.BkDc}else if(m[0]<3){S="BeIt";Z.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][m[0]-1]}}}else{S="BeIa";
Z.BkDc={t:"long",v:m[0]-3}}Z.BkDi.v.BtDi=S;Z.BkDp.v=m[1];Z.BkDs.v=m[2];Z.BkIs.v.BtIs="BeS"+(3+m[3]);
Z.BkIb.v=m[4];Z.BkIr.v=m[5];Z.BkSb.v=m[6];Z.BkSt.v=m[7];Z.BkNa.v=m[8];Z.BkNt.v.BtNt=["BeNu","BeNg"][m[9]];
Z.BkNm.v=m[10]};s.oilPaint=function(){s.call(this,"oilPaint");this.P9=[new iG([12,56],.1,10,"px",!0),new iG("Cleanliness",0,10,"px",!0),new iG([12,38],.1,10,null,!0),new iG("Bristle Detail",0,10,null,!0),new ae("Lighting"),new iG("Shine",0,10,null,!0),new iK([12,15])];
this.R$()};s.oilPaint.prototype=new s;s.oilPaint.prototype.EU=function(Z,m){var S="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var q=0;q<S.length;q++)m[q]=Z[S[q]].v;m[6]=[Z.LghD.v]};s.oilPaint.prototype.eH=function(Z,m){var S="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var q=0;q<S.length;q++)Z[S[q]].v=m[q];Z.LghD.v=m[6][0]};s.TrcC=function(){s.call(this,"TrcC");this.P9=[new iG("Level",0,255),new g6([12,69],[[19,4,1],[19,4,0]])];
this.R$()};s.TrcC.prototype=new s;s.TrcC.prototype.EU=function(Z,m){m[0]=Z.Lvl.v;m[1]=["Lwr","Upr"].indexOf(Z.Edg.v.CntE)};
s.TrcC.prototype.eH=function(Z,m){Z.Lvl.v=m[0];Z.Edg.v.CntE=["Lwr","Upr"][m[1]]};s["Dfs "]=function(){s.call(this,"Dfs ");
this.P9=[new g6([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.R$()};s["Dfs "].prototype=new s;
s["Dfs "].prototype.EU=function(Z,m){m[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(Z.Md.v.DfsM)};
s["Dfs "].prototype.eH=function(Z,m){Z.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][m[0]]};s.Embs=function(){s.call(this,"Embs");
this.P9=[new iK([12,15]),new iG([12,42],1,100,"px"),new iG([12,57],1,500,"%")];this.R$()};s.Embs.prototype=new s;
s.Embs.prototype.EU=function(Z,m){m[0]=[Z.Angl.v];m[1]=Z.Hght.v;m[2]=Z.Amnt.v};s.Embs.prototype.eH=function(Z,m){Z.Angl.v=m[0][0];
Z.Hght.v=m[1];Z.Amnt.v=m[2]};s["Wnd "]=function(){s.call(this,"Wnd ");this.P9=[new g6([12,32],["Wind","Blast","Stagger"]),new g6([12,33],["From the Right","From the Left"])];
this.R$()};s["Wnd "].prototype=new s;s["Wnd "].prototype.EU=function(Z,m){m[0]=["Wnd","Blst","Stgr"].indexOf(Z.WndM.v.WndM);
m[1]=["Left","Rght"].indexOf(Z.Drct.v.Drct)};s["Wnd "].prototype.eH=function(Z,m){Z.WndM.v.WndM=["Wnd","Blst","Stgr"][m[0]];
Z.Drct.v.Drct=["Left","Rght"][m[1]]};s.denoise=function(){s.call(this,"denoise");this.P9=[new iG([12,64],0,10),new iG([12,65],0,100,"%")];
this.R$()};s.denoise.prototype=new s;s.denoise.prototype.EU=function(Z,m){var S=Z.channelDenoise.v[0].v;
m[0]=S.Amnt.v;m[1]=S.EdgF.v};s.denoise.prototype.eH=function(Z,m){var S=Z.channelDenoise.v[0].v;S.Amnt.v=m[0];
S.EdgF.v=m[1]};s.lightFilterGradient=function(){s.call(this,"lightFilterGradient");this.P9=[new iG([24,3,1],0,100,"px",1,!0),new iG([12,38],0,200,"%"),new ae([4,11]),new iG("High",0,100,"%"),new iG("Medium",0,100,"%"),new iG("Low",0,100,"%")];
this.R$()};s.lightFilterGradient.prototype=new s;s.lightFilterGradient.prototype.EU=function(Z,m){m[0]=Z.blur.v;
m[1]=Z.textureScale.v*100;m[2]=Z.Scl.v==-1;var S=Z.Dtl.v;m[3]=S[0].v*100;m[4]=S[1].v*100;m[5]=S[2].v*100};
s.lightFilterGradient.prototype.eH=function(Z,m){Z.blur.v=m[0];Z.textureScale.v=m[1]/100;Z.Scl.v=m[2]?-1:1;
var S=Z.Dtl.v;S[0].v=m[3]/100;S[1].v=m[4]/100;S[2].v=m[5]/100};s.Fbrs=function(){s.call(this,"Fbrs");
this.P9=[new iG("Variance",1,64),new iG([12,64],1,64)];this.R$()};s.Fbrs.prototype=new s;s.Fbrs.prototype.EU=function(Z,m){m[0]=Z.Vrnc.v;
m[1]=Z.Strg.v};s.Fbrs.prototype.eH=function(Z,m){Z.Vrnc.v=m[0];Z.Strg.v=m[1]};s.LnsF=function(){s.call(this,"LnsF");
this.P9=[new iG([12,2],10,300,"%"),new g6([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new iG("Position X",0,100,"%"),new iG("Position Y",0,100,"%")];
this.R$()};s.LnsF.prototype=new s;s.LnsF.prototype.EU=function(Z,m){m[0]=Z.Brgh.v;m[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(Z.Lns.v.Lns);
var S=Z.FlrC.v;m[2]=Math.round(S.Hrzn.v*100);m[3]=Math.round(S.Vrtc.v*100)};s.LnsF.prototype.eH=function(Z,m){Z.Brgh.v=m[0];
Z.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][m[1]];var S=Z.FlrC.v;S.Hrzn.v=m[2]/100;S.Vrtc.v=m[3]/100};s.am4(s.LnsF.prototype);
s.blendOptions=function(){s.call(this,"blendOptions");this.P9.push(new fH([12,19,0],d1.JN,!1,d1.L4));
this.P9.push(new iG([12,0],0,100,"%"));this.R$()};s.blendOptions.prototype=new s;s.blendOptions.prototype.EU=function(Z,m){m[0]=d1.FI.indexOf(Z.Md.v.BlnM);
m[1]=Z.Opct.v.val};s.blendOptions.prototype.eH=function(Z,m){Z.Md.v.BlnM=d1.FI[m[0]];Z.Opct.v.val=m[1]};
s.LnCr=function(){s.call(this,"LnCr");this.P9=[new iG([12,57],-100,100),new iG([12,38],10,150,"%")];
this.R$()};s.LnCr.prototype=new s;s.LnCr.prototype.EU=function(Z,m){m[0]=Z.LnIa.v;m[1]=Z.LnSi.v};s.LnCr.prototype.eH=function(Z,m){Z.LnIa.v=m[0];
Z.LnSi.v=m[1]};s.adaptCorrect=function(){s.call(this,"adaptCorrect");var Z=jE;this.P9=[new ed([19,6,0]),new Z([12,57],0,100,"%"),new Z("Tone",0,100,"%"),new Z([12,56],0,200,"px"),new ed([19,6,2]),new Z([12,57],0,100,"%"),new Z("Tone",0,100,"%"),new Z([12,56],0,200,"px"),new ed([3]),new Z([13,0],-100,100)];
this.R$([3,7])};s.adaptCorrect.prototype=new s;s.adaptCorrect.prototype.EU=function(Z,m){var S=Z.sdwM.v;
m[0]=S.Amnt.v.val;m[1]=S.Wdth.v.val;m[2]=S.Rds.v;var S=Z.hglM.v;m[3]=S.Amnt.v.val;m[4]=S.Wdth.v.val;
m[5]=S.Rds.v;m[6]=Z.ClrC.v};s.adaptCorrect.prototype.eH=function(Z,m){var S=Z.sdwM.v;S.Amnt.v.val=m[0];
S.Wdth.v.val=m[1];S.Rds.v=m[2];var S=Z.hglM.v;S.Amnt.v.val=m[3];S.Wdth.v.val=m[4];S.Rds.v=m[5];Z.ClrC.v=m[6]};
s.Flam=function(){s.call(this,"Flam");var Z=this.P9=[new fH([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new iG([12,80,0],20,1e3,"px"),new ae("Randomize Length"),new iG([12,41],5,600,"px"),new iG([12,15],0,360,"\xB0"),new iG("Interval",10,200,"px"),new ae("Adapt Interval for Loops"),new gl(!1),new fH([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new iG("Turbulent",0,100),new iG("Jag",0,100),new iG([12,0],0,100),new iG("Lines",2,30),new iG("Bottom",0,100),new fH([12,22],["Normal","Violent","Flat"]),new fH([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new ae("Randomize Shape"),new iG("Random Seed",0,100)];
this.R$();var m=this.m;J.uq(m);var S=new g6(null,["Basic","Advanced"]);S.h(_.E.o,this.a1W,this);m.appendChild(S.m);
J.hx(m);var B=J.L("div"),C=J.L("div");this.ase=[B,C];m.appendChild(B);for(var q=0;q<Z.length;q++){(q<9?B:C).appendChild(Z[q].m);
if(q==6)J.ed(B)}Z[0].h(_.E.o,this.aqC,this);this.aqC()};s.Flam.prototype=new s;s.Flam.prototype.aqC=function(Z){var m=this.P9,q=m[0].J();
m[1].aR(q!=0&&q!=5);m[2].aR(q!=0&&q!=5);m[4].aR(q!=0&&q!=5&&q!=1);m[5].aR(q!=0&&q!=5);m[6].aR(q!=0&&q!=5)};
s.Flam.prototype.a1W=function(Z){var q=Z.target.J(),m=this.ase,S=this.m;S.removeChild(m[1-q]);S.appendChild(m[q])};
s.boxblur=function(){s.call(this,"boxblur");this.P9=[new iG([12,56],1,200," px")];this.R$()};s.boxblur.prototype=new s;
s.boxblur.prototype.EU=function(Z,m){m[0]=Z.Rds.v.val};s.boxblur.prototype.eH=function(Z,m){Z.Rds.v.val=m[0]};
s.GsnB=function(){s.call(this,"GsnB");this.P9=[new iG([12,56],.1,400,"px",1,!0)];this.R$()};s.GsnB.prototype=new s;
s.MtnB=function(){s.call(this,"MtnB");this.P9=[new iK([12,15]),new iG([12,28],1,100," px")];this.R$()};
s.MtnB.prototype=new s;s.RdlB=function(){s.call(this,"RdlB");this.P9=[new iG([12,57],1,100),new g6([12,36],["Spin","Zoom"]),new iG("Position X",0,100,"%"),new iG("Position Y",0,100,"%")];
this.R$()};s.RdlB.prototype=new s;s.RdlB.prototype.EU=function(Z,m){m[0]=Z.Amnt.v;m[1]=["Spn","Zm"].indexOf(Z.BlrM.v.BlrM);
m[2]=Z.Cntr.v.Hrzn.v*100;m[3]=Z.Cntr.v.Vrtc.v*100};s.RdlB.prototype.eH=function(Z,m){Z.Amnt.v=m[0];Z.BlrM.v.BlrM=["Spn","Zm"][m[1]];
Z.Cntr.v.Hrzn.v=m[2]/100;Z.Cntr.v.Vrtc.v=m[3]/100};s.am4(s.RdlB.prototype);s.Dspl=function(){s.call(this,"Dspl");
this.P9=[new fH([6,36,3],["a","b"]),new iG([22,4,0],-100,100,"px"),new iG([22,4,1],-100,100,"px"),new fH([24,18,0],[[24,18,3],[24,18,2]])];
this.R$()};s.Dspl.prototype=new s;s.Dspl.prototype.EU=function(Z,m,S){this.a7n=[];this.Tm=[];var B=-1,C=S?S[0]:null;
if(C==null)C=this.aaO;else this.aaO=C;if(C)for(var q=0;q<C.length;q++){var u=C[q];this.a7n.push(u.qw.trim());
this.Tm.push(u.Us);if(u.Us==Z.DspF.v.pth)B=q}this.P9[0].Nw(this.a7n);m[0]=B==-1?0:B;m[1]=Z.HrzS.v;m[2]=Z.VrtS.v;
m[3]=["WrpA","RptE"].indexOf(Z.UndA.v.UndA)};s.Dspl.prototype.eH=function(Z,m){if(this.Tm.length==0)return;
Z.DspF.v.pth=this.Tm[m[0]];Z.HrzS.v=m[1];Z.VrtS.v=m[2];Z.UndA.v.UndA=["WrpA","RptE"][m[3]]};s.Pnch=function(){s.call(this,"Pnch");
this.P9=[new iG([12,57],-100,100,"%")];this.R$()};s.Pnch.prototype=new s;s["Plr "]=function(){s.call(this,"Plr ");
this.P9=[new g6(null,["Rect to Polar","Polar to Rect"])];this.R$()};s["Plr "].prototype=new s;s.Rple=function(){s.call(this,"Rple");
this.P9=[new iG([12,57],-999,999),new fH([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.R$()};s.Rple.prototype=new s;
s["Shr "]=function(){s.call(this,"Shr ");this.P9=[new eB(!0,!0),new fH([24,18,0],[[24,18,3],[24,18,2]])];
this.R$()};s["Shr "].prototype=new s;s["Shr "].prototype.EU=function(Z,m){var S=new ht(0,255/127,255/127,0,-2,128),B=JSON.parse(JSON.stringify(Z.ShrP.v));
l.dL.A(B,S);m[0]=B;m[1]=["WrpA","RptE"].indexOf(Z.UndA.v.UndA)};s["Shr "].prototype.eH=function(Z,m){var S=new ht(0,255/127,255/127,0,-2,128);
S.Yy();l.dL.A(m[0],S);Z.ShrP.v=m[0];Z.ShrE.v=m[0].length-1;Z.UndA.v.UndA=["WrpA","RptE"][m[1]]};s.Sphr=function(){s.call(this,"Sphr");
this.P9=[new iG([12,57],-100,100),new fH([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.R$()};s.Sphr.prototype=new s;
s.Sphr.prototype.EU=function(Z,m){m[0]=Z.Amnt.v;m[1]=["Nrml","HrzO","VrtO"].indexOf(Z.SphM.v.SphM)};
s.Sphr.prototype.eH=function(Z,m){Z.Amnt.v=m[0];Z.SphM.v.SphM=["Nrml","HrzO","VrtO"][m[1]]};s.Dthr=function(){s.call(this,"Dthr");
this.P9=[new fH("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.R$()};s.Dthr.prototype=new s;
s.Dthr.prototype.EU=function(Z,m){m[0]=Z.Plte.v};s.Dthr.prototype.eH=function(Z,m){Z.Plte.v=m[0]};s.Twrl=function(){s.call(this,"Twrl");
this.P9=[new iG([12,15],-999,999)];this.R$()};s.Twrl.prototype=new s;s.Wave=function(){s.call(this,"Wave");
this.akQ=[1,2,3,4];this.P9=[new iG("Number of Generators",1,100),new jE("Min Length",1,999),new jE("Max Length",1,999),new jE("Min Ampl.",1,999),new jE("Max Ampl.",1,999),new jE("Scale X",1,100,"%"),new jE("Scale Y",1,100,"%"),new g6([12,44],["Sine","Triangle",[12,93,3]]),new fH([24,18,0],[[24,18,3],[24,18,2]]),new ec("Randomizer Seed")];
this.R$()};s.Wave.prototype=new s;s.Wave.prototype.EU=function(Z,m){m[0]=Z.NmbG.v;m[1]=Z.WLMn.v;m[2]=Z.WLMx.v;
m[3]=Z.AmMn.v;m[4]=Z.AmMx.v;m[5]=Z.SclH.v;m[6]=Z.SclV.v;m[7]=["WvSn","WvTr","WvSq"].indexOf(Z.Wvtp.v.Wvtp);
m[8]=["WrpA","RptE"].indexOf(Z.UndA.v.UndA);m[9]=Z.RndS.v};s.Wave.prototype.eH=function(Z,m){Z.NmbG.v=m[0];
Z.WLMn.v=m[1];Z.WLMx.v=m[2];Z.AmMn.v=m[3];Z.AmMx.v=m[4];Z.SclH.v=m[5];Z.SclV.v=m[6];Z.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][m[7]];
Z.UndA.v.UndA=["WrpA","RptE"][m[8]];var S=parseInt(m[9]);if(isNaN(S))S=248325464;S=Math.max(0,Math.min(268435455,S));
Z.RndS.v=S;this.P9[9].f(S)};s.ZgZg=function(){s.call(this,"ZgZg");this.P9=[new iG([12,57],-100,100),new iG("Ridges",0,20),new fH([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.R$()};s.ZgZg.prototype=new s;s.surfaceBlur=function(){s.call(this,"surfaceBlur");this.P9=[new iG([12,56],1,200," px"),new iG([4,13],1,255," px")];
this.R$()};s.surfaceBlur.prototype=new s;s.surfaceBlur.prototype.EU=function(Z,m){m[0]=Z.Rds.v.val;m[1]=Z.Thsh.v};
s.surfaceBlur.prototype.eH=function(Z,m){Z.Rds.v.val=m[0];Z.Thsh.v=m[1]};s.AdNs=function(){s.call(this,"AdNs");
this.P9=[new iG([12,57],0,200," %"),new fH([12,58],[[12,59,1],[12,59,0]]),new ae([12,60])];this.R$()};
s.AdNs.prototype=new s;s.DstS=function(){s.call(this,"DstS");this.P9=[new iG([12,56],1,200," px"),new iG([4,13],1,255," px")];
this.R$()};s.DstS.prototype=new s;s["Mdn "]=function(){s.call(this,"Mdn ");this.P9=[new iG([12,56],1,200," px")];
this.R$()};s["Mdn "].prototype=new s;s["Mdn "].prototype.EU=function(Z,m){m[0]=Z.Rds.v.val};s["Mdn "].prototype.eH=function(Z,m){Z.Rds.v.val=m[0]};
s.ClrH=function(){s.call(this,"ClrH");this.P9=[new iG([12,56],4,100," px")];for(var q=1;q<4;q++)this.P9.push(new iG("Angle "+q,0,90," \xB0"));
this.R$()};s.ClrH.prototype=new s;s.ClrH.prototype.EU=function(Z,m){m[0]=Z.Rds.v;for(var q=1;q<4;q++)m[q]=Z["Ang"+q].v};
s.ClrH.prototype.eH=function(Z,m){Z.Rds.v=m[0];for(var q=1;q<4;q++)Z["Ang"+q].v=m[q]};s.ClrH.prototype.w=function(){var Z=this.P9;
Z[0].w();for(var q=1;q<4;q++)Z[q].zR(iD.get([12,15])+" "+q)};s.Crst=function(){s.call(this,"Crst");this.P9=[new iG([12,61],3,100," px")];
this.R$()};s.Crst.prototype=new s;s.Crst.prototype.EU=function(Z,m){m[0]=Z.ClSz.v};s.Crst.prototype.eH=function(Z,m){Z.ClSz.v=m[0]};
s.Mztn=function(){s.call(this,"Mztn");this.P9.push(new fH([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.Tm="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.R$()};s.Mztn.prototype=new s;
s.Mztn.prototype.EU=function(Z,m){m[0]=this.Tm.indexOf(Z.MztT.v.MztT)};s.Mztn.prototype.eH=function(Z,m){Z.MztT.v.MztT=this.Tm[m[0]]};
s["Msc "]=function(){s.call(this,"Msc ");this.P9=[new iG([12,61],2,200," px")];this.R$()};s["Msc "].prototype=new s;
s["Msc "].prototype.EU=function(Z,m){m[0]=Z.ClSz.v.val};s["Msc "].prototype.eH=function(Z,m){Z.ClSz.v.val=m[0]};
s.Pntl=function(){s.call(this,"Pntl");this.P9=[new iG([12,61],3,100," px")];this.R$()};s.Pntl.prototype=new s;
s.Pntl.prototype.EU=function(Z,m){m[0]=Z.ClSz.v};s.Pntl.prototype.eH=function(Z,m){Z.ClSz.v=m[0]};s.smartSharpen=function(){s.call(this,"smartSharpen");
this.P9=[new iG([12,57],1,200,"%"),new iG([12,56],0,200,"px",1,!0)];this.R$()};s.smartSharpen.prototype=new s;
s.smartSharpen.prototype.EU=function(Z,m){m[0]=Z.Amnt.v.val;m[1]=Z.Rds.v.val};s.smartSharpen.prototype.eH=function(Z,m){Z.Amnt.v.val=m[0];
Z.Rds.v.val=m[1]};s.UnsM=function(){s.call(this,"UnsM");this.P9=[new iG([12,57],1,200," %"),new iG([12,56],.1,400,"px",1,!0),new iG([4,13],0,255," ")];
this.R$()};s.UnsM.prototype=new s;s.HghP=function(){s.call(this,"HghP");this.P9=[new iG([12,56],.1,400,"px",1,!0)];
this.R$()};s.HghP.prototype=new s;s.HsbP=function(){s.call(this,"HsbP");this.P9=[new g6("Input",["RGB","HSB","HSL"]),new g6("Output",["RGB","HSB","HSL"])];
this.R$()};s.HsbP.prototype=new s;s["Mxm "]=function(){s.call(this,"Mxm ");this.P9=[new iG([12,56],.1,200," px",1,!0),new fH([12,76,1],[[12,93,3],"Circle"])];
this.R$()};s["Mxm "].prototype=new s;s["Mnm "]=function(){s.call(this,"Mnm ");this.P9=[new iG([12,56],.1,200," px",1,!0),new fH([12,76,1],[[12,93,3],"Circle"])];
this.R$()};s["Mnm "].prototype=new s;s.Ofst=function(){s.call(this,"Ofst");this.P9=[new iG([22,4,0],-1024,1024," px"),new iG([22,4,1],-1024,1024," px"),new fH([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.R$()};s.Ofst.prototype=new s;s.Rept=function(){s.call(this,"Rept");this.P9=[new jE([12,38],1,300," %"),new jE("Row Shift",-50,50," %"),new jE("Space X",-99,200," %"),new jE("Space Y",-99,200," %"),new ae([4,16,2]),new iK([12,15])];
this.R$()};s.Rept.prototype=new s;s.Rept.prototype.EU=function(Z,m){m[0]=Z.Scl.v.val;m[1]=Z.Rsft.v.val;
m[2]=Z.SpcX.v.val;m[3]=Z.SpcY.v.val;m[4]=Z.SpcC.v;m[5]=[Z.Angl.v]};s.Rept.prototype.eH=function(Z,m){Z.Scl.v.val=m[0];
Z.Rsft.v.val=m[1];Z.SpcX.v.val=m[2];Z.SpcY.v.val=m[3];Z.SpcC.v=m[4];Z.Angl.v=m[5][0];return Z};s.Ctoa=function(){s.call(this,"Ctoa");
this.P9=[new ed([13,0]),new gl(!0),new iG(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new iG(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.R$()};s.Ctoa.prototype=new s;s.Ctoa.prototype.EU=function(Z,m){m[0]=Z.Clr.v;m[1]=Z.Trsp.v.val;m[2]=Z.Opct.v.val};
s.Ctoa.prototype.eH=function(Z,m){Z.Clr.v=m[0];Z.Trsp.v.val=m[1];Z.Opct.v.val=m[2]};s.LqFy=function(){s.call(this,"LqFy");
this.VO=!1;this.HH=!1;this.JM=null;this.abQ=null;this.b=0;this.P={S0:[[{b:{id:0,name:[24,1,0,1,0],_5:"liq/smudge"}}],[{b:{id:1,name:[24,1,0,1,1],_5:"liq/reconstruct"}}],[{b:{id:2,name:[24,1,0,1,2],_5:"liq/smooth"}}],[{b:{id:3,name:[24,1,0,1,3],_5:"liq/twirl"}}],[{b:{id:4,name:[24,1,0,1,4],_5:"liq/shrink"}}],[{b:{id:5,name:[24,1,0,1,5],_5:"liq/blow"}}],[{b:{id:6,name:[24,1,0,1,6],_5:"liq/pleft"}}],[{b:{id:7,name:"Hand",_5:"tools/hand"}}],[{b:{id:8,name:"Zoom In",_5:"zoomIn"}}],[{b:{id:9,name:"Zoom Out",_5:"zoomOut"}}]],keys:[]};
this.Ig=new eb(this.P,!1);this.Ig.eQ(0);this.Ig.h(_.E.W,this.acC,this);this.ah=bL.UU();this.kD=null;
this.ha=[];this.RJ=-1;this.pD=null;this.abM=null;this.ca=null;this.MR=null;this.u8=null;var Z=J.L("div","flexrow");
this.gb=Z;this.m.appendChild(Z);Z.appendChild(this.Ig.m);this.view=new gf(!0);this.view.MY(100,100);
this.view.h("mousedown",this.y6,this);this.view.h("mousemove",this.hI,this);this.view.h("mouseup",this.v4,this);
this.view.h("zoom",this.i9,this);Z.appendChild(this.view.m);var m=J.L("div","form");Z.appendChild(m);
this.bM=m;m.style.width="230px";this.CH=[new iG([12,14,0],0,1e3,null,!1,!0),new iG([12,74],0,100,null,!1,!1),new iG([12,84],0,100,null,!1,!1),new ae([12,46]),new iG([12,0],0,100,null,!1,!1),new ae([24,18,5])];
var S=this.ah.Brsh.v;S.Dmtr.v.val=100;var B=[100,50,100,!1,100,!0];for(var q=0;q<this.CH.length;q++){var C=this.CH[q];
C.f(B[q]);if(q==4)C.ep();C.h(_.E.o,this.a4r,this);m.appendChild(C.m)}var u=this.a6$=new dX([1,12,2],!0,null,!0);
u.h("click",this._p,this);m.appendChild(u.m);this.a6f=this.aZ.bind(this);this.iP=new aw;this.iP.m=J.L("div","floatcont");
this.fU=new dX("Menu",!1,null,!0);var r=this.fU.m;r.setAttribute("style","position:absolute; right:13px; top:47px");
J.BQ(r,this.a7h.bind(this))};s.LqFy.prototype=new s;s.LqFy.prototype.fc=function(){return!0};s.LqFy.prototype.o0=function(Z){this.bM.appendChild(Z)};
s.LqFy.prototype.a7h=function(Z){if(J.Qt(this.iP.m))return;Z.stopPropagation();var m=this.fU.m.getBoundingClientRect();
this.iP.m.appendChild(this.bM);var S=new eY(_.E.W,!0);S.data={d:_.B.HM,Xg:this.iP,x:m.right+m.width-290,y:m.top+m.height};
this.c(S)};s.LqFy.prototype._s=function(Z){this.VO=Z.j(iZ.__);var m=g.T1.N7(this.ah,Z);if(m!=null){this.ah=m;
this.i9();this.CH[0].f(m.Brsh.v.Dmtr.v.val)}else if(Z.j(iZ.Sx)&&Z.j(iZ.z8)){var S=this.ha;if(Z.j(iZ.nQ)){if(this.RJ+1<S.length)this.RJ++}else if(this.RJ>0)this.RJ--;
this.kD.map=S[this.RJ].slice(0);this.Hk(null)}else this.view._s(Z)};s.LqFy.prototype.acC=function(Z){if(Z.data.d==_.B.uv){var m=this.b=Z.data.b;
this.Ig.eQ(this.b);this.view._s(m>6?gf.a63(m-7):new iZ)}};s.LqFy.prototype.a4r=function(Z){var m=Z.currentTarget,q=this.CH.indexOf(m),S=this.ah.Brsh.v;
if(q==0){S.Dmtr.v.val=m.J();this.i9()}this.CH[4].aR(this.CH[3].J());if(q>2)this.Hk(null)};s.LqFy.prototype.mX=function(){var Z=this.ha;
this.RJ++;Z[this.RJ]=this.kD.map.slice(0);while(Z.length>this.RJ+1)Z.pop();while(Z.length>50){Z=Z.slice(1);
this.RJ--}};s.LqFy.prototype.y6=function(Z){this.JM=this.view.mj();this.abQ=new aS(0,0);this.HH=!0;window.requestAnimationFrame(this.a6f)};
s.LqFy.prototype.hI=function(Z){var m=this.view.mj(),S=new aS(m.x-this.JM.x,m.y-this.JM.y);if(this.b==0||this.b==6)this.aqH(S);
this.JM=m};s.LqFy.prototype.v4=function(Z){this.mX();this.HH=!1};s.LqFy.prototype.aZ=function(Z){if(this.b!=0&&this.b!=6)this.aqH(new aS(0,0));
if(this.HH)window.requestAnimationFrame(this.a6f)};s.LqFy.prototype.aqH=function(Z){var m=this.kD,S=m.OU/this.pD.e,B=this.JM,C=this.ah.Brsh.v,u=C.Dmtr.v.val,r=Date.now(),k=m.OU,v=m.Vi,e=Math.sqrt(Z.x*Z.x+Z.y*Z.y),j=Math.max(1,Math.ceil(e/2)),$=Z.x/j,U=Z.y/j,H=B.clone(),z=this.b,f=this.CH[1].J()/100,D=this.CH[2].J()/100,n=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],L=n[z*2],a=n[z*2+1],F=(1-f)*L+f*a,A=u*S/2;
for(var q=0;q<j;q++){var T=[];H.x+=$;H.y+=U;l._B.atg(m.map,k,v,z,H.x*S,H.y*S,A,f,D,$*S,U*S,T,this.VO);
l._B.acR(k,v,m.map,T,2*F*D)}var P=new bq(0,0,k,v),Y=new bq(B.x*S,B.y*S,0,0);Y.QW(u*S*.5,u*S*.5);var Q=Y.clone();
Q.offset(Z.x*S,Z.y*S);Y=Y.j3(Q);var o=new bq(Y.x/S,Y.y/S,Y.e/S,Y.n/S);o=l.H.oq(o).o9(this.pD);this.CH[5].f(!0);
this.Hk(o)};s.LqFy.prototype.i9=function(){var Z=fK.kv(this.ah,null,this.view.z7().R);this.view.Tg(Z)};
s.LqFy.prototype.f=function(Z,m,S,B,C){S=S.clone();if(m==null)return;if(!B.Qu(S)){var u=S.j3(B),r=l.U(u.Z()*4);
l.pY(m,S,r,u);m=r;S=u;var k=l.U(u.Z()*4);l.pY(C,B,k,u);C=k}S.x=S.y=0;this.ca=m;this.abM=C;this.u8=m.slice(0);
this.MR=m.slice(0);this.pD=S;this.kD=cI.FK(new Uint8Array(Z.LqMe.v).buffer);var v=S.e,e=S.n;if(this.kD.OU/v<.22){this.kD={OU:Math.floor(v/4),Vi:Math.floor(e/4)};
this.kD.map=new Float32Array(this.kD.OU*this.kD.Vi*2)}this.ha=[];this.RJ=-1;this.mX();this.Hk(null);
this.view.vn();this.i9()};s.LqFy.prototype.J=function(){var Z=bS.ej("LqFy"),m=new Uint8Array(cI.Oq(this.kD)),S=[];
for(var q=0;q<m.length;q++)S.push(m[q]);Z.LqMe.v=S;return Z};s.LqFy.prototype.MY=function(Z,m){this.Ig.MY(Z,m);
var S=this.fU.m,B=this.bM;this.gb.appendChild(B);this.gb.appendChild(S);if(Z>450&&Z-m>200){B.style.marginLeft="1em";
this.gb.removeChild(S);this.view.MY(Z-238-45,m)}else{B.style.marginLeft="";this.gb.removeChild(B);this.view.MY(Z-40,m)}};
s.LqFy.prototype.w=function(){this.Ig.w();this.a6$.w();for(var q=0;q<this.CH.length;q++)this.CH[q].w()};
s.LqFy.prototype._p=function(){this.kD.map.fill(0);this.mX();this.Hk(null)};s.LqFy.prototype.Hk=function(Z){var m=this.pD,S=this.ca,B=this.u8,C=this.kD;
if(this.CH[5].J())l._B.$p(S,this.MR,m.e,m.n,Z,C.map,C.OU,C.Vi,0);else this.MR.set(S);if(this.CH[3].sS()){l.pY(this.abM,m,B,m,Z?Z:m);
l.a.qn("norm",this.MR,m,B,m,Z?Z:m,this.CH[4].J()/100)}else l.Yx(this.MR,B);this.view.f([{cR:m,data:B.buffer}])};
s.GEfc=function(){s.call(this,"GEfc");this.Ty=0;this.zn=0;this.ca=null;this.u8=null;this.pD=null;this._q=null;
this.wp=null;this.ja=0;var Z=J.L("div","flexrow");this.gb=Z;this.m.appendChild(Z);this.view=new gf(null);
this.view.MY(100,100);Z.appendChild(this.view.m);this.Vt="";this.mJ=270;var m=this.fo=J.L("div","form scrollable");
Z.appendChild(m);m.setAttribute("style","width:"+this.mJ+"px;  margin-left:10px");var S=this.xR=J.L("div","form");
Z.appendChild(S);S.setAttribute("style","width:230px;  margin-left:1em");this.e0={};for(var B in e_.names){var C=new s.GEfc.jt(B);
C.parent=this;this.e0[B]=C;C.h(_.E.o,this.auS,this)}this.wX=!0;this.fU=new dX("Menu",null,null,!0);this.fU.h("click",this.ak4,this);
Z.appendChild(this.fU.m);this.Jq=new dX(">>",null,null,!0);this.Jq.h("click",this.ac3,this);S.appendChild(this.Jq.m);
this.l5=J.L("div");this.l5.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
S.appendChild(this.l5);this.xv=J.L("div");this.xv.style.minHeight="14em";this.xv.style.marginBottom="1em";
S.appendChild(this.xv);this.aG=J.L("div","lpbody scrollable");this.ht=J.L("div","lpfoot");S.appendChild(this.aG);
S.appendChild(this.ht);this.h("click",this.a61,this);this.vy=[];gD.tB([[5,3],[5,4]],this.vy,this.ht,this.dy.bind(this))};
s.GEfc.prototype=new s;s.GEfc.prototype.fc=function(){return!0};s.GEfc.prototype.o0=function(Z){this.l5.appendChild(Z)};
s.GEfc.prototype.C7=function(Z,m){this._q=Z};s.GEfc.prototype.ac3=function(Z){var m=this.fo.style.display!="none";
this.fo.style.display=m?"none":"";this.Jq.zR(m?"<<":">>");this.MY()};s.GEfc.prototype.ak4=function(Z){this.wX=!this.wX;
this.MY()};s.GEfc.prototype.MY=function(Z,m){var S=this.fo.style.display!="none";if(Z!=null){this.Ty=Z;
this.zn=m;if(Z<1e3&&S||Z>=1e3&&!S){this.ac3();S=!S}this.wX=Z>600}else{Z=this.Ty;m=this.zn}var B=this.wX?240+(S?this.mJ+10:0):0;
if(J.Qt(this.xR)&&!this.wX){this.gb.removeChild(this.fo);this.gb.removeChild(this.xR)}if(!J.Qt(this.xR)&&this.wX){this.gb.appendChild(this.fo);
this.gb.appendChild(this.xR)}this.fo.style.height=m+"px";this.view.MY(Z-B,m);this.aG.style.height=m-this.xv.getBoundingClientRect().height-96+"px";
this.fU.m.setAttribute("style","position:absolute; top:46px;  right:"+(B+16)+"px")};s.GEfc.prototype.abp=function(){var Z=e2.wP.get("img/beach",!0)[0],m=Z.cR,S=this.fo,B=Math.floor(J.F()*(this.mJ-40)/3),C=~~(B*.7),u=new bq(0,0,B,C),r=l.U(B*C*4),k=r.slice(0),v=Math.round(10*J.F()),e=new ImageData(new Uint8ClampedArray(k.buffer),B,C);
l.pY(new Uint8Array(Z.data),m,r,new bq(Math.round((m.e-B)/2),Math.round((m.n-C)/2),B,C));var j=J.L("canvas"),$=j.getContext("2d");
j.width=B;j.height=C+Math.round(v*1.5);$.font=v+"px sans-serif";this.HZ={};var U=this.a0G.bind(this);
for(var q=0;q<e_.n2.length;q++){var H=e_.n2[q],z=J.L("div");S.appendChild(z);z.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
z.textContent=iD.get(H);for(var f in e_.names){var D=e_.names[f];if(D[0]!=q)continue;e_.Yb(f,{rect:u,buffer:r},e_.ej(f),{I:0,z:0,S:0},{I:255,z:255,S:255},{rect:u,buffer:k},{});
$.fillStyle="black";$.fillRect(0,0,500,500);$.putImageData(e,0,0);var n=iD.get(D[1]);$.fillStyle="white";
$.fillText(n,(B-$.measureText(n).width)/2,C+Math.round(v*1.1));var L=J.L("div");S.appendChild(L);L.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
L.addEventListener("click",U,!1);var z=J.L("img");L.appendChild(z);z.setAttribute("src",j.toDataURL());
z.setAttribute("style","width:"+B/J.F()+"px; margin-bottom:0px;");this.HZ[f]=L}}};s.GEfc.prototype.a0G=function(Z){var m;
for(var S in this.HZ)if(this.HZ[S]==Z.currentTarget)this.Vt=S;this.auS()};s.GEfc.prototype.dy=function(Z){var m=gD.q5(this.vy,Z),S=this.wp.GEfs.v,B=S[this.ja].v;
if(m==0){S.push(JSON.parse(JSON.stringify(S[this.ja])));this.ja=S.length-1}else if(S.length>1){S.splice(this.ja,1);
if(this.ja==S.length)this.ja--}this.np();this.Hk()};s.GEfc.prototype.auS=function(Z){var m=this.Vt,S;
if(Z==null)S=e_.ej(m);else S=this.e0[m].J();this.wp.GEfs.v[this.ja].v=S;this.np();this.Hk()};s.GEfc.prototype.f=function(Z,m,S,B,C){if(this.HZ==null)this.abp();
Z=this.wp=JSON.parse(JSON.stringify(Z));if(Z.GEfs==null)Z=this.wp={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:Z}]}};
var u=Z.GEfs.v;for(var q=0;q<u.length;q++)if(u[q].v.GELv==null)u[q].v.GELv={t:"bool",v:!0};this.ja=u.length-1;
this.np();S=S.clone();if(m==null)return;if(!B.Qu(S)&&e_.$J(Z).x!=0){var r=S.j3(B),k=l.U(r.Z()*4);l.pY(m,S,k,r);
m=k;S=r}S.x=S.y=0;this.ca=m;this.u8=m.slice(0);this.pD=S;this.Hk();this.view.vn()};s.GEfc.prototype.a61=function(Z){var m=Z.data,q=m.lU,S=this.wp.GEfs.v;
if(m.cw){S[q].v.GELv.v=!S[q].v.GELv.v;this.Hk()}else this.ja=q;this.np()};s.GEfc.prototype.np=function(){var Z=this.wp.GEfs.v,m=Z[this.ja].v,S=m.GEfk.v.GEft,B=this.xv;
if(e_.names[S]==null){alert("Unsupported gallery filter");J.uq(B)}else{this.Vt=S;for(var C in this.HZ)J.iB(this.HZ[C],"selected");
J._A(this.HZ[S],"selected");var u=this.e0[S];u.f(m);if(B.firstChild!=u.m){J.uq(B);B.appendChild(u.m)}}var r=[];
for(var q=0;q<Z.length;q++){var k=Z[q].v,v=e_.names[k.GEfk.v.GEft],e=new bp(q,!0,!0,null,v?v[1]:"Filter",q==this.ja,k.GELv.v);
e.parent=this;r.push(e.m)}J.uq(this.aG);r.reverse();for(var q=0;q<r.length;q++)this.aG.appendChild(r[q]);
this.MY()};s.GEfc.prototype.J=function(){return JSON.parse(JSON.stringify(this.wp))};s.GEfc.prototype.Hk=function(Z){var m=this.pD,S=this.ca,B=this.u8,C=this.Vt,u=this.wp,r=this._q;
function k(v){return{I:v>>>16,z:v>>>8&255,S:v&255}}bS.Yb("GEfc",{rect:this.pD,buffer:this.ca},u,k(r.Nx),k(r.ZN),{rect:this.pD,buffer:this.u8},null);
this.view.f([{cR:m,data:B.buffer}])};s.GEfc.prototype.w=function(){for(var Z in this.e0)this.e0[Z].w();
gD.cQ(this.vy,["lrs/newlayer","lrs/bin"])};s.GEfc.jt=function(Z){aw.call(this);this.lf=Z;this.m=J.L("div");
this.hm={};var m=e_.ej(Z);for(var S in m){var B=null;if(S=="__name"||S=="classID"||S=="GEfk"||S=="GELv"||["FlRs"].indexOf(S)!=-1)continue;
else if(S=="EdgW")B=new iG("Edge Width",1,14);else if(S=="EdgB")B=new iG("Edge Brightness",0,Z=="AccE"?50:20);
else if(S=="Smth")B=new iG([19,3,3],1,Z=="Stmp"?50:15);else if(S=="ClSz")B=new iG([12,61],3,100);else if(S=="BrdT")B=new iG([7,9],1,20);
else if(S=="HghS")B=new iG([12,64],0,20);else if(S=="HlSz")B=new iG([12,14,0],1,15);else if(S=="Cntr")B=new iG([12,3,0],0,Z=="WtrP"?100:50);
else if(S=="Shrp")B=new iG("Sharpness",0,40);else if(S=="SprR")B=new iG("Spray Radius",0,25);else if(S=="LgDr")B=new iG("Light/Dark Balance",0,Z=="Stmp"?50:100);
else if(S=="Drkn")B=new iG("Darkness",1,50);else if(S=="Dstr")B=new iG("Distortion",0,20);else if(S=="Scln")B=new iG([12,38],50,200);
else if(S=="Rlf")B=new iG("Relief",0,Z=="Ptch"||Z=="NtPr"?25:50);else if(S=="ChAm")B=new iG("Thickness",1,7);
else if(S=="Pncl")B=new iG([19,2,5],1,30);else if(S=="StrP")B=new iG("Stroke Pressure",0,15);else if(S=="PprB")B=new iG("Paper Brightness",0,50);
else if(S=="BrsS")B=new iG("Brush Size",0,10);else if(S=="BrsD")B=new iG("Brush Detail",0,10);else if(S=="Txtr")B=new iG([12,67],1,3);
else if(S=="Grn")B=new iG("Grain",0,20);else if(S=="HghA")B=new iG("Highlight Area",0,20);else if(S=="Intn")B=new iG("Intensity",0,10);
else if(S=="Brgh")B=new iG("Glow Brightness",0,Z=="WtrP"?100:50);else if(S=="StrS")B=new iG("Stroke Size",1,50);
else if(S=="StDt")B=new iG("Stroke Detail",1,3);else if(S=="Sftn")B=new iG("Softness",0,10);else if(S=="EdgT")B=new iG("Edge Thickness",0,10);
else if(S=="EdgI")B=new iG("Edge Intensity",0,10);else if(S=="Pstr")B=new iG("Posterization",0,6);else if(S=="Dfnt")B=new iG("Definition",0,25);
else if(S=="TxtC")B=new iG("Texture Coverage",0,50);else if(S=="ShdI")B=new iG("Shadow Intensity",0,10);
else if(S=="DrcB")B=new iG("Direction Balance",0,100);else if(S=="Strg")B=new iG([12,64],1,3);else if(S=="Blnc")B=new iG("Balance",0,10);
else if(S=="BlcI")B=new iG("Black Intensity",0,10);else if(S=="WhtI")B=new iG("White Intensity",0,10);
else if(S=="DrkI")B=new iG("Dark Intensity",0,50);else if(S=="LghI")B=new iG("Light Intensity",0,50);
else if(S=="StrW")B=new iG("Stroke Width",3,15);else if(S=="Grns")B=new iG("Graininess",0,Z=="NtPr"?20:10);
else if(S=="GlwA")B=new iG("Glow Amount",0,20);else if(S=="ClrA")B=new iG("Clear Amount",0,20);else if(S=="ChrA")B=new iG("Charcoal Area",0,20);
else if(S=="ChlA")B=new iG("Chalk Area",0,20);else if(S=="FrgL")B=new iG("Foreground Level",1,15);else if(S=="BckL")B=new iG("Background Level",1,15);
else if(S=="WhtL")B=new iG("Background Level",0,50);else if(S=="BlcL")B=new iG("Foreground Level",0,50);
else if(S=="ImgB")B=new iG("Image Balance",0,50);else if(S=="Dnst")B=new iG([12,74],0,50);else if(S=="FbrL")B=new iG("Fiber Length",3,50);
else if(S=="CrcS")B=new iG("Crack Sapcing",2,100);else if(S=="CrcD")B=new iG("Crack Depth",0,10);else if(S=="CrcB")B=new iG("Crack Brightness",0,10);
else if(S=="TlSz")B=new iG("Tile Size",2,100);else if(S=="GrtW")B=new iG("Grout Width",1,15);else if(S=="LghG")B=new iG("Lighten Grout",0,10);
else if(S=="SqrS")B=new iG("Square Size",0,10);else if(S=="RplS")B=new iG("Ripple Size",1,15);else if(S=="RplM")B=new iG("Ripple Magnitude",0,20);
else if(S=="NmbL")B=new iG("Number of Levels",2,8);else if(S=="EdgS")B=new iG("Edge Simplicity",0,10);
else if(S=="EdgF")B=new iG("Edge Fidelity",1,3);else if(S=="Sz")B=Z=="NGlw"?new iG("Glow Size",-24,24):new iG("Brush Size",1,50);
else if(S=="Dtl")B=Z=="Chrc"?new iG("Detail",0,5):new iG("Detail",1,15);else if(S=="StrL")B=Z=="InkO"?new iG("Stroke Length",1,50):new iG("Stroke Length",0,20);
else if(S=="TxtT")B=new fH([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(S=="BrsT")B=new fH("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(S=="Grnt")B=new fH("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(S=="SDir")B=new fH([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(S=="ScrT")B=new fH([12,62],["Circle","Dot",[10,35]]);
else if(S=="LghD"||S=="LghP")B=new fH("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(S=="Clr")B=new gl("Glow Color");else if(S=="InvT")B=new ae([4,11]);else console.log(S);B.h(_.E.o,this.rc,this);
B.parent=this;this.hm[S]=B;this.m.appendChild(B.m)}};s.GEfc.jt.prototype=new aw;s.GEfc.jt.prototype.rc=function(Z){this.c(new eY(_.E.o,!1))};
s.GEfc.anT="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
s.GEfc.jt.prototype.f=function(Z){for(var m in this.hm){var S;if(s.GEfc.anT.indexOf(m)!=-1)S=Z[m].v;
else if(m=="TxtT")S=e_.ka.indexOf(Z[m].v[m]);else if(m=="BrsT")S=e_.Y7.indexOf(Z[m].v[m]);else if(m=="LghD")S=e_.YJ.indexOf(Z[m].v[m]);
else if(m=="LghP")S=e_.v_.indexOf(Z[m].v[m]);else if(m=="Grnt")S=e_.jc.indexOf(Z[m].v[m]);else if(m=="ScrT")S=e_.s$.indexOf(Z[m].v[m]);
else if(m=="SDir")S=e_.ne.indexOf(Z[m].v.StrD);this.hm[m].f(S)}};s.GEfc.jt.prototype.J=function(){var Z=e_.ej(this.lf);
for(var m in this.hm){var S=this.hm[m].J();if(s.GEfc.anT.indexOf(m)!=-1)Z[m].v=S;else if(m=="TxtT")Z[m].v[m]=e_.ka[S];
else if(m=="BrsT")Z[m].v[m]=e_.Y7[S];else if(m=="LghD")Z[m].v[m]=e_.YJ[S];else if(m=="LghP")Z[m].v[m]=e_.v_[S];
else if(m=="Grnt")Z[m].v[m]=e_.jc[S];else if(m=="ScrT")Z[m].v[m]=e_.s$[S];else if(m=="SDir")Z[m].v.StrD=e_.ne[S]}return Z};
s.GEfc.jt.prototype.w=function(){for(var Z in this.hm)this.hm[Z].w()};s.blnc=function(){s.call(this);
var Z=this.m;this.no=null;this.BX=new fH([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.BX.h(_.E.o,this.Hk,this);
Z.appendChild(this.BX.m);this.ZX=[];for(var q=0;q<3;q++){var m=new iG(e$.sp[q],-100,100);m.h(_.E.o,this.EM,this);
this.ZX.push(m);Z.appendChild(m.m)}this.Nk=new ae([13,4]);this.Nk.h(_.E.o,this.EM,this);Z.appendChild(this.Nk.m)};
s.blnc.prototype=new s;s.blnc.prototype.w=function(){this.BX.w();for(var q=0;q<3;q++)this.ZX[q].w();
this.Nk.w()};s.blnc.prototype.f=function(Z){this.no=JSON.parse(JSON.stringify(Z));this.Hk()};s.blnc.prototype.J=function(Z){var m=["ShdL","MdtL","HghL"],S=this.no[m[this.BX.J()]].v;
for(var q=0;q<3;q++)S[q].v=this.ZX[q].J();this.no.PrsL.v=this.Nk.J();return JSON.parse(JSON.stringify(this.no))};
s.blnc.prototype.Hk=function(Z){var m=["ShdL","MdtL","HghL"],S=this.no[m[this.BX.J()]].v;for(var q=0;
q<3;q++)this.ZX[q].f(S[q].v);this.Nk.f(this.no.PrsL.v)};s.brit=function(){s.call(this,"brit");this.P9.push(new iG([12,2],-150,150,""));
this.P9.push(new iG([12,3,0],-100,100,""));this.P9.push(new ae([12,3,1]));this.R$()};s.brit.prototype=new s;
s.brit.prototype.EU=function(Z,m){m[0]=Z.Brgh?Z.Brgh.v:0;m[1]=Z.Cntr?Z.Cntr.v:0;m[2]=Z.useLegacy?Z.useLegacy.v:!1};
s.brit.prototype.eH=function(Z,m){Z.Brgh.v=m[0];Z.Cntr.v=m[1];Z.useLegacy.v=m[2]};s.curv=function(){s.call(this);
this.value=null;this.qN=null;var Z=this.m;this._u=new fH([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this._u.h(_.E.o,this.os,this);Z.appendChild(this._u.m);this.rQ=new fH(null,["Spline","Sketch"]);this.rQ.h(_.E.o,this.agE,this);
Z.appendChild(this.rQ.m);this.pb=new dm;this.pb.parent=this;this.pb.h(_.E.o,this.kR,this);Z.appendChild(this.pb.m);
J.ed(Z);this.Z5=new eB;this.Z5.h(_.E.o,this.dq,this);Z.appendChild(this.Z5.m);this.vZ=null;this.ahC=0;
this.IK=0;J.ed(Z);this.X_=new iF("Sample from image",g6.y2(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.X_.h(_.E.o,this.$A,this);this.X_.m.style.marginRight="0";Z.appendChild(this.X_.m)};s.curv.prototype=new s;
s.curv.prototype.MY=function(Z,m){this.Z5.MY(Z,m)};s.curv.prototype.w=function(){this._u.w()};s.curv.prototype.agE=function(Z){var m=f8.tP(this.value,0),S=m.length==256?1:0,B=this.rQ.J();
if(S==B)return;var C=bS.ej("curv");if(B==1){var u=[];for(var q=0;q<256;q++)u.push(q);f8.$H(C,0,u)}this.f(C);
this.EM()};s.curv.prototype.dq=function(){f8.$H(this.value,this._u.J(),this.Z5.J());this.EM()};s.curv.prototype.os=function(){var Z=this._u.J(),m=f8.tP(this.value,Z),S=m.length==256?1:0;
this.rQ.f(S);if(this.qN)this.Z5.gV(this.qN[Z],this.qN[4]*[1,.33,.33,.33][Z],["#ccc","#fcc","#cfc","#ccf"][Z]);
this.Z5.f(m)};s.curv.prototype.NM=function(){return!0};s.curv.prototype.kV=function(Z,m,S,B,C){var u=this.value;
this.value=bS.ej("curv");this.EM();var r=g.u9.Ux(Z,C,1),k=this.vZ=[r>>>16&255,r>>>8&255,r&255];this.ahC=C.y;
var v=this.X_.J().indexOf(!0);if(v==0){var e=(k[0]+k[1]+k[2])/3,j=this._u.J(),$=f8.tP(u,j),U=j==0?e:k[j-1],H=-1;
for(var q=0;q<$.length;q++)if($[q].v.Hrzn.v==U)H=q;if(H==-1){var z=JSON.parse(JSON.stringify($[0]));
z.v.Hrzn.v=U;z.v.Vrtc.v=U;$.push(z);$.sort(function(f,D){return f.v.Hrzn.v-D.v.Hrzn.v});f8.$H(u,j,$);
this.IK=$.indexOf(z)}else this.IK=H}this.f(u);this.EM()};s.curv.prototype.hJ=function(Z,m,S,B,C){if(this.vZ==null)return;
if(this.X_.J().indexOf(!0)==0){var u=this.value,r=this._u.J(),k=f8.tP(u,r),v=k[this.IK];v.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(v.v.Hrzn.v+(this.ahC-C.y))));
f8.$H(u,r,k);this.f(u);this.EM()}};s.curv.prototype.qB=function(Z,m,S,B,C){var u=this.value,r=this.vZ,k=(r[0]+r[1]+r[2])/3,v=this.X_.J().indexOf(!0)-1;
if(v<=-1){}else for(var q=0;q<3;q++){var e=f8.tP(u,1+q);if(v==0)e[0].v.Hrzn.v=r[q];if(v==1){var j=Math.log(r[q]/255)/Math.log(k/255),$=Math.min(999,Math.max(10,Math.round(100*j)));
if(e.length==2)e.splice(1,0,JSON.parse(JSON.stringify(e[0])));e[1].v.Hrzn.v=127-Math.log($/100)*127;
e[1].v.Vrtc.v=127}if(v==2)e[e.length-1].v.Hrzn.v=r[q];f8.$H(u,1+q,e)}this.f(u);this.EM();this.vZ=null};
s.curv.prototype.f=function(Z){this.value=Z;this.os()};s.curv.prototype.gV=function(Z){this.qN=Z;this.os()};
s.curv.prototype.J=function(Z){return JSON.parse(JSON.stringify(this.value))};s.curv.prototype.kR=function(){var Z=this.pb.J(),m=this.qN,S=this.value,B=l.wt(Z,m);
for(var q=0;q<4;q++){var C=B[q][0],u=B[q][1],r=B[q][2],k=[l.dL.f2(C,0,!0),l.dL.f2(u,255,!0)];if(r!=null)k.splice(1,0,l.dL.f2(128,r,!0));
f8.$H(S,q,k)}this.os();this.EM()};s.expA=function(){s.call(this,"expA");this.P9.push(new iG([12,5],-20,20,null,3));
this.P9.push(new iG([12,6],-.5,.5,null,3));this.P9.push(new iG([12,7],.01,6.99,null,3));this.R$()};s.expA.prototype=new s;
s.expA.prototype.EU=function(Z,m){m[0]=Z.Exps.v;m[1]=Z.Ofst?Z.Ofst.v:0;m[2]=Z.gammaCorrection?Z.gammaCorrection.v:1};
s.expA.prototype.eH=function(Z,m){Z.Exps={t:"doub",v:m[0]};Z.Ofst={t:"doub",v:m[1]};Z.gammaCorrection={t:"doub",v:m[2]}};
s.grdm=function(){s.call(this,"grdm");this.P9.push(new hW(!0,null,!0));this.P9.push(new ae([12,23,0]));
this.R$()};s.grdm.prototype=new s;s.grdm.prototype.EU=function(Z,m){m[0]=Z.Grad.v;m[1]=Z.Rvrs?Z.Rvrs.v:!1};
s.grdm.prototype.eH=function(Z,m){Z.Grad.v=m[0];Z.Rvrs={t:"bool",v:m[1]}};s.grdm.prototype.C7=function(Z,m){this.P9[0].lP(Z.Nx,Z.ZN);
if(m==bo.LE||m==bo.HA||m==bo.td)this.P9[0].$q(Z.oi)};s.selc=function(){s.call(this);var Z=this.m;this.BY=[];
this.Cc=null;this.BX=new fH([12,82],e$.Dk.concat([[13,1,8],[13,1,13],[13,1,10]]));this.BX.h(_.E.o,this.rc,this);
Z.appendChild(this.BX.m);J.ed(Z);for(var q=0;q<4;q++){var m=new iG(e$.a0x[q],-100,100,"%");m.h(_.E.o,this.rc,this);
this.BY.push(m);Z.appendChild(m.m)}this.tn=new ae([13,3]);Z.appendChild(this.tn.m);this.tn.h(_.E.o,this.rc,this)};
s.selc.prototype=new s;s.selc.prototype.w=function(){this.BX.w();this.tn.w();for(var q=0;q<4;q++)this.BY[q].w()};
s.selc.prototype.f=function(Z){this.Cc=JSON.parse(JSON.stringify(Z));this.Hk()};s.selc.prototype.J=function(Z){return JSON.parse(JSON.stringify(this.Cc))};
s.selc.prototype.rc=function(Z){if(Z.target!=this.BX){var m=this.Cc,S=[];for(var q=0;q<4;q++)S[q]=this.BY[q].J();
jp.$H(m,this.BX.J(),S);m.Mthd={t:"enum",v:{CrcM:this.tn.J()?"Absl":"Rltv"}}}this.Hk();this.EM()};s.selc.prototype.Hk=function(){var Z=this.Cc,m=jp.tP(Z,this.BX.J());
for(var q=0;q<4;q++)this.BY[q].f(m[q]);this.tn.f(Z.Mthd?Z.Mthd.v.CrcM=="Absl":!1)};s.blwh=function(){s.call(this,"blwh");
this.P9.push(new ae([12,11]));this.P9.push(new gl(!0));for(var q=0;q<6;q++)this.P9.push(new iG(e$.Dk[q],-200,300));
this.R$()};s.blwh.prototype=new s;s.blwh.prototype.EU=function(Z,m){m[0]=Z.useTint.v;m[1]=Z.tintColor.v;
var S="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var q=0;q<6;q++)m[2+q]=Z[S[q]].v};s.blwh.prototype.eH=function(Z,m){Z.useTint.v=m[0];
Z.tintColor.v=m[1];var S="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var q=0;q<6;q++)Z[S[q]].v=m[2+q]};
s.hue2=function(){s.call(this);this.value=null;this.Ww=null;this.akL=null;this.FP=[[0,0,0],[0,50,0]];
var Z=this.m;this.X_=new iF(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.X_.h(_.E.o,this.ab$,this);this.X_.h(_.E.o,this.$A,this);Z.appendChild(this.X_.m);this.BX=new fH([12,12],["Master"].concat(e$.Dk));
this.BX.h(_.E.o,this.os,this);Z.appendChild(this.BX.m);this.tQ=new iG([12,8],-180,180);this.tQ.h(_.E.o,this.oa,this);
Z.appendChild(this.tQ.m);this.Tk=new iG([12,9],-100,100);this.Tk.h(_.E.o,this.oa,this);Z.appendChild(this.Tk.m);
this.ze=new iG([12,10],-100,100);this.ze.h(_.E.o,this.oa,this);Z.appendChild(this.ze.m);this.d$=new ae([12,11]);
this.d$.h(_.E.o,this.oa,this);Z.appendChild(this.d$.m);this.KM=new iF("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.KM.h(_.E.o,this.ab$,this);this.KM.h(_.E.o,this.$A,this);this.KM.m.style.marginLeft="20px";Z.appendChild(this.KM.m);
this.Li=J.L("div");Z.appendChild(this.Li);this.zA=this.Sz.bind(this);this.JI=this.dI.bind(this);this.O=J.L("canvas");
this.az=this.O.getContext("2d");this.$N=null;J.Ew(this.O);J.Nm(this.O,282,18);Z.appendChild(this.O);
J.BQ(this.O,this.d3.bind(this))};s.hue2.prototype=new s;s.hue2.prototype.MY=function(Z,m){J.Nm(this.O,Math.round(Z),18);
if(this.value)this.os()};s.hue2.prototype.ab$=function(Z){var m=Z.target.J().indexOf(!0);if(m==-1)return;
if(Z.target==this.X_)this.KM.f([!1,!1,!1]);else this.X_.f([!1,!1,!1])};s.hue2.prototype.d3=function(Z){if(this.BX.J()==0||this.d$.J())return;
var m=J.W7(Z,this.O).x/(this.O.width/J.F()),u=1e6;function S($,U,H){return $<U&&U<H||H<$&&($<U||U<H)}var B=this.Pz(),C=-1;
for(var q=0;q<4;q++){var r=Math.abs(m-(B[q]+q*1e-5));if(r<u){u=r;C=q}}if(u>.025){C=-1;var k=B[0],v=B[1],e=B[2],j=B[3];
if(S(k,m,v))C=4;if(S(v,m,e))C=5;if(S(e,m,j))C=6}if(C==-1)return;this.$N=C;J.Od(document.body,this.zA);
J.qq(document.body,this.JI)};s.hue2.prototype.Sz=function(Z){var m=J.W7(Z,this.O).x/(this.O.width/J.F()),S=this.Pz(),B=this.$N;
for(var q=1;q<4;q++)if(S[q]<S[q-1]){S[q]+=1}if(B<4){var C=1e6,u=0;for(var q=-20;q<20;q++){var r=Math.abs(S[B]-(m+q));
if(r<C){C=r;u=q}}m+=u;S[B]=m;for(var q=B+1;q<4;q++)if(S[q]<S[q-1]){S[q]=S[q-1]}for(var q=B-1;q>=0;q--)if(S[q]>S[q+1]){S[q]=S[q+1]}}else{var k=m-(S[B-4]+S[B-3])/2;
if(k<-.5)k+=1;if(B==4){S[0]+=k;S[1]+=k;S[2]=Math.max(S[1],S[2]);S[3]=Math.max(S[1],S[3])}if(B==5)for(var q=0;
q<4;q++)S[q]+=k;if(B==6){S[2]+=k;S[3]+=k;S[0]=Math.min(S[0],S[2]);S[1]=Math.min(S[1],S[2])}}for(var q=1;
q<4;q++)if(S[q]<S[q-1])throw"e";this.a5O(S);this.os();this.EM()};s.hue2.prototype.dI=function(Z){J.N3(document.body,this.zA);
J.e6(document.body,this.JI)};s.hue2.prototype.w=function(){this.tQ.w();this.Tk.w();this.ze.w();this.d$.w();
this.BX.w()};s.hue2.prototype.oa=function(Z){var m=this.value.Clrz.v=this.d$.J();if(m)this.BX.f(0);if(Z&&Z.target==this.d$){var S=m?1:0;
this.FP[1-S]=iL.tP(this.value,0);var B=this.FP[S];iL.$H(this.value,0,B);if(this.BX.J()==0){this.tQ.f(B[0]);
this.Tk.f(B[1]);this.ze.f(B[2])}}var C=this.BX.J(),u=iL.tP(this.value,C),B=C==0?u:u.ZX;B[0]=this.tQ.J();
var r=this.Tk.J();B[1]=m?Math.max(0,r):r;B[2]=this.ze.J();iL.$H(this.value,C,u);this.os();this.EM()};
s.hue2.prototype.os=function(){var Z=this.BX.J(),m=this.value.Clrz?this.value.Clrz.v:!1;this.d$.f(m);
this.BX.aR(!m);this.KM.aR(!m&&Z!=0);var S=iL.tP(this.value,Z),B=Z==0?S:S.ZX;this.tQ.f(B[0]);this.Tk.f(B[1]);
this.ze.f(B[2]);var C=this.O.width,u=this.O.height,r=this.az;r.clearRect(0,0,C,u);if(m||Z==0){this.Li.innerHTML="";
return}var k=S.XO;this.Li.innerHTML=k[0]+"\xB0 / "+k[1]+"\xB0<span style=\"float:right\">"+k[2]+"\xB0 \\ "+k[3]+"\xB0</span>";
var v=l.U(C*4);jm.ao3(v,1,C,-1,.5);var e=new ImageData(new Uint8ClampedArray(v.buffer),C,1),j=Math.round(u/4);
for(var q=0;q<j;q++)r.putImageData(e,0,q);function $(n,L,a){r.fillStyle=a;var F=j*2;if(n<=L)r.fillRect(n*C,F,(L-n)*C,j);
else{r.fillRect(0,F,L*C,j);r.fillRect(n*C,F,(1-n)*C,j)}}var U=this.Pz();$(U[0],U[1],"#888888");$(U[1],U[2],"#cccccc");
$(U[2],U[3],"#888888");r.fillStyle="#ffffff";r.lineWidth=1;r.beginPath();var H=j+.5,z=4*j+.5;for(var q=0;
q<4;q++){var f=Math.floor(C*U[q])+.5,D=(q<2?-1:1)*j*(q==1||q==2?1:2);r.moveTo(f,H);r.lineTo(f,z);r.lineTo(f+D,z);
r.lineTo(f+D,j+j+.5);r.closePath()}r.fill();r.stroke()};s.hue2.prototype.Pz=function(){var Z=this.BX.J(),m=iL.tP(this.value,Z).XO;
for(var q=0;q<4;q++)m[q]=(1000.5+m[q]/360)%1;return m};s.hue2.prototype.a5O=function(Z){var m=this.BX.J(),S=iL.tP(this.value,m);
for(var q=0;q<4;q++)S.XO[q]=Math.round(36e3+(Z[q]-.5)*360)%360;iL.$H(this.value,m,S)};s.hue2.prototype.NM=function(){return!0};
s.hue2.prototype.ahy=function(){var Z=this.X_.J().indexOf(!0),m=this.KM.J().indexOf(!0);return Z!=-1?Z:m!=-1?m+1:-1};
s.hue2.prototype.kV=function(Z,m,S,B,C){var u=this.ahy();if(u==-1)return;var r=this.value;this.value=bS.ej("hue2");
this.EM();var k=g.u9.Ux(Z,C,1);this.f(r);var v=[k>>>16&255,k>>>8&255,k&255],e=l.$C(v[0]/255,v[1]/255,v[2]/255);
if(u==0){this.BX.f(1+Math.round(e.Vi*6)%6)}else{var j=this.Pz(),$=.5+e.Vi,U=1/12,H=j[1],z=j[2];if(z<H){z++;
if($<H&&$+1-z<H-$)$++}var f=H<=$&&$<=z;if(u==1){H=$-U/2;z=$+U/2}else if(u==2&&!f){H=Math.min($,H);z=Math.max($,z)}else if(u==3&&f){if($-H<z-$)H=$;
else z=$}j=[H-U,H,z,z+U];this.a5O(j)}this.EM();this.Ww=C.x;this.akL=this.Tk.J()};s.hue2.prototype.hJ=function(Z,m,S,B,C){var u=this.ahy();
if(u==-1)return;if(u==0){if(this.Ww!=null){var r=C.x-this.Ww;r=Math.max(-100,Math.min(100,this.akL+.5*r));
this.Tk.f(r);this.oa()}}};s.hue2.prototype.qB=function(Z,m,S,B,C){this.Ww=null};s.hue2.prototype.f=function(Z){this.value=JSON.parse(JSON.stringify(Z));
var m=this.value.Clrz?this.value.Clrz.v:!1;this.FP[m?1:0]=iL.tP(this.value,0);this.os()};s.hue2.prototype.J=function(Z){return JSON.parse(JSON.stringify(this.value))};
s.levl=function(){function Z(){s.call(this);this.value=null;this.qN=null;this.A0=[new aS(0,0),new aS(0,0),new aS(0,0),new aS(0,0),new aS(0,0)];
this.w5=-1;this.zA=this.Sz.bind(this);this.JI=this.dI.bind(this);var m=this.m;this._u=new fH([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this._u.h(_.E.o,this.os,this);m.appendChild(this._u.m);this.pb=new dm;this.pb.parent=this;this.pb.h(_.E.o,this.kR,this);
m.appendChild(this.pb.m);var S=J.L("div","");m.appendChild(S);var B=J.L("div","");m.appendChild(B);this.O=J.L("canvas");
S.appendChild(this.O);this.az=this.O.getContext("2d");this.i_=new aS(256,120);this.O.setAttribute("style","display:block");
J.Ew(this.O);J.BQ(this.O,this.d3.bind(this));this.Jn=J.L("canvas","");B.appendChild(this.Jn);this.Sn=this.Jn.getContext("2d");
this.ry=new aS(this.i_.x,40);this.Jn.setAttribute("style","display:block");J.Ew(this.Jn);J.BQ(this.Jn,this.a9f.bind(this));
var C=this.vB=[];for(var q=0;q<5;q++){var u=new ec(null,null,3);C.push(u);u.h(_.E.o,this.abr,this);(q<2||q==4?S:B).appendChild(u.m)}S.appendChild(C[1].m);
this.X_=new iF("Sample from image",g6.y2(["#000000","#888888","#ffffff"]),!0,null,!0);this.X_.h(_.E.o,this.$A,this);
m.appendChild(this.X_.m);this.MY(250,100)}Z.prototype=new s;Z.prototype.kR=function(){var m=this.pb.J(),S=this.qN,B=this.value,C=l.wt(m,S);
for(var q=0;q<4;q++){var u=C[q][0],r=C[q][1],k=C[q][2],v=[l.dL.f2(u,0,!0),l.dL.f2(r,255,!0)];if(k!=null)v.splice(1,0,l.dL.f2(128,k,!0));
var e=[~~u,~~r,0,255,k==null?100:~~(100+.75*100*(k-128)/128)];dW.$H(B,q,e)}this.os();this.EM()};Z.prototype.MY=function(m,S){m+=6;
this.i_.x=this.ry.x=m;J.Nm(this.O,m,this.i_.y,this.az);J.Nm(this.Jn,m,this.ry.y,this.Sn);var B=this.vB;
B[3].m.setAttribute("style","margin-left: "+(m-104)+"px");B[4].m.setAttribute("style","margin: 0 "+(m/2-74)+"px");
if(this.value)this.os()};Z.prototype.w=function(){this._u.w()};Z.prototype.abr=function(m){var S=[];
for(var q=0;q<5;q++){var B=255,C=1;if(q==4){B=999;C=100}var u=parseFloat(this.vB[q].J());S[q]=Math.max(0,Math.min(B,u*C))}dW.$H(this.value,this._u.J(),S);
this.os();this.EM()};Z.prototype.os=function(m){var S=this.i_.x,B=this.i_.y,C=this._u.J(),u=this.az;
u.clearRect(0,0,S,B);u.fillStyle="#cccccc";u.fillRect(8,8,S-16,B-16-8);if(this.qN){var r=this.qN[0].slice(0),z=0;
if(C==0){r.fill(0);var k=JSON.parse(JSON.stringify(this.value));dW.$H(k,0,[0,255,0,255,100]);var v=e$.kA("levl",k),e=[v.ih,v.u7,v.o6];
for(var j=0;j<3;j++){var $=this.qN[1+j],U=e[j];for(var q=0;q<256;q++)r[U[q]]+=$[q]}}var H=C==0?r:this.qN[C];
for(var q=0;q<H.length;q++)z+=H[q];u.fillStyle="#333333";u.beginPath();u.moveTo(8,B-16);for(var q=0;
q<256;q++){var f=55*H[q]/z;u.lineTo(8+q/256*(S-16),Math.max(8,B-16-B*f))}u.lineTo(S-8,B-16);u.closePath();
u.fill()}var D=dW.tP(this.value,C);for(var q=0;q<5;q++)this.vB[q].f(D[q]/(q==4?100:1));this.A0[0].r8(8+D[0]/255*(S-16),B-14);
this.A0[1].r8(8+D[1]/255*(S-16),B-14);var n=Math.log(D[4]/100)/Math.log(9.99);n=.5-n/2;this.A0[4].r8(this.A0[0].x+n*(this.A0[1].x-this.A0[0].x),B-14);
this.Rr(u,this.A0[0],"#000000");this.Rr(u,this.A0[1],"#ffffff");this.Rr(u,this.A0[4],"#777777");var S=this.ry.x,B=this.ry.y;
u=this.Sn;u.clearRect(0,0,S,B);var L=u.createLinearGradient(0,0,S-16,0);L.addColorStop(0,"black");L.addColorStop(1,"white");
u.fillStyle=L;u.fillRect(8,8,S-16,16);this.A0[2].r8(8+D[2]/255*(S-16),B-14);this.A0[3].r8(8+D[3]/255*(S-16),B-14);
this.Rr(u,this.A0[2],"#000000");this.Rr(u,this.A0[3],"#ffffff")};Z.prototype.Rr=function(m,S,B){m.fillStyle=B;
m.fillRect(S.x-5,S.y,10,10)};Z.prototype.d3=function(m){var S=J.W7(m,this.O),B=this.agZ([0,1,4],S);if(B!=-1)this.w5=B;
this.a84()};Z.prototype.a9f=function(m){var S=J.W7(m,this.Jn),B=this.agZ([2,3],S);if(B!=-1)this.w5=B;
this.a84()};Z.prototype.agZ=function(m,S){var B=-1,C=1e9;for(var q=0;q<m.length;q++){var u=Math.abs(this.A0[m[q]].x-S.x);
if(u<C){C=u;B=m[q]}}return C<16?B:-1};Z.prototype.a84=function(m){if(this.w5==-1)return;J.Od(document.body,this.zA);
J.qq(document.body,this.JI)};Z.prototype.Sz=function(m){var S=dW.tP(this.value,this._u.J()),B=J.W7(m,this.w5==2&&this.w5==3?this.Jn:this.O),C=255*(B.x-8)/(this.i_.x-16);
C=Math.max(0,Math.min(255,C));if(this.w5==0)C=Math.min(C,S[1]-2);if(this.w5==1)C=Math.max(C,S[0]+2);
if(this.w5!=4)S[this.w5]=Math.round(C);else{var u=(C-S[0])/(S[1]-S[0]);u=1-2*u;u=Math.pow(9.99,u);S[4]=Math.min(999,Math.max(10,Math.round(u*100)))}dW.$H(this.value,this._u.J(),S);
this.os();this.EM()};Z.prototype.dI=function(m){J.N3(document.body,this.zA);J.e6(document.body,this.JI);
this.w5=-1};Z.prototype.NM=function(){return!0};Z.prototype.qB=function(m,S,B,C,u){var r=this.value,k=this.X_.J().indexOf(!0);
if(k==-1)return;this.value=bS.ej("levl");this.EM();var v=g.u9.Ux(m,u,1),e=[v>>>16&255,v>>>8&255,v&255];
for(var q=0;q<3;q++){var j=dW.tP(r,1+q);if(k==0)j[0]=e[q];if(k==1){var $=Math.log(e[q]/255)/Math.log((e[0]+e[1]+e[2])*.333/255);
j[4]=Math.min(999,Math.max(10,Math.round(100*$)))}if(k==2)j[1]=e[q];dW.$H(r,1+q,j)}this.f(r);this.EM()};
Z.prototype.f=function(m){this.value=m;this.os()};Z.prototype.gV=function(m){this.qN=m;this.os()};Z.prototype.J=function(m){return JSON.parse(JSON.stringify(this.value))};
return Z}();s.phfl=function(){s.call(this,"phfl");this.P9.push(new gl);this.P9.push(new iG([12,74],0,100,"%"));
this.P9.push(new ae([13,4]));this.R$()};s.phfl.prototype=new s;s.phfl.prototype.EU=function(Z,m){m[0]=Z.Clr.v;
m[1]=Z.Dnst.v;m[2]=Z.PrsL.v};s.phfl.prototype.eH=function(Z,m){var S=l.X.gN(m[0]),B=Z.Clr.v,C=l.W6(S.I,S.z,S.S);
B.Lmnc.v=C.Ma;B.A.v=C.AQ;B.B.v=C.S;Z.Dnst.v=m[1];Z.PrsL.v=m[2]};s.vibA=function(){s.call(this,"vibA");
this.P9.push(new iG([12,13],-100,100,null));this.P9.push(new iG([12,9],-100,100,null));this.R$()};s.vibA.prototype=new s;
s.vibA.prototype.EU=function(Z,m){m[0]=Z.vibrance?Z.vibrance.v:0;m[1]=Z.Strt?Z.Strt.v:0};s.vibA.prototype.eH=function(Z,m){Z.vibrance.v=m[0];
Z.Strt.v=m[1]};s.thrs=function(){s.call(this,"thrs");this.P9.push(new iG([4,13],1,255,null));this.R$()};
s.thrs.prototype=new s;s.thrs.prototype.EU=function(Z,m){m[0]=Z.Lvl.v};s.thrs.prototype.eH=function(Z,m){Z.Lvl.v=m[0]};
s.mixr=function(){s.call(this);var Z=this.m;this.BY=[];this.Cc=null;this.BX=new fH([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.BX.h(_.E.o,this.rc,this);Z.appendChild(this.BX.m);J.ed(Z);this.l1=new ae([12,60]);Z.appendChild(this.l1.m);
this.l1.h(_.E.o,this.rc,this);for(var q=0;q<4;q++){var m=new iG([[13,1,1],[13,1,4],[13,1,5],[13,2]][q],-200,200,"%");
m.h(_.E.o,this.rc,this);this.BY.push(m);Z.appendChild(m.m)}};s.mixr.prototype=new s;s.mixr.prototype.w=function(){this.BX.w();
this.l1.w();for(var q=0;q<4;q++)this.BY[q].w()};s.mixr.prototype.f=function(Z){this.Cc=JSON.parse(JSON.stringify(Z));
this.Hk()};s.mixr.prototype.J=function(Z){return JSON.parse(JSON.stringify(this.Cc))};s.mixr.prototype.rc=function(Z){if(Z.target!=this.BX){var m=e$.hM(this.Cc);
if(Z.target==this.l1){m.l1=this.l1.J();if(m.l1)m.k=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else m.k=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var S=(m.l1?0:this.BX.J())*5,q=this.BY.indexOf(Z.target);
m.k[S+(q<3?q:4)]=Z.target.J()}this.Cc=e$.Yw(m)}this.Hk();this.EM()};s.mixr.prototype.Hk=function(){var Z=e$.hM(this.Cc);
this.l1.f(Z.l1);var m=(Z.l1?0:this.BX.J())*5;for(var q=0;q<4;q++)this.BY[q].f(Z.k[m+(q<3?q:4)])};s.post=function(){s.call(this,"post");
this.P9.push(new iG([4,1],2,255,null));this.R$()};s.post.prototype=new s;s.post.prototype.EU=function(Z,m){m[0]=Z.Lvls.v};
s.post.prototype.eH=function(Z,m){Z.Lvls.v=m[0]};s.clrL=function(){s.call(this,"clrL");this.P9.push(new e5("LUTs"));
this.R$()};s.clrL.prototype=new s;s.clrL.prototype.EU=function(Z,m){m[0]=Z};s.clrL.prototype.eH=function(Z,m){var S=m[0];
for(var B in S)Z[B]=S[B]};s.clrL.prototype.C7=function(Z,m){if(m==bo.LE||m==bo.yo)this.P9[0].$q(Z.aaa)};
s.rplc=function(){s.call(this,"rplc");this.P9.push(new iG([12,92],0,200));this.P9.push(new gl);this.P9.push(new iG([12,8],-180,180));
this.P9.push(new iG([12,9],-100,100));this.P9.push(new iG([12,10],-100,100));this.R$()};s.rplc.prototype=new s;
s.rplc.prototype.EU=function(Z,m){m[0]=Z.Fzns.v;m[1]=Z.Mxm.v;m[2]=Z.H.v;m[3]=Z.Strt.v;m[4]=Z.Lght.v};
s.rplc.prototype.eH=function(Z,m){function S(C,u){u.Lmnc.v=C.Ma;u.A.v=C.AQ;u.B.v=C.S}Z.Fzns.v=m[0];Z.H.v=m[2];
Z.Strt.v=m[3];Z.Lght.v=m[4];var B=l.X.gN(m[1]),C=l.W6(B.I,B.z,B.S);S(C,Z.Mnm.v);S(C,Z.Mxm.v)};s.fade=function(){s.call(this,"fade");
this.P9.push(new iG([12,0],0,100,"%"));this.P9.push(new fH([12,19,0],d1.JN,!1,d1.L4));this.R$()};s.fade.prototype=new s;
s.fade.prototype.EU=function(Z,m){m[0]=Z.Opct.v.val;m[1]=d1.FI.indexOf(Z.Md.v.BlnM)};s.fade.prototype.eH=function(Z,m){Z.Opct.v.val=m[0];
Z.Md.v.BlnM=d1.FI[m[1]]};s.aply=function(){var Z=d1.FI.concat(["Add","Sbtr"]);Z.splice(21,1);var m=d1.JN.concat([[15,10,28],[15,10,21]]);
m.splice(21,1);var S=d1.L4.slice(0);S[4]--;function B(){s.call(this,"aply");this.P9.push(new fH([0,3],[]));
this.P9.push(new fH([12,4],["RGB"].concat(e$.sp).concat(["Transparency"])));this.P9.push(new ae([4,11]));
this.P9.push(new fH([12,19,0],m,!1,S));this.P9.push(new iG([12,0],0,100,"%"));this.P9.push(new gH([12,38],1,2,null,2));
this.P9.push(new gH([12,6],-255,255));this.P9.push(new ae([13,5]));this.R$([2]);this.DI=null}B.prototype=new s;
B.prototype.EU=function(C,u,r){if(r){var k=r[2].g,v=this.DI=[];for(var q=0;q<k.length;q++){var e=k[q].getName();
v.push(e.length<30?e:e.slice(0,27)+"...")}v.reverse();this.P9[0].Nw([[5,7]].concat(v),[1,v.length])}else var v=this.DI;
C=C.With.v;var j=C.T.v;u[0]=j[1].t=="name"?1+v.indexOf(j[1].v.val):0;u[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(j[0].v.enum);
u[2]=C.Invr.v;var $=C.Clcl.v.Clcn;u[3]=Z.indexOf($);u[4]=C.Opct.v.val;u[5]=C.Scl.v;u[6]=C.Ofst.v;u[7]=C.PrsT.v};
B.prototype.eH=function(C,u){C=C.With.v;var r=C.T.v;if(u[0]==0)r[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else r[1]={t:"name",v:{classID:"Lyr",val:this.DI[u[0]-1]}};r[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][u[1]];
C.Invr.v=u[2];var k=C.Clcl.v.Clcn=Z[u[3]];C.Opct.v.val=u[4];C.Scl.v=u[5];C.Ofst.v=u[6];C.PrsT.v=u[7];
var v=k=="Add"||k=="Sbtr";this.P9[5].aR(v);this.P9[6].aR(v)};return B}();s.matc=function(){var Z,m,S=0;
function B(){s.call(this,"matc");this.P9.push(new iG("Luminance",1,200));this.P9.push(new iG("Color Intensity",1,200));
this.P9.push(new iG([2,11],0,100,"%"));this.P9.push(new ae("Neutralize"));this.P9.push(new fH([12,70],[]));
this.P9.push(new fH([0,3],[]));this.R$([2])}function C(u,r){u.P9[5].Nw([[5,7]].concat(r),[1,r.length])}B.prototype=new s;
B.prototype.EU=function(u,r,k){S=0;r[0]=u.Lght.v;r[1]=u.ClrR.v;r[2]=u.Fade.v;r[3]=u.neutralizeColor?u.neutralizeColor.v:!1;
r[4]=r[5]=0;var v=u.Srce;if(v)v=v.v;if(k){Z=[];m=[];var e=k[2],j=k[3];for(var q=0;q<j.length;q++){var $=j[q];
Z.push($.name);var U=$.g,H=[];m.push(H);for(var z=0;z<U.length;z++)H.push(U[z].getName());H.reverse()}this.P9[4].Nw([[13,1,0]].concat(Z),[1,Z.length]);
var f=j.indexOf(e);if(v)f=Z.indexOf(v[1].v.val);C(this,m[f])}if(v){var D=Z.indexOf(v[1].v.val);r[3]=S=1+D;
if(v[0].t=="name")r[4]=1+m[D].indexOf(v[0].v.val)}};B.prototype.eH=function(u,r){u.Lght.v=r[0];u.ClrR.v=r[1];
u.Fade.v=r[2];u.neutralizeColor.v=r[3];if(r[4]==0){u.noReference={t:"bool",v:!0};delete u.Srce}else{if(r[4]!=S){S=r[4];
C(this,m[r[4]-1])}delete u.noReference;var k={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},v=m[r[4]-1];
if(r[5]!=0)k={t:"name",v:{classID:"Lyr",val:v[r[5]-1]}};u.Srce={t:"obj ",v:[k,{t:"name",v:{classID:"Dcmn",val:Z[r[4]-1]}}]}}};
return B}();function dg(Z,m){aw.call(this);if(Z==null)return;this.id=m;this.xJ=Z;this.Yd=null;this.m=J.L("div","window "+m);
this.atq=null;this.eE=J.L("div","whead");this.auh=J.L("span","wname");this.eE.appendChild(this.auh);
this.m.appendChild(this.eE);this.z4=this.arU.bind(this);this.Lg=this.adR.bind(this);this.n0=this.acs.bind(this);
J.Ew(this.eE);J.BQ(this.eE,this.z4);this.MV=J.L("span","cross");this.eE.appendChild(this.MV);dg.prototype.w.call(this);
J.qq(this.MV,this.ain.bind(this));this.body=J.L("div","body");this.m.appendChild(this.body)}dg.prototype=new aw;
dg.prototype.nE=function(){return!1};dg.prototype.NM=function(){return!1};dg.prototype.w=function(){if(this.xJ==null)return;
this.auh.textContent=iD.get(this.xJ);var Z=PIMG.__cross==null?"filter:invert(1);":"";this.MV.setAttribute("style","background-image:url("+PIMG.cross+");"+Z)};
dg.prototype.kV=function(Z,m,S,B,C){};dg.prototype.dm=function(Z,m,S,B,C){};dg.prototype.hJ=function(Z,m,S,B,C){};
dg.prototype.qB=function(Z,m,S,B,C){};dg.prototype.L0=function(Z,m,S,B,C){};dg.prototype._s=function(Z,m,S,B){if(B.j(iZ.Z6)&&this.dQ)this.dQ();
if(B.j(iZ.Sx)){var C=new eY(_.E.Y);C.k0=!0;g.Ol.Qn(B,C);if(C.data)m.c(C)}};dg.prototype.ar=function(Z){return!1};
dg.prototype.DP=function(Z,m){return!0};dg.prototype.sc=function(Z,m,S,B){};dg.prototype.C7=function(Z,m){};
dg.prototype.ya=function(Z,m){return null};dg.prototype.aca=function(Z){return this.atq};dg.prototype.MY=function(){};
dg.prototype.close=function(){this.c(new eY(_.E.ba))};dg.prototype.arU=function(Z){this.Yd=J.W7(Z,this.m);
J.Od(window,this.Lg);J.qq(window,this.n0)};dg.prototype.adR=function(Z){var m=this.m.parentNode,S=J.W7(Z,m),B=Math.round(S.x-this.Yd.x),C=m.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(S.y-this.Yd.y)));
this.atq=new aS(B,C);this.m.style.left=B+"px";this.m.style.top=C+"px"};dg.prototype.acs=function(Z){J.N3(window,this.Lg);
J.e6(window,this.n0)};dg.prototype.ain=function(Z){this.c(new eY("closebtn"));this.close()};function dp(){dg.call(this,"About Photopea","aboutpp");
var Z=J.L("div","flexrow");this.body.appendChild(Z);var m=this.afu=J.L("img");Z.appendChild(m);this.body.setAttribute("style","margin:0; padding:0");
var S=this.aqG=J.L("div");S.innerHTML=dp.QA;Z.appendChild(S);var B=this.mo=J.L("span");B.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(B)}dp.prototype=new dg;dp.prototype.ya=function(Z,m){return new aS(0,0)};dp.prototype.MY=function(Z,m){var S=this.afu,B=this.aqG,C=this.mo,u=(Z+m-42-42)/110;
u=Math.sqrt((Z-42)*(m-42))/50;S.setAttribute("style","width:"+Z/2+"px; height:"+m+"px; display:block; object-fit:cover;");
B.setAttribute("style","width:"+(Z/2-42)+"px; height:"+(m-42)+"px; padding:20px; font-size:"+u+"px;");
C.setAttribute("style","position:absolute;  bottom:10px; right:"+(Z/2+10)+"px")};dp.prototype.w=function(){};
dp.prototype.sc=function(Z,m,S,B){this.afu.setAttribute("src","promo/ivan_pp.webp")};dp.QA="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function iC(){dg.call(this,[0,13,0],"account");this.YF=J.L("div","form scrollable");this.body.appendChild(this.YF);
this.body.style.padding="0";this.Sa=[new iC.b5,new iC.Eu("::privacy.html"),new iC.Eu(iC.a4I)];for(var q=0;
q<this.Sa.length;q++)this.Sa[q].parent=this;this.h("showpage",this.agX,this)}iC.prototype=new dg;iC.prototype.MY=function(Z,m){this.YF.setAttribute("style","width:"+Math.min(Z-40,740)+"px;  height:"+(m-38)+"px;  padding:1.5em;");
this.Sa[0].MY(Z,m)};iC.prototype.ya=function(Z,m){return new aS(Math.max(0,Math.min(150,(Z-740)/2)),Math.max(0,Math.min(100,(m-500)/2)))};
iC.prototype.agX=function(Z){J.uq(this.YF);this.YF.scrollTop=0;this.YF.appendChild(this.Sa[Z.data.lU].m)};
iC.prototype.w=function(){dg.prototype.w.call(this);for(var q=0;q<this.Sa.length;q++)this.Sa[q].w()};
iC.prototype.sc=function(Z,m,S){J.uq(this.YF);var B=this.Sa[0];this.YF.appendChild(B.m);B.sc();this.w()};
iC.prototype.C7=function(Z,m){this.sc(null,null,null)};iC.b5=function(){aw.call(this);this.m=J.L("div");
var Z=this.m,k,v,j="font-size:1.25em;",$="text-align:center;",H="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",z="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",f="style=\"width:50%; vertical-align:top; padding:10px 20px;\"";
this.IQ=J.L("div");Z.appendChild(this.IQ);this.YU=new dX([0,11],!1,null,!0);this.YU.m.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.YU.h("click",this.Uq,this);Z.appendChild(this.YU.m);this.N_=new dX([0,13,1],!1,null,!0);this.N_.h("click",this.a9o,this);
Z.appendChild(this.N_.m);this.qJ=new dX("Business Terms",!1,null,!0);this.qJ.h("click",this.a8d,this);
Z.appendChild(this.qJ.m);var m=J.L("div");m.style.margin="20px 0";Z.appendChild(m);var S=["Account Types","Go Premium","Distributors"],B=this.h$=[],C=this.aq1=[],u=this.ma=J.L("div");
Z.appendChild(u);for(var q=0;q<S.length;q++){var r=J.L("span");r.textContent=S[q];m.appendChild(r);B.push(r);
r.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
r.addEventListener("click",this.A4.bind(this));C.push(J.L("div"))}this.A4(0);var e=this.aq0="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
Z=C[0];var v=J.L("table"),U="style=\" "+$+j+" padding-bottom:20px;\"";v.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+f+">\t\t\t\t\t<div "+U+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+f+">\t\t\t\t\t<div "+U+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
Z.appendChild(v);var r=new dX("Go Premium");r.m.setAttribute("style",e+"padding:10px 0;");r.h("click",function(A){this.A4(1)},this);
v.children[0].children[1].children[1].appendChild(r.m);this.tX=J.L("div");Z.appendChild(this.tX);Z=C[1];
var D=this.a0_=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.ik=[];for(var q=0;q<D.length;q++)this.ik.push(new dX("Buy: $"+D[q][0],!1,null,!0));for(var q=0;
q<this.ik.length;q++){this.ik[q].h("click",this.acI,this)}this.zo=new dX("...",!0);this.zo.m.setAttribute("style",e);
Z.appendChild(this.zo.m);v=this.a9R(3,["Single user",this.ik[0],this.ik[1],this.ik[2],"Team of 5",this.ik[3],this.ik[4],this.ik[5],"Team of 20",this.ik[6],this.ik[7],this.ik[8]]);
Z.appendChild(v);this.aiW=new ae("I accept",!0,"");Z.appendChild(this.aiW.m);this.Dq=new dX([0,13,1],!1,null,!0);
this.Dq.h("click",this.a9o,this);Z.appendChild(this.Dq.m);this.yT=new dX("I have a key",!1,null,!0);
this.yT.m.setAttribute("style",e+" float:right; width:inherit;");this.yT.h("click",this.acI,this);Z.appendChild(this.yT.m);
k=J.L("h2");k.textContent="Team Settings";Z.appendChild(k);k.style.marginTop="40px";this.DE=new ae("Join a team");
Z.appendChild(this.DE.m);this.DE.h(_.E.o,this.ado,this);this.wJ=new ec("Email of a leader",null,14);
Z.appendChild(this.wJ.m);J.ed(Z);this.iJ=new ae("Start a team");Z.appendChild(this.iJ.m);this.iJ.h(_.E.o,this.ado,this);
var n=new ed("Emails of other members:");Z.appendChild(n.m);J.ed(Z);this.aA=J.L("textarea");J.m8(this.aA);
this.aA.setAttribute("rows",3);this.aA.setAttribute("style","display:block;tab-size:4; width:100%");
Z.appendChild(this.aA);var L=new dX("Save Team Settings",!1,null,!0);Z.appendChild(L.m);L.h("click",this.aqA,this);
var a=this.aaC=new dX("More about Teams",!1,null,!0);Z.appendChild(a.m);a.h("click",this.ah8,this);Z=C[2];
this.mA=new dX("...",!0);this.mA.m.setAttribute("style",e);Z.appendChild(this.mA.m);v=this.a9R(3,["1000 views/mo",this.ik[9],this.ik[10],this.ik[11],"5000 views/mo",this.ik[12],this.ik[13],this.ik[14],"20000 views/mo",this.ik[15],this.ik[16],this.ik[17]]);
Z.appendChild(v);var F=J.L("p");F.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
Z.appendChild(F);this.Gh=new ec("Domain name (e.g. domain.com)",null,14);Z.appendChild(this.Gh.m);var L=new dX("Save Domain Settings",!1,null,!0);
L.HS();Z.appendChild(L.m);L.h("click",this.auB,this)};iC.b5.prototype=new aw;iC.b5.prototype.A4=function(Z){var m=typeof Z=="number"?Z:this.h$.indexOf(Z.target);
for(var q=0;q<3;q++)this.h$[q].style.opacity=.6;this.h$[m].style.opacity=1;J.uq(this.ma);this.ma.appendChild(this.aq1[m])};
iC.b5.prototype.MY=function(Z,m){var S=Z<600?"d":" days",B=this.a0_;for(var q=0;q<B.length;q++){this.ik[q].zR("<span>"+[30,90,365][q%3]+S+": <sup>$</sup><big><b>"+B[q][0]+"</b></big>"+"</span>");
this.ik[q].m.setAttribute("style",this.aq0)}};iC.b5.prototype.a9o=function(Z){var m=new eY("showpage",!0);
m.data={lU:1};this.c(m)};iC.b5.prototype.a8d=function(Z){var m=new eY("showpage",!0);m.data={lU:2};this.c(m)};
iC.b5.prototype.w=function(){this.YU.zR(eH.lN()?iD.get([0,11]):iD.get([0,10]));this.Dq.w();this.N_.w();
this.qJ.w()};iC.b5.prototype.ah8=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.sR,link:"https://www.photopea.com/api/accounts#"+(Z.target==this.aaC?"teams":"distributors")};
this.c(m)};iC.b5.prototype.ado=function(Z){var m=Z.currentTarget==this.DE;this.DE.f(m);this.iJ.f(!m)};
iC.b5.prototype.aqA=function(Z){var m=this.DE.J(),S=this.wJ.J().trim().toLowerCase(),B=this.aA.value.trim().toLowerCase();
if(S.length>60){alert("Too long email address");return}if(B.length>600){alert("Too many team members");
return}B=B.split(",").join(" ").trim();B=B.replace(/\s+/g," ");if(B=="")B=[];else B=B.split(" ");var C=eH.Wf();
if(C==null)C={};if(C.acc==null)C.acc={};C.acc.team={jin:m,ldr:S,mmb:B};eH.B_(C,this.hY.bind(this));alert("Saved!");
this.sc()};iC.b5.prototype.auB=function(Z){var m=this.Gh.J().trim();if(!eH.lN()){alert("You have to log in first.");
return}if(eH.XU().distrib=="0"){alert("Order a distributor account first.");return}var S=eH.Wf();if(S==null)S={};
if(S.acc==null)S.acc={};if(m=="")delete S.acc.dname;else S.acc.dname=m;eH.B_(S,this.hY.bind(this));alert("Saved!");
this.sc()};iC.b5.prototype.a05=function(Z){var m=eH.XU(),q=this.uz,S=eH.Wf();if(S==null)S={};if(S.acc==null)S.acc={};
S.acc.bto=Z;eH.B_(S,function(){});var B=iC.a7o(Z.split("\n"),m.pmnts[q]);dN.save(B,"photopea_invoice.pdf")};
iC.b5.prototype.amr=function(Z){var m=eH.XU(),S=eH.Wf(),B=S.acc?S.acc.bto:null;if(B==null)B=m.name+"\n"+m.email;
var q=-1,C=Z.target.m.parentNode;while((C=C.previousSibling)!=null)q++;this.uz=q;var u=new eY(_.E.W,!0);
u.data={d:_.B.Me,ct:"billto",RL:B,AZ:this.a05.bind(this)};this.c(u)};iC.b5.prototype.sc=function(){if(eH.lN()){var Z=eH.XU(),m=Z.pmnts;
if(Z==null)return;this.IQ.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+Z.name+"</span> "+Z.email+" <br/>";
J.uq(this.tX);if(m){var S="<h2>Payments</h2>";for(var q=0;q<m.length;q++){var B=m[q],C=new Date(B[0]*1e3);
S+="<div style=\"font-size:1.2em\">"+C.getDate()+". "+(C.getMonth()+1)+". "+C.getFullYear()+" - "+iC.ah0(B)+"</div>"}this.tX.innerHTML=S;
for(var q=0;q<m.length;q++){var u=new dX("Get Invoice",!1,null,!0);u.m.setAttribute("style","float:right");
u.h("click",this.amr,this);this.tX.children[q+1].appendChild(u.m)}}}else{}var r=eH.lN()&&eH.ru();this.zo.m.style.display=r?"block":"none";
if(r){var k=parseInt(Z[J.Hj("_^NSLUJ")])-Date.now()*(1/1e3),v=parseInt(Z.ptype),e;if(v==-1)e="member of a team";
else if(v==1)e="Single user";else e="Team of "+v;this.zo.zR("Premium active for "+Math.round(k/(60*60*24))+" more days! ("+e+")")}var j=eH.lN()&&Z.distrib*1e3>Date.now();
this.mA.m.style.display=j?"block":"none";if(j){var k=parseInt(Z.distrib)-Date.now()/1e3,v=parseInt(Z.ptype);
this.mA.zR("Distributor active for "+Math.round(k/(60*60*24))+" more days! ("+v+" visitos)")}var $=eH.Wf();
if($&&$.acc&&$.acc.team){var U=$.acc.team;this.DE.f(U.jin);this.iJ.f(!U.jin);this.wJ.f(U.ldr);this.aA.value=U.mmb.join(", ")}else{this.DE.f(!0);
this.iJ.f(!1);this.wJ.f("");this.aA.value=""}if($&&$.acc&&$.acc.dname)this.Gh.f($.acc.dname);else this.Gh.f("")};
iC.b5.prototype.a9R=function(Z,m){var S=J.L("table");if(!1){S.innerHTML="\t\t\t\t\t<table>\t\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> <th>365 days</th> </tr>\t\t\t\t\t</table>\t\t\t\t";
for(var q=0;q<m.length;q+=Z+1){var B=J.L("tr"),C;S.appendChild(B);C=J.L("td","left");B.appendChild(C);
C.innerHTML=m[q]+":";for(var u=0;u<Z;u++){C=J.L("td");B.appendChild(C);C.appendChild(m[q+1+u].m)}}}else{S.innerHTML="\t\t\t\t\t<table>\t\t\t\t\t\t<tr>   <th>"+m[0]+"</th><th>"+m[4]+"</th> <th>"+m[8]+"</th> </tr>\t\t\t\t\t</table>\t\t\t\t";
for(var q=0;q<3;q++){var B=J.L("tr"),C;S.appendChild(B);for(var u=0;u<Z;u++){C=J.L("td");C.style.width="33%";
B.appendChild(C);C.appendChild(m[u*4+1+q].m)}}}return S};iC.b5.prototype.acI=function(Z){var m=this.ik.indexOf(Z.currentTarget),B=30,C=1;
if(!eH.lN()){alert("You must log in before buying Premium");return}if(this.aiW.J()==!1&&m<9){alert("You must accept Terms of Service");
return}var S=eH.lN()&&eH.ru();if(m!=-1){var u=this.a0_[m];B=u[1];C=u[2]}if(S&&C<1e3){alert("You already have premium.");
return}if(m==-1){var r=prompt("Please enter your key");if(r!=null){eH.as0(r,this.hY.bind(this));this.gu()}return}if(B==30&&C==1){var k=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!k)return}eH.order(B,C,this.hY.bind(this));this.gu()};iC.b5.prototype.hY=function(Z){if(eH.lN()&&eH.XU().msg)alert(eH.XU().msg);
this.sc();this.gu()};iC.b5.prototype.Uq=function(Z){if(eH.lN()){eH.vV();this.gu();this.sc(null,null,null)}else eH.Uq(this.arj.bind(this))};
iC.b5.prototype.arj=function(){var Z=new eY(_.E.W,!0);Z.data={d:_.B.anJ};this.c(Z)};iC.b5.prototype.gu=function(){var Z=new eY(_.E.W,!0);
Z.data={d:_.B.a4h};this.c(Z)};iC.Eu=function(Z){aw.call(this);this.m=J.L("div");var m=this.m,S=this.a02=new dX([0,13,2],!1,null,!0),B;
S.h("click",this.als,this);m.appendChild(S.m);if(Z.startsWith("::")){B=J.L("iframe");B.setAttribute("style","width:100%;height:1700px; background-color:white;");
B.setAttribute("src",Z.slice(2))}else{B=J.L("div");B.innerHTML=Z}m.appendChild(B)};iC.Eu.prototype=new aw;
iC.Eu.prototype.als=function(Z){var m=new eY("showpage",!0);m.data={lU:0};this.c(m)};iC.Eu.prototype.w=function(){this.a02.w()};
iC.a4I="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
iC.ah0=function(Z){return"Photopea "+(Z[1]<1e3?"Premium":"Distributor")+" ("+Z[1]+" days, "+Z[2]+" user"+(Z[2]==1?"":"s")+")"};
iC.a7o=function(Z,m){Z=["Bill To:"].concat(Z);var S=new ToPDF,B=595,C=842,u=40,r=18,k=12,v=500,e=100,j=400,f=0;
function $(o,I,c,y,i){H.font.Tf=i?"Helvetica-Bold":"Helvetica";H.ctm=[1,0,0,1,I,c];H.font.Tfs=y?y:k;
S.PutText(H,o,0)}function U(o,I,c,y){for(var q=0;q<o.length;q++){$(o[q],I,c-q*y,null,q==0)}}var H=UDOC.getState();
S.StartPage(0,0,B,C);$("INVOICE",B-u-140,C-u-30,30,!0);U(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],u,C-u-40,r);
var z=new Date(m[0]*1e3);U(["Date: "+z.getDate()+". "+(z.getMonth()+1)+". "+z.getFullYear(),"Transaction ID: "+m[4]],B-u-140,C-u-40-r*2,r);
var D=Z.join("");for(var q=0;q<D.length;q++)f=Math.max(f,D.charCodeAt(q));if(f>256){var n=4,L=J.L("canvas"),a=L.getContext("2d"),F=0;
a.font=k*n+"px sans-serif";for(var q=0;q<Z.length;q++)F=Math.max(F,a.measureText(Z[q]).width);var A=Math.round(F)+20,T=Z.length*n*r+20;
L.width=A;L.height=T;a.font=k*n+"px sans-serif";for(var q=0;q<Z.length;q++){a.font=(q==0?"bold ":"")+k*n+"px sans-serif";
a.fillText(Z[q],10,(q+1)*n*r)}document.body.appendChild(L);var P=new Uint8Array(a.getImageData(0,0,A,T).data.buffer);
H.ctm=[A/n,0,0,T/n,u-10/n,C-u-40-100-T/n];S.PutImage(H,P,A,T);H.ctm=[1,0,0,1,0,0]}else U(Z,u,C-u-40-100,r);
H.colr=[.8,.8,.8];H.pth={cmds:["M","L","L","L","Z"],crds:[u,v,B-u,v,B-u,v-r,u,v-r]};S.Fill(H);H.colr=[0,0,0];
var Y=[u,v,B-u,v,u,v-r,B-u,v-r,u,v-e,B-u,v-e,u,v,u,v-e,B-u,v,B-u,v-e,j,v,j,v-e],Q=[];for(var q=0;q<Y.length;
q+=4)Q.push("M","L");H.pth={cmds:Q,crds:Y};S.Stroke(H);$("Order details",u+4,v-14);$(iC.ah0(m),u+4,v-r-14);
$("TOTAL:",u+4,v-e-14,null,!0);$("Price",B-u-50,v-14);$(m[3]+" USD",B-u-60,v-r-14);$(m[3]+" USD",B-u-60,v-e-14,null,!0);
$("www.Photopea.com",u,u);$("support@photopea.com",B-u-130,u);S.ShowPage();S.Done();return S.buffer};
function d2(){dg.call(this,[11,14],"addguides");this.Rt;this._q={Zd:{Dj:0}};this.YD=null;var Z=J.L("div","form");
this.body.appendChild(Z);this.Xq=new ec([22,4,0],null,16);this.Xq.h(_.E.o,this.B$,this);this.VU=new ec([22,4,1],null,16);
this.VU.h(_.E.o,this.B$,this);this.xr=new fH(null,l.Zv._C);this.xr.h(_.E.o,this.B$,this);Z.appendChild(this.Xq.m);
Z.appendChild(this.xr.m);J.ed(Z);Z.appendChild(this.VU.m);this.DQ=J.Pu(this,Z);this.h("closebtn",this.ai$,this)}d2.prototype=new dg;
d2.prototype.DP=function(Z,m){return Z!=null};d2.prototype.nE=function(){return!0};d2.prototype.w=function(){dg.prototype.w.call(this);
this.Xq.w();this.VU.w();this.xr.w();this.DQ.w()};d2.prototype.C7=function(Z,m){var S=Z.Zd.Dj;this._q.Zd.Dj=S;
this.xr.f(S)};d2.prototype.sc=function(Z,m){this.Rt=Z;this.YD=JSON.stringify(Z.dM());this.Po()};d2.prototype.Po=function(){var Z=this.Rt,m=Z.Ua,S=function(B,C,Z,u,r){var k=[];
for(var q=0;q<B.length;q++)if(B[q][0]==C)k.push(l.Zv.Fn(B[q][1],Z.wd,u,r));k.sort(function(v,e){return v-e});
return k.join(", ")};this.Xq.f(S(m,0,Z,this._q,Z.e));this.VU.f(S(m,1,Z,this._q,Z.n))};d2.prototype.B$=function(Z){if(Z&&Z.currentTarget==this.xr)this._q.Zd.Dj=this.xr.J();
else{var m=this.ad_(),S=this.Rt;S.JD(m);S.tV=!0}this.Po()};d2.prototype.ad_=function(){var Z=[],m=[];
for(var S=0;S<2;S++){var B=S==0?this.Xq:this.VU,C=S==0?this.Rt.e:this.Rt.n,u=B.J().replace(/,/g," ").replace(/  +/g," ").trim(),r=u==""?[]:u.split(" ");
for(var q=0;q<r.length;q++){Z.push([S,l.Zv.aba(r[q],this.Rt.wd,this._q,C)]);m.push(-1)}}return[Z,m]};
d2.prototype.ai$=function(Z){var m=this.Rt;m.JD(JSON.parse(this.YD));m.tV=!0;this.Rt=null};d2.prototype.dQ=function(Z){this.B$(Z);
var m=new eY(_.E.Y,!0);m.b=g.Ta;m.data={d:"gids",r3:JSON.parse(this.YD),ib:this.Rt.dM()};this.Rt=null;
this.close();this.c(m)};function bE(Z){var m=bS.names[Z];if(m==null)m=e$.names[Z];if(Z=="aply")m=[2,12];
if(Z=="fade")m=[2,11];if(Z=="matc")m=[4,18];if(Z=="blendOptions")m=[14,10];dg.call(this,m,"afw_"+Z);
this.wm=Z;this.l7=null;this.to=null;this.Z5=new s[Z];this.Z5.h(_.E.o,this.EM,this);this.Z5.parent=this;
this.body.appendChild(this.Z5.m);this.z6=new ae([24,18,5]);this.z6.f(!0);this.z6.h(_.E.o,this.EM,this);
this.Ti=new dX([1,12,2],!0,null,!0);this.Ti.h("click",this._p,this);this.DQ=J.Pu(this);if(this.Ek())this.Z5.o0(this.DQ.m);
else{J._A(this.Z5.m,"form");J._A(this.body,"flexrow");this.Z5.m.setAttribute("style","width:312px");
var S=J.L("div");this.body.appendChild(S);S.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
S.appendChild(this.DQ.m);S.appendChild(this.Ti.m);S.appendChild(this.z6.m)}this.h("closebtn",this.AA,this)}bE.prototype=new dg;
bE.prototype.nE=function(){return!0};bE.prototype.Ek=function(){return this.Z5!=null&&this.Z5.fc()};
bE.prototype.ya=function(){return this.Ek()?new aS(0,0):dg.prototype.ya()};bE.prototype.NM=function(){return this.Z5.NM()};
bE.prototype.kV=function(Z,m,S,B,C){this.Z5.kV(Z,m,S,B,C)};bE.prototype.hJ=function(Z,m,S,B,C){this.Z5.hJ(Z,m,S,B,C)};
bE.prototype.qB=function(Z,m,S,B,C){this.Z5.qB(Z,m,S,B,C)};bE.prototype.DP=function(Z,m){if(this.wm=="fade")return bE.a4j(Z);
return!0};bE.prototype._p=function(Z){this.Z5.f(bS.ej(this.wm));this.EM()};bE.prototype.EM=function(Z){this.p2({d:"edit",jA:this.Z5.J(),Fp:!this.z6.J()})};
bE.prototype.AA=function(Z){this.p2({d:"cancel"})};bE.prototype.dQ=function(Z){if(!this.z6.J()){this.z6.f(!0);
this.EM()}this.to=this.Z5.J();if(this.Ek())this.EM();this.p2({d:"confirm"});this.close()};bE.prototype.w=function(){dg.prototype.w.call(this);
this.z6.w();if(this.Z5)this.Z5.w();this.DQ.w()};bE.prototype.C7=function(Z,m){if(this.Z5)this.Z5.C7(Z,m)};
bE.prototype._s=function(Z,m,S,B){if(this.Ek())this.Z5._s(B);else dg.prototype._s.call(this,Z,m,S,B)};
bE.prototype.sc=function(Z,m,S,B){this.l7=m.l7;var C=Z.add.lnk2?Z.add.lnk2:[],u,r,k=new bq(0,0,Z.e,Z.n),v=Z.g[Z._[0]],e=null;
u=v.buffer;r=v.rect;if(this.Ek())e=Z.Jy(Z._[0]-1);var j=bS.ej(this.wm),$=[C,Z.Xz,Z,S];if(m.l7==null){this.Z5.f(j,u,r,k,e,$);
if(e$.names[this.wm]){if(B.j(iZ.__)&&this.to)this.Z5.f(this.to);var U=g.YP.getData(Z),H=l.LA(U[0].aP);
this.Z5.gV(H)}}else{var z=!1,v=Z.g[this.l7.i];if(v.vI()){var f=v.ws(Z);u=f.buffer;r=f.rect;var D=v.add.SoLd.filterFX.v.filterFXList.v;
if(D[this.l7.index]){var n=D[this.l7.index].v;this.Z5.f(this.wm=="blendOptions"?n.blendOptions.v:n.Fltr.v,u,r,k,e,$);
this.Z5.gV(l.LA(u));z=!0}}if(!z){this.Z5.f(j,u,r,k,e,$);this.Z5.gV(l.LA(u))}}if(!this.Ek())this.EM()};
bE.prototype.p2=function(Z){var m=new eY(_.E.Y,!0);Z.wm=this.wm;Z.l7=this.l7;m.data=Z;m.b=bS.names[this.wm]||this.l7?g.Ny:g.b$;
m.k0=!0;this.c(m)};bE.prototype.MY=function(Z,m){if(!this.Z5.fc()){}else{this.body.style.padding="0";
this.Z5.MY(Z,m)}};bE.a4j=function(Z){if(Z==null)return!1;var m=Z.rX();if(m==null||!(m.data instanceof Array)||m.data.length!=Z._.length)return!1;
for(var q=0;q<m.data.length;q++){var S=m.data[q];if(S.i<0&&Z.Xz[-1-S.i])return!0;if(S.i==null||Z.g[S.i]==null||Z.g[S.i].E_!=S.Hl)return!1;
if(Z._.indexOf(S.i)==-1)return!1}return!0};function cQ(){dg.call(this,[11,0],"camera");this.data=null;
this.QK=new aS(1,1);this.alA=[];var Z=J.L("div","form hbar");this.body.appendChild(Z);this.agL=new fH(null,[]);
this.AO=new fH([21,0],[[21,2],[21,1]]);Z.appendChild(this.AO.m);this.yZ=new fH(null,[]);this.yZ.h(_.E.o,this.a1P,this);
Z.appendChild(this.yZ.m);this.Rc=new dX([11,0],!1,null,!0);this.Rc.h("click",this.aaT,this);Z.appendChild(this.Rc.m);
this.cs=new ed("");Z.appendChild(this.cs.m);this.stream=null;this.GN=J.L("video","");this.GN.setAttribute("autoplay","true");
this.body.appendChild(this.GN);this.a8W=this.aoX.bind(this);this.a6L=this.a0q.bind(this);this.an5=this.ap$.bind(this);
this.h("closebtn",this.akn,this)}cQ.prototype=new dg;cQ.prototype.w=function(){dg.prototype.w.call(this);
this.AO.w();this.Rc.w();this.MY(this.OU,this.Vi)};cQ.prototype.Jy=function(){var Z=this.GN.videoWidth,m=this.GN.videoHeight,S=J.L("canvas","");
S.width=Z;S.height=m;var B=S.getContext("2d");B.drawImage(this.GN,0,0,Z,m);var C=B.getImageData(0,0,Z,m);
return{cR:new bq(0,0,Z,m),data:C.data.buffer}};cQ.prototype.aaT=function(Z){if(this.AO.J()==0)this.aeL();
else this.aqY()};cQ.prototype.aqY=function(){var Z=this.Jy(),m={buffer:new Uint8Array(Z.data),rect:Z.cR},S=new eY(_.E.Y,!0);
S.k0=!0;S.b=g.vJ;S.data={d:w.a4,xw:m};this.c(S);alert(iD.get([21,4]))};cQ.prototype.aeL=function(){var Z=this.Jy(),m=e2.h9("camera",[Z]),S=new eY(_.E.W,!0);
S.data={d:_.B.Yg,OB:m};this.c(S);alert(iD.get([21,5]))};cQ.prototype.sc=function(Z,m,S){navigator.mediaDevices.enumerateDevices().then(this.aeQ.bind(this))};
cQ.prototype.aeQ=function(Z){var m=this.alA=[],S=[];for(var q=0;q<Z.length;q++)if(Z[q].kind=="videoinput"){m.push(Z[q]);
S.push("Camera "+m.length)}this.yZ.Nw(S);this.yZ.f(0);this.a1P()};cQ.prototype.a1P=function(Z){this.akn();
var m={video:{deviceId:this.alA[this.yZ.J()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(m).then(this.a8W).catch(this.a6L);
else navigator.webkitGetUserMedia(m,this.a8W,this.a6L)};cQ.prototype.aoX=function(Z){this.stream=Z;this.GN.srcObject=Z;
this.GN.addEventListener("loadedmetadata",this.an5,!1)};cQ.prototype.ap$=function(Z){this.GN.play();
this.MY(this.OU,this.Vi)};cQ.prototype.ya=function(Z,m){return new aS(0,0)};cQ.prototype.MY=function(Z,m){var S=this.GN.videoWidth,B=this.GN.videoHeight;
this.cs.f(S+" x "+B+" px");this.cs.m.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.QK.r8(S,B);this.OU=Z;this.Vi=m;var C=Z-28,u=m-28-30,r=this.QK.x/this.QK.y;if(C/u>r)C=u*r;else u=C/r;
this.GN.setAttribute("style","display: block; width: "+Math.round(C)+"px; height:"+Math.round(u)+"px;")};
cQ.prototype.a0q=function(Z){console.log("error",Z);alert(iD.get([21,6]));this.close()};cQ.prototype.akn=function(Z){if(this.stream!=null){var m=this.stream.getTracks();
for(var q=0;q<m.length;q++)m[q].stop();this.stream=null}};function gX(){dg.call(this,[7,8],"crange");
this.Rt=null;this.oe={Ma:73,AQ:4.45,S:4};this.v0={Ma:73,AQ:4.45,S:4};this.body.style.width="20em";this.or=new fH([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.or.h(_.E.o,this.atz,this);this.body.appendChild(this.or.m);this.QA=J.L("div","form");this.body.appendChild(this.QA);
var Z=this.a46=2,m=this.ZU=[new iG([12,92],0,200),new g6([12,36],[[18,0],"\uFF0B","\u2014"]),new iG([12,92],0,100,"%"),new gH("Min",0,255),new gH("Max",0,255)];
m[0].f(40);m[Z].f(40);for(var q=0;q<m.length;q++){m[q].h(_.E.o,this.Hk,this);m[q].parent=this}this.O=J.L("canvas");
this.body.appendChild(this.O);this.DQ=J.Pu(this,this.body)}gX.prototype=new dg;gX.prototype.DP=function(Z,m){return Z!=null};
gX.prototype.NM=function(){return!0};gX.prototype.nE=function(){return!0};gX.prototype.atz=function(Z){var m=this.or.J(),S=this.ZU,B=this.QA,C=0,u=S.length,r=this.a46;
if(m==0)u=r;else{C=r;S[C+1].f([0,100,190][m-1]);S[C+1].aR(m!=1);S[C+2].f([60,150,255][m-1]);S[C+2].aR(m!=3)}J.uq(B);
for(var q=C;q<u;q++){B.appendChild(S[q].m)}this.Hk()};gX.prototype.w=function(){dg.prototype.w.call(this);
this.DQ.w();this.or.w();for(var q=0;q<this.ZU.length;q++)this.ZU[q].w()};gX.prototype.kV=function(Z,m,S,B,C){var u=Z.s.tr(C.x,C.y);
this.a3m(u.x,u.y)};gX.prototype.a3m=function(Z,m){var S=Math.min,B=Math.max,C=this.Rt,u=B(0,S(C.e-1,Math.floor(Z))),r=B(0,S(C.n-1,Math.floor(m))),k=C.Jy(),v=(r*C.e+u)*4,e=k[v],j=k[v+1],$=k[v+2],U=l.W6(e,j,$),H=this.ZU[1].J(),z=this.oe,f=this.v0;
if(H==0){this.oe=JSON.parse(JSON.stringify(U));this.v0=U}else if(H==1){z.Ma=S(z.Ma,U.Ma);z.AQ=S(z.AQ,U.AQ);
z.S=S(z.S,U.S);f.Ma=B(f.Ma,U.Ma);f.AQ=B(f.AQ,U.AQ);f.S=B(f.S,U.S)}else if(H==2){var D=(z.Ma+f.Ma)/2,n=(z.AQ+f.AQ)/2,L=(z.S+f.S)/2;
if(U.Ma<D)z.Ma=B(z.Ma,U.Ma+10);else f.Ma=S(f.Ma,U.Ma-10);if(U.AQ<n)z.AQ=B(z.AQ,U.AQ+1);else f.AQ=S(f.AQ,U.AQ-1);
if(U.S<L)z.S=B(z.S,U.S+1);else f.S=S(f.S,U.S-1)}this.Hk()};gX.prototype.dQ=function(Z){var m=this.or.J(),S=this.ZU,B={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(m==0){var C=this.oe,u=this.v0;B.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:C.Ma},A:{t:"doub",v:C.AQ},B:{t:"doub",v:C.S}}};
B.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:u.Ma},A:{t:"doub",v:u.AQ},B:{t:"doub",v:u.S}}};B.Fzns={t:"long",v:S[0].J()}}else{m--;
var r=["shadows","midtones","highlights"][m];B.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][m]}};if(0<m)B[r+"LowerLimit"]={t:"long",v:S[3].J()};
if(m<2)B[r+"UpperLimit"]={t:"long",v:S[4].J()};B[r+"Fuzziness"]={t:"long",v:S[2].J()}}this.close();var k=new eY(_.E.lX,!0);
k.data={CE:"colorRange",Oz:B};this.c(k)};gX.prototype.sc=function(Z,m){this.Rt=Z;this.a3m(0,0);this.atz()};
gX.prototype.Hk=function(){var Z=this.Rt,m=this.or.J(),S=this.oe,B=this.v0,C=this.ZU,u=C[0].J()/200,r=!1;
if(m>0){S=C[3].J();B=C[4].J();if(S>=B)S=B-1;r=!0;u=C[2].J()/100}var k=g.nJ.Gc(Z,S,B,u,r),v=k.rect,e=k.channel,j=this.O,$=j.getContext("2d"),U=Math.floor(230*J.F()),H=Math.floor(U*(v.n/v.e));
j.width=U;j.height=H;J.Lk(j,U,H);var z=l.U(e.length*4);l._z(z,4294967295);for(var q=0;q<3;q++)l.cN(e,z,q);
var f=g.Q.zr([z,v],new ht(U/v.e,0,0,H/v.n,0,0)),D=f.rect,n=new ImageData(new Uint8ClampedArray(f.buffer.buffer),D.e,D.n);
$.putImageData(n,0,0)};function e8(){dg.call(this,[12,76,1],"createshape");this.XQ=null;var Z=J.L("div","form");
Z.setAttribute("style","width:20em");this.body.appendChild(Z);this.gA=new gH([12,41],0,0,null,0,!1,!0);
Z.appendChild(this.gA.m);J.ed(Z);this.Xq=new gH([12,42],0,0,null,0,!1,!0);Z.appendChild(this.Xq.m);J.ed(Z);
this.XN=new ae([19,5,3]);Z.appendChild(this.XN.m);this.gA.f(100);this.Xq.f(100);this.DQ=J.Pu(this,Z)}e8.prototype=new dg;
e8.prototype.dQ=function(Z){this.XQ.ajm(this.XQ.aq8,this.gA.J(),this.Xq.J(),this.XN.J());this.close()};
e8.prototype.w=function(){if(this.XQ)this.xJ=iD.get([5,3])+": "+iD.get(this.XQ.amu);dg.prototype.w.call(this);
this.DQ.w();this.gA.w();this.Xq.w();this.XN.w()};e8.prototype.sc=function(Z,m){this.XQ=m;this.w();this.gA.Ri()};
function bX(){dg.call(this,[11,1],"colorpicker");this.LB=null;this.g2=null;this.ig=null;this.x1=!1;this.jm=!1;
var Z=J.L("div","flexrow"),u,r;this.body.appendChild(Z);this.s3=new jm(256);this.s3.h(_.E.o,this.lu,this);
Z.appendChild(this.s3.m);var m=J.L("div","form");m.setAttribute("style","width:14.5em; margin-left:1em;");
Z.appendChild(m);this.ac5=J.L("div","full");m.appendChild(this.ac5);this.auJ=J.L("div","full");m.appendChild(this.auJ);
var S=J.L("div","flexrow");m.appendChild(S);var B=J.L("div"),C=J.L("div");S.appendChild(B);S.appendChild(C);
u=["R","G","B"];r=B;this.zz=[];for(var q=0;q<3;q++){var k=new gH(u[q]+":",0,255,null,0,!1,!0);this.zz.push(k);
k.h(_.E.o,this.anv,this);r.appendChild(k.m)}u=["H","S","B"];r=C;this.IG=[];for(var q=0;q<3;q++){var v=0,e=360,j="\xB0";
if(q!=0){e=100;j="%"}var k=new gH(u[q]+":",v,e,j,0,!1,!0);this.IG.push(k);k.h(_.E.o,this.aua,this);r.appendChild(k.m)}this.Xq=new ec("Hex",null,6);
this.Xq.h(_.E.o,this.Ho,this);m.appendChild(this.Xq.m);this.eg=J.L("input","fitem");this.eg.setAttribute("type","color");
this.eg.setAttribute("style","width:50px");this.eg.addEventListener("change",this.Ho.bind(this),!1);
m.appendChild(this.eg);this.gB=new eW(9);this.gB.h(_.E.o,this.Ho,this);m.appendChild(this.gB.m);this.DQ=J.Pu(this,m);
this.h("closebtn",this.AA,this);this.aM=!1}bX.prototype=new dg;bX.prototype.NM=function(){return!0};
bX.prototype.ya=function(Z,m){return new aS(Math.max(0,Math.min(150,(Z-484)/2)),Math.max(0,Math.min(150,(m-316)/2)))};
bX.prototype.MY=function(Z,m){this.s3.MY(Math.min(256,Z-226),m)};bX.prototype.w=function(Z,m){dg.prototype.w.call(this);
this.DQ.w()};bX.prototype.lu=function(Z){this.g2=this.s3.J();this.update()};bX.prototype.kV=function(Z,m,S,B,C){this.aM=!0;
this.a0O(Z,C)};bX.prototype.hJ=function(Z,m,S,B,C){if(!this.aM)return;this.a0O(Z,C)};bX.prototype.qB=function(Z,m,S,B,C){this.aM=!1};
bX.prototype.a0O=function(Z,m){var S=g.u9.Ux(Z,m,1),B=S&255,C=S>>8&255,u=S>>16&255;this.g2={I:u/255,z:C/255,S:B/255};
this.update()};bX.prototype.anv=function(Z){var m=this.zz,S=this.uu(parseInt(m[0].J())),B=this.uu(parseInt(m[1].J())),C=this.uu(parseInt(m[2].J()));
this.g2={I:S/255,z:B/255,S:C/255};this.update()};bX.prototype.aua=function(Z){var m=this.IG,S=this.hX(parseInt(m[0].J())/360),B=this.hX(parseInt(m[1].J())/100),C=this.hX(parseInt(m[2].J())/100);
this.g2=l.TX(S,B,C);this.update()};bX.prototype.Ho=function(Z){var m;if(Z.currentTarget==this.gB)m=this.gB.J();
else{m=Z.currentTarget==this.Xq?this.Xq.J():this.eg.value;if(m.charAt(0)=="#")m=m.slice(1);if(m.length==3)m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2];
m=l.da(m)}this.g2={I:(m>>16&255)/255,z:(m>>8&255)/255,S:(m&255)/255};this.update()};bX.prototype.Qq=function(Z){var m=Z.I,S=Z.z,B=Z.S;
return Math.round(m*255)<<16|Math.round(S*255)<<8|Math.round(B*255)};bX.prototype.dQ=function(Z){this.ac1();
var m=this.Qq(this.g2);this.ig(m);this.close();this.jm=!1;this.g2=null};bX.prototype.AA=function(Z){this.ac1();
if(this.x1)this.ig(this.Qq(this.LB));this.jm=!1;this.g2=null};bX.prototype.ac1=function(Z){var m=new eY(_.E.W,!0);
m.data={d:_.B.aoD};this.c(m)};bX.prototype.C7=function(Z,m){if(m!=bo.HA)return;var S=Z.Nx;this.gB.f(S);
if(this.g2!=null){this.g2={I:(S>>16&255)/255,z:(S>>8&255)/255,S:(S>>0&255)/255};this.update()}};bX.prototype.sc=function(Z,m){var S=m.rF,B={I:(S>>16&255)/255,z:(S>>8&255)/255,S:(S>>0&255)/255};
if(this.g2==null){var C=new eY(_.E.W,!0);C.data={d:_.B.tC,l4:"crosshair",push:!0};this.c(C);this.aM=!1;
this.ig=m.mm;this.x1=!1;this.jm=m.Is;this.LB=JSON.parse(JSON.stringify(B));this.auJ.setAttribute("style","height:3em;background-color:#"+l.L5(S)+";")}this.g2=B;
this.update()};bX.prototype.update=function(){var Z=this.g2,m=this.Qq(Z),S=this.zz;S[0].f(Math.round(Z.I*255));
S[1].f(Math.round(Z.z*255));S[2].f(Math.round(Z.S*255));this.Xq.f(l.L5(m));this.eg.value="#"+l.L5(m);
this.ac5.setAttribute("style","height:3em;background-color:#"+l.L5(m)+";");var B=l.$C(Z.I,Z.z,Z.S);S=this.IG;
S[0].f(Math.round(B.Vi*360));S[1].f(Math.round(B.Ve*100));S[2].f(Math.round(B.jA*100));this.s3.f(Z);
if(this.jm){this.ig(this.Qq(this.g2));this.x1=!0}};bX.prototype.uu=function(Z){return Math.max(0,Math.min(255,Z))};
bX.prototype.hX=function(Z){return Math.max(0,Math.min(1,Z))};function jX(){dg.call(this,[11,2],"contoureditor");
this.a7s=null;this.vM=null;this.response=null;this.Xo=J.L("div","cell");this.body.appendChild(this.Xo);
this.JA=J.L("div","cell padded");this.body.appendChild(this.JA);var Z=J.L("div","bordered padded vmargin");
this.Xo.appendChild(Z);this.Z5=new eB(null,null,!0);this.Z5.h(_.E.o,this.dq,this);Z.appendChild(this.Z5.m);
this.DQ=J.Pu(this,this.JA);this.h("closebtn",this.Tj,this)}jX.prototype=new dg;jX.prototype.dQ=function(){this.close()};
jX.prototype.w=function(){dg.prototype.w.call(this);this.DQ.w();this.Z5.w()};jX.prototype.dq=function(Z){this.vM.Crv.v=this.Z5.J();
this.response(this.vM)};jX.prototype.Tj=function(Z){this.response(this.a7s)};jX.prototype.sc=function(Z,m){this.a7s=JSON.parse(JSON.stringify(m.ma));
this.vM=m.ma;this.response=m.response;this.Z5.f(this.vM.Crv.v)};function ak(){dg.call(this,[11,3],"csize");
this.d4=0;this.YF=J.L("div","form");this.YF.setAttribute("style","width:22em");this.body.appendChild(this.YF);
this._D=new hs(!0,!0,!0,!0,!0);this._D.a3L(!1);this.YF.appendChild(this._D.m);this.Q8=new g6("Align with",[[8,7],[12,6]]);
this.Q8.h(_.E.o,this.aa4,this);this.yW=new hl([12,23,2],41);this.YF.appendChild(this.yW.m);this.yW.f(4);
this.mD=new de(!1);this.mD.ajO(new aS(0,0));this.DQ=J.Pu(this,this.body)}ak.prototype=new dg;ak.prototype.DP=function(Z,m){return Z!=null};
ak.prototype.nE=function(){return!0};ak.prototype.ar=function(Z){return[iZ.Ia,iZ.$Z,iZ.Dz,iZ.m9].indexOf(Z)!=-1};
ak.prototype._s=function(Z,m,S,B){this.yW.a3Q(B.Wr())};ak.prototype.aa4=function(){var Z=[this.yW.m,this.mD.m];
this.YF.removeChild(Z[this.d4]);this.d4=this.Q8.J();this.YF.appendChild(Z[this.d4])};ak.prototype.w=function(){dg.prototype.w.call(this);
this._D.w();this.Q8.w();this.yW.w();this.mD.w();this.DQ.w()};ak.prototype.dQ=function(Z){var m=this._D.J(),S=m.x,B=m.y,C=new eY(_.E.lX,!0);
C.data=g.Gt.xn(S,B,this.yW.J());this.close();this.c(C)};ak.prototype.sc=function(Z,m){this._D.f(new aS(Z.e,Z.n),Z.wd);
this._D.Ri()};function bB(){dg.call(this,[11,4],"duplinto");this.Lw=null;this.rv=null;this.GO=null;var Z=J.L("div","form");
Z.setAttribute("style","max-width:26em");this.body.appendChild(Z);this.ey=new fH([12,43],["abc","def"]);
this.ey.h(_.E.o,this.rc,this);Z.appendChild(this.ey.m);J.ed(Z);this.$x=new fH("Artboard",["abc","def"]);
this.$x.h(_.E.o,this.rc,this);Z.appendChild(this.$x.m);J.ed(Z);this.EY=new ec([12,48],null,14);Z.appendChild(this.EY.m);
this.DQ=J.Pu(this,Z)}bB.prototype=new dg;bB.prototype.nE=function(){return!0};bB.prototype.w=function(){dg.prototype.w.call(this);
this.DQ.w();this.ey.w();this.EY.w()};bB.prototype.rc=function(Z){if(Z&&Z.target==this.$x)return;var m=this.ey.J(),S=this.rv[m],B=this.Lw,C=S!=null&&S.add.artd!=null;
for(var q=0;q<B._.length;q++)if(B.g[B._[q]].add.artb)C=!1;this.EY.aR(m==this.rv.length);this.$x.aR(C);
if(C){var u=S.root.children,r=[],k=this.GO=[];for(var q=0;q<u.length;q++){var v=u[q].i;if(v.add.artb)r.push(v.getName());
k.push(u[q].index)}this.$x.Nw(r);this.$x.f(0)}else this.GO=null};bB.prototype.sc=function(Z,m,S){this.Lw=Z;
this.rv=S;this.EY.f(Z._.length==0?"Layer":Z.g[Z._[0]].getName());var B=[];for(var q=0;q<S.length;q++){var C=S[q].name;
B.push(C.length<30?C:C.slice(0,27)+"...")}B.push([11,7]);this.ey.Nw(B);this.ey.f(S.indexOf(Z));this.rc(null)};
bB.prototype.dQ=function(Z){var m=this.ey.J();if(m==this.rv.length){var S=new fl(this.EY.J()+".psd"),B=this.Lw.e,C=this.Lw.n,u=this.Lw.Ys();
if(u!=-1){var r=this.Lw.g[u].u1();B=r.e;C=r.n}S.e=B;S.n=C;S.buffer=l.U(S.e*S.n*4);var k=S.AB();k.Se("Background");
S.H_([k]);var v=new eY(_.E.W,!0);v.k0=!0;v.data={d:_.B.Yg,OB:S};this.c(v)}var e=this.Lw.uO(null,this.Lw!=this.rv[m]),v=new eY(_.E.Y,!0);
v.data={d:w.k4,g:e,Si:this.Lw,XC:this.rv[m]};if(this.GO)v.data.S$=this.GO[this.$x.J()];v.b=g.vJ;v.k0=!0;
this.c(v);this.close()};function ia(){dg.call(this,[1,9],"eassets");this._q=null;this.kg=null;var Z=J.L("div","form");
Z.setAttribute("style","width:32em");this.body.appendChild(Z);this.mR=J.L("span");Z.appendChild(this.mR);
J.ed(Z);this.iD=[new ae("Only layers / folders, whose name starts with \"-e-\""),new ae("Remove parts outside the canvas"),new ae("Trim transparent parts")];
for(var q=0;q<3;q++){var m=this.iD[q];m.f(!0);m.h(_.E.o,this.Po,this);Z.appendChild(m.m);J.ed(Z)}this.L7=new iF([12,14,0],["1x","2x","3x","4x"]);
this.L7.f([!0,!1,!1,!1]);Z.appendChild(this.L7.m);J.hx(Z);this.mq=["PNG","JPG","SVG"];this.Sv=new fH([12,50],this.mq);
this.Sv.h(_.E.o,this.anE,this);Z.appendChild(this.Sv.m);this.PY=new fY;Z.appendChild(this.PY.m);this.DQ=new dX([1,9],!0,null,!0);
this.DQ.h("click",this.dQ,this);Z.appendChild(this.DQ.m);this.h("closebtn",this.v5,this)}ia.prototype=new dg;
ia.prototype.anE=function(Z){this.PY.ahB(this.mq[this.Sv.J()],!1,!1,!1,this.kg.$G()!=null)};ia.prototype.v5=function(Z){this.kg=null};
ia.prototype.w=function(){dg.prototype.w.call(this);this.Sv.w();this.L7.w();this.DQ.w();this.PY.w()};
ia.prototype.sc=function(Z,m,S){this.kg=Z;this.Po()};ia.prototype.Po=function(Z){var m=this.a2k(),S="- - - "+m.length+" exportable layers";
this.mR.textContent=S;this.anE(null)};ia.prototype.a2k=function(){var Z=this.iD[0].J(),m=[],S=this.kg;
for(var q=0;q<S.g.length;q++){var B=S.g[q],C=B.getName();if(!Z&&!B.O1()&&!B.rect.Ov()||C.startsWith("-e"))m.push(q)}return m};
ia.prototype.C7=function(Z,m){this._q=Z};ia.prototype.dQ=function(Z){var m=this.kg,S=[this.mq[this.Sv.J()]],B=[this.PY.J()],C=this.L7.J(),u={},r={},k=this.a2k();
if(k.length==0){alert("No layers to export.");return}var v=[this.iD[1].J(),this.iD[2].J()];for(var q=0;
q<k.length;q++){var e=k[q],j=m.g[e],$=j.getName();if(r[$]!=null){r[$]++;$+=" "+r[$]}else r[$]=1;var U=j.tm();
j.p0(!0);for(var H=0;H<C.length;H++){if(!C[H])continue;var z=H+1,f=g.ho.jb(m,S,z,this._q,e,B,v);for(var D=0;
D<S.length;D++){var n=S[D],L=$.slice($.startsWith("-e-")?3:0)+(z==1?"":"-"+z+"x")+"."+n.toLowerCase();
if(f[D])u[L]=new Uint8Array(f[D])}}j.p0(U)}var a=UZIP.encode(u),F=new eY(_.E.W,!0);F.data={d:_.B.u2,data:a,name:"assets.zip"};
this.c(F)};function eJ(){dg.call(this,"Export Color Lookup Tables","exlut");this._q=null;this.kg=null;
var Z=J.L("div","form");Z.setAttribute("style","width:20em");this.body.appendChild(Z);this.iD=[new gH("Grid Points",1,256),new g6([12,50],[".CUBE"])];
var m=[16,0];for(var q=0;q<this.iD.length;q++){var S=this.iD[q];S.f(m[q]);S.parent=this;S.h(_.E.o,this.Po,this);
Z.appendChild(S.m);J.ed(Z)}this.DQ=J.Pu(this,Z);this.h("closebtn",this.v5,this)}eJ.prototype=new dg;
eJ.prototype.DP=function(Z,m){if(Math.min(Z.e,Z.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(Z.g.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};eJ.prototype.v5=function(Z){this.kg=null};eJ.prototype.C7=function(Z,m){this._q=Z};
eJ.prototype.sc=function(Z,m,S){this.kg=Z};eJ.prototype.dQ=function(){var Z=this.kg,m=this.iD[0].J(),S=[],B=new bq(0,0,Z.e,Z.n),C=l.U(m*m*4),u=C.slice(0),r=new bq(Z.e-m>>>1,Z.n-m>>>1,m,m),k=Z.g[0],v=k.buffer,e=k.rect;
k.rect=r;k.buffer=C;for(var j=0;j<m;j++){this.a77(m,j,C);k.G(r);Z.G(r);var $=Z.Jy();l.pY($,B,u,r);for(var U=0;
U<m;U++)for(var H=0;H<m;H++){var z=U*m+H<<2;S.push(u[z]/255,u[z+1]/255,u[z+2]/255)}}var f=i$.aml(S,m,Z.name);
dN.save(f,Z.name.split(".")[0]+".CUBE");k.buffer=v;k.rect=e;k.G();Z.G()};eJ.prototype.a77=function(Z,m,S){var B=255/(Z-1),C=Math.round(m*B);
for(var u=0;u<Z;u++)for(var r=0;r<Z;r++){var k=u*Z+r<<2;S[k]=Math.round(r*B);S[k+1]=Math.round(u*B);
S[k+2]=C;S[k+3]=255}};eJ.prototype.w=function(){dg.prototype.w.call(this);for(var q=0;q<this.iD.length;
q++)this.iD[q].w();this.DQ.w()};function cR(){dg.call(this,[1,14],"finfo");this.I3=null;this.kD=null;
this.x5=null;this.YF=J.L("div","form scrollable label12");this.YF.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.YF);var Z=J.L("div","form");this.body.appendChild(Z);this.YC=new fH(null,["Hello"]);
Z.appendChild(this.YC.m);this.aqJ=new dX("Add Parameter",!1,null,!0);Z.appendChild(this.aqJ.m);this.aqJ.h("click",this.lY,this);
this.lx=new dX("=== S A V E ===",!1,null,!0);Z.appendChild(this.lx.m);this.lx.h("click",this.Zs,this);
this.a9N=""}cR.prototype=new dg;cR.prototype.ya=function(Z,m){return Z<450||m<450?new aS(0,0):new aS(150,100)};
cR.prototype.lY=function(Z){if(this.x5.length==0)return;var m=this.x5[this.YC.J()],S=this.US();S[m]=i2.zf[m][0];
this.a_(S);this.kD[m].m.scrollIntoView();this.kD[m].Ri()};cR.prototype.He=function(Z){var m=this.US();
delete m[Z.currentTarget.a7S];this.a_(m)};cR.prototype.Zs=function(Z){var m=this.US(),S=this.I3,B=!0;
for(var C in S)if(JSON.stringify(S[C])!=JSON.stringify(m[C]))B=!1;for(var C in m)if(JSON.stringify(S[C])!=JSON.stringify(m[C]))B=!1;
if(B)return;var u=new eY(_.E.Y,!0);u.b=g.vJ;u.data={d:w.$Q,zY:m};this.c(u);this.I3=m;this.a_(m)};cR.atx=function(Z){function m(C){var u=C.toLowerCase();
return C==u}var S=Z.split(":").pop();for(var B=1;B<S.length-1;B++){if(S[B]==S[B].toUpperCase()&&(m(S[B+1])||m(S[B-1]))){S=S.slice(0,B)+" "+S.slice(B);
B++}}return S};cR.prototype.sc=function(Z,m){this.I3=Z.d_;this.a_(Z.d_)};cR.prototype.a_=function(Z){var m=this.YF,C=0;
J.uq(m);var S=this.kD={},B=["tiff","exif","exif:GPS"],u=this.x5=[],r=[];for(var k in i2.zf){var v=cR.atx(k),e=0,j=15,$=null;
if(Z[k]==null){if(i2.zf[k].length!=1||k=="photoshop:Credit"||k=="photoshop:Source"){u.push(k);r.push(v)}continue}for(var q=0;
q<B.length;q++)if(k.startsWith(B[q]))e=q;if(e!=C){J.hx(m);C=e}if(k=="tiff:ImageDescription"||k=="dc:Keywords"){j=18.5;
$=3}var U=new ec(v,null,j,$);S[k]=U;var H=Z[k];if(H instanceof Array)H=H[1]==0?"---":H[0]+"/"+H[1];var z=new dX("\u2716",null,iD.get([5,4]));
m.appendChild(z.m);z.h("click",this.He,this);z.a7S=k;U.f(H);m.appendChild(U.m);J.ed(m);if(k=="exif:GPSLongitude"&&Z["exif:GPSLatitude"]){this.a9N=cR.apF(Z["exif:GPSLatitude"])+","+cR.apF(Z["exif:GPSLongitude"]);
var f=new dX("Show on map",!1,null,!0);m.appendChild(f.m);J.ed(m);f.h("click",this.a6w,this)}}this.YC.Nw(r);
this.YC.f(0)};cR.prototype.US=function(){var Z=this.kD,m=i2.zf,S={};for(var B in m){var C=m[B][0],u=typeof C;
if(C==null||Z[B]==null)continue;var r=Z[B].J(),k="The value of \""+cR.atx(B)+"\" must ";if(u=="number"){r=parseFloat(r);
if(isNaN(r)){alert(k+"be a number.");r=C}}else if(C instanceof Array&&C.length==2){if(r.indexOf("/")==-1){alert(k+"be a fraction.");
r=C.slice(0)}else{r=r.split("/").map(parseFloat);if(isNaN(r[0])||isNaN(r[1])){r=C.slice(0)}}}S[B]=r}return S};
cR.apF=function(Z){var m=Z.length,S=Z.slice(0,m-1).split(",").map(parseFloat),B=Z.slice(m-1),C=S[0]+S[1]/60+S[2]/3600;
if(B!="N"&&B!="E")C=-C;return C};cR.prototype.a6w=function(Z){window.open("https://maps.google.com?q="+this.a9N,"Map")};
function fg(){dg.call(this,[11,5],"gradienteditor");this.LB=null;this.g2=null;this.Hz=null;this.ig=null;
this.x1=!1;this.jm=!1;this.RP=null;this.iu=null;this.cM=-1;this.Bo=-1;this.yJ=0;this.zA=this.Sz.bind(this);
this.JI=this.dI.bind(this);this.O=J.L("canvas");this.az=this.O.getContext("2d");this.O.setAttribute("style","display:block");
this.sD=null;J.Ew(this.O);J.BQ(this.O,this.d3.bind(this));this.pq=J.L("div","form");this.a6t=J.L("div");
this.EK=J.L("div","form");this.amK=J.L("div");this.Mx=new fH([12,44],[[15,10,0],[24,6]]);this.Mx.h(_.E.o,this.Gp,this);
this.body.appendChild(this.Mx.m);J.hx(this.body);var Z=this.pq;this.Pa=new gH([19,3,3],0,100,"%");this.Pa.h(_.E.o,this.Gp,this);
this.Pa.parent=this;Z.appendChild(this.Pa.m);J.ed(Z);this.sa=new ed([12,0]);Z.appendChild(this.sa.m);
this.Ry=J.L("div","bordered padded noalign");Z.appendChild(this.Ry);this.Qp=new gH([12,0],0,100,"%");
this.Qp.parent=this;this.Qp.h(_.E.o,this.Gp,this);this.Ry.appendChild(this.Qp.m);this.Es=new gH([12,40],0,100,"%");
this.Es.parent=this;this.Es.h(_.E.o,this.Gp,this);this.Ry.appendChild(this.Es.m);this.$W=new dX([5,4],!1,null,!0);
this.$W.h("click",this.arv,this);this.Ry.appendChild(this.$W.m);Z.appendChild(this.a6t);this.a2c=new ed([13,0]);
Z.appendChild(this.a2c.m);this.Pf=J.L("div","bordered padded noalign");Z.appendChild(this.Pf);this.uH=new fH([12,44],[[12,45],[12,46],[12,47]]);
this.uH.h(_.E.o,this.Gp,this);this.Pf.appendChild(this.uH.m);this.XA=new gl(!0);this.XA.parent=this;
this.XA.h(_.E.o,this.Gp,this);this.Pf.appendChild(this.XA.m);this.Tq=new gH([12,40],0,100,"%");this.Tq.parent=this;
this.Tq.h(_.E.o,this.Gp,this);this.Pf.appendChild(this.Tq.m);this.xA=new dX([5,4],!1,null,!0);this.xA.h("click",this.anx,this);
this.Pf.appendChild(this.xA.m);var Z=this.EK;this.jO=new gH("Roughness",0,100,"%");this.jO.h(_.E.o,this.Gp,this);
this.jO.parent=this;Z.appendChild(this.jO.m);Z.appendChild(this.amK);this.hA=new dX([25,1,2],!1,null,!0);
this.hA.h("click",this.Gp,this);Z.appendChild(this.hA.m);this.DQ=J.Pu(this);this.h("closebtn",this.AA,this)}fg.prototype=new dg;
fg.prototype.AA=function(Z){if(this.x1)this.ig(this.LB)};fg.prototype.w=function(){dg.prototype.w.call(this);
this.DQ.w();this.Pa.w();this.sa.w();this.a2c.w();this.$W.w();this.xA.w();this.Qp.w();this.Es.w();this.uH.w();
this.Tq.w();this.hA.w()};fg.prototype.C7=function(Z,m){this.Hz=Z};fg.prototype.sc=function(Z,m){this.g2=JSON.parse(JSON.stringify(m.X));
this.LB=JSON.parse(JSON.stringify(m.X));this.RP=this.iu=null;this.ig=m.mm;this.x1=!1;this.jm=m.Is;this.os();
this.I4()};fg.prototype.dQ=function(Z){var m=this.g2;this.ig(m);this.close()};fg.prototype.ar=function(Z){return Z==iZ.bK||Z==iZ.cE};
fg.prototype._s=function(Z,m,S,B){if(B.j(iZ.bK)||B.j(iZ.cE)){if(this.iu)this.arv();if(this.RP)this.anx()}};
fg.prototype.arv=function(Z){var m=this.g2.Trns.v;if(this.iu==null||m.length==1)return;m.splice(m.indexOf(this.iu),1);
this.iu=null;this.os();this.I4()};fg.prototype.anx=function(Z){var m=this.g2.Clrs.v;if(this.RP==null||m.length==1)return;
m.splice(m.indexOf(this.RP),1);this.RP=null;this.os();this.I4()};fg.prototype.os=function(){var Z=this.O,m=this.az,S=J.F();
Z.width=Math.floor(410*S);Z.height=Math.floor(70*S);J.Lk(Z,Z.width,Z.height);Z.style.marginTop="8px";
this.sD=new bq(0,0,Math.floor(380*S),Math.floor(32*S));this.sD.x=Math.floor((Z.width-this.sD.e)/2);this.sD.y=Math.floor((Z.height-this.sD.n)/2);
var B=this.sD,C=B.e,u=B.n,r=B.x,k=B.y,v=new bq(0,0,C,u),e=m.getImageData(0,0,C,u),j=new Uint8Array(e.data.buffer);
l.AN(j,C,u,8);var $=l.U(C*u*4);l.X.pp(this.g2,$,v,[1/C,0,0,1/u],C/2,u/2,!1,0,this.Hz.Nx,this.Hz.ZN);
l.a.qn("norm",$,B,j,B,B,1);m.clearRect(0,0,Z.width,Z.height);m.putImageData(e,r,k);var U=this.g2;if(U.Clrs){var H=U.Trns.v,z=U.Clrs.v,f=l.X._g(z,this.Hz.Nx,this.Hz.ZN),D=Math.round(6*J.F()),n=Math.round(14*J.F()),L=this.iu?this.iu.v:null,a=this.RP?this.RP.v:null;
for(var q=0;q<H.length;q++){var F=H[q].v,A=Math.round(255-255*F.Opct.v.val/100);if((F==L||H[q-1]&&H[q-1].v==L||q==this.Bo)&&q!=0){m.fillStyle="#000000";
m.fillRect(r-3+C*(H[q-1].v.Lctn.v+(F.Lctn.v-H[q-1].v.Lctn.v)*F.Mdpn.v/100)/4096,k-6-2,6,6)}if(F==L){m.fillStyle="#ffffff";
m.fillRect(r-D+C*(F.Lctn.v/4096)-2,k-2-n-2,2*D+4,n+4)}m.fillStyle="rgb("+A+","+A+","+A+")";m.fillRect(r-D+C*(F.Lctn.v/4096),k-2-n,2*D,n)}for(var q=0;
q<z.length;q++){var T=z[q].v,P=f[q];if((T==a||z[q-1]&&z[q-1].v==a||q==this.cM)&&q!=0){m.fillStyle="#000000";
m.fillRect(r-3+C*(z[q-1].v.Lctn.v+(T.Lctn.v-z[q-1].v.Lctn.v)*T.Mdpn.v/100)/4096,k+u+2,6,6)}if(T==a){m.fillStyle="#ffffff";
m.fillRect(r-D+C*(T.Lctn.v/4096)-2,k+u+2-2,2*D+4,n+4)}m.fillStyle="rgb("+Math.round(P.I)+", "+Math.round(P.z)+","+Math.round(P.S)+")";
m.fillRect(r-D+C*(T.Lctn.v/4096),k+u+2,2*D,n)}}if(this.jm){this.ig(this.g2);this.x1=!0}};fg.prototype.I4=function(){var Z=this.g2,m=Z.Clrs?0:1;
this.Mx.f(m);if(J.Qt(this.pq))this.body.removeChild(this.pq);if(J.Qt(this.EK))this.body.removeChild(this.EK);
(m==0?this.a6t:this.amK).appendChild(this.O);if(m==0){this.body.appendChild(this.pq);this.Pa.f(Math.round(100*Z.Intr.v/4096));
var S=Z.Trns.v,B=Z.Clrs.v,C=this.iu!=null,u=this.Bo!=-1;this.Qp.aR(C);this.Es.aR(C||u);this.$W.aR(C);
if(C){this.Ry.setAttribute("style","");var r=this.iu.v;this.Es.f(Math.round(100*r.Lctn.v/4096));this.Qp.f(r.Opct.v.val)}if(u)this.Es.f(S[this.Bo].v.Mdpn.v);
var C=this.RP!=null,u=this.cM!=-1;this.uH.aR(C);this.XA.aR(C);this.Tq.aR(C||u);this.xA.aR(C);if(C){this.Pf.setAttribute("style","");
var k=this.RP.v;this.Tq.f(Math.round(100*k.Lctn.v/4096));var v=k.Type.v.Clry;this.uH.f(["FrgC","BckC","UsrS"].indexOf(v));
if(v=="FrgC")this.XA.yz(this.Hz.Nx);if(v=="BckC")this.XA.yz(this.Hz.ZN);if(v=="UsrS")this.XA.f(k.Clr.v)}if(u)this.Tq.f(B[this.cM].v.Mdpn.v)}else{this.body.appendChild(this.EK);
this.jO.f(Math.round(100*Z.Smth.v/4096))}this.body.appendChild(this.DQ.m)};fg.prototype.Gp=function(Z){var m=this.g2,S=m.Clrs?0:1;
if(Z.target==this.Mx){var B=S==0?JSON.parse(fp.p5.aim).v:bS.ej("grdm").Grad.v;this.g2=B;this.I4();this.os();
return}if(S==0){m.Intr.v=Math.round(4096*this.Pa.J()/100);var C=m.Trns.v,u=m.Clrs.v;if(this.iu!=null){var r=this.iu.v;
r.Lctn.v=Math.round(4096*(this.Es.J()/100));r.Opct.v.val=this.Qp.J()}if(this.RP!=null){var k=this.RP.v;
k.Lctn.v=Math.round(4096*(this.Tq.J()/100));if(Z.target==this.XA)this.uH.f(2);var v=this.uH.J();k.Type.v.Clry=["FrgC","BckC","UsrS"][v];
if(v==2)k.Clr={t:"Objc",v:this.XA.J()};else if(k.Clr)delete k.Clr}if(this.Bo!=-1)C[this.Bo].v.Mdpn.v=this.Es.J();
if(this.cM!=-1)u[this.cM].v.Mdpn.v=this.Tq.J()}else{m.Smth.v=Math.round(4096*this.jO.J()/100);if(Z.target==this.hA)m.RndS.v=Math.floor(Math.random()*4294967295)}this.os()};
fg.prototype.d3=function(Z){var m=J.W7(Z,this.O),S=this.sD,B=(m.x*J.F()-S.x)/S.e,C=(m.y*J.F()-S.y)/S.n,u=this.g2.Trns.v,r=this.g2.Clrs.v,k=null,v=null,e=-1,j=-1;
if(C<1)for(var q=0;q<u.length;q++){var $=u[q].v;if(Math.abs($.Lctn.v/4096-B)<.02)k=u[q];if(q>0)if(Math.abs((u[q-1].v.Lctn.v+($.Lctn.v-u[q-1].v.Lctn.v)*$.Mdpn.v/100)/4096-B)<.01)e=q}if(C>0)for(var q=0;
q<r.length;q++){var U=r[q].v;if(Math.abs(U.Lctn.v/4096-B)<.02)v=r[q];if(q>0)if(Math.abs((r[q-1].v.Lctn.v+(U.Lctn.v-r[q-1].v.Lctn.v)*U.Mdpn.v/100)/4096-B)<.01)j=q}if(v==null&&k==null&&e==-1&&j==-1){if(C<0){var $={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
$.v.Lctn.v=Math.round(B*4096);u.push($);u.sort(this.jB);k=$}if(C>1){var r=this.g2.Clrs.v,H=l.X._g(r,this.Hz.Nx,this.Hz.ZN),z=l.X.UA(this.g2,H,B),U={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:l.X.M1({I:z&255,z:z>>8&255,S:z>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
U.v.Lctn.v=Math.round(B*4096);r.push(U);r.sort(this.jB);v=U}}if(v!=null)j=-1;if(k!=null)e=-1;if(v!=null||k!=null||e>-1||j>-1){this.iu=k;
this.RP=v;this.Bo=e;this.cM=j;this.I4();this.os();J.Od(window,this.zA);J.qq(window,this.JI)}};fg.prototype.Sz=function(Z){var m=J.W7(Z,this.O),S=this.sD,B=(m.x*J.F()-S.x)/S.e,C=(m.y*J.F()-S.y)/S.n;
B=Math.max(0,Math.min(1,B));var u=this.g2.Trns.v,r=this.g2.Clrs.v;if(this.iu!=null){var k=this.iu.v;
k.Lctn.v=Math.round(4096*B);var v=u.indexOf(this.iu);if(v!=-1&&C<-1&&u.length>1)u.splice(v,1);if(v==-1&&C>-1)u.push(this.iu);
u.sort(this.jB)}if(this.RP!=null){var e=this.RP.v;e.Lctn.v=Math.round(4096*B);var j=r.indexOf(this.RP);
if(j!=-1&&C>2&&r.length>1)r.splice(j,1);if(j==-1&&C<2)r.push(this.RP);r.sort(this.jB)}if(this.Bo>-1){var k=u[this.Bo].v;
k.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(B*4096-u[this.Bo-1].v.Lctn.v)/(k.Lctn.v-u[this.Bo-1].v.Lctn.v))))}if(this.cM>-1){var e=r[this.cM].v;
e.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(B*4096-r[this.cM-1].v.Lctn.v)/(e.Lctn.v-r[this.cM-1].v.Lctn.v))))}if(this.iu!=null||this.RP!=null||this.Bo>-1||this.cM>-1){this.I4();
this.os()}};fg.prototype.dI=function(Z){J.N3(window,this.zA);J.e6(window,this.JI);if(Date.now()-this.yJ<300){if(this.cM!=-1||this.Bo!=-1){var m=(this.cM!=-1?this.g2.Clrs.v[this.cM]:this.g2.Trns.v[this.Bo]).v;
m.Mdpn.v=50;this.I4();this.os()}else if(this.RP!=null)this.XA.a5V()}this.yJ=Date.now()};fg.prototype.jB=function(Z,m){return Z.v.Lctn.v-m.v.Lctn.v};
function ee(){dg.call(this,[11,10],"isize");this.YF=J.L("div","form");this.YF.setAttribute("style","width:20em");
this.body.appendChild(this.YF);this._D=new hs(!0,!0,null,null,!0);this.YF.appendChild(this._D.m);this.Al=new ae([12,25,3]);
this.Al.f(!0);this.YF.appendChild(this.Al.m);this.Al.h(_.E.o,this.a4E,this);this.rQ=new fH([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.rQ.f(1);this.YF.appendChild(this.rQ.m);this.DQ=J.Pu(this,this.body)}ee.prototype=new dg;ee.prototype.DP=function(Z,m){return Z!=null};
ee.prototype.nE=function(){return!0};ee.prototype.a4E=function(Z){var m=this.Al.J(),S=this._D,B=this.rQ;
if(m)B.un();else B.ep();if(m)S.a1$();else S.au1()};ee.prototype.w=function(){dg.prototype.w.call(this);
this.DQ.w();this.rQ.w();this._D.w()};ee.prototype.dQ=function(Z){this.close();var m=this._D.J(),S=m.x,B=m.y,C=this.rQ.J();
if(!this.Al.J())C=null;var u=new eY(_.E.lX,!0);u.data=g.Gt.HL(S,B,this._D.nN(),C);this.c(u)};ee.prototype.sc=function(Z,m){this._D.f(new aS(Z.e,Z.n),Z.wd);
this._D.Ri()};function eG(){dg.call(this,"Import RAW","importraw");var Z=J.L("div","flexrow"),m=J.L("div");
m.setAttribute("style","margin-bottom: 1em");this.body.appendChild(Z);this.body.appendChild(m);var S=J.L("div","form");
S.setAttribute("style","width:18em");Z.appendChild(S);var B=J.L("div","form");B.setAttribute("style","width:15em");
Z.appendChild(B);this.XQ=null;this.a6P=null;this.uV=null;this.uZ=null;this.amN=[];var C=[];for(var q=0;
q<eG.uy.length;q++)C.push(eG.uy[q]+" Bits");var u=this.X5=[new hs(!0,null,null,!0),new gH([12,72],1,8),new ae("Last one is Transparency"),new g6([12,34],C),new g6("Byte Order",["12-34","34-12"]),new fH("Guesses",[])];
for(var q=0;q<u.length;q++){var r=u[q];r.parent=this;r.h(_.E.o,q==5?this.a8q:this.rc,this);var k=q==0?S:q==5?m:B;
k.appendChild(r.m)}this.O=J.L("canvas");this.az=this.O.getContext("2d");this.body.appendChild(this.O);
this.DQ=J.Pu(this,this.body)}eG.prototype=new dg;eG.prototype.w=function(){dg.prototype.w.call(this);
var Z=this.X5;this.DQ.w();for(var q=0;q<Z.length;q++)Z[q].w()};eG.prototype.dQ=function(Z){this.close();
var m=this.X5[0].J(),S=e2.h9(this.a6P,[{data:this.uV,cR:new bq(0,0,m.x,m.y)}]);if(this.uZ)S.Xz=this.uZ;
var B=new eY(_.E.W,!0);B.data={d:!0?_.B.Yg:_.B.xl,OB:S};this.c(B)};eG.uy=[8,16];eG.prototype.sc=function(Z,m){this.XQ=new Uint8Array(m.wB);
this.a6P=m.qw;var S=this.XQ.length,B=[1,3,4],C=0,u=0,r=1,k=1,v=this.amN=[];for(var e=0;e<3;e++){for(var j=0;
j<2;j++){var $=eG.uy[j],U=B[e],H=U*$,z=Math.round(S*8/H);if(z!=S*8/H)continue;for(var f=0;f<=4e3;f++)for(var D=0;
D<=4e3;D++)if(f*D==z){var n=0;if(f==D)n+=64;if(Math.round(f/100)==f/100&&Math.round(D/100)==D/100)n+=32;
if(Math.round(f/10)==f/10&&Math.round(D/10)==D/10)n+=16;if(Math.round(f/2)==f/2&&Math.round(D/2)==D/2)n+=8;
v.push([f,D,U,$,n])}}}var L=function(T,P){if(P[4]!=T[4])return P[4]-T[4];var Y=Math.max(T[0],T[1])/Math.min(T[0],T[1]),Q=Math.max(P[0],P[1])/Math.min(P[0],P[1]);
if(Y!=Q)return Y-Q;return P[0]-T[0]};v.sort(L);var a=this.X5,F=[];for(var q=0;q<v.length;q++){var A=v[q];
F.push(A[0]+" x "+A[1]+", "+A[2]+"ch, "+A[3]+"-bit")}a[5].Nw(F);a[5].f(0);this.a8q(null)};eG.prototype.a8q=function(Z){var m=this.X5,S=this.amN[this.X5[5].J()];
m[0].f(new aS(S[0],S[1]),72);m[1].f(S[2]);m[3].f(eG.uy.indexOf(S[3]));this.rc()};eG.prototype.rc=function(Z){var m=this.X5,S=m[0].J(),B=S.x,C=S.y,u=eG.uy[m[3].J()],r=this.XQ;
if(u==16&&m[4].J()==1){r=r.slice(0);for(var q=0;q<r.length;q+=2){var k=r[q];r[q]=r[q+1];r[q+1]=k}}var v=this.uV=this.af(r,B,C,m[1].J(),u,m[2].J()),e=this.O,j=this.az,$=[v,new bq(0,0,B,C)];
l.io($);for(var q=0;q<$.length;q+=2)if($[q+1].n<300){v=$[q];B=$[q+1].e;C=$[q+1].n;break}e.width=B;e.height=C;
J.Lk(e,B,C);var U=new ImageData(new Uint8ClampedArray(v.buffer),B,C);j.putImageData(U,0,0)};eG.prototype.af=function(Z,m,S,B,C,u){this.uZ=null;
var r=[],k=m*S;for(var v=0;v<B;v++){var e=l.U(k);r.push(e);if(C==8)for(var q=0;q<k;q++)e[q]=Z[q*B+v];
else if(C==16)for(var q=0;q<k;q++)e[q]=Math.round((Z[(q*B+v)*2]<<8|Z[(q*B+v)*2+1])*(255/65535))}var j=l.U(k*4);
new Uint32Array(j.buffer).fill(4278190080);if(u){l.cN(r.pop(),j,3);B--}if(B==0){}else if(B==1)l.Dc(r[0],j);
else{l.cN(r[0],j,0);l.cN(r[1],j,1);if(B>2){l.cN(r[2],j,2);if(B>3){this.uZ=[];for(var q=3;q<B;q++){var $=new w.Ga;
$.name="Alpha "+(q-2);$.rect=new bq(0,0,m,S);$.channel=r[q];this.uZ.push($)}}}}return j};function iR(Z,m,S){aw.call(this);
this.m=J.L("div","");this.FI=Z;this.l$=null;this.TG=m==null?!1:m;this.tO=null;this.cS=S;this.$l=[];this.d5=[];
this.vk=[];this.VD=[];this.sN=0;this.l$=this.any(iR.VD[Z]);this.R$();this.Z2=null;this.a6G;this.agF}iR.prototype=new aw;
iR.prototype.kV=function(Z,m,S,B,C){this.Z2=C;this.a6G=JSON.parse(JSON.stringify(this.tO));if(this.l$.lagl)this.agF=this.l$.lagl.J()[0]};
iR.prototype.hJ=function(Z,m,S,B,C){var u=this.Z2,r=this.FI,k=this.a6G;if(u==null)return;var v=(C.x-u.x)/Z.s.R,e=(C.y-u.y)/Z.s.R;
if(r=="GrFl"){var j=JSON.parse(JSON.stringify(k.Ofst.v));j.Hrzn.v.val+=v*.5;j.Vrtc.v.val+=e*.5;this.l$.Ofst.f(j,!0)}if(r=="patternFill"){var j=JSON.parse(JSON.stringify(k.phase.v));
j.Hrzn.v+=v;j.Vrtc.v+=e;this.l$.phase.f(j,!0)}if(r=="DrSh"||r=="IrSh"||r=="ChFX"){var $=k.Dstn.v.val,U=this.agF*Math.PI/180,H=-Math.cos(U)*$+v,z=Math.sin(U)*$+e;
this.l$.Dstn.f(Math.sqrt(H*H+z*z),!0);this.l$.lagl.f([Math.atan2(z,-H)*180/Math.PI],!0)}};iR.prototype.qB=function(Z,m,S,B,C){this.Z2=null};
iR.prototype.a85=function(){for(var q=0;q<this.VD.length;q++){J.iB(this.VD[q],"selected");if(this.vk[q]instanceof ae)this.vk[q].f(!1)}};
iR.prototype.ama=function(Z){var m=this.a3s.bind(this);for(var q=0;q<this.vk.length;q++){var S=J.L("div","listitem");
this.VD.push(S);if(q>0)S.textContent="\u2003";S.appendChild(this.vk[q].m);if(fp.a5u.indexOf(this.FI)!=-1){var B=new dX("+");
B.HS();B.m.style.float="right";S.appendChild(B.m);var C=new dX("\u2B0D");C.HS();C.m.style.float="right";
C.m.style["margin-right"]="2px";S.appendChild(C.m)}S.addEventListener("click",m,!1);Z.appendChild(S)}};
iR.My=function(Z,m){var S=m.getBoundingClientRect();return(Z.clientY-S.top)/S.height};iR.prototype.a3s=function(Z){var m=Z.target.tagName.toLowerCase();
if(m=="input"){return}if(m=="button"){var S=new eY(_.E.Y,!0),B=Z.target.textContent=="+",C=B?0:iR.My(Z,Z.target)<.5?-1:1;
if(B)S.data={d:"st_dupsingle",i:this.parent.data.i,$I:this.cS};else S.data={d:"st_movsingle",i:this.parent.data.i,$I:this.cS,a3S:C};
S.b=g.oV;S.k0=!0;this.c(S);S=new eY("redrawall",!0);S.data={a3S:C};this.c(S);return}J.Tj(Z);this.FY();
this.sN=this.VD.indexOf(Z.currentTarget);this.c(new eY("showme"))};iR.prototype.FY=function(){if(this.l$.enab&&this.l$.enab.J()==!1)this.p2({yO:"enab",k:!0})};
iR.prototype.aii=function(){var Z=this.VD[this.sN];if(Z)J._A(Z,"selected");return this.d5[this.sN]};
iR.prototype.any=function(Z){var m={};for(var q=0;q<Z.length;q++){var S=Z[q],B=null;if(S=="----")B={m:J.L("hr")};
if(S=="\n")B={m:J.L("br")};if(S=="blOptions")B=new ed([14,10]);if(S=="brst")B=new iF([12,72],["R","G","B"]);
if(S=="knko")B=new fH("Knockout",[[13,1,0],"Shallow","Deep"]);if(S=="enab")B=new ae(fp.names[fp.order.indexOf(this.FI)]);
if(S=="lrMd"||S=="Md")B=new fH([12,19,0],d1.JN,!1,d1.L4);if(S=="Opct")B=new jE([12,0],0,100,"%");if(S=="iOpa")B=new jE([12,26],0,100,"%");
if(S=="blIf")B=new fm;if(S=="ShdN")B=new jE([12,68],0,100,"%");if(S=="lagl"||S=="Angl")B=new iK([12,15],this.FI=="ebbl");
if(S=="uglg")B=new ae([12,27]);if(S=="Dstn")B=new jE([12,28],0,200,"px");if(S=="Ckmt")B=new jE([12,29],0,100,"%");
if(S=="blur")B=new jE([12,14,0],0,200,"px");if(S=="TrnS"||S=="MpgS")B=new hg([12,21]);if(S=="Nose")B=new jE([12,30],0,100,"%");
if(S=="layerConceals")B=new ae([12,31]);if(S=="AntA"||S=="antialiasGloss")B=new ae([12,25,1]);if(S=="GlwT")B=new fH([12,32],fp.Zg.names);
if(S=="glwS")B=new fH([12,70],fp.Zg.aqa);if(S=="Inpr")B=new jE([12,12],1,100,"%");if(S=="bvlS")B=new fH([12,22],fp.sy.style);
if(S=="bvlT")B=new fH([12,32],fp.sy.aty);if(S=="bvlD")B=new fH(null,fp.sy.dir);if(S=="srgR")B=new jE([12,34],0,1e3,"%");
if(S=="Sftn")B=new jE([12,35],0,20,"px");if(S=="Lald")B=m.lagl;if(S=="hglM"||S=="sdwM")B=new fH([12,36],d1.JN,!1,d1.L4);
if(S=="hglC"||S=="sdwC")B=new gl;if(S=="hglO"||S=="sdwO")B=new jE([12,0],0,100,"%");if(S=="Invr"||S=="InvT")B=new ae([4,11]);
if(S=="Sz")B=new jE([12,14,0],1,200,"px");if(S=="Styl")B=new fH([12,40],fp.stroke.names);if(S=="PntT")B=new fH([12,66],fp.stroke.akp);
if(S=="Clr")B=new gl(!0);if(S=="Grad"){B=new hW(!0,[12,37],!0);B.f(JSON.parse(fp.p5.a1n).v)}if(S=="Rvrs")B=new ae([12,23,0]);
if(S=="Dthr")B=new ae([12,23,3]);if(S=="Type")B=new fH([12,22],fp.X.names.slice(0,this.FI=="FrFX"?6:5));
if(S=="Ptrn")B=new au([12,62]);if(S=="Scl")B=new jE([12,38],10,500,"%",0,!0);if(S=="Algn")B=new ae([12,39]);
if(S=="Ofst")B=new de(!0);if(S=="phase")B=new de(!1);if(S=="useShape")B=new ae([12,21]);if(S=="useTexture")B=new ae([12,67]);
if(S=="textureDepth")B=new jE([12,34],-300,300,"%");var C=S=="----"||S=="\n"?S+q:S;if(B!=null)m[C]=B}return m};
iR.prototype.anz=function(Z){var m=this.d5[this.sN];for(var q=0;q<Z.length;q++){var S=this.l$[Z[q]];
if(S&&m.contains(S.m))m.removeChild(S.m)}};iR.prototype.alH=function(Z){var m=this.d5[this.sN];for(var q=0;
q<Z.length;q++){var S=this.l$[Z[q]];if(S&&!m.contains(S.m))m.appendChild(S.m)}};iR.prototype.C7=function(Z,m){if(this.l$==null)return;
var S=m==bo.LE;if(this.l$.Grad){this.l$.Grad.lP(Z.Nx,Z.ZN);if(S||m==bo.HA||m==bo.td)this.l$.Grad.$q(Z.oi)}if(this.l$.Ptrn){if(S||m==bo.uN)this.l$.Ptrn.$q(Z.jx)}if(this.l$.TrnS){if(S||m==bo.le)this.l$.TrnS.$q(Z.Uv)}if(this.l$.MpgS){if(S||m==bo.le)this.l$.MpgS.$q(Z.Uv)}};
iR.prototype.w=function(){for(var q=0;q<this.$l.length;q++)this.$l[q].w();for(var Z in this.l$)if(this.l$[Z]instanceof aw)this.l$[Z].w()};
iR.prototype.R$=function(){for(var Z in this.l$){var m=this.l$[Z];m.parent=this;if(m instanceof aw)m.h(_.E.o,this.af0,this);
if(this.d5.length==0||Z=="useShape"||Z=="useTexture"){var S=new ed(m.alv()),B=J.L("div","bordered padded");
if(this.TG==!1){B.appendChild(S.m);B.appendChild(J.L("hr",""))}this.$l.push(S);this.d5.push(B);this.vk.push(m)}else this.d5[this.d5.length-1].appendChild(m.m)}};
iR.prototype.update=function(Z,m){if(this.l$==null)return;this.tO=JSON.parse(JSON.stringify(m));for(var S in m){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(S)!=-1)this.l$[S].f(m[S].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(S)!=-1){this.l$[S].f(m[S].v,Z)}if(["Md","hglM","sdwM"].indexOf(S)!=-1)this.l$[S].f(d1.FI.indexOf(m[S].v.BlnM));
if(S=="lrMd"){var B=(m.O1?[[15,10,27]]:[]).concat(d1.JN),C=(m.O1?[1]:[]).concat(d1.L4);this.l$[S].Nw(B,C);
this.l$[S].f(m[S].v)}if(S=="Angl")this.l$[S].f([m[S].v.val]);if(S=="lagl"){var u=m.uglg&&m.uglg.v?Z.mT():m.lagl.v.val;
this.l$[S].f([u])}if(S=="Lald"){var u=m.uglg&&m.uglg.v?Z.mH():m.Lald.v.val;this.l$[S].f([null,u])}if(S=="Type")this.l$[S].f(fp.X.types.indexOf(m.Type.v.GrdT));
if(S=="Styl")this.l$[S].f(fp.stroke.types.indexOf(m.Styl.v.FStl));if(S=="PntT"){var r=fp.stroke.cH.indexOf(m.PntT.v.FrFl);
this.l$[S].f(r);if(!this.TG){this.anz(fp.qc.concat(fp.mc.concat(fp.G3)));this.alH([fp.qc,fp.mc,fp.G3][r])}}if(S=="GlwT")this.l$[S].f(fp.Zg.types.indexOf(m.GlwT.v.BETE));
if(S=="glwS")this.l$[S].f(fp.Zg.akW.indexOf(m.glwS.v.IGSr));if(S=="bvlS")this.l$[S].f(fp.sy.types.indexOf(m.bvlS.v.BESl));
if(S=="bvlT")this.l$[S].f(fp.sy.a8L.indexOf(m.bvlT.v.bvlT));if(S=="bvlD")this.l$[S].f(["In","Out"].indexOf(m.bvlD.v.BESs))}};
iR.prototype.af0=function(Z){for(var m in this.l$){if(this.l$[m]!=Z.target)continue;var S=null,B=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(m)!=-1)S={type:"#Prc",val:Z.target.J()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(m)!=-1)S={type:"#Pxl",val:Z.target.J()};if(["Angl","lagl"].indexOf(m)!=-1)S={type:"#Ang",val:Z.target.J()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(m)!=-1)S=Z.target.J();
if(["Md","hglM","sdwM"].indexOf(m)!=-1)S={BlnM:d1.FI[Z.target.J()]};if(m=="uglg"){S=Z.target.J();B=!0}if(m=="PntT"){S={FrFl:fp.stroke.cH[Z.target.J()]};
B=!0}if(m=="Lald")S={type:"#Ang",val:Z.target.J()[1]};if(m=="Type")S={GrdT:fp.X.types[Z.target.J()]};
if(m=="Styl")S={FStl:fp.stroke.types[Z.target.J()]};if(m=="GlwT")S={BETE:fp.Zg.types[Z.target.J()]};
if(m=="glwS")S={IGSr:fp.Zg.akW[Z.target.J()]};if(m=="bvlS")S={BESl:fp.sy.types[Z.target.J()]};if(m=="bvlT")S={bvlT:fp.sy.a8L[Z.target.J()]};
if(m=="bvlD")S={BESs:["In","Out"][Z.target.J()]};this.p2({yO:m,k:S});if(B){if(this.TG)this.update(null,this.tO);
else{var C=this.parent,u=C.OB,r=this.cS,k=u.g[C.data.i].add.lmfx[fp.lg[r[0]]].v[r[1]].v;this.update(u,k)}}}};
iR.prototype.p2=function(Z){if(this.tO&&this.tO[Z.yO])this.tO[Z.yO].v=Z.k;if(this.TG){this.c(new eY(_.E.o))}else{Z.d="changeprop";
Z.i=this.parent.data.i;Z.lU=this.cS;var m=new eY(_.E.Y,!0);m.data=Z;m.b=g.oV;m.k0=!0;this.c(m);this.c(new eY("afterchange",!0))}};
iR.prototype.J=function(){return JSON.parse(JSON.stringify(this.tO))};iR.VD={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(fp.qc),GrFl:["enab","Md","Opct"].concat(fp.mc),patternFill:["enab","Md","Opct"].concat(fp.G3),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(fp.qc.concat(fp.mc.concat(fp.G3)))};
function ft(){dg.call(this,[11,6],"layerstyle");this.at5=-1;this.data={};this.OB=null;this._q=null;this.y0=[];
this.Fq=[];J._A(this.body,"flexrow");this.Xo=J.L("div","bordered");this.Xo.setAttribute("style","min-width:13em;");
this.body.appendChild(this.Xo);this.yR=J.L("div","");this.yR.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.yR);this.JA=J.L("div","form");this.JA.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.JA);this.DQ=J.Pu(this,this.JA);this.kb=new dX([12,87],!0,null,!0);this.kb.h("click",this.anl,this);
this.JA.appendChild(this.kb.m);this.D5=new hM;this.D5.parent=this;this.D5.h(_.E.o,this.a69,this);this.JA.appendChild(this.D5.m);
this.h("closebtn",this.AA,this);this.h("redrawall",this.aj_,this)}ft.prototype=new dg;ft.prototype.nE=function(){return!0};
ft.prototype.NM=function(){return!0};ft.prototype.kV=function(Z,m,S,B,C){var u=this.NO();if(u)u.kV(Z,m,S,B,C)};
ft.prototype.hJ=function(Z,m,S,B,C){var u=this.NO();if(u)u.hJ(Z,m,S,B,C)};ft.prototype.qB=function(Z,m,S,B,C){var u=this.NO();
if(u)u.qB(Z,m,S,B,C)};ft.prototype.NO=function(Z){if(Z==null)Z=this.data.index;return Z==null?null:Z==0?this.y0[0]:this.Fq[Z[0]][Z[1]]};
ft.prototype.a69=function(Z){var m=this.D5.J();this.p2({d:"setstl",k:m.lS});this.aj_(null)};ft.prototype.anl=function(Z){var m=this.OB,S=this.data.i;
if(S==null)S=m._[0];var B=this.OB.g[S],C=aK.alp(B),u=new eY(_.E.W,!0);u.data={d:_.B.L8,Wq:"add",Lh:bo.gw,ub:[JSON.parse(JSON.stringify(C))]};
this.c(u)};ft.prototype.ahV=function(Z){this.data.index=Z.currentTarget.cS;this.oO(Z.currentTarget.cS)};
ft.prototype.aj_=function(Z){this.sc(this.OB,this.data)};ft.prototype.oO=function(Z,m){J.uq(this.yR);
for(var q=0;q<this.y0.length;q++)this.y0[q].a85();var S=this.NO(Z);this.yR.appendChild(S.aii());if(m)S.FY();
var B=this.OB;if(B){var C=B.g[this.data.i];this.y0[0].update(B,g.w3.By(B,C));var u=C.add.lmfx;if(u==null)return;
for(var q=0;q<fp.order.length;q++){var r=u[fp.lg[q]].v;for(var k=0;k<r.length;k++)this.Fq[q][k].update(B,r[k].v)}}if(m)S.FY()};
ft.prototype.w=function(){dg.prototype.w.call(this);this.kb.w();this.D5.w();this.DQ.w();for(var q=0;
q<this.y0.length;q++)this.y0[q].w()};ft.prototype.sc=function(Z,m){var S=m.i==null;this.data.i=m.i;this.data.index=m.index;
m=this.data;this.OB=Z;if(S)m.i=Z._.length==0?Z.g.length-1:Z._[0];J.uq(this.Xo);var B=Z.g[m.i].add.lmfx;
this.R6();this.y0=[new iR("bops",!1,0)];this.Fq=[];for(var q=0;q<fp.order.length;q++){this.Fq.push([]);
var C=B==null?[]:B[fp.lg[q]].v;for(var u=0;u<C.length;u++){var r=new iR(fp.order[q],!1,[q,u]);this.y0.push(r);
this.Fq[q].push(r)}if(C.length==0){var r=new iR(fp.order[q],!1,[q,0]);this.y0.push(r);this.Fq[q].push(r)}}this.w();
this.ahM(this._q,bo.LE);for(var q=0;q<this.y0.length;q++){this.y0[q].parent=this;this.y0[q].ama(this.Xo);
this.y0[q].h("showme",this.ahV,this)}if(m.index==null||m.index==0||!S&&B[fp.lg[m.index[0]]].v.length==0){this.oO(0)}else this.oO(m.index,S);
this.h("afterchange",this.R6,this)};ft.prototype.R6=function(Z){var m=this.OB,S=this.data.i;if(S==null)S=m._[0];
var B=this.OB.g[S],C=aK.alp(B);this.D5.f(C,m.add.Patt?m.add.Patt:[],m.mT(),m.mH())};ft.prototype.C7=function(Z,m){this._q=Z;
this.ahM(Z,m);if(m==bo.gw||m==bo.LE){this.D5.$q([Z.Py,Z.jx])}if(m==bo.w8){}};ft.prototype.ahM=function(Z,m){for(var q=0;
q<this.y0.length;q++)this.y0[q].C7(Z,m)};ft.prototype.AA=function(Z){this.p2({d:"cancel"})};ft.prototype.dQ=function(Z){this.p2({d:"confirm"});
this.close()};ft.prototype.p2=function(Z){Z.i=this.data.i;var m=new eY(_.E.Y,!0);m.data=Z;m.b=g.oV;m.k0=!0;
this.c(m);this.R6()};ft.nt=function(Z){var m=[{name:[14,10],Jb:!0}];for(var q=0;q<fp.names.length;q++)m.push({name:fp.names[q]});
if(Z){m[m.length-1].Jb=!0;m.push({name:"Scale Effects",K:function(S){return{K:S!=null&&S._.length!=0&&S.g[S._[0]].MM()}}});
m.push({name:["VAR0 VAR1",[12,49],[9,1]],K:function(S){return{K:S!=null&&S._.length!=0&&S.g[S._[0]].add.lmfx!=null}}})}return m};
ft.Kv=function(Z){var m=[{T:_.E.W,V:{d:_.B.Me,ct:"layerstyle"}}];for(var q=0;q<fp.names.length;q++)m.push({T:_.E.W,V:{d:_.B.Me,ct:"layerstyle",index:[q,0]}});
if(Z){m.push({T:_.E.W,V:{d:_.B.Me,ct:"scaleeffects",RL:100,Qd:{T:_.E.Y,b:g.oV,V:{d:"scaleeffects"}}}});
var S={classID:"Mk",null:hX.NN("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
m.push({T:_.E.lX,V:{CE:"make",Oz:S}})}return m};ft.a0Y=function(Z){var m=[];if(Z)m.push({name:[6,48,0,0],On:!0},{name:[6,48,0,1],On:!0},{name:[6,48,0,2],On:!0,Jb:!0});
for(var S in e$.names)m.push({name:e$.names[S],Jb:e$.o_.indexOf(S)!=-1,On:s[S]!=null});return m};ft.PH=function(Z){var m=[];
if(Z){m.push({T:_.E.Y,b:g.bu,V:{d:"newfill",If:0}});for(var q=1;q<3;q++)m.push({T:_.E.lX,V:g.h_.GZ(q)})}for(var S in e$.names){var B=bS.ej(S);
if(B==null)B={};for(var C in e$.Nn)if(e$.Nn[C]==S)B.classID=C;var u={CE:"make",Oz:{classID:"Mk",null:hX.NN("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:B}}}}};
m.push({T:_.E.lX,V:u})}return m};function c8(){dg.call(this,"Merge Channels","mergechannels");this.DJ=null;
var Z=J.L("div","form");this.body.appendChild(Z);this.X5=[];for(var q=0;q<3;q++){var m=new fH(e$.sp[q],[]);
this.X5.push(m);Z.appendChild(m.m);J.ed(Z)}this.DQ=J.Pu(this,Z)}c8.prototype=new dg;c8.prototype.w=function(){dg.prototype.w.call(this);
this.DQ.w();for(var q=0;q<3;q++)this.X5[q].w()};c8.prototype.sc=function(Z,m,S,B){this.DJ=S;var C=[];
for(var q=0;q<S.length;q++)C.push(S[q].name);for(var q=0;q<3;q++){var u=this.X5[q];u.Nw(C);u.f(Math.min(q,S.length-1))}};
c8.prototype.dQ=function(Z){var m=this.DJ,S=m[0],B=new eY(_.E.lX,!0);B.data=fl.Du(S.e,S.n,S.wd,"Merged Document","Wht",!1);
this.c(B);var C=[];for(var q=0;q<3;q++)C.push(m[this.X5[q].J()].Jy());var S=m[m.length-1],u=S.g[0],r=u.buffer;
for(var q=0;q<r.length;q+=4){r[q]=C[0][q];r[q+1]=C[1][q];r[q+2]=C[2][q]}u.G();S.G();this.close()};function hK(){dg.call(this,[1,10],"script");
var Z=J.L("div","form");Z.setAttribute("style","width:44em");this.body.appendChild(Z);this._q=null;this.D1=[];
this.R5=[];this.aao;var m=this.lx=new dX([1,2],!1,null,!0);m.h("click",this.Zs,this);Z.appendChild(m.m);
var S=new dX("JS Reference",!1,null,!0);S.h("click",this.aaF,this);Z.appendChild(S.m);Z.appendChild(new ed("Demos:").m);
this.a2M=[];var B=hK.od;for(var q=0;q<B.length;q++){var C=new dX(B[q].OL,!1,null,!0);this.a2M.push(C);
Z.appendChild(C.m);C.h("click",this.acr,this)}this.aA=J.L("textarea");J.m8(this.aA);this.aA.setAttribute("rows",16);
this.aA.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");Z.appendChild(this.aA);
var u=new dX("Run",!0,null,!0);u.h("click",this.dQ,this);Z.appendChild(u.m);this.a33=J.L("div");Z.appendChild(this.a33)}hK.prototype=new dg;
hK.prototype.w=function(){this.lx.w()};hK.prototype.Zs=function(){var Z=this.aao;if(Z==null)Z="script.jsx";
var m=new eY(_.E.W,!0);m.data={d:_.B.Me,ct:"namewindow",RL:Z.slice(0,Z.length-4),AZ:this.asO.bind(this)};
this.c(m)};hK.prototype.asO=function(Z){var m=this.aA.value,S=x.P8(m),B=new eY(_.E.W,!0);B.data={d:_.B.oB,wB:S.buffer,ra:Z+".jsx",a1Q:!0};
this.c(B)};hK.prototype.ams=function(Z){var q=this.D1.indexOf(Z.target),m=this.aao=this.R5[q],S=this._q.aW.KF[m],B=new Uint8Array(S),C=x.QN(B,0,B.length);
this.aA.value=C};hK.prototype.sc=function(Z,m,S){this.aA.value=hK.od[0].ND;this.atw()};hK.prototype.atw=function(){var Z=this._q.aW,m=this.a33;
J.uq(m);this.D1=[];this.R5=[];m.textContent="Saved scripts: ";for(var S in Z.KF){if(S.endsWith(".jsx")){var B=new dX(S,!1,null,!0);
this.D1.push(B);this.R5.push(S);B.h("click",this.ams,this);m.appendChild(B.m)}}};hK.prototype.C7=function(Z,m){this._q=Z;
if(m==bo.r5)this.atw()};hK.prototype.aaF=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.sR,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.c(m)};hK.prototype.dQ=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.x9,gQ:this.aA.value};this.c(m)};
hK.prototype.acr=function(Z){var m=this.a2M.indexOf(Z.currentTarget);this.aA.value=hK.od[m].ND};hK.od=[{OL:"Hello",ND:"\nalert(\"Hello Photopea!\");\n"},{OL:"Process Layers",ND:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{OL:"Clone Layers",ND:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function d_(){dg.call(this,[11,7],"newproject");this.data=null;this.DJ=null;var Z=J.L("div","flexrow");
this.QA=Z;this.body.appendChild(Z);var m=J.L("div","form");this.YF=m;Z.appendChild(m);this.EY=new ec([12,48],null,10);
m.appendChild(this.EY.m);J.ed(m);this._D=new hs(!0,null,null,null,!0);this._D.f(new aS(1280,720),72);
this._D.h(_.E.o,this.lW,this);m.appendChild(this._D.m);this.aeH=new fH("Profile",["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
m.appendChild(this.aeH.m);this.p4=new jV;this.p4.parent=this;m.appendChild(this.p4.m);this.Y$=new ae("Artboards");
m.appendChild(this.Y$.m);this.DQ=new dX([12,49],!0,null,!0);this.DQ.h("click",this.dQ,this);m.appendChild(this.DQ.m);
var S=d_.XQ,B=[];for(var q=0;q<S.length;q++)B.push(S[q].name);this.pv=new g6(null,B);this.pv.h(_.E.o,this.aec,this);
m.appendChild(this.pv.m);this.pv.m.style["margin-top"]="1em";this.YY=new gk(!0);this.YY.h(_.E.o,this.a0y,this);
m.appendChild(this.YY.m);this.aec();this.E3=new eM;this.E3.parent=this;this.E3.m.setAttribute("style","margin-left:1em");
this.E3.h("tempready",this.auO,this)}d_.prototype=new dg;d_.prototype.C7=function(Z,m){this.E3.C7(Z)};
d_.prototype.ya=function(Z,m){return new aS(Math.max(0,Math.min(70,(Z-690)/2)),Z>m?Math.max(0,Math.min(50,(m-400)/2)):0)};
d_.prototype.MY=function(Z,m){this.YF.setAttribute("style","width:"+Math.min(Z-24,338)+"px");this.YY.m.style.height=m-276+"px";
var S=this.E3.m,B=S.parentNode;if(Z<500){if(B!=null)this.QA.removeChild(S)}else{if(B==null)this.QA.appendChild(S);
this.E3.MY(Z-378,m-28)}};d_.prototype.lW=function(){this.E3.f(this._D.J())};d_.prototype.a0y=function(Z){var m=this.YY.J()[0],S=d_.XQ[this.pv.J()].ZX[m],B=S[4];
if(B==0)B=72;var C=S[1],u=S[2],r=["px","%","mm","in"].indexOf(S[3]),k=[1,1,25.4/B,1/B][r];C/=k;u/=k;
this._D.f(new aS(Math.round(C),Math.round(u)),B);this._D.amR(r);this.lW()};d_.prototype.aec=function(Z){var m=d_.XQ[this.pv.J()].ZX,S=[],B=[],C=Math.round(106*J.F()),u=Math.round(106*J.F()),r=0;
for(var q=0;q<m.length;q++)r=Math.max(r,m[q][1],m[q][2]);for(var q=0;q<m.length;q++){var k=m[q],v=k[1]+" x "+k[2]+" "+k[3];
if(k[3]=="in")v=(k[1]*25.4).toFixed(0)+" x "+(k[2]*25.4).toFixed(0)+" mm";if(k[3]=="mm")v=(k[1]/25.4).toFixed(1)+" x "+(k[2]/25.4).toFixed(1)+" in";
if(k[4])v=v+" @ "+k[4]+" ppi";B.push(v);S.push(d_.bW(k,C,u,r))}this.YY.Rs(S,B,C,u)};d_.bW=function(Z,m,S,B){var C=J.L("canvas",""),u=C.getContext("2d");
C.width=m;C.height=S;var r=Math.round(m/8),k=Math.floor(11*J.F()),v=Z[1],e=Z[2];u.fillStyle="#000000";
u.font=Math.round(k*.9)+"px \"Open Sans\", Sans-Serif";var j=v+" x "+e+" "+Z[3],$=u.measureText(j);u.fillText(j,Math.round((m-$.width)/2),S-Math.round(r/2));
if(Z[0]!=null){u.font="bold "+k+"px \"Open Sans\", Sans-Serif";var j=Z[0],$=u.measureText(j);u.fillText(j,Math.round((m-$.width)/2),S-Math.round(r/2)-Math.round(k*1.3))}S-=Math.round(2.5*k);
var U=Math.min((m-r)/v,(S-r)/e);U*=.5+.5*(Math.max(v,e)/B);var H=(m-v*U)/2,z=(S-e*U)/2;u.strokeRect(Math.round(H)+.5,Math.round(z)+.5,Math.round(v*U),Math.round(e*U));
return C.toDataURL()};d_.prototype.w=function(){dg.prototype.w.call(this);this._D.w();this.EY.w();this.p4.w();
this.DQ.w();this.EY.f(iD.get([11,7]));this.pv.w();this.Y$.w();this.E3.w()};d_.prototype.dQ=function(Z){var m=this._D.J(),S=m.x,B=m.y;
this.close();var C=this.p4.J(),u=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.aeH.J()],r=new eY(_.E.lX,!0);
r.data=fl.Du(S,B,this._D.nN(),this.EY.J(),["Wht","Blck","Trns","Clr"][C[0]],this.Y$.J(),C[1],u);this.c(r);
this.a9W()};d_.prototype.auO=function(Z){var m=Z.data.OB;m.wd=this._D.nN();var S=new eY(_.E.W,!0);S.data={d:_.B.Yg,OB:m};
this.c(S);this.close();this.a9W()};d_.prototype.a9W=function(){var Z=this.DJ[this.DJ.length-1],m=this.data.aan;
if(m)bc.dv(function(){var S=new XMLHttpRequest,B="https://www.googleapis.com/drive/v3/files?"+bc.Sk();
S.open("POST",B,!0);S.setRequestHeader("Content-Type","application/json");S.addEventListener("load",function(C){var u=JSON.parse(C.target.response);
Z.cz={file:u,Zy:"psd"};alert(Z.name+" created in Google Drive")});S.send(JSON.stringify({name:Z.name,aoR:[m]}))})};
d_.prototype.sc=function(Z,m,S,B){this.DJ=S;if(Z!=null&&Z.$!=null){var C=new bq(0,0,Z.e,Z.n).o9(Z.$.rect);
this._D.f(new aS(C.e,C.n))}this.data=m;this.lW();if(J.Wo())dN.agb(this.alY.bind(this))};d_.prototype.alY=function(Z){if(Z=="granted")dN.gM(this,this.aed.bind(this))};
d_.prototype.aed=function(Z,m){this._D.f(new aS(m.e,m.n))};d_.XQ=[{name:"Social",ZX:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],ZX:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],ZX:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],ZX:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],ZX:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],ZX:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",ZX:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function g5(Z,m,S){dg.call(this,m,"sel_"+Z);this.d=Z;var B=J.L("div","form");this.body.appendChild(B);
this.EY=new gH(m,0,255,null,0,!1,!0);B.appendChild(this.EY.m);this.EY.f(1);var C=J.L("span");C.textContent=S;
B.appendChild(C);J.ed(B);this.acq=new ae("Apply at canvas bounds");if(Z!="border")B.appendChild(this.acq.m);
this.DQ=J.Pu(this,B)}g5.prototype=new dg;g5.prototype.DP=function(Z,m){if(Z==null)return;if(Z.$==null)alert("No selection!");
return Z.$!=null};g5.prototype.dQ=function(Z){var m=new eY(_.E.lX,!0);m.data=g.nJ.a1c(this.d,this.EY.J(),this.acq.J());
m.k0=!0;this.c(m);this.close()};g5.prototype.w=function(){dg.prototype.w.call(this);this.DQ.w();if(this.EY)this.EY.w()};
g5.prototype.sc=function(Z,m){};function iP(Z,m,S,B,C,u){dg.call(this,S,m);this.abu=u;this.jm=C;this.XQ=null;
this.YF=J.L("div","form");this.body.appendChild(this.YF);this.EY=Z==0?new ec(S,null,10):Z==1?new jE(S,0,500,B,1):new ec(S,null,24,5);
this.EY.h(_.E.o,this.Ra,this);this.YF.appendChild(this.EY.m);this.DQ=J.Pu(this,this.YF);this.h("closebtn",this.AA,this)}iP.prototype=new dg;
iP.prototype.ya=function(Z,m){return new aS(Math.max(0,Math.min(150,(Z-250)/2)),Math.max(0,Math.min(150,(m-120)/2)))};
iP.prototype.nE=function(){return this.abu};iP.prototype.Ra=function(Z){var m=this.EY.J();if(this.jm)this.GU(m)};
iP.prototype.AA=function(Z){if(this.jm)this.GU("cancel")};iP.prototype.dQ=function(Z){if(this.jm)this.GU("confirm");
else this.GU(this.EY.J());this.close()};iP.prototype.GU=function(Z){if(this.XQ.AZ)this.XQ.AZ(Z);else if(this.XQ.Qd){var m=this.XQ.Qd,S=new eY(m.T,!0);
S.b=m.b;S.data=m.V;S.data.k=Z;S.k0=!0;this.c(S)}};iP.prototype.w=function(){dg.prototype.w.call(this);
this.DQ.w();if(this.EY)this.EY.w()};iP.prototype.sc=function(Z,m){this.XQ=m;this.EY.f(m.RL);this.EY.Ri();
this.Ra(null)};function j5(){dg.call(this,[1,5],"open_from_url");this.uz=null;var Z=J.L("div","form");
this.body.appendChild(Z);this.Nh=new ec("URL",null,22);Z.appendChild(this.Nh.m);J.ed(Z);this.HB=new g6([21,0],[[21,2],[21,1]]);
Z.appendChild(this.HB.m);this.DQ=J.Pu(this,Z)}j5.prototype=new dg;j5.prototype.w=function(){dg.prototype.w.call(this);
this.DQ.w();this.HB.w()};j5.prototype.sc=function(Z,m,S){this.Nh.Ri();this.uz=null;if(Z&&S.indexOf(Z)!=-1)this.uz=S.indexOf(Z)};
j5.prototype.dQ=function(Z){var m=new eY(_.E.W,!0),S=this.Nh.J();m.data={d:_.B.FJ,Lh:{url:S,ZV:!0,uz:this.HB.J()==1?this.uz:null}};
this.c(m);this.close()};function cl(){dg.call(this,[12,79],"preferences");this._q=null;var Z=J.L("div","form");
this.body.appendChild(Z);this.VD=[new ae([8,2]),new ae([8,4]),new fH([12,80,3],[[12,93,3],[12,80,4]]),new jE([12,80,5],1,100,null,2),new fH(null,l.Zv._C),new fH([12,80,6],l.Zv._C),new ae("Remind me to save")];
for(var q=0;q<this.VD.length;q++){var m=this.VD[q];Z.appendChild(m.m);if(q!=3)J.ed(Z);m.h(_.E.o,this.B$,this)}}cl.prototype=new dg;
cl.prototype.w=function(){dg.prototype.w.call(this);for(var q=0;q<this.VD.length;q++)this.VD[q].w()};
cl.prototype.sc=function(Z,m,S){};cl.prototype.C7=function(Z,m){this._q=Z;this.VD[0].f(Z.Zd.Ua);this.VD[1].f(Z.Zd.sF);
this.VD[2].f(Z.Zd.gP);this.VD[3].f(Z.Zd.UQ);this.VD[4].f(Z.Zd.Uf);this.VD[5].f(Z.Zd.Dj);this.VD[6].f(Z.EC==1)};
cl.prototype.B$=function(Z){var m=this.VD;if(Z.target==m[6])this._q.EC=1-this._q.EC;var S=JSON.parse(JSON.stringify(this._q.Zd));
S.Ua=m[0].J();S.sF=m[1].J();S.gP=m[2].J();S.UQ=m[3].J();S.Uf=m[4].J();S.Dj=m[5].J();if(S.Uf!=4)S.UQ=Math.round(S.UQ);
var B=new eY(_.E.W,!0);B.data={d:_.B.L8,Lh:bo.Hf,sk:S};this.c(B)};function ah(){dg.call(this,[11,8],"saveforweb");
this.ahS="";this.h("closebtn",function(){this.QS.R2()},this);this.A2=new aS(512,512);this.OB=null;this.iW=null;
this.a0E=null;this._q=null;J._A(this.body,"flexrow");var Z=J.L("div"),m=J.L("div");this.body.appendChild(Z);
this.body.appendChild(m);this.Pf=J.L("div","imgcont");Z.appendChild(this.Pf);this.QS=new gf;this.QS.MY(this.A2.x,this.A2.y);
this.e8=J.L("span");Z.appendChild(this.e8);this.YF=J.L("div","form cell");this.YF.setAttribute("style","width:15em; padding-left:1em;");
m.appendChild(this.YF);this.H9=new fH([12,50],e2.Yi());this.YF.appendChild(this.H9.m);this.H9.h(_.E.o,this.Po,this);
this._D=new hs(!0,!0,!1,!0);this._D.h(_.E.o,this.Po,this);this.YF.appendChild(this._D.m);this.PY=new fY;
this.PY.h(_.E.o,this.Po,this);this.YF.appendChild(this.PY.m);this.e1=new dX([1,2],!0,null,!0);this.e1.h("click",this.dQ,this);
this.YF.appendChild(this.e1.m)}ah.prototype=new dg;ah.prototype.DP=function(Z,m){return Z!=null};ah.prototype.w=function(){dg.prototype.w.call(this);
this._D.w();this.H9.w();this.PY.w();this.e1.w()};ah.prototype.dQ=function(Z){var m=this.OB.name,S=m.lastIndexOf("."),m=S==-1?m:m.slice(0,S),B=e2.Yi()[this.H9.J()],C=B=="JPG"||B=="PNG"||B=="GIF",u=e2.Vh(B),r="."+B.toLowerCase(),k=this.iW,v=m+r,e=this.OB,j=e.Wv,$=this.PY.J();
if(e.$G())$.pop();if(j.length!=0&&C&&$.pop()){var U="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",H=[],z={},f=new bq(0,0,e.e,e.n),D=e.Jy();
for(var q=0;q<j.length;q++)H.push(g.UX.z_(j,q));H.reverse();var n=l.rect.lv([0,0,e.e,e.n],H);for(var q=0;
q<n.length;q++){var L=n[q],a=new bq(L[0],L[1],L[2]-L[0],L[3]-L[1]),F=L.length==5?j[L[4]].v:null,A=l.U(a.Z()*4);
l.pY(D,f,A,a);var T="img/img"+(q+1)+r;z[T]=new Uint8Array(u.md([[A.buffer,0]],a.e,a.n,$));U+="<div style=\"background-image:url('"+T+"'); left:"+a.x+"px; top:"+a.y+"px; width:"+a.e+"px; height:"+a.n+"px\">";
if(F&&F.url.v!="")U+="\n\t<a href=\""+F.url.v+"\" target=\""+F.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
U+="</div>\n"}U+="</body>\n</html>\n";var P=l.U(Math.round(U.length*1.5)),Y=x.Xv(U,P,0);z["index.html"]=P.slice(0,Y);
k=UZIP.encode(z);v=m+".zip"}else if(e.add.artd&&e.add.artd.Cnt.v>1&&C&&$.pop()){var z={},f=new bq(0,0,e.e,e.n),D=e.Jy(),Q=e.root.children;
for(var q=0;q<Q.length;q++){var o=Q[q].i;if(o.add.artb==null||!o.tm())continue;var I=o.u1(),c=l.U(I.Z()*4);
l.pY(D,f,c,I);z[o.getName()+r]=new Uint8Array(u.md([[c.buffer,0]],I.e,I.n,$))}k=UZIP.encode(z);v=m+".zip"}if(e.iw){var y=new XMLHttpRequest;
y.open("GET","/papi/img/update.php?act=1&id="+e.iw+"&rnd="+Math.random());y.send()}var i=new eY(_.E.W,!0);
i.data={d:_.B.u2,data:k,name:v};this.c(i);this.QS.R2();this.close()};ah.prototype.sc=function(Z,m){if(m.EP!=null)this.H9.f(m.EP);
this.OB=Z;var S=Z.e+","+Z.n;if(S!=this.ahS){this.ahS=S;this._D.f(new aS(Z.e,Z.n),Z.wd)}this.PY.aqq();
if(m.aqx){this._D.amR(3);this.PY.zX.PDF[2].uG.f(!0)}this.Po(null,!0)};ah.prototype.ya=function(Z,m){return new aS(Math.max(0,Math.min(150,(Z-770)/2)),Math.max(0,Math.min(150,(m-590)/2)))};
ah.prototype.MY=function(Z,m){this.OU=Z;this.Vi=m;this.A2.x=Math.min(512,Z-26-214);this.A2.y=Math.min(512,m-45);
if(this.OB==null)return;var S=this._D.J(),Z=S.x,m=S.y,B=e2.Yi()[this.H9.J()],C=e2.Vh(B),$="<span style=\"width:",U="display:inline-block; text-align:right;\">";
if(C.iA){var u=Z,r=m,k;if(B=="PDF"||C.Fp){u=this.A2.x;r=this.A2.y}else{u=Math.min(Z+20,this.A2.x);r=Math.min(m+20,this.A2.y)}this.Pf.firstChild.setAttribute("style","display:block; width:"+u+"px; height:"+r+"px;")}else{if(C.Fp){u=this.A2.x;
r=this.A2.y}else{var v=this.a0E,e=v[0].cR,u=e.e,r=e.n;this.QS.MY(Math.max(50,Math.min(u/J.F(),this.A2.x)),Math.max(50,Math.min(r/J.F(),this.A2.y)))}}var j=this.iW.byteLength,H=B+":"+$+64+"px;"+U+ah.Ij(j)+"</span>";
if(this.A2.x>200)H+=$+90+"px; opacity:"+.5+";"+U+j.toLocaleString()+" B</span>";this.e8.innerHTML=H};
ah.Ij=function(Z){var m=Z.toString(2),S=0;while(S+10<m.length)S+=10;var B=(Z/Math.pow(2,S)).toFixed(1),C="B KB MB GB TB PB".split(" ")[Math.floor(S/10)];
return B+" "+C};ah.prototype.C7=function(Z,m){this._q=Z};ah.prototype.Po=function(Z,m){var S=this.OB,B=this._D.J(),C=B.x,u=B.y,r=this.H9.J(),k=e2.Yi()[r],v=e2.gt(S)[0].length,e=["GIF","PNG","WEBP"].indexOf(k)!=-1&&v>1,D="";
if(e&&m&&(v>4&&C*u>1024*1024||C*u*v>800*800*50)){var j=1;while(Math.max(C>>>j,u>>>j)>800)j++;var $=window.confirm("Your animation is large ("+C+" x "+u+" px). Press \"OK\" to scale it to "+(100>>>j)+"%. Press \"Cancel\" to keep the size.");
if($){this._D.f(new aS(C>>>j,u>>>j),null,!0);C=C>>>j;u=u>>>j}}var U=S.add.artd,H=U!=null&&U.Cnt.v>1,z=S.$G();
this.PY.ahB(k,e,S.Wv.length!=0,H,z!=null);var f=this.PY.J();this.iW=e2.$c(S,k,C,u,f,this._q);if(this.iW==null){this.OB=null;
return}J.uq(this.Pf);this.QS.R2();var n=e2.Vh(k);if(n.Fp){this.Pf.innerHTML="<div></div>";D+="width:0px"}else if(n.iA){var L=C,a=u,F;
if(k=="PDF"){F=URL.createObjectURL(new Blob([this.iW],{type:"application/pdf"}))}else{F=URL.createObjectURL(new Blob([this.iW],{type:"image/svg+xml"}))}this.Pf.innerHTML="<iframe src=\""+F+"\"></iframe>"}else{var A=this.a0E=n.af(this.iW),T=A[0],P=T.cR,L=P.e,a=P.n;
if(T.BC){var Y=ICC.R(T.BC.buffer),Q=17,o=ICC.U.sampleLUT(Y,Q);for(var q=0;q<A.length;q++){var I=new Uint8Array(A[q].data);
ICC.U.applyLUT(o,Q,I,I)}}this.QS.f(A,A.length>1?f[f.length-3]:0);this.Pf.appendChild(this.QS.m);D="background: rgba(0,0,0,0);"}this.Pf.setAttribute("style","display:block; background-size:"+16/J.F()+"px;"+D);
this.MY(this.OU,this.Vi)};function be(){dg.call(this,[11,13],"shortcuts");var Z=this.QA=J.L("div","scrollable");
Z.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(Z);
this.apk()}be.prototype=new dg;be.prototype.w=function(){dg.prototype.w.call(this);this.apk()};be.prototype.apk=function(){var Z="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",m="",S=iZ,B=S.Sx,C=S.nQ,u=S.__;
m+="<h2 style=\"margin-top:0;\">Main Menu</h2>";m+=Z;m+=this.m_([[0,0],"---",[1,0],[B,S.A_],[1,2],[B,S.mn],[1,3],[C,B,S.mn],[1,8],[u,C,B,S.mn],[0,1],"---",[2,0],[C,B,S.z8],[2,1],[B,S.z8],[5,0],[B,S.hn],[5,1],[B,S.v9],[5,2],[B,S._i],[2,2],"Delete",[2,3],[u,S.cE],[10,16],[u,B,S.Jw],[12,79],[B,S.D3],[3],"---",[4,1],[B,S.Ma],[4,2],[B,S.ld],[4,5],[B,S.Ez],[4,11],[B,S.Ob],[0,3],"---",[6,13],[C,B,S.xX],[6,49,0],[B,S.Ab],[6,6,0],[u,B,S.Sj],[6,9],[B,S.Sj],[6,10],[B,S.E],[0,5],"---",[7,0],[B,S.B],[7,1],[B,S.ty],[7,2],[C,B,S.Ob],[0,7],"---",[8,0],[B,S.ni],[8,1],[B,S.Kq],[8,3],[B,S.kI],[8,2],[B,S.wU],[8,4],[B,S.L_],[11,13],"?"]);
m+="</div>";m+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";m+=Z;m+=this.m_(["Vertical scroll","Wheel","Horizontal scroll",[B,"Wheel"],"Zooming",[u,"Wheel"]]);
m+="</div>";m+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
m+=Z;m+=this.m_([[10,11],[B],[10,7],"Space",[10,17],[B,S.MO]]);m+="</div>";m+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
m+=Z;var r=be.P,k=[];for(var q=0;q<r.length;q+=3)if(r[q+1])k.push(r[q],r[q+1]);k=k.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[B,S.Hg]]);
m+=this.m_(k);m+="</div>";this.QA.innerHTML=m};be.prototype.m_=function(Z){var m="",S=!0;for(var q=0;
q<Z.length;q+=2){var B=Z[q],C=iZ.x3(Z[q+1]);if(C==null){S=!1;continue}var u=J.Wh(iD.get(B));if(C=="---"){if(!S)m+="<br/>";
m+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+u+"</div>"}else m+="<div>"+u+" <span style=\"float:right; font-weight:bold;\">"+C+"</span> </div>";
S=!1}return m};be.P=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function br(){dg.call(this,[8,11,1],"soptions");this.wp=null;var Z=J.L("div","form");Z.style.width="20em";
this.body.appendChild(Z);this.AP={Nm:[12,48],url:"URL",null:[12,71]};this.VD={};for(var m in this.AP){var S=new ec(this.AP[m],null,15);
this.VD[m]=S;Z.appendChild(S.m)}this.DQ=J.Pu(this,Z)}br.prototype=new dg;br.prototype.sc=function(Z,m,S){var B=m.k;
this.wp=JSON.stringify(B);for(var C in this.AP){if(B[C])this.VD[C].f(B[C].v)}};br.prototype.dQ=function(Z){var m=JSON.parse(this.wp);
for(var S in this.AP){var B=this.VD[S].J();m[S]={t:"TEXT",v:B}}var C=new eY(_.E.Y,!0);C.b=g.dD;C.data=m;
C.k0=!0;this.c(C);this.close()};br.prototype.w=function(){dg.prototype.w.call(this);this.DQ.w()};function hm(){dg.call(this,[2,3],"fill");
this._q=null;this.Rt=null;var Z=J.L("div","form padded");Z.style.width="22em";this.body.appendChild(Z);
this.Hs="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.rZ=new fH([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.rZ.h(_.E.o,this.ai6,this);Z.appendChild(this.rZ.m);this.Pf=J.L("span");Z.appendChild(this.Pf);this.di=new gl;
this.di.parent=this;this.di.yz(0);this.Km=new au;this.Km.parent=this;this.Ch=new fH([12,19,0],d1.JN,!1,d1.L4);
Z.appendChild(this.Ch.m);this.GF=new jE([12,0],0,100,"%",0,!1);this.GF.f(100);Z.appendChild(this.GF.m);
this.I5=new ae([13,5]);this.I5.f(!1);Z.appendChild(this.I5.m);this.DQ=J.Pu(this,this.body)}hm.prototype=new dg;
hm.prototype.DP=function(Z,m){return Z!=null};hm.prototype.nE=function(){return!0};hm.prototype.ai6=function(){var Z=this.rZ.J(),m=this.di.m,S=this.Km.m,B=this.Pf;
if(Z==2)B.appendChild(m);else if(B.contains(m))B.removeChild(m);if(Z==7)B.appendChild(S);else if(B.contains(S))B.removeChild(S)};
hm.prototype.w=function(){dg.prototype.w.call(this);this.rZ.w();this.Ch.w();this.GF.w();this.DQ.w()};
hm.prototype.dQ=function(Z){if(!this.Rt.t9())return;var m=new eY(_.E.lX,!0),S=this.rZ.J();m.data=g.T1.GZ(this.Hs[S],d1.WJ[this.Ch.J()],this.GF.J()/100,this.di.J(),this.I5.J(),this.Km.J());
this.close();this.c(m)};hm.prototype.sc=function(Z,m){this.Rt=Z};hm.prototype.C7=function(Z,m){this._q=Z;
if(m==bo.LE||m==bo.uN){this.Km.$q(Z.jx);this.Km.f({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function et(){dg.call(this,[14,9],"stroke");this._q=null;this.YF=J.L("div","form");this.YF.setAttribute("style","width:24em");
this.body.appendChild(this.YF);this.bS=new iR("FrFX",!0);this.bS.parent=this;var Z=["Sz","Styl","Md","Opct"].concat(fp.qc);
for(var q=0;q<Z.length;q++){var m=this.bS.l$[Z[q]].m;this.YF.appendChild(m)}this.Qx=!1;this.DQ=J.Pu(this,this.body)}et.prototype=new dg;
et.prototype.DP=function(Z,m){return Z!=null};et.prototype.nE=function(){return!0};et.prototype.w=function(){dg.prototype.w.call(this);
this.DQ.w();this.bS.w()};et.prototype.dQ=function(Z){var m=new eY(_.E.Y,!0);m.b=g.ms;m.data={d:"stroke",ao1:this.bS.J()};
this.close();this.c(m)};et.prototype.sc=function(Z,m){if(!this.Qx){var S=fp.kr[fp.order.indexOf("FrFX")];
S=JSON.parse(S);this.bS.update(Z,S);this.Qx=!0}var S=this.bS.J(),B=this._q.Nx;S.Clr.v=l.X.M1({I:B>>16&255,z:B>>8&255,S:B&255});
this.bS.update(Z,S)};et.prototype.C7=function(Z,m){this._q=Z};function aU(){dg.call(this,[11,9],"textwarp");
this.VD=new hj;this.VD.h(_.E.o,this.EM,this);this.VD.parent=this;this.YF=J.L("div","form");this.YF.setAttribute("style","width:20em");
this.body.appendChild(this.YF);this.YF.appendChild(this.VD.sr.m);this.YF.appendChild(this.VD.RQ.m);this.YF.appendChild(this.VD.LC.m);
this.YF.appendChild(this.VD.yp.m);this.YF.appendChild(this.VD.Pm.m);this.DQ=J.Pu(this,this.YF);this.h("closebtn",this.AA,this)}aU.prototype=new dg;
aU.prototype.nE=function(){return!0};aU.prototype.w=function(){dg.prototype.w.call(this);this.DQ.w();
this.VD.w()};aU.prototype.EM=function(Z){var m=this.VD.J();this.GU({d:"warp",BF:m})};aU.prototype.GU=function(Z){var m=new eY(_.E.Y,!0);
m.b=g.WH;m.data=Z;m.k0=!0;this.c(m)};aU.prototype.AA=function(Z){this.GU({d:"warpCancel"})};aU.prototype.dQ=function(Z){this.GU({d:"warpConfirm"});
this.close()};aU.prototype.sc=function(Z,m){var S=Z.g[Z._[0]];this.VD.f(S.add.TySh.qO)};function h2(){dg.call(this,[11,12,0],"trim");
var Z=this.YF=J.L("div","form");this.YF.setAttribute("style","width:22em");this.body.appendChild(this.YF);
var m=new ed("Color To Trim:");Z.appendChild(m.m);this.or=new iF(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.or.f([!0]);this.YF.appendChild(this.or.m);var m=new ed("Sides:");Z.appendChild(m.m);this.WW=new iF(null,["Top","Left","Bottom","Right"]);
this.WW.f([!0,!0,!0,!0]);this.YF.appendChild(this.WW.m);this.DQ=J.Pu(this,this.body)}h2.prototype=new dg;
h2.prototype.DP=function(Z,m){return Z!=null};h2.prototype.nE=function(){return!0};h2.prototype.w=function(){dg.prototype.w.call(this);
this.or.w();this.WW.w();this.DQ.w()};h2.prototype.dQ=function(Z){var m=this.or.J().indexOf(!0),S=this.WW.J(),B=new eY(_.E.lX,!0);
B.data=g.Gt.v6(m,S);this.close();this.c(B)};function c7(){dg.call(this,"Raw Photopea","rawpea");this.uV=null;
this.bG=null;this.p1=null;this.hd=0;this.jF=null;this.zl=null;this.ant=500;this.atd=500;this.a4q=0;this.h("closebtn",this.lp,this);
J._A(this.body,"flexrow");var Z=J.L("div"),m=J.L("div"),B="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
m.setAttribute("style","padding-left: 1em");this.body.appendChild(Z);this.body.appendChild(m);this.O=J.L("canvas");
Z.appendChild(this.O);this.o4=new fu(225);this.o4.dt(4);m.appendChild(this.o4.m);this.YF=J.L("div");
this.YF.setAttribute("style","width:18em;");m.appendChild(this.YF);this.a5b=new ed("Hi",!0);this.YF.appendChild(this.a5b.m);
this.hm=[new iG("Temperature",2e3,13e3),new iG("Tint",-150,150),new iG([4,3],-4,4,null,!0),new iG([12,3,0],-100,100)];
for(var q=0;q<this.hm.length;q++){var S=this.hm[q];S.f(0);S.h(_.E.o,this.Hk,this);this.YF.appendChild(S.m);
if(q==1)this.YF.appendChild(J.L("hr"))}this.DQ=new dX([1,0],!0,null,!0);this.DQ.h("click",this.dQ,this);
this.YF.appendChild(this.DQ.m);this.WI=new dX(B+" JPG",!0,null,!0);this.WI.h("click",this.a6q,this);
this.YF.appendChild(this.WI.m);this.WI.m.style.marginTop="6px"}c7.prototype=new dg;c7.prototype.ya=function(){return new aS(0,0)};
c7.prototype.MY=function(Z,m){this.ant=Z-274;this.atd=m-32;if(this.uV)this.aoW()};c7.prototype.w=function(){dg.prototype.w.call(this);
this.DQ.w();for(var q=0;q<this.hm.length;q++)this.hm[q].w()};c7.prototype.a6q=function(Z){var m=this.uV,S=this.bG,B=l.U(m.width*m.height*4);
l._z(B,4294967295);l.raw.vw(S,B,m,this.Eh());var C=e2.Vh("JPG").md([[B.buffer]],S.Yq,S.gn,[85]),u=new eY(_.E.W,!0);
u.data={d:_.B.u2,data:C,name:"photo.jpg"};this.c(u)};c7.prototype.dQ=function(Z){var m=this.uV,S=this.bG,B=l.U(m.width*m.height*4);
l._z(B,4294967295);l.raw.vw(S,B,m,this.Eh());var C=i2.EW(m),m={cR:new bq(0,0,S.Yq,S.gn),data:B.buffer,d_:C},u=e2.h9("Raw Photo",[m]),r=new eY(_.E.W,!0);
r.data={d:_.B.Yg,OB:u};this.c(r);this.lp();this.close()};c7.prototype.lp=function(){this.uV=null;this.bG=null;
this.jF=null;this.zl=null};c7.prototype.sc=function(Z,m,S,B){this.uV=m.dk;this.bG=l.raw.agp(this.uV);
var C=this.bG;this.a5b.f(C.Yq+" x "+C.gn+", "+(C.Yq*C.gn/1e6).toFixed(1)+" MPx");var u=l.raw.ab2(m.dk);
this.p1=jL.gK(u);this.hm[0].f(this.p1.jh);this.hm[1].f(this.p1.wY);for(var q=2;q<this.hm.length;q++)this.hm[q].f(0);
this.aoW()};c7.prototype.C7=function(Z,m){this.o4.yz(ii.o$[Z.Yv]["--text-color"])};c7.prototype.aoW=function(){var Z=this.bG,m=Z.Yq,S=Z.gn,B=1;
while(m/B>this.ant*J.F()||S/B>this.atd*J.F())B++;if(this.a4q==B&&this.jF)return;this.a4q=B;var C=Math.floor(m/B),u=Math.floor(S/B);
this.jF={MW:new Float32Array(C*u*3),Yq:C,gn:u};var r=this.O.getContext("2d");this.zl=l.U(C*u*4);l._z(this.zl,4294967295);
var k=1/(B*B);for(var v=0;v<u;v++)for(var e=0;e<C;e++){var j=0,$=0,U=0,H=(e+1)*B,z=(v+1)*B;for(var f=v*B;
f<z;f++)for(var D=e*B;D<H;D++){var n=(f*m+D)*3;j+=this.bG.MW[n];$+=this.bG.MW[n+1];U+=this.bG.MW[n+2]}var L=(v*C+e)*3;
this.jF.MW[L]=j*k;this.jF.MW[L+1]=$*k;this.jF.MW[L+2]=U*k}this.Hk()};c7.prototype.Hk=function(){var Z=this.uV,m=this.jF.Yq,S=this.jF.gn,B=m*S,C=this.O,u=C.getContext("2d");
C.width=m;C.height=S;J.Lk(C,m,S);l.raw.vw(this.jF,this.zl,Z,this.Eh());u.putImageData(new ImageData(new Uint8ClampedArray(this.zl.buffer),m,S),0,0);
var r=l.LA(this.zl);for(var q=0;q<4;q++)for(var k=1;k<256;k++)if(r[q][k]==0)r[q][k]=r[q][k-1];for(var q=0;
q<4;q++)for(var k=1;k<256;k++)if(r[q][k]==0)r[q][k]=r[q][k-1];this.o4.f(r)};c7.prototype.Eh=function(){var Z=[];
for(var q=0;q<this.hm.length;q++)Z.push(this.hm[q].J());return Z};function j6(Z){dg.call(this,Z?[11,11,0]:[11,11,1],Z?"vbitmap":"rcolors");
this.XQ=null;this.k6=null;this.BP=null;this.B7=null;this.N4=null;this.aj2=null;this.kg=null;this.X5="";
this.cm=Z;this._o=this.os.bind(this);this.body.style.padding="0";this.YF=J.L("div","form hbar padded");
this.body.appendChild(this.YF);var m=this.TA={cnum:new gH([12,82],2,50,null),nois:new ae([12,81]),mode:new fH(null,["Cartoon","Photo"]),segm:new ae("Segmentize"),poly:new ae("Polygon"),polE:new gH("Roughness",2,30,null),ok:J.Pu(this,null,!1)},u=16;
for(var S in m){var B=m[S];B.parent=this;if(S!="ok")B.h(_.E.o,this.os,this)}var C=this._X=J.L("div","flexrow");
this.body.appendChild(C);this.d7=new gf;this.d7.h("viewchange",this.g$,this);this.Z8=new gf;this.O=J.L("canvas");
this.O.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.az=this.O.getContext("2d");
var r=l.U(16*16*4);l.AN(r,u,u,8);this.BI=l.scale.DY(r,u,u);this.d7.age(this.O);this.d7.d8(this.Z8);this.Z8.d8(this.d7);
C.appendChild(this.d7.m);if(Z)C.appendChild(this.O);else C.appendChild(this.Z8.m)}j6.prototype=new dg;
j6.prototype.ya=function(){return new aS(0,0)};j6.prototype.nE=function(){return!0};j6.prototype.MY=function(Z,m){this.OU=Z;
this.Vi=m;m=m-44;if(Z<600)m-=29;if(this.XQ==null)return;var S=this.XQ.cR,B=ih.aa$(Z,m,S.e,S.n);if(B==1)m-=3;
if(B==0){Z=Math.floor(Z/2);J._A(this._X,"flexrow")}else{m=Math.floor(m/2);J.iB(this._X,"flexrow")}J.Nm(this.O,Z,m);
this.d7.MY(Z,m);if(this.cm)this.g$();else this.Z8.MY(Z,m)};j6.prototype._s=function(Z,m,S,B){this.d7._s(B)};
j6.prototype.w=function(){dg.prototype.w.call(this);for(var Z in this.TA)this.TA[Z].w()};j6.prototype.sc=function(Z,m){this.kg=Z;
this.N4=null;var S=Z.g[Z._[0]],B=l.Yh.bs(S.buffer.buffer,S.rect.e,S.rect.n).agf,C=B/((S.rect.e-2)*(S.rect.n-2)),u=this.TA;
u.cnum.f(20);u.nois.f(C<.75);u.mode.f(C<.75?1:0);u.segm.f(!1);u.poly.f(!1);u.polE.f(1);var r=S.rect.clone();
r.x=r.y=0;this.XQ={cR:r,data:S.buffer.buffer.slice(0)};this.k6=null;this.MY(this.OU,this.Vi);this.d7.f([this.XQ]);
this.d7.vn();setTimeout(this._o,20)};j6.prototype.os=function(){var Z=!0,m=Date.now(),S=this.XQ,B=this.TA,C=B.cnum.J(),u=B.nois.J(),r=B.mode.J(),k=B.segm.J(),v=B.poly.J(),e=B.polE.J(),P=null;
if(r==0)k=v=!1;var j=["cnum","nois","mode"];if(r==1){j.push("segm");if(this.cm){j.push("poly");if(v)j.push("polE")}}j.push("ok");
J.uq(this.YF);for(var q=0;q<j.length;q++)this.YF.appendChild(B[j[q]].m);if(Z)console.log("---------------------------------------");
var $=u||k,U=u+","+k;if($&&(this.k6==null||this.X5!=U)){this.X5=U;var H=new Uint8Array(S.data),z=S.cR.e,f=S.cR.n;
if(u){if(this.N4==null){this.N4=H.slice(0);l.Y_.Bu(this.N4,this.N4,z,f,15,l.Y_.w4,[35]);if(Z){console.log("denoise",Date.now()-m);
m=Date.now()}}H=this.N4.slice(0)}else H=H.slice(0);if(k){var D=l.Yh.ZR(H,z,f,40,10),n=D.D3,L=new Uint8Array(n*4);
for(var q=0;q<n;q++){var a=q*4,F=q*6,A=1/D.pE[F+5];L[a]=D.pE[F]*A;L[a+1]=D.pE[F+1]*A;L[a+2]=D.pE[F+2]*A}for(var q=0;
q<H.length;q+=4){var T=D.E2[q>>>2]*4;H[q]=L[T];H[q+1]=L[T+1];H[q+2]=L[T+2]}if(Z){console.log("segm",Date.now()-m);
m=Date.now()}}this.k6={cR:S.cR.clone(),data:H.buffer}}if($)S=this.k6;var H=new Uint8Array(S.data),z=S.cR.e,f=S.cR.n;
for(var q=0;q<H.length;q+=4){if(H[q+3]<10)H[q]=H[q+1]=H[q+2]=H[q+3]=0}if(r==0){P=l.Yh.ajF(H,z,f,C,$?.1:2e-4);
if(Z){console.log("quantize",Date.now()-m);m=Date.now()}}else{P=e_.vg(H.buffer,C,z,f)}if(this.cm){var Y=P.E2.slice(0);
for(var q=0;q<Y.length;q++)Y[q]++;var Q=new Uint8Array((z+2)*(f+2));l.Ju(Y,new bq(1,1,z,f),Q,new bq(0,0,z+2,f+2));
if(!v){var o=Math.round((z+2)*(f+2)/1e4),I=fE.Au(Q.slice(0),z+2,f+2,Math.min(12,o)),c=fE.Nu(I);if(Z){console.log("trace smooth",Date.now()-m);
m=Date.now()}}else{var c=l.H.ML(Q,z+2,f+2,e,Z)}var y=c.length,i=new ht(1,0,0,1,-1,-1);for(var q=0;q<y;
q++)l.H.A(c[q].path.t,i,c[q].path.t);this.B7=c;this.BP=P;for(var q=0;q<y;q++){var d=c[q];for(var V=q+1;
V<y;V++){var R=c[V];if(R.parent==q&&P.dH[R.color-1].est.q[3]<.05){var G=R.path.C.slice(1);G.reverse();
G=["M"].concat(G);var M=[],I=R.path.t.length;for(var O=0;O<I;O+=2){M[O]=R.path.t[I-2-O];M[O+1]=R.path.t[I-2-O+1]}l.H.concat(d.path,{t:M,C:G})}}}if(Z){console.log("finding holes",Date.now()-m);
m=Date.now()}for(var q=0;q<c.length;q++){var d=c[q],K=P.dH[d.color-1].est.q;if(K[3]<=.05){c.splice(q,1);
q--;continue}}for(var q=1;q<c.length;q++){var W=c[q-1],d=c[q];if(W.color==d.color){l.H.concat(W.path,d.path);
c.splice(q,1);q--;continue}}this.g$()}else{var t=new Uint32Array(z*f),X=z*f;for(var q=0;q<X;q++){var h=P.dH[P.E2[q]];
t[q]=h.est.rgba}this.aj2=new Uint8Array(t.buffer);this.Z8.f([{cR:S.cR,data:t.buffer}])}};j6.prototype.g$=function(Z){if(this.B7==null)return;
var m=this.XQ.cR.e,S=this.XQ.cR.n,B=this.B7,C=this.BP.dH,u=this.O,r=this.az,k=this.d7.z7();r.setTransform(1,0,0,1,0,0);
r.clearRect(0,0,u.width,u.height);r.translate(u.width/2,u.height/2);r.scale(k.R,k.R);r.translate(k.r.x/k.R-m/2,k.r.y/k.R-S/2);
r.scale(1/k.R,1/k.R);r.fillStyle=this.BI;r.fillRect(0,0,m*k.R,S*k.R);r.scale(k.R,k.R);var v=[];for(var q=0;
q<C.length;q++){var e=C[q].est.q;v.push({I:Math.round(255*e[0]),z:Math.round(255*e[1]),S:Math.round(255*e[2]),AQ:Math.round(255*e[3])})}for(var q=0;
q<B.length;q++){var j=B[q],e=v[j.color-1];if(e.AQ==0)continue;r.fillStyle="rgba("+e.I+","+e.z+","+e.S+","+e.AQ/255+")";
r.beginPath();Typr.U.pathToContext({crds:j.path.t,cmds:j.path.C},r);r.fill()}};j6.prototype.dQ=function(Z){var m=this.kg,S=m._[0],B=m.g[S],C=new eY(_.E.Y,!0);
C.k0=!0;C.b=g.vJ;if(this.cm){var u=this.B7,r=u.length==1,k=m.g.slice(0,S);if(!r)k.push(m.iI());for(var q=0;
q<u.length;q++){var v=u[q],e=this.BP.dH[v.color-1].est.q;l.H.A(v.path.t,new ht(1,0,0,1,B.rect.x,B.rect.y),v.path.t);
var j=m.AB();j.Se("Path "+q);k.push(j);j.opacity=Math.round(e[3]*255);j.Kl|=16;j.add.SoCo={classID:"null",Clr:{t:"Objc",v:l.X.M1({I:255*e[0],z:255*e[1],S:255*e[2]})}};
j.add.vmsk=new w.r6;j.add.vstk=JSON.parse(JSON.stringify(fp.Rw.default));j.add.vmsk.u=l.H.Ah(v.path,!1);
j.add.vogk=[];j.VZ();j.T3(m)}var $=k[k.length-1];if(!r){var j=m.AB();j.Se(B.getName());j.add.lsct=jf.AH;
j.E4="pass";j.Kl=24;k.push(j);$=j}var U=B.add.lmfx;if(U)$.add.lmfx=JSON.parse(JSON.stringify(U));for(var q=S+1;
q<m.g.length;q++)k.push(m.g[q]);C.data={d:w.Wn,Gb:k,DA:[S+u.length+(r?-1:1)],fm:[11,11,0]}}else{var k=m.g.slice(0),j=m.AB();
j.Se(B.getName());k.splice(m._[0]+1,0,j);j.rect=B.rect.clone();j.buffer=this.aj2;j.G();C.data={d:w.Wn,Gb:k,DA:[m._[0]+1],fm:[11,11,1]}}this.c(C);
this.close()};function ih(Z){dg.call(this,[[7,11],[7,13]][Z],["redge","magiccut"][Z]);this.or=Z;this.XQ={};
this.Qk=null;this.YS=null;this.kg=null;this.xY=null;this.Cd=null;this.body.style.padding="0";this.ha=[];
this.RJ=-1;this.YF=J.L("div","form hbar padded");this.body.appendChild(this.YF);this.Xc=new bs;this.Xc.parent=this;
this.Xc.h(_.E.o,this.i9,this);this.YF.appendChild(this.Xc.m);var m=Z==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
m=m.concat("tools/hand","zoomIn","zoomOut");var S=Z==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.GY=new fG(null,m,S,28);this.GY.h(_.E.o,this._s,this);this.YF.appendChild(this.GY.m);this.GG=new gH([7,9],0,50,null);
this.GG.parent=this;this.GG.h(_.E.o,[this.a8u,this.os][Z],this);this.YF.appendChild(this.GG.m);var B=this.a0n=new dX([2,2],!1,null,!0);
B.h("click",this.lp,this);this.YF.appendChild(B.m);var C=this.a8B=J.L("span","form");this.YF.appendChild(C);
var u=this.a40=new dX([12,90],!1,null,!0);u.h("click",function(v){alert(Z==0?iD.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
C.appendChild(u.m);var r=new dX("Tutorial",!1,null,!0);r.h("click",this.ahG,this);C.appendChild(r.m);
this.Te=new fG([12,46],["checker","#ffffff","#000000"]);this.Te.h(_.E.o,this.a6Q,this);C.appendChild(this.Te.m);
this.l6=new fH(null,[[6,13],[6,2],[17,2]]);C.appendChild(this.l6.m);this.DQ=J.Pu(this,C,!1);var k=this._X=J.L("div","flexrow");
this.body.appendChild(k);this.M0=new gf(!0);this.cv=new gf;this.M0.d8(this.cv);this.cv.d8(this.M0);this.M0.h("mousedown",this.y6,this);
this.M0.h("mousemove",this.hI,this);this.M0.h("mouseup",this.v4,this);this.M0.h("zoom",this.i9,this);
this.cv.h("zoom",this.i9,this);k.appendChild(this.M0.m);k.appendChild(this.cv.m)}ih.prototype=new dg;
ih.prototype.DP=function(Z,m){var S=Z!=null&&!Z.g[Z._[0]].rect.Ov();if(!S)alert("The layer is empty.");
return S};ih.prototype.ya=function(){return new aS(0,0)};ih.prototype.nE=function(){return!0};ih.prototype.MY=function(Z,m){this.OU=Z;
this.Vi=m;m=m-12-33;if(Z<900){this.a8B.setAttribute("style","display:block;  text-align:right;");m-=29}else{this.a8B.setAttribute("style","position:absolute;  right:0px")}var S=this.XQ.rect;
if(S){var B=ih.aa$(Z,m,S.e,S.n);if(B==0){Z=Math.floor(Z/2);J._A(this._X,"flexrow")}else{m=Math.floor(m/2);
J.iB(this._X,"flexrow")}this.M0.MY(Z,m);this.cv.MY(Z,m)}};ih.aa$=function(Z,m,S,B){var C=Z/2,u=m/2,r=Math.min(C/S,m/B),k=Math.min(Z/S,u/B);
return r>k?0:1};ih.prototype.w=function(){dg.prototype.w.call(this);this.Xc.w();this.GG.w();this.DQ.w();
this.Te.w();this.l6.w();this.a0n.w();this.a40.w()};ih.prototype.ahG=function(Z){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.or],"_blank")};
ih.prototype.C7=function(Z,m){this.YS=Z;if(m==bo._4||m==bo.LE){this.Xc.$q(Z.yf);this.Xc.f(bL.UU(),Z.yf.VV,Z.yf.Km)}};
ih.prototype._s=function(Z,m,S,B){var C=this.GY.J();if(B==null){this.M0._s(gf.a63(C-3));return}this.xY=B;
var u=g.T1.N7(this.Xc.J(),B);if(u!=null){this.Xc.f(u);this.i9()}else if(B.j(iZ.Sx)&&B.j(iZ.z8)){var r=this.ha,k=0;
if(B.j(iZ.nQ)){if(this.RJ+1<r.length)k=1}else if(this.RJ>0)k=-1;if(k!=0){this.RJ+=k;var v=this.RJ,e=this.XQ;
if(k==1)l.pY(r[v][2],r[v][0],e.Pe,e.rect);else l.pY(r[v+1][1],r[v+1][0],e.Pe,e.rect);e.PD=e.rect;this.os()}}else if(C<3)this.M0._s(B)};
ih.prototype.mX=function(Z){var m=this.XQ,S=this.ha,B=l.U(Z.Z()*4);l.pY(m.In,m.rect,B,Z);m.In=null;var C=l.U(Z.Z()*4);
l.pY(m.Pe,m.rect,C,Z);this.RJ++;S[this.RJ]=[Z.clone(),B,C];while(S.length>this.RJ+1)S.pop();while(S.length>50){S=S.slice(1);
this.RJ--}};ih.prototype.i9=function(){var Z=this.YS,m=fK.kv(this.Xc.J(),Z.yf.VV,this.M0.z7().R);this.M0.Tg(m)};
ih.prototype.y6=function(Z){var m=this.YS,S=this.XQ,B=this.xY,C=this.Xc.J(),u=this.M0.mj(),r=[16777215,8421504,0][this.GY.J()];
this.Qk=new fK(C,m.yf.VV,m.yf.Km,{Qp:1,hj:!0},r,m.ZN,S.rect);S.In=S.Pe.slice(0);if(B!=null&&B.j(iZ.nQ)&&this.Cd){this.Qk.moveTo(this.Cd.x,this.Cd.y);
this.Qk.lineTo(u.x,u.y)}else this.Qk.moveTo(u.x,u.y);this.atW()};ih.prototype.hI=function(Z){var m=this.XQ,S=this.M0.mj();
this.Qk.lineTo(S.x,S.y);this.atW()};ih.prototype.v4=function(Z){this.Cd=this.M0.mj();this.mX(this.Qk.hE());
this.os()};ih.prototype.atW=function(){var Z=this.XQ,m=this.Qk,S=m.XW();if(S.Ov())return;Z.PD=S;l.a.qn("norm",m.yY(),m.Cp(),Z.Pe,Z.rect,S,1);
this.asS()};ih.prototype.lp=function(Z){var m=this.XQ;m.In=m.Pe.slice(0);m.PD=m.rect;l._z(m.Pe,[4278190080,4292730333][this.or]);
this.mX(m.rect);this.os()};ih.prototype.sc=function(Z,m){this.kg=Z;var S=Z.g[Z._[0]],B=S.rect.clone(),C=B.e,u=B.n;
this.GG.f(this.or==0?3:C*u<3e6?3:0);this.GY.f(Z.$==null?0:1);this.GG.ep();if(this.or==0&&Z.$!=null||this.or==1)this.GG.un();
var r=this.or,k=l.U(B.Z()),v=new Float32Array(B.Z());if(r==0&&Z.$){l.Ju(Z.$.channel,Z.$.rect,k,B);var e=l.U(B.Z());
for(var j=0;j<u;j++)for(var $=0;$<C;$++){var q=j*C+$,U=k[q];if($>0&&k[q-1]!=U||$<C-1&&k[q+1]!=U||j>0&&k[q-C]!=U||j<u-1&&k[q+C]!=U)e[q]=255}l.style.w_(e,v,C,u)}else v.fill(1e9);
B.x=B.y=0;this.XQ={rect:B,MW:S.buffer,s6:k,MT:v,Uu:l.U(B.Z()*4),c9:l.U(B.Z()*4),Pe:l.U(B.Z()*4),In:null,mi:null,PD:B,aio:{}};
if(r==0)this.a8u();else{this.XQ.aio=g.nS.Qv(Z);var H=this.XQ.Pe;l._z(H,4287137928);var z=l.CB.getSelection(S.buffer,C,u),f=Math.round(C/60),D=Math.round(.7*u);
for(var j=0;j<u;j++)for(var $=0;$<C;$++){var n=(j*C+$)*4,L=z[n>>>2];L=L>128?255:128;if(j<f||j<D&&($<f||$>C-1-f))L=0;
H[n]=H[n+1]=H[n+2]=L}this.os()}this.ha=[1];this.RJ=0;var a=this.Xc.J();a.Brsh.v.Dmtr.v.val=Math.round(B.e/(r==0?10:20));
this.Xc.f(a);this.i9();this.MY(this.OU,this.Vi);this.M0.vn()};ih.prototype.a8u=function(){var Z=this.XQ,m=Z.rect.Z(),S=this.GG.J(),B=Z.s6.slice(0);
for(var q=0;q<m;q++)if(Z.MT[q]<S)B[q]=128;l._z(Z.Pe,4294967295);l.cN(B,Z.Pe,0);l.cN(B,Z.Pe,1);l.cN(B,Z.Pe,2);
Z.PD=Z.rect;this.os()};ih.prototype.os=function(){var Z=this.XQ,C,k,v=0,e=0,j=0;this.asS();var m=Z.rect,S=m.e,B=m.n,u=l.U(m.Z()),r=Z.MW;
l.NK(Z.Pe,u,0);for(var q=0;q<u.length;q++){if(r[(q<<2)+3]!=255)continue;var $=u[q];if($==0)v++;else if($==255)e++;
else j++}if(v*e*j!=0){if(this.or==0)k=l.T6.T6(m,r,u);else{var U=this.GY.J();for(var H=1;H<B;H++)for(var z=1;
z<S;z++){var q=H*S+z,f=u[q],D=u[q-1];if(f==0&&D==255||f==255&&D==0){C="The Red and Green should never touch! Erase it with Grey.";
break}}var n=Date.now(),L=this.XQ.aio;l.Yx(u,L.H8);g.nS.K_(L,!0);var a=Math.ceil(this.GG.J()/2);if(a==0){k=r.slice(0);
l.cN(L.$,k,3)}else{var F=L.$.slice(0),A=L.$.slice(0);for(var T=0;T<a;T++){for(var H=1;H<B-1;H++)for(var z=1;
z<S-1;z++){var q=H*m.e+z,P=F[q];if(F[q-S]!=P||F[q-1]!=P||F[q+1]!=P||F[q+S]!=P)A[q]=128;else A[q]=P}var Y=F;
F=A;A=Y}k=l.T6.T6(m,r,F,20,!1)}}}else{k=r.slice(0);l.cN(u,k,3)}for(var q=3;q<k.length;q+=4)if(k[q]>r[q])k[q]=r[q];
if(m.Qu(Z.rect))Z.mi=k;else l.pY(k,m,Z.mi,Z.rect);this.a6Q();if(C)alert(C,4e3)};ih.prototype.asS=function(Z){var m=this.XQ,S=m.PD;
l.pY(m.MW,m.rect,m.Uu,m.rect,S,!0);var B=m.Pe;if(this.or==1){var C=new Uint32Array(256);C[0]=4278190335;
C[255]=4278255360;var u=m.rect.Z();B=B.slice(0);var r=new Uint32Array(B.buffer);for(var q=0;q<u;q+=2){r[q]=C[r[q]&255];
r[q+1]=C[r[q+1]&255]}}l.a.qn("norm",B,m.rect,m.Uu,m.rect,S,.3);this.M0.f([{cR:m.rect,data:m.Uu.buffer}])};
ih.prototype.a6Q=function(Z){var m=this.XQ;l._z(m.c9,[0,4294967295,4278190080][this.Te.J()]);l.a.qn("norm",m.mi,m.rect,m.c9,m.rect,m.rect,1);
this.cv.f([{cR:m.rect,data:m.c9.buffer}])};ih.prototype.dQ=function(Z){var m=this.kg,S=this.XQ,B=this.l6.J(),C=m.g[m._[0]],u=new eY(_.E.Y,!0);
u.k0=!0;var r=C.rect.clone();if(B==0&&C.tm()||B!=0&&!C.tm()){u.b=g.vJ;u.data={d:w.Xm,i:m._[0]};this.c(u)}if(m.$!=null){u.b=g.Ml;
u.data={d:"fromAction",KT:g.nJ.r_()};this.c(u)}if(B==0){var k=m.g.slice(0),v=m.AB();v.Se(C.getName());
k.splice(m._[0]+1,0,v);v.rect=r;v.buffer=S.mi;v.G();u.b=g.vJ;u.data={d:w.Wn,Gb:k,DA:[m._[0]+1],fm:[7,11]};
this.c(u)}if(B==1){var e=C.sd();u.b=g.vJ;u.data={d:w.Xe,abW:!0};this.c(u);var j=C.sd();j.channel=l.U(r.Z());
j.rect=r;j.color=0;j.ZZ=!0;l.NK(S.mi,j.channel,3);if(e){var $=j.n_(e);j.rect=$.rect;j.channel=$.channel;
j.color=$.color}j.t6();C.T3()}if(B==2){var U={rect:r,channel:l.U(r.Z())};l.NK(S.mi,U.channel,3);u.b=g.Ml;
u.data={d:"setsel",$:U,fm:this.xJ};this.c(u)}this.close()};function cM(){dg.call(this,[1,13],"locstor");
this._q=null;this.Pn=[];var Z=this.body,m=J.L("p");m.textContent="These files are loaded every time you start Photopea.";
Z.appendChild(m);this.a8A=0;this.T0=J.L("span");Z.appendChild(this.T0);this.T0.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var S=J.L("span","form");Z.appendChild(S);this.He=new dX([5,4],!1,null,!0);this.He.h("click",this.a5w,this);
S.appendChild(this.He.m);this.alq=new dX("Get all as ZIP",!1,null,!0);this.alq.h("click",this.Zs,this);
S.appendChild(this.alq.m);this.f4=new gk(!0);this.f4.parent=this;this.f4.dt(1);Z.appendChild(this.f4.m);
this.f4.m.setAttribute("style","width: 40em; height: 25em")}cM.prototype=new dg;cM.prototype.w=function(){dg.prototype.w.call(this);
this.T0.textContent=iD.get([13,2])+": "+ah.Ij(this.a8A);this.He.w()};cM.prototype.C7=function(Z,m){this._q=Z;
if(m==bo.r5)this.sc()};cM.prototype.sc=function(Z,m){var S=this._q.aW.KF,v=0;this.Pn=[];for(var B in S)this.Pn.push(B);
this.Pn.sort(function(j,$){j=j.split(".");$=$.split(".");return j[1]==$[1]?j[0]<$[0]?-1:1:j[1]<$[1]?-1:1});
var C=Math.floor(100*J.F()),u=Math.floor(16*J.F()),r=[],k=[];for(var q=0;q<this.Pn.length;q++){var B=this.Pn[q],e=cM.bW(B,S[B],C,u);
r.push(e);k.push(B);v+=S[B].byteLength}this.f4.Rs(r,k,C,u);this.a8A=v;this.w()};cM.prototype.a5w=function(Z){var m=this.f4.J();
if(m.length==0){alert("Select a file first.");return}this.f4.f([]);var S=this._q.aW.KF;for(var q=0;q<m.length;
q++)delete S[this.Pn[m[q]]];var B=new eY(_.E.W,!0);B.data={d:_.B.L8,Lh:bo.r5};this.c(B)};cM.prototype.Zs=function(Z){var m=this._q.aW.KF,S={};
for(var B in m)S[B]=new Uint8Array(m[B]);var C=UZIP.encode(S);dN.save(C,"resources.zip")};cM.bW=function(Z,m,S,B){var C=J.L("canvas"),k=0;
C.width=S;C.height=B;var u=C.getContext("2d"),r=Z.split(".").pop().toLowerCase();for(var q=0;q<r.length;
q++)k+=r.charCodeAt(q)*613<<8*q;u.fillStyle="#"+l.L5(k&16777215);u.fillRect(0,0,20,B);var v=Math.floor(14*J.F());
u.fillStyle="#000000";u.font="bold "+v+"px sans-serif";var e=(B-v)/2,j=ah.Ij(m.byteLength),$=u.measureText(j);
u.fillText(j,S-12-$.width,B-e);return C.toDataURL()};function dY(){dg.call(this,[1,15],"pmanager");this._q=null;
this.Qf=new fH([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.Qf.h(_.E.o,this.sc,this);
this.body.appendChild(this.Qf.m);var Z=J.L("div","flexrow");this.body.appendChild(Z);var m=this.a2f=J.L("div");
Z.appendChild(m);var S=J.L("div","form");Z.appendChild(S);S.setAttribute("style","width:140px; margin-left:12px");
this.adq=[bo._4,bo.td,bo.uN,bo.gw,bo.w8,bo.le];this.D1=[new bs,new hW,new au,new hM,new jS,new hg];for(var q=0;
q<this.D1.length;q++)this.D1[q].parent=this;this.Fc=[];for(var q=0;q<4;q++){var B=new dX("Hello",!0,null,!0);
B.h("click",this.WU,this);this.Fc.push(B);S.appendChild(B.m)}this.sc()}dY.prototype=new dg;dY.prototype.ar=function(Z){return Z==iZ.bK||Z==iZ.cE};
dY.prototype.WU=function(Z){var q=this.Fc.indexOf(Z.target);this.D1[this.Qf.J()].W2(q)};dY.prototype.w=function(){dg.prototype.w.call(this);
this.Qf.w();for(var q=0;q<this.D1.length;q++)this.D1[q].w();var Z=this.Fc,m=this.Qf.J(),S=bo.yA[this.adq[m]],B=S[0].toUpperCase();
Z[0].zR([[23,6],"."+B]);Z[1].zR(["VAR0 ."+B,[1,8]]);Z[2].zR([6,37]);Z[3].zR([5,4])};dY.prototype.C7=function(Z,m){this._q=Z;
this.sc()};dY.prototype.sc=function(Z,m){if(!J.Qt(this.m))return;this.w();J.uq(this.a2f);this.a2f.appendChild(this.D1[this.Qf.J()].Fx);
var S=this.D1,B=this._q;if(B==null)return;S[0].$q(B.yf);S[1].lP(B.Nx,B.ZN);S[1].$q(B.oi);S[2].$q(B.jx);
S[3].$q([B.Py,B.jx]);S[4].$q(B.Tz);S[5].$q(B.Uv)};function h9(Z,m,S){dg.call(this,m,"cwindow");this.ad$=new aS(S[0],S[1]-33);
this.YF=J.L("div","form");this.YF.setAttribute("style","width:"+(S[2]-S[0])+"px; height:"+(S[3]-S[1])+"px");
this.body.appendChild(this.YF)}h9.prototype=new dg;h9.prototype.ya=function(Z,m){return this.ad$.clone()};
function fx(){dg.call(this,["PSD VAR0",[25,0]],"templates");this.aft=null;this.sB=null;this.G2=0;this.a6=null;
this.body.setAttribute("style","padding:0");this.qW=new dX("Add Templates",null,null,!0);this.body.appendChild(this.qW.m);
this.qW.h("click",this.al2,this);this.qW.m.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.a4a=new dX("New Template",null,null,!0);this.a4a.h("click",this.aog,this);this.a3z=new dX("Upload Current Document as a Template",null,null,!0);
this.a3z.h("click",this.acx,this);this.s2=J.L("iframe","scrollable");this.s2.setAttribute("style","border:none; margin:0; padding:0;");
this.jd=J.L("div","form scrollable padded");this.Z5=J.L("div","form scrollable padded label12");var Z=[],m=fx.n2;
this.jS=[];for(var S in m){var B=parseInt(S.slice(1)),C=B%10==0?"":"\u2800\u2800- ";Z.push(C+m[S]);this.jS.push(B)}this.K8=[new ec("Name",null,30),new ec("Description",null,30,4),new ec("File"," www.Photopea.com#i...",17),new ec("Thumbnail URL","* Use Imgur.com etc.",17),new fH("Category",Z),new dX("<< Back",null,null,!0),new dX("Save",null,null,!0),new ed("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new ed("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var q=0;q<this.K8.length;q++){var u=this.K8[q];this.Z5.appendChild(u.m);u.parent=this;if(q!=5)J.ed(this.Z5);
if(u instanceof dX)u.h("click",this.alL,this)}this.body.appendChild(this.s2)}fx.prototype=new dg;fx.prototype.ya=function(Z,m){return new aS(0,0)};
fx.prototype.MY=function(Z,m){this.OU=Z;this.Vi=m;this.Rt=null;m=m-4;Z=Z;var S=this.jd;S.style.width=Z-12+"px";
S.style.height=m-12+"px";var S=this.Z5;S.style.width=Z-12+"px";S.style.height=m-12+"px";var S=this.s2;
S.style.width=Z+"px";S.style.height=m+"px";this.lF()};fx.prototype.w=function(){dg.prototype.w.call(this)};
fx.prototype.sc=function(Z,m,S,B){this.Rt=Z;this.al2(null,!1)};fx.prototype.al2=function(Z,m){var S=m!=null?m:J.Qt(this.s2);
if(S){if(!eH.lN()){alert("You need to log in first!");return}var B=eH.Wf();this.sB=B.tpl?B.tpl.list:[];
this.lF()}else{this.s2.setAttribute("src","");this.s2.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(S?this.jd:this.s2);this.qW.zR(S?"All Templates":"Add Templates")};fx.prototype.lF=function(){var Z=this.sB,u=450;
if(Z==null)return;var m=this.jd;J.uq(m);var S=J.L("h1");m.appendChild(S);S.textContent="Share your PSD templates with the world!";
var B=J.L("ul");m.appendChild(B);var C=J.L("li");B.appendChild(C);C.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var C=J.L("li");B.appendChild(C);C.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
m.appendChild(this.a4a.m);m.appendChild(this.a3z.m);J.ed(m);u=(this.OU-20)/Math.max(1,Math.floor(this.OU/u))-42;
var r="display:inline-block; width:"+u+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var q=Z.length-1;q>=0;q--){var k=Z[q],v=J.L("div");m.appendChild(v);v.setAttribute("style",r);var e=J.L("img");
v.appendChild(e);e.setAttribute("src",k.thmb);e.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var j=J.L("h3");v.appendChild(j);j.textContent=k.name;j.setAttribute("style","margin:0 0 10px 0");var $=J.L("p");
v.appendChild($);$.textContent=k.desc;$.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var U=0;U<2;U++){var H=new dX(U==0?"Edit":"Delete",null,null,!0);H.aiw=q;H.vc=U==0;H.h("click",this.atL,this);
v.appendChild(H.m)}}};fx.prototype.acx=function(Z){if(this.Rt==null){alert("No document opened.");return}var m=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!m)return;var S=new eY(_.E.W,!0);S.data={d:_.B.Pr,EP:"psd",h5:this.a4Q.bind(this)};this.c(S)};fx.prototype.a4Q=function(Z){this.aft=Z;
var m=new eY(_.E.W,!0);m.data={d:_.B.Pr,EP:"jpg",h5:this.a0e.bind(this),aey:1400};this.c(m)};fx.prototype.a0e=function(Z){this.a6={catg:0,desc:"",file:this.aft.split("#i").pop(),name:this.Rt.name.split(".")[0],thmb:Z,utme:""};
this.vc()};fx.prototype.aog=function(Z){this.a6={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.vc()};
fx.prototype.atL=function(Z){this.G2=Z.target.aiw;if(!Z.target.vc){this.sB.splice(this.G2,1);this.Zs();
this.lF();return}this.vc()};fx.prototype.vc=function(){this.body.removeChild(this.jd);this.body.appendChild(this.Z5);
var Z=["name","desc","file","thmb"],m=this.a6?this.a6:this.sB[this.G2];for(var q=0;q<4;q++){var S=m[Z[q]];
if(S!=""&&q==2)S="https://photopea.com#i"+S;this.K8[q].f(S)}this.K8[4].f(this.jS.indexOf(m.catg))};fx.prototype.alL=function(Z){if(this.K8.indexOf(Z.target)==6){var m=this.K8[3].J().trim(),S=m.startsWith("http")&&(m.endsWith(".jpeg")||m.endsWith(".jpg")||m.endsWith(".png"));
if(!S){alert("Thumbnail URL is incorrect.");return}var B=new XMLHttpRequest,C="mirror.php?url="+encodeURIComponent(m);
B.open("GET",C);B.responseType="arraybuffer";B.onload=this.ajt.bind(this);B.send()}else this.lp()};fx.prototype.ajt=function(Z){var m=Z.target.response,S=m.byteLength;
if(S>2e5){alert("Thumbnail is too large ("+ah.Ij(S)+"). Make it under 200 kB.");return}var B=["name","desc","file","thmb"],C=this.a6?this.a6:this.sB[this.G2];
for(var q=0;q<4;q++){var u=this.K8[q].J().trim();if(u.length==0){alert("One of values is empty.");return}if(q==2){var r=u.split("#i");
if(r.length!=2||r[1].length!=8){alert("File ID is incorrect.");return}u=r.pop()}C[B[q]]=u}C.catg=this.jS[this.K8[4].J()];
if(C.utme.length==0)C.utme=""+Math.round(Date.now()/1e3);if(this.a6)this.sB.push(this.a6);this.Zs();
this.lp()};fx.prototype.lp=function(){this.a6=null;this.body.removeChild(this.Z5);this.body.appendChild(this.jd);
this.lF()};fx.prototype.Zs=function(){var Z=eH.Wf();if(this.sB.length==0)delete Z.tpl;else Z.tpl={list:JSON.parse(JSON.stringify(this.sB))};
eH.B_(Z,function(){alert("Saved.")})};fx.n2={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function f3(){dg.call(this,"Make Selection","makesel");this._q=null;var Z=J.L("div","form");this.body.appendChild(Z);
this.SX=new ae([12,25,1]);this.SX.f(!0);Z.appendChild(this.SX.m);J.ed(Z);this.d6=new iE(!0);Z.appendChild(this.d6.m);
this.DQ=J.Pu(this,this.body)}f3.prototype=new dg;f3.prototype.w=function(){dg.prototype.w.call(this);
this.d6.w();this.SX.w();this.DQ.w()};f3.prototype.dQ=function(Z){var m=new eY(_.E.Y,!0);m.b=g.Ml;m.data={d:"frompath",ZT:[null,0,this.d6.J(),!this.SX.J()]};
this.close();this.c(m)};function dP(){dg.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.Rt=null;this.p5=null;
this.Br=null;var Z=this.anp=J.L("div","form");Z.setAttribute("style","width:20em");this.body.appendChild(Z);
this.Xb=new g6([12,50],["PSD","PSB"]);this.Xb.h(_.E.o,this.Po,this);Z.appendChild(this.Xb.m);J.hx(Z);
var m=new ed("Minify the file");Z.appendChild(m.m);J.ed(Z);var S=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.f7=[];for(var q=0;q<S.length;q++){var B=new ae(S[q]);this.f7.push(B);Z.appendChild(B.m);B.h(_.E.o,this.Po,this)}J.hx(Z);
this.ij=new ed("aa.psd");this.r1=new ed("10 kB");Z.appendChild(this.r1.m);this.apq=new ed("1000 B");
Z.appendChild(this.apq.m);this.DQ=new dX([1,2],!0,null,!0);this.DQ.h("click",this.dQ,this);Z.appendChild(this.DQ.m);
this.WO=new dX(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.WO.h("click",this.dQ,this);Z.appendChild(this.WO.m);
this.h("closebtn",this.AA,this)}dP.prototype=new dg;dP.prototype.sc=function(Z,m,S,B){var C=J.Qt(this.WO.m),u=Z.cz!=null&&Z.cz.Zy=="psd";
if(u&&!C)this.anp.appendChild(this.WO.m);if(!u&&C)this.anp.removeChild(this.WO.m);for(var q=0;q<this.f7.length;
q++)this.f7[q].f(!1);this.Rt=Z;this.Po()};dP.prototype.dQ=function(Z){if(Z.target==this.DQ)dN.save(this.p5,this.Br);
else{if(this.f7[3].J()){alert("You should not save a ZIP as a PSD to Google Drive.");return}fh.ajM(this.Rt,this.p5)}};
dP.prototype.AA=function(){this.Rt=null;this.p5=null};dP.prototype.Po=function(){var Z=this.Rt,m=[!1,!1,!1,!1];
for(var q=0;q<3;q++)m[q]=this.f7[q].J();var S=this.f7[3].J(),B=m[3]=this.Xb.J()==1,C=Z.name.slice(0,Z.name.length-3),u=this.p5=e2.Vh("PSD").md(Z,0,0,m),gY=this.Br=C+"ps"+(B?"b":"d");
if(S){var r={};r[gY]=new Uint8Array(u);u=this.p5=UZIP.encode(r);gY=this.Br=C+"zip"}this.ij.f(gY);this.r1.f(ah.Ij(u.byteLength));
this.r1.m.style["font-size"]="2em";this.apq.f(" \u2001 "+u.byteLength+" B");this.DQ.zR(iD.get([1,2])+" \""+gY+"\"")};
dP.prototype.w=function(){dg.prototype.w.call(this);this.DQ.w();this.WO.w()};function jD(){dg.call(this,"Confirm","confirm");
this.AZ=null;var Z=J.L("div","form");this.body.appendChild(Z);this.EY=J.L("div");this.EY.textContent="Hello";
Z.appendChild(this.EY);this.DQ=J.Pu(this,Z);Z.appendChild(this.DQ.m)}jD.prototype=new dg;jD.prototype.dQ=function(Z){this.AZ();
this.close()};jD.prototype.sc=function(Z,m){this.EY.textContent=m.k;this.AZ=m.AZ};jD.prototype.ya=function(Z,m){return new aS(Math.max(0,(Z-500)/2),Math.max(0,Math.min(60,(m-100)/2)))};
jD.prototype.MY=function(Z,m){this.EY.style.width=Z-30+"px"};function bY(){dg.call(this,"New Artboard","newartb");
this.or=0;this.fu=null;var Z=J.L("div","form");Z.style.width="260px";this.body.appendChild(Z);this.f4=new hs;
Z.appendChild(this.f4.m);this.DQ=J.Pu(this,Z)}bY.prototype=new dg;bY.prototype.DP=function(Z,m){return Z!=null};
bY.prototype.dQ=function(Z){var m=this.f4.J();this.fu.e=m.x;this.fu.n=m.y;var S=new eY(_.E.Y,!0);S.b=g.h6;
S.data={a82:this.fu,PC:this.or};this.c(S);this.close()};bY.prototype.w=function(){dg.prototype.w.call(this);
this.f4.w();this.DQ.w()};bY.prototype.sc=function(Z,m){this.or=m.PC;var S=new bq(0,0,Z.e,Z.n);if(Z._.length!=0){var B=Z.g[Z._[0]];
if(B.add.artb){S=B.u1();S.x+=S.e+100}if(m.PC==1)S=g.Q.Cp(Z)}this.fu=S;this.f4.f(new aS(S.e,S.n))};function cn(Z,m,S,B){aw.call(this);
this.name=Z;this.aaZ=S;this.QI=B;this.qM=J.L("div","");this.qM.setAttribute("draggable","true");this.ew=J.L("div","pbody");
this.Tr=new dX("",!1,"");this.Tr.parent=this;this.am0=J.L("span","cross");this.uD=J.L("span","label");
var C=this.asA.bind(this);this.qM.addEventListener("mousedown",this.aoF.bind(this),!1);this.qM.addEventListener("contextmenu",C,!1);
this.Tr.m.addEventListener("contextmenu",C,!1);this.am0.addEventListener("mousedown",this.v5.bind(this),!1);
this.qM.appendChild(this.uD);if(m)this.qM.appendChild(this.am0);this.S6=!1;this.J4=new am([{name:[1,12,0]}]);
this.J4.h("select",this.v5,this);this.uD.textContent=Z}cn.prototype=new aw;cn.prototype.wK=function(){return null};
cn.prototype.w=function(){var Z=iD.get(this.name),m=this.OU==0?22:Math.round(2+this.OU/50),S=Z.length>m;
this.uD.textContent=S?Z.slice(0,m-2):Z;if(S)for(var B=0;B<2;B++){var C=J.L("span");C.textContent=Z.charAt(m-2+B);
C.setAttribute("style","opacity:"+(.6-B*.4));this.uD.appendChild(C)}var u=Z.split(" "),r=u.length==2?u[0].substring(0,2)+u[1][0]:Z.substring(0,3);
if(r.charCodeAt(0)>=11776)r=r.substring(0,1);var k=this.aaZ;if(k==null)this.Tr.zR(r,Z);else{var v;if(k.startsWith("---"))v="<img src=\""+PIMG[k.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(k.indexOf("\"")==-1)v="<img src=\""+k+"\" alt=\""+Z+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Tr.zR(v,Z)}};cn.prototype.enable=function(){this.ew.setAttribute("class","pbody")};cn.prototype.disable=function(){this.ew.setAttribute("class","pbody disabled")};
cn.prototype.C7=function(Z,m){};cn.prototype.sc=function(Z,m,S){};cn.prototype.Ze=function(Z){};cn.prototype.MY=function(Z,m){};
cn.prototype.BA=function(Z){this.name=Z;this.w()};cn.prototype._K=function(){};cn.prototype.aoF=function(Z){if(Z.button==0)this.c(new eY("select",!1))};
cn.prototype.asA=function(Z){J.Tj(Z);if(this.QI!=null&&isNaN(this.QI))return;var m=J.W7(Z,document.body),S=this.J4;
S.update(null);S.w();S.parent=this;var B=new eY(_.E.W,!0);B.data={d:_.B.HM,Xg:S,x:m.x+1,y:m.y+1};this.c(B)};
cn.prototype.Bc=function(){this.v5({})};cn.prototype.v5=function(Z){if(Z.stopPropagation)Z.stopPropagation();
if(this.QI!=null&&!isNaN(this.QI)){var m=new eY(_.E.W,!0);m.data={d:_.B.Kb,Xg:this.J4};this.c(m);m.data={d:_.B.L8,Lh:bo.sQ,k:parseFloat(this.QI),Wq:"del"};
this.c(m)}else if(this.agY())this.c(new eY(_.E.ba,!1))};cn.prototype.agY=function(Z){return!0};cn.prototype.kV=function(Z,m,S,B,C){};
cn.prototype.hJ=function(Z,m,S,B,C){};cn.prototype.qB=function(Z,m,S,B,C){};cn.HF=function(Z,m){if(Z.childElementCount!=0)return;
var S=Z.textContent;this.vl=this.acM.bind(this);this.arG=this.a9X.bind(this);this.Le=m;this.pH=Z;this.a9p=S;
var B=J.L("input","");B.setAttribute("type","text");B.setAttribute("size","10");B.setAttribute("value",S);
J.uq(Z);Z.appendChild(B);B.select();B.focus();J.m8(Z);Z.addEventListener("keyup",this.vl,!1);document.body.addEventListener("mousedown",this.arG,!1)};
cn.HF.prototype.acM=function(Z){var m=iZ.tH,S=m(Z.code,iZ.Z6);if(m(Z.code,iZ.xU)||S)this.abN(S)};cn.HF.prototype.a9X=function(Z){var m=Z.target;
if(m.tagName&&m.tagName.toLowerCase()=="input")return;this.abN(!0)};cn.HF.prototype.abN=function(Z){var m=this.pH,S=m.firstChild.value;
m.removeEventListener("keyup",this.vl);document.body.removeEventListener("mousedown",this.arG);if(Z&&S!=""){this.Le(S)}else{J.uq(m);
m.textContent=this.a9p}};cn.kI={C5:"0",ajb:"1",vJ:"2",auT:"3",aby:"4",sZ:"5",CSS:"6",_4:"7",apm:"8",au2:"9",abg:"10",acW:"11",aip:"12",HA:"13",L1:"14",ace:"15",a6E:"16",XZ:"17",ajR:"18",abj:"19",a9z:"20",gw:"21",a7B:"22"};
function hu(){cn.call(this,[9,9],!1,"---panels/actions",cn.kI.acW);this._q=null;this.GX=[0,0];this.oJ=J.L("div","padded scrollable");
this.oJ.setAttribute("style","width:260px;  height:260px");this.ew.appendChild(this.oJ);this.h(_.E.o,this.Ra,this);
this.ht=J.L("div","lpfoot");this.ew.appendChild(this.ht);this.D1=[];var Z="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",m="</svg>",S=Z+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+m,B=Z+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+m;
this.ar5=Z+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+m;this.auy=Z+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+m;
var C=[this.ar5,B,"lrs/folder","lrs/newlayer","lrs/bin",S],u=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var q=0;q<C.length;q++){var r=C[q];if(1<q&&q!=C.length-1)r="<img src=\""+PIMG[C[q]]+"\" class=\"gsicon\" />";
var k=new dX(r,!1,u[q]);k.h("click",this.alC,this);this.ht.appendChild(k.m);this.D1.push(k)}}hu.prototype=new cn("");
hu.prototype.w=function(){cn.prototype.w.call(this);for(var q=0;q<this.D1.length;q++)this.D1[q].w()};
hu.prototype.alC=function(Z){var q=this.D1.indexOf(Z.currentTarget),m=this.GX,S=this._q,B=S.ri;if(q==0){var C,u=S.mt;
if(B.length==0){alert("Create an Action Set first.");return}if(m.length<2){alert("Select a target action first.");
return}if(u==null){C=this.auy;u=this.GX}else{C=this.ar5;u=null}this.D1[0].zR(C);S.mt=u}else if(q==1)this.alh();
else if(q==2||q==3){var r={fm:"Action Set "+B.length,ma:[],exp:!0};if(q==2||B.length==0){m=[B.length];
B.push(r)}if(q==3){var k=B[m[0]].ma;m=[m[0],k.length];k.push({fm:"Action "+k.length,color:0,ma:[],aov:!1,shift:!1,exp:!0,lU:k.length})}this.GX=m;
this.Hk()}else if(q==4){var v;if(m.length==1)v=B;else if(m.length==2)v=B[m[0]].ma;else v=B[m[0]].ma[m[1]].ma;
var e=m.length-1;v.splice(m[e],1);if(v.length==0)m.pop();else while(m[e]>=v.length)m[e]--;if(m.length==0)m.push(0);
this.Hk()}else if(q==5){if(B.length==0){alert("No Actions Present.");return}var j=new eY(_.E.W,!0);j.data={d:_.B.Cv,ajZ:bo.Y,$I:m[0]};
this.c(j)}};hu.prototype.Ra=function(Z){var m=this._q.ri,S=Z.data.d,B=Z.data.gO;if(S=="sel")this.GX=B;
if(S=="fold"){if(B.length==1)m[B[0]].exp=!m[B[0]].exp;else m[B[0]].ma[B[1]].exp=!m[B[0]].ma[B[1]].exp}if(S=="enab"){var C=m[B[0]].ma[B[1]].ma[B[2]];
C.K=!C.K}if(S=="nchange"){if(B.length==1)m[B[0]].fm=Z.data.Jo;else m[B[0]].ma[B[1]].fm=Z.data.Jo}this.Hk()};
hu.prototype.C7=function(Z,m){this._q=Z;if(m==bo.Y||m==bo.LE)this.Hk()};hu.prototype.Hk=function(){if(this._q==null)return;
J.uq(this.oJ);var Z=this._q.ri;if(Z.length==0)return;var m=JSON.stringify(this.GX);for(var q=0;q<Z.length;
q++){var S=Z[q],B=new hu.gF([q],m,S.exp,S.fm.split("=").pop());B.parent=this;this.oJ.appendChild(B.m);
if(!S.exp)continue;for(var C=0;C<S.ma.length;C++){var u=S.ma[C],B=new hu.gF([q,C],m,u.exp,u.fm.split("=").pop());
B.parent=this;this.oJ.appendChild(B.m);if(!u.exp)continue;for(var r=0;r<u.ma.length;r++){var k=u.ma[r],B=new hu.gF([q,C,r],m,null,iD.get(hX.an2(k)),k.K);
B.parent=this;this.oJ.appendChild(B.m)}}}};hu.prototype.alh=function(){var Z=this._q.ri,m=this.GX;if(Z.length==0){alert("No Actions Present");
return}if(m.length==1){alert("Select an Action first");return}if(this._q.mt!=null){alert("You can not apply actions while recording actions");
return}if(m.length==1)m.push(0);var S=Z[m[0]],B=S.ma[m[1]],C=new eY(_.E.W,!0);C.data={d:_.B.uU,ZT:[B.fm,S.fm]};
this.c(C)};hu.gF=function(Z,m,S,B,C){aw.call(this);this.gO=Z;var u=this.gO.length-1;this.m=J.L("div","layeritem"+(JSON.stringify(Z)==m?" selected":""));
this.eE=J.L("div","head");this.m.appendChild(this.eE);this.eE.setAttribute("style","height:24px");this.ll=J.L("div","headL");
this.eE.appendChild(this.ll);if(u!=0){var r=J.L("div");r.style.width=u*20+"px";this.ll.appendChild(r)}if(S!=null){var k=this.agi=J.L("div",S?"open":"closed");
this.ll.appendChild(k)}else{var v=this.a8k=J.L("div","cmark");v.setAttribute("style","background-size:12px 12px; opacity:"+(C?1:.3));
this.ll.appendChild(v)}if(u==0){var e=J.L("div","folder");this.ll.appendChild(e)}var j=this.uD=J.L("div","label");
j.textContent=B;this.ll.appendChild(j);this.m.addEventListener("mouseup",this.nf.bind(this),!1)};hu.gF.prototype=new aw;
hu.gF.prototype.nf=function(Z){if(Z.detail==1&&Z.target.tagName.toLowerCase()!="input"){var m="sel";
if(Z.target==this.agi)m="fold";if(Z.target==this.a8k)m="enab";var S=new eY(_.E.o,!0);S.data={d:m,gO:this.gO};
this.c(S)}else if(this.gO.length<3)var B=new cn.HF(this.uD,this.Le.bind(this))};hu.gF.prototype.Le=function(Z){var m=new eY(_.E.o,!0);
m.data={d:"nchange",Jo:Z,gO:this.gO};this.c(m)};function ic(){cn.call(this,[3],!1,"---lrs/adj",cn.kI.ajR);
this.ew.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.D1=[];var q=0;
for(var Z in e$.names){var m=new dX("<img src=\""+PIMG["adj/"+Z]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,e$.names[Z]);
m.h("click",this.aoM,this);this.D1.push(m);this.ew.appendChild(m.m);if(q==4||q==10)J.ed(this.ew);q++}}ic.prototype=new cn("");
ic.prototype.w=function(){cn.prototype.w.call(this);for(var q=0;q<this.D1.length;q++)this.D1[q].w()};
ic.prototype.aoM=function(Z){var m=this.D1.indexOf(Z.target),S=ft.PH()[m],B=new eY(S.T,!0);B.data=S.V;
this.c(B)};function jb(){cn.call(this,[12,22],!1,null,cn.kI.gw);this.oJ=J.L("div","padded");this.ew.appendChild(this.oJ);
this.D5=new hM(null,17.7,10);this.D5.parent=this;this.D5.h(_.E.o,this.Ln,this);this.oJ.appendChild(this.D5.Fx)}jb.prototype=new cn("");
jb.prototype.Ln=function(Z){var m=this.D5.J(),S=new eY(_.E.Y,!0);S.data={d:"setstl",k:m.lS};S.b=g.oV;
this.c(S);S.data={d:"confirm"};this.c(S)};jb.prototype.C7=function(Z,m){if(m==bo.gw||m==bo.LE){this.D5.$q([Z.Py,Z.jx])}};
var dZ=function(){function Z(){cn.call(this,[9,3],!1,"---panels/brush",cn.kI._4);this.$w=null;this.U3=null;
this._q=null}Z.prototype=new cn("");Z.prototype.qm=function(){var r=J.L("div","");this.ew.appendChild(r);
this.Xo=J.L("div","bordered cell");this.Xo.setAttribute("style","width:10em; height:28.5em;");r.appendChild(this.Xo);
this.VD=[];this.qP=null;this.T2=[];var k=this.aqN.bind(this);this.y0=[new S,new B,new C,new u];for(var q=0;
q<this.y0.length;q++){var v=J.L("div","listitem"),e=this.y0[q].bD,j=null;if(q==0){this.qP=new ed(e);
v.appendChild(this.qP.m)}else{j=new ae(e,!1);j.h(_.E.o,this.au7,this);v.appendChild(j.m)}this.T2.push(j);
this.Xo.appendChild(v);this.VD.push(v);v.addEventListener("click",k,!1)}this.yR=J.L("div","cell padded");
r.appendChild(this.yR);for(var q=0;q<this.y0.length;q++)this.y0[q].h("brushchange",this.aet,this);this.setItem(0);
this.O=J.L("canvas");this.O.height=10;r.appendChild(this.O);this.az=this.O.getContext("2d");this.os()};
Z.prototype.MY=function(r,k){if(this.OU==r)return;this.OU=r;this.Vi=k;this.os()};Z.prototype._K=function(){if(!J.Qt(this.ew))return;
if(this.Xo){this.os();return}this.qm();this.w();this.C7(this._q,bo.LE)};Z.prototype.w=function(){cn.prototype.w.call(this);
if(this.Xo==null)return;this.qP.w();for(var q=1;q<this.T2.length;q++)this.T2[q].w();for(var q=0;q<this.y0.length;
q++)this.y0[q].w()};Z.prototype.aet=function(r){var k=this.y0.indexOf(r.currentTarget),v=JSON.parse(JSON.stringify(this.y0[k].U3)),e=new eY(_.E.W,!0);
e.data={d:_.B.L8,Lh:bo.iF,U3:v};this.c(e)};Z.prototype.au7=function(r){this.ak$(this.T2.indexOf(r.currentTarget),r.currentTarget.sS())};
Z.prototype.aqN=function(r){var q=this.VD.indexOf(r.currentTarget);if(r.target.tagName.toLowerCase()=="input")return;
if(this.T2[q]&&!this.T2[q].sS()){this.T2[q].HS();this.ak$(q,!0)}this.setItem(q)};Z.prototype.ak$=function(r,k){this.y0[r].xq(k)};
Z.prototype.setItem=function(r){for(var q=0;q<this.y0.length;q++)this.VD[q].setAttribute("class","listitem");
if(this.yR.firstChild)this.yR.removeChild(this.yR.firstChild);this.VD[r].setAttribute("class","listitem selected");
this.yR.appendChild(this.y0[r].m)};Z.prototype.C7=function(r,k){this._q=r;if(this.Xo==null)return;if(k==bo._4||k==bo.LE){this.$w=r.yf;
for(var q=0;q<this.y0.length;q++)this.y0[q].$q(this.$w)}if(k==bo.iF||k==bo.LE){this.U3=r.yf.dS;this.os()}if(k==bo.HA)this.os()};
Z.prototype.os=function(){if(this.U3)this.enable();else{this.disable();return}if(!J.Qt(this.ew))return;
var r=this._q;for(var q=0;q<this.y0.length;q++){this.y0[q].f(this.U3);if(this.T2[q])this.T2[q].f(this.y0[q].sS())}var k=JSON.parse(JSON.stringify(this.U3));
k.Brsh.v.Dmtr.v.val=Math.min(k.Brsh.v.Dmtr.v.val,50);J.Nm(this.O,this.OU,80);var v=new bq(0,0,this.O.width,this.O.height),e=new fK(k,this.$w?this.$w.VV:null,this.$w?this.$w.Km:null,{Qp:1},r.Nx,r.ZN,v,null,0),j=v.n/2,$=v.e-j*2;
e.moveTo(j,j);for(var q=0;q<=$;q+=10)e.lineTo(j+q,j+20*Math.sin(2*Math.PI*q/$));e.finish();var U=this.az.createImageData(v.e,v.n);
l.pY(e.yY(),e.Cp(),U.data,v);this.az.putImageData(U,0,0)};function m(r){aw.call(this);this.bD=r;this.m=J.L("div","");
this.U3=null}m.prototype=new aw;m.prototype.$q=function(r){};m.prototype.f=function(r){this.U3=JSON.parse(JSON.stringify(r));
this.m.setAttribute("class",this.sS()?"":"disabled");this.os()};m.prototype.xq=function(r){};m.prototype.sS=function(){return!1};
m.prototype.w=function(){};m.prototype.os=function(){};m.prototype.rT=function(){this.c(new eY("brushchange"))};
function S(){m.call(this,[15,0]);this.$w=null;this.a1h=null;this.xT=new gk(!0);this.m.appendChild(this.xT.m);
this.xT.h(_.E.o,this.a6J,this);this.xT.m.style.height="10.7em";this.WM=new iG([12,14,0],1,1e3," px",0,!0);
this.WM.h(_.E.o,this.agR,this);this.g4=new iG([12,15],0,359," \xB0");this.g4.h(_.E.o,this.ans,this);
this.uK=new iG([12,16],0,100," %");this.uK.h(_.E.o,this.a42,this);this.Iu=new iG([12,17],0,100," %");
this.Iu.h(_.E.o,this.aiU,this);this.SP=new iG([12,18],1,300," %");this.SP.h(_.E.o,this.asy,this);this.VD=[this.WM,this.g4,this.uK,this.Iu,this.SP]}S.prototype=new m;
S.prototype.w=function(){this.WM.w();this.g4.w();this.uK.w();this.Iu.w();this.SP.w()};S.prototype.sS=function(){return!0};
S.prototype.$q=function(r){this.$w=r;var k=[],v=Math.floor(30*J.F()),e=Math.floor(40*J.F());for(var q=0;
q<r.list.length;q++){var j=r.list[q].v,$=fK.bW(j,r.VV,r.Km,v,e);k.push($)}this.xT.Rs(k,null,v,e)};S.prototype.os=function(){var r=this.U3.Brsh.v,k=r.classID!=this.a1h;
this.a1h=r.classID;if(k)for(var q=0;q<this.VD.length;q++)if(this.m.contains(this.VD[q].m))this.m.removeChild(this.VD[q].m);
this.WM.f(r.Dmtr.v.val);if(k)this.m.appendChild(this.WM.m);this.g4.f(r.Angl.v.val);if(k)this.m.appendChild(this.g4.m);
if(r.classID=="computedBrush"||r.classID=="sampledBrush"){this.uK.f(r.Rndn.v.val);if(k)this.m.appendChild(this.uK.m)}if(r.classID=="computedBrush"){this.Iu.f(r.Hrdn.v.val);
if(k)this.m.appendChild(this.Iu.m)}this.SP.f(r.Spcn.v.val);if(k)this.m.appendChild(this.SP.m)};S.prototype.a6J=function(r){this.U3=this.$w.list[this.xT.J()[0]].v;
this.rT()};S.prototype.agR=function(r){this.U3.Brsh.v.Dmtr.v.val=r.target.J();this.rT()};S.prototype.ans=function(r){this.U3.Brsh.v.Angl.v.val=r.target.J();
this.rT()};S.prototype.a42=function(r){this.U3.Brsh.v.Rndn.v.val=r.target.J();this.rT()};S.prototype.aiU=function(r){this.U3.Brsh.v.Hrdn.v.val=r.target.J();
this.rT()};S.prototype.asy=function(r){this.U3.Brsh.v.Spcn.v.val=r.target.J();this.rT()};function B(){m.call(this,[15,1]);
this.fb=new iG([15,4,0],0,100,"%");this.fb.h(_.E.o,this.av1,this);this.m.appendChild(this.fb.m);this.g1=new iG([15,4,1],0,100,"%");
this.g1.h(_.E.o,this.aq7,this);this.m.appendChild(this.g1.m);this.ks=new iG([15,4,2],0,100,"%");this.ks.h(_.E.o,this.a3a,this);
this.m.appendChild(this.ks.m);this.LQ=new fH("Control",["Off","Direction"]);this.LQ.h(_.E.o,this.anC,this);
this.m.appendChild(this.LQ.m);this.XB=new iG([15,4,3],0,100,"%");this.XB.h(_.E.o,this.ani,this);this.m.appendChild(this.XB.m);
this.TS=new iG([15,4,4],1,100,"%");this.TS.h(_.E.o,this.a87,this);this.m.appendChild(this.TS.m)}B.prototype=new m;
B.prototype.w=function(){this.fb.w();this.g1.w();this.ks.w();this.XB.w();this.TS.w()};B.prototype.sS=function(){return this.U3.useTipDynamics.v};
B.prototype.xq=function(r){this.U3.useTipDynamics.v=r;bL.uu.iO(this.U3);this.rT()};B.prototype.os=function(){var r=this.U3;
if(r.useTipDynamics.v==!1)return;this.fb.f(r.szVr.v.jitter.v.val);this.g1.f(r.minimumDiameter.v.val);
this.ks.f(r.angleDynamics.v.jitter.v.val);this.LQ.f(r.angleDynamics.v.bVTy.v==0?0:1);this.XB.f(r.roundnessDynamics.v.jitter.v.val);
this.TS.f(r.minimumRoundness.v.val)};B.prototype.av1=function(r){this.U3.szVr.v.jitter.v.val=r.target.J();
this.rT()};B.prototype.aq7=function(r){this.U3.minimumDiameter.v.val=r.target.J();this.rT()};B.prototype.a3a=function(r){this.U3.angleDynamics.v.jitter.v.val=r.target.J();
this.rT()};B.prototype.anC=function(r){this.U3.angleDynamics.v.bVTy.v=r.target.J()==0?0:6;this.rT()};
B.prototype.ani=function(r){this.U3.roundnessDynamics.v.jitter.v.val=r.target.J();this.rT()};B.prototype.a87=function(r){this.U3.minimumRoundness.v.val=r.target.J();
this.rT()};function C(){m.call(this,[15,2]);this.WP=new iG([15,5,0],0,1e3," %");this.WP.h(_.E.o,this.aa9,this);
this.m.appendChild(this.WP.m);this.Mi=new iG([15,5,1],1,20);this.Mi.h(_.E.o,this.aeN,this);this.m.appendChild(this.Mi.m);
this.i1=new iG([15,5,2],0,100," %");this.i1.h(_.E.o,this.a0$,this);this.m.appendChild(this.i1.m)}C.prototype=new m;
C.prototype.w=function(){this.WP.w();this.Mi.w();this.i1.w()};C.prototype.sS=function(){return this.U3.useScatter.v};
C.prototype.xq=function(r){this.U3.useScatter.v=r;bL.uu.iO(this.U3);this.rT()};C.prototype.os=function(){var r=this.U3;
if(r.useScatter.v==!1)return;this.WP.f(r.scatterDynamics.v.jitter.v.val);this.Mi.f(r.Cnt.v);this.i1.f(r.countDynamics.v.jitter.v.val)};
C.prototype.aa9=function(r){this.U3.scatterDynamics.v.jitter.v.val=r.target.J();this.rT()};C.prototype.aeN=function(r){this.U3.Cnt.v=r.target.J();
this.rT()};C.prototype.a0$=function(r){this.U3.countDynamics.v.jitter.v.val=r.target.J();this.rT()};
function u(){m.call(this,[15,3]);this.xE=new iG([15,6,0],0,100," %");this.xE.h(_.E.o,this.a3b,this);
this.m.appendChild(this.xE.m);this.tQ=new iG([15,6,1],0,100," %");this.tQ.h(_.E.o,this.amb,this);this.m.appendChild(this.tQ.m);
this.Xt=new iG([15,6,2],0,100," %");this.Xt.h(_.E.o,this.ao$,this);this.m.appendChild(this.Xt.m);this.K2=new iG([15,6,3],0,100," %");
this.K2.h(_.E.o,this.anq,this);this.m.appendChild(this.K2.m)}u.prototype=new m;u.prototype.w=function(){this.xE.w();
this.tQ.w();this.Xt.w();this.K2.w()};u.prototype.sS=function(){return this.U3.useColorDynamics.v};u.prototype.xq=function(r){this.U3.useColorDynamics.v=r;
bL.uu.iO(this.U3);this.rT()};u.prototype.os=function(){var r=this.U3;if(r.useColorDynamics.v==!1)return;
this.xE.f(r.clVr.v.jitter.v.val);this.tQ.f(r.H.v.val);this.Xt.f(r.Strt.v.val);this.K2.f(r.Brgh.v.val)};
u.prototype.a3b=function(r){this.U3.clVr.v.jitter.v.val=r.target.J();this.rT()};u.prototype.amb=function(r){this.U3.H.v.val=r.target.J();
this.rT()};u.prototype.ao$=function(r){this.U3.Strt.v.val=r.target.J();this.rT()};u.prototype.anq=function(r){this.U3.Brgh.v.val=r.target.J();
this.rT()};return Z}();function eN(){cn.call(this,[9,0],!1,null,cn.kI.C5);this.ew.setAttribute("style","min-width:200px;");
this.gb=J.L("div","hpbody scrollable");this.gb.style.height="160px";this.ew.appendChild(this.gb);this.adg=-1;
this.Sr=[];this.ju="";this.Ib=new am([{name:"Clear History"}],[{T:_.E.Y,b:g.C5,V:{d:"h_clear"}}])}eN.prototype=new cn("");
eN.prototype.wK=function(){return this.Ib};eN.prototype.sc=function(Z){if(Z==null){J.uq(this.gb);this.ju="";
return}J.uq(this.gb);var m=0;for(var q=0;q<Z.history.length;q++)if(q<=Z.qA&&!Z.history[q].vo)m=q;for(var q=0;
q<Z.history.length;q++){var S=Z.history[q];if(S.vo)continue;var B=new hI(S,q,m);B.parent=this;this.gb.appendChild(B.m);
this.Sr.push(B)}if(Z.qA==Z.history.length-1)this._K()};eN.prototype._K=function(){this.gb.scrollTop=this.gb.scrollHeight};
eN.prototype.w=function(){cn.prototype.w.call(this);for(var q=0;q<this.Sr.length;q++)this.Sr[q].w()};
function hI(Z,q,m){aw.call(this);this.index=q;this.m=J.L("div",q==m?"listitem selected":"listitem");
this.B5=Z.name;this.w();if(q>m)this.m.style.opacity=.4;this.m.addEventListener("click",this.kV.bind(this),!1)}hI.prototype=new aw;
hI.prototype.w=function(){this.m.textContent=iD.get(this.B5)};hI.prototype.kV=function(Z){if(this.index==this.parent.adg)return;
this.p2({d:"h_itemchange",index:this.index})};hI.prototype.p2=function(Z){var m=new eY(_.E.Y,!0);m.data=Z;
m.b=g.C5;this.c(m)};function eU(){cn.call(this,[9,10],!1,"---panels/histogram",cn.kI.aby);var Z=J.L("div","padded");
this.ew.appendChild(Z);this.o4=new fu(256,!0);Z.appendChild(this.o4.m);this.Rt=null}eU.prototype=new cn("");
eU.prototype.sc=function(Z){this.Rt=Z;this.Hk()};eU.prototype.Hk=function(){var Z=this.Rt;if(!J.Qt(this.ew))return;
if(Z==null||Z._.length==0){this.o4.f(l.LA(l.U(4)));return}var m=Z.Jy(),S=new bq(0,0,Z.e,Z.n),B=S.Z();
if(Z.$){var C=Z.$.rect,u=l.U(C.Z()*4);l.pY(m,S,u,C);l.K7(Z.$.channel,u);m=u;S=C;var r=Z.$.channel;B=0;
for(var q=0;q<r.length;q++)B+=r[q];B=Math.round(B/255)}var k=l.LA(m);k[0][255]+=3*(B-k[5]);for(var q=1;
q<4;q++)k[q][255]+=B-k[5];this.o4.f(k,B)};eU.prototype.C7=function(Z,m){this.o4.yz(ii.o$[Z.Yv]["--text-color"])};
eU.prototype.w=function(){cn.prototype.w.call(this);this.o4.w()};eU.prototype._K=function(){this.Hk()};
function fv(){cn.call(this,[9,8],!1,null,cn.kI.ajb);this.oJ=J.L("div","padded");this.ew.appendChild(this.oJ);
this.NP=new eW(10);this.oJ.appendChild(this.NP.m);this.oJ.appendChild(J.L("hr"));this.kT=new ha;this.kT.parent=this;
this.oJ.appendChild(this.kT.Fx);this.NP.h(_.E.o,this.aha,this);this.kT.h(_.E.o,this.aha,this)}fv.prototype=new cn("");
fv.prototype.aha=function(Z){var m;if(Z.target==this.NP)m=this.NP.J();else{var S=this.kT.J();m=Math.round(S.I)<<16|Math.round(S.z)<<8|Math.round(S.S)}var B=new eY(_.E.W,!0);
B.data={d:_.B.L8,Lh:bo.HA,hN:0,k:m};this.c(B)};fv.prototype.C7=function(Z,m){var S=Z.Nx,B=m==bo.LE;if(m==bo.HA||B){this.NP.f(S);
this.kT.f({I:S>>>16&255,z:S>>>8&255,S:S>>>0&255,G6:"Color #"+l.L5(S)})}if(m==bo._T||B){var C=Z.a5x;this.kT.$q(C)}};
function gD(){cn.call(this,[12,72],!1,"---adj/mixr",cn.kI.a6E);this.GP=null;this.r7=null;this.gb=J.L("div","lpbody scrollable");
this.ht=J.L("div","lpfoot");this.ew.appendChild(this.gb);this.ew.appendChild(this.ht);this.ci=[];this.h("click",this.mL,this);
this.vy=[];gD.tB([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.vy,this.ht,this.dy.bind(this),this.W4.bind(this));
this.Ib=new am([{name:"Merge Channels",On:!0}],[{T:_.E.W,V:{d:_.B.Me,ct:"mergechannels"}}])}gD.prototype=new cn("");
gD.prototype.wK=function(){return this.Ib};gD.tB=function(Z,m,S,B,C){for(var q=0;q<Z.length;q++){var u=new dX("W",!1,Z[q]);
m.push(u);J.BQ(u.m,B);S.appendChild(u.m);var r=u.m;r.addEventListener("drop",C,!1);r.addEventListener("dragover",function(k){k.preventDefault()},!1);
r.addEventListener("dragenter",J.Tj,!1)}};gD.q5=function(Z,m){for(var q=0;q<Z.length;q++)if(Z[q].m==m.currentTarget)return q};
gD.prototype.dy=function(Z){var m=gD.q5(this.vy,Z);if(m==0)this.c(bp.zP(!0,null,Z));else{m--;var S=new eY(_.E.lX,!0),B={classID:"null"};
if(m==0)B.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(m==1)B.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else B.null=hX.NN("Chnl",!0);S.data={CE:["duplicate","make","delete"][m],Oz:B};this.c(S)}};gD.prototype.W4=function(Z){var m=gD.q5(this.vy,Z);
if(m==2){var S=new eY(_.E.lX,!0),B={classID:"null"};B.null=hX.NN("Chnl",!0);S.data={CE:"duplicate",Oz:B};
this.c(S)}else this.dy(Z)};gD.prototype.tl=function(q){var Z=this.ci,m=Z[q];if(m==null){var S=J.L("canvas");
m=S.getContext("2d");Z.push(m)}return m};gD.prototype.mL=function(Z){var m=this.GP.slice(0),S=Z.data.lU,B=m[0]+m[1]+m[2],C=this.r7;
if(-5<S&&S<0){var u=-S-1;if(Z.data.cw){if(u==0)m=B==3?[0,0,0]:[1,1,1];else{if(m[u-1]==0)m[u-1]=1;else if(!0)m[u-1]=0}}else{if(u==0)m=[1,1,1];
else{m=[0,0,0];m[u-1]=1}C.tp=[]}var r=new eY(_.E.Y,!0);r.b=g.Yz;r.data={d:"setcls",U1:m};this.c(r);return}if(-1<S){var k=C.g[S],v=k.E_==1?k.sd():k.ws(C).v;
if(Z.data.cw)v.m5=!v.m5;else{for(var q=0;q<C.Xz.length;q++)C.Xz[q].m5=!1;C.tp=[]}}else{var e=-S-5,v=C.Xz[e];
if(Z.data.cw)v.m5=!v.m5;else{for(var q=0;q<C.Xz.length;q++)C.Xz[q].m5=!1;v.m5=!0;C.tp=[e]}}C.tV=C.SW=!0};
gD.prototype._K=function(){this.Po()};gD.prototype.sc=function(Z){this.r7=Z;this.Po()};gD.prototype.Po=function(){var Z=this.r7,m=this.gb,H=4;
J.uq(m);if(Z==null||!J.Qt(m))return;var S=Z.e,B=Z.n,C=new bq(0,0,S,B),u=this.GP=Z.s.U1.slice(0),r=u[0]+u[1]+u[2],k=Math.round(34*J.F()),v=k;
if(S>B)v=Math.round(v*B/S);else k=Math.round(k*S/B);var e=["RGB"].concat(e$.sp);for(var q=0;q<4;q++){var j=this.tl(q);
l.ny.Tc(j,k,v,C,Z.Jy(),C,!1,q==0?null:q-1);var $=q==0?r==3:u[q-1]==1,U=new bp(-1-q,!0,!0,j,e[q],$,$);
U.parent=this;m.appendChild(U.m);J.vQ(j.canvas)}for(var q=0;q<Z._.length;q++){var z=Z.g[Z._[q]],f=z.E_;
if(f!=1&&f!=3)continue;var D=f==1?z.sd():z.ws(Z).v,j=this.tl(H+q);H++;l.ny.Aa(j,k,v,C,D);var U=new bp(Z._[q],!0,!0,j,z.getName()+(f==1?"":" Filter")+" Mask",!0,D.m5);
U.parent=this;m.appendChild(U.m);J.vQ(j.canvas)}for(var q=0;q<Z.Xz.length;q++){var D=Z.Xz[q],j=this.tl(H+q);
l.ny.Aa(j,k,v,C,D);var U=new bp(-5-q,!0,D.name=="Quick Mask",j,D.name,Z.tp.indexOf(q)!=-1,D.m5,g.vJ,{d:w.ph,hN:"rnm",lU:q});
U.parent=this;m.appendChild(U.m);J.vQ(j.canvas)}};gD.prototype.MY=function(Z,m){this.gb.style.height=m-9-26+"px";
this.gb.style.width=Z+"px"};gD.prototype.w=function(){cn.prototype.w.call(this);this.Po();gD.cQ(this.vy,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
gD.cQ=function(Z,m){var m=g6.y2(m);for(var q=0;q<Z.length;q++)Z[q].zR(m[q])};function bp(Z,m,S,B,C,u,r,k,v){aw.call(this);
this.m=J.L("div","layeritem");this.a2m=Z;this.a21=m;this.az=B;this.aeK=k;this.aiT=v;this.eE=J.L("div",u?"head selected":"head");
this.eE.setAttribute("style","height: "+40+"px");var e=J.L("div","headL"),j=J.L("div","headR"),$=15;
this.m.appendChild(this.eE);this.eE.appendChild(e);this.eE.appendChild(j);this.TQ=J.L("div","eye");if(1<J.F()&&J.F()<1.5)$=$/J.F();
this.TQ.setAttribute("style","background-size: "+$+"px "+$+"px;");this.TQ.style.opacity=r?1:.2;if(m)e.appendChild(this.TQ);
this.Nd=J.L("div","thumb");if(B)this.Nd.appendChild(B.canvas);e.appendChild(this.Nd);this.ip=J.L("div","label");
if(S)this.ip.style.fontStyle="italic";this.ip.textContent=iD.get(C);e.appendChild(this.ip);var U=this.eE;
U.setAttribute("draggable","true");U.addEventListener("dragstart",function(H){H.dataTransfer.setData("Text","")},!1);
J.BQ(this.eE,this.alK.bind(this));if(!S)this.eE.addEventListener("mouseup",this.abL.bind(this),!1)}bp.prototype=new aw;
bp.prototype.Le=function(Z){var m=new eY(_.E.Y,!0);m.b=this.aeK;m.data=this.aiT;m.data.name=Z;this.c(m)};
bp.prototype.alK=function(Z){var m=Z.ctrlKey||Z.metaKey,S=this.a2m;if(m&&Z.target==this.az.canvas){this.c(bp.zP(this.a21,S,Z))}else{var B=new eY("click",!0);
B.data={lU:S,cw:Z.target==this.TQ,fA:m};this.c(B)}};bp.prototype.abL=function(Z){if(Z.detail==2&&Z.target==this.ip){var m=new cn.HF(this.ip,this.Le.bind(this))}};
bp.zP=function(Z,m,S){var B=0;if(S.shiftKey)B++;if(S.altKey)B+=2;var C=new eY(_.E.Y,!0);C.b=g.Ml;if(Z){if(-5<m&&m<0){C=new eY(_.E.lX,!0);
C.data=g.nJ.BH(B,["RGB","Rd","Grn","Bl"][-1-m])}else C.data={d:"fromchannel",ZT:[m,0,B]}}else C.data={d:"frompath",ZT:[m,0,B]};
return C};function f4(){cn.call(this,[8,9],!1,"---panels/paths",cn.kI.XZ);this.GP=null;this.r7=null;
this.gb=J.L("div","lpbody scrollable");this.ht=J.L("div","lpfoot");this.ew.appendChild(this.gb);this.ew.appendChild(this.ht);
this.ew.addEventListener("click",this.a0f.bind(this),!1);this.ci=[];this.h("click",this.mL,this);this.vy=[];
gD.tB(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.vy,this.ht,this.dy.bind(this),this.W4.bind(this))}f4.prototype=new cn("");
f4.prototype.dy=function(Z,m){var S=gD.q5(this.vy,Z),B;if(S<2){B=new eY(_.E.lX,!0);B.data=g.X$.Fu(S)}else if(S==2)B=bp.zP(!1,null,Z);
else if(S==3){B=new eY(_.E.lX,!0);B.data={CE:"make",Oz:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(S>3){var B=new eY(_.E.Y,!0);
B.b=g.bO;B.data={d:"pathedit",hN:["new","del"][S-4],a6D:m}}this.c(B)};f4.prototype.W4=function(Z){this.dy(Z,!0)};
f4.prototype.tl=function(q){var Z=this.ci,m=Z[q];if(m==null){var S=J.L("canvas");m=S.getContext("2d");
Z.push(m)}return m};f4.prototype.a0f=function(Z){if(Z.target==this.gb){var m=this.r7;m.yI=[];m.ap=[];
m.SW=!0;m.tV=!0}};f4.prototype.mL=function(Z){var m=Z.data.lU,S=this.r7,B=Z.data.fA,C=0,u,r;if(m<0){C=-1-m;
u=S.yI;r=S.ap}else{var k=S.Nu()[0];for(var q=0;q<k.length;q++){var v=k[q].lU;if(v==m)break;if(v>=0)C++}u=S.ap;
r=S.yI}if(B){var e=u.indexOf(C);if(e==-1)u.push(C);else u.splice(e,1)}else{while(u.length!=0)u.pop();
while(r.length!=0)r.pop();u.push(C)}S.SW=!0;S.tV=!0};f4.prototype._K=function(){this.Po()};f4.prototype.sc=function(Z){this.r7=Z;
this.Po()};f4.prototype.Po=function(){var Z=this.r7,m=this.gb;J.uq(m);if(Z==null||!J.Qt(m))return;var S=Z.e,B=Z.n,C=new bq(0,0,S,B),u=this.GP=Z.s.U1.slice(0),r=u[0]+u[1]+u[2],k=Math.round(34*J.F()),v=k;
if(S>B)v=Math.round(v*B/S);else k=Math.round(k*S/B);var e=Z.Nu(),j=e[0];for(var q=0;q<j.length;q++){var $=j[q],U=this.tl(q);
l.ny.a7a(U,k,v,C,$.add.vmsk);var H=new bp($.lU,!1,$.lU>=0,U,$.name,e[1].indexOf(q)!=-1,!1,g.bO,{d:"pathedit",hN:"rnm",lU:$.lU});
H.parent=this;m.appendChild(H.m);J.vQ(U.canvas)}};f4.prototype.MY=function(Z,m){this.gb.style.height=m-9-26+"px";
this.gb.style.width=Z+"px"};f4.prototype.w=function(){cn.prototype.w.call(this);this.Po();gD.cQ(this.vy,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function ff(Z){cn.call(this,[9,Z?4:5],!1,"---panels/"+(Z?"character":"paragraph"),Z?cn.kI.au2:cn.kI.abg);
this.ew.setAttribute("style","min-width:240px;");this.acv=Z;this.yV=null;this._q=null}ff.prototype=new cn("");
ff.prototype.qm=function(){this.yV=new bU;var Z=this.yV,m=this.ew;Z.parent=this;if(this.acv){var S=J.L("div","marged");
m.appendChild(S);S.appendChild(Z.TK.m);m.appendChild(J.L("hr"));var B=J.L("div","marged");m.appendChild(B);
B.appendChild(Z.Vq.m);B.appendChild(Z.lV.m);var C=J.L("div","marged");m.appendChild(C);C.appendChild(Z.bJ.m);
C.appendChild(Z.BW.m);m.appendChild(J.L("hr"));var u=J.L("div","marged");m.appendChild(u);u.appendChild(Z.kj.m);
u.appendChild(Z.Gk.m);var r=J.L("div","marged");m.appendChild(r);r.appendChild(Z.by.m);r.appendChild(Z.TJ.m);
r.appendChild(Z.Mn.m);m.appendChild(J.L("hr"));var k=J.L("div","marged");m.appendChild(k);k.appendChild(Z.Lt.m);
k.appendChild(Z.Wp.m);k.appendChild(Z.Ls.m);k.appendChild(Z.NJ.m);k.appendChild(Z.Lv.m);k.appendChild(Z.qr.m);
k.appendChild(Z.Mj.m);k.appendChild(Z.rw.m)}else{var S=J.L("div","marged");m.appendChild(S);S.appendChild(Z.fY.m);
S.appendChild(Z.JX.m);S.appendChild(Z.rV.m);S.appendChild(Z.auV.m);S.appendChild(Z.aiH.m);S.appendChild(Z.amI.m);
S.appendChild(Z.aud.m);m.appendChild(J.L("hr"));var B=J.L("div","marged");m.appendChild(B);B.appendChild(Z.sT.m);
B.appendChild(Z.VS.m);B.appendChild(Z.gh.m);m.appendChild(J.L("hr"));var C=J.L("div","marged");m.appendChild(C);
C.appendChild(Z.fE.m);C.appendChild(Z.zb.m);C.appendChild(Z.NW.m);C.appendChild(Z.po.m)}};ff.prototype._K=function(){if(!J.Qt(this.ew))return;
if(this.yV==null){this.qm();var Z=this._q;if(Z)this.yV.f(Z.E7,Z.Pl,Z.ut);this.yV.w()}};ff.prototype.w=function(){cn.prototype.w.call(this);
if(this.yV)this.yV.w()};ff.prototype.C7=function(Z,m){this._q=Z;if(m!=bo.LE&&m!=bo.Vs&&m!=bo.Hw&&m!=bo.fj)return;
if(this.yV)this.yV.f(Z.E7,Z.Pl,Z.ut)};function hA(){cn.call(this,[9,13],!1,"---panels/glyphs",cn.kI.abj);
this.yV=new bU;this.yV.parent=this;this._q=null;this.aqb=null;this.aiD=null;this.A7=null;this.afv=null;
this.XG=Math.round(290*J.F());this.N5=45;this.akC=4;this.aaA=this.Hk.bind(this);this.akm=0;this.Gg=new fH(null,["Hi","Hello"]);
this.Gg.h(_.E.o,this.Hk,this);var Z=this.s1=new dX("-",null,null,!0);Z.h("click",this.ahj,this);var m=this.aut=new dX("+",null,null,!0);
m.h("click",this.ahj,this);this.km=new gk(!1);this.km.h(_.E.o,this.QV,this);this.km.m.style.height=250+"px";
var S=this.iN=J.L("div","form padded");this.ew.appendChild(S);S.appendChild(this.yV.TK.m);J.ed(S);S.appendChild(this.Gg.m);
S.appendChild(Z.m);S.appendChild(m.m);this.ew.appendChild(this.km.m)}hA.prototype=new cn("");hA.prototype.MY=function(Z,m){if(this.OU==Z)return;
this.OU=Z;this.XG=Math.floor((Z-13)*J.F());this.iN.setAttribute("style","width:"+this.XG/J.F()+"px;");
this.km.m.style.height=m-73+"px";this.Hk()};hA.prototype.QV=function(Z){var m=this.a9D(),S=Math.round(this.XG/m);
m/=J.F();var B=this.km.J()[0]*S*this.akC,C=this.km.aje();B+=Math.floor(C.y/m)*S;B+=Math.floor(C.x/m);
var u=this.A7[this.Gg.J()];if(B>=u.length)return;var r=u[B],k=this.afv[r],v=new eY(_.E.Y,!0);v.b=g.WH;
if(k.mv.length==0)v.data={d:"insertGlyph",k:B+1};else v.data={d:"insertText",k:String.fromCodePoint(k.mv[0])};
this.c(v)};hA.prototype.ahj=function(Z){var m=1.2;if(Z.target==this.s1){if(this.N5>20)this.N5/=m}else{if(this.N5<100)this.N5*=m}this.Hk()};
hA.prototype._K=function(){this.C7(this._q)};hA.prototype.C7=function(Z,m){this._q=Z;if(!J.Qt(this.ew))return;
this.yV.f(Z.E7,Z.Pl,Z.ut);var S=Z.E7,B=S.n1.Font,v=0;if(B==null)return;var C=S.wb[B].Name;if(this.aqb==C)return;
var B=Z.Pl.TO(C);if(B==null)return;var u=B.maxp.numGlyphs,r=this.afv=new Array(u);for(var q=0;q<u;q++)r[q]={mv:[]};
var k=Date.now(),e=new Uint8Array(1048575);for(var q=0;q<1048575;q++){var j=Typr.U.codeToGlyph(B,q);
if(j!=0&&j<u){e[q]=1;if(r[j].mv.length==0)v++;r[j].mv.push(q)}}var $=hA.n2,U=[];for(var q=0;q<$.length;
q++)U.push([]);for(var j=1;j<u;j++){U[0].push(j);var H=r[j].mv[0];if(H==null){continue}for(var z=1;z<$.length;
z++){var f=$[z].hZ;for(var q=0;q<f.length;q+=2)if(f[q]<=H&&H<=f[q+1]){U[z].push(j);break}}}this.A7=U;
var D=[];for(var q=0;q<$.length;q++)D.push($[q].OL+" ("+U[q].length+")");var n=this.Gg.J();this.Gg.Nw(D);
this.Gg.f(n);this.aqb=C;this.aiD=B;this.Hk()};hA.prototype.a9D=function(Z){var m=Math.floor(this.XG/this.N5);
return Math.floor(this.XG/m)};hA.prototype.Hk=function(Z){if(!J.Qt(this.ew)||this.A7==null)return;var m=this.A7[this.Gg.J()],S=m.length,B=this.aiD,C=Typr.U,u=this.a9D(),r=u,k=r*.8,v=r*.8/B.head.unitsPerEm,e=[],j=Math.floor(this.XG/u),$=Math.ceil(S/j),U=this.akC,H=Date.now();
for(var z=0;z<$;z+=U){var f=J.L("canvas"),D=f.getContext("2d");f.width=u*j;f.height=r*U;D.strokeStyle="rgba(0,0,0,0.3)";
D.fillStyle="white";D.fillRect(0,0,j*u,r*U);for(var n=0;n<U;n++){for(var L=0;L<j;L++){var q=m[(z+n)*j+L];
if(q==null)break;var a=C.glyphToPath(B,q),F=l.H.su(a.crds);if(!F.Ov()){D.fillStyle="#252525";D.beginPath();
var A=L*u+(u-F.e*v)*.5-F.x*v,T=n*r+k;D.translate(A,T);D.scale(v,-v);C.pathToContext(a,D);D.scale(1/v,-1/v);
D.translate(-A,-T);D.fill()}}}D.beginPath();for(var L=0;L<j;L++){var P=L*u+u+.5;D.moveTo(P,0);D.lineTo(P,r*U)}for(var n=0;
n<U;n++){var Y=n*r+r+.5;D.moveTo(0,Y);D.lineTo(j*u,Y)}D.stroke();e.push(f)}this.km.Rs(e,null,u*j,r*U)};
hA.n2=[{OL:"All Glyphs"},{OL:"Basic Latin, Latin 1",hZ:[0,127,128,143]},{OL:"Latin Extended-A",hZ:[256,383]},{OL:"Latin Extended-B",hZ:[384,591]},{OL:"Punctuations",hZ:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{OL:"Greek",hZ:[880,1023]},{OL:"Cyrillic",hZ:[1024,1279]},{OL:"Hebrew",hZ:[1424,1535]},{OL:"Arabic",hZ:[1536,1791]},{OL:"Emoji",hZ:[9728,10095,127744,129535]}];
function cO(){cn.call(this,[13,0],!1,null,cn.kI.HA);this.Sm=0;this.acl=0;this._q=null;var Z=J.L("div","flexrow padded");
this.ew.appendChild(Z);var m=J.L("div");Z.appendChild(m);this.c_=[];for(var q=0;q<2;q++){var S=new gl;
this.c_.push(S);S.h("click",this.a8P,this);m.appendChild(S.m)}this.s3=new jm(192);this.s3.h(_.E.o,this.lu,this);
Z.appendChild(this.s3.m)}cO.prototype=new cn("");cO.prototype.a8P=function(Z){this.Sm=this.c_.indexOf(Z.currentTarget);
this.Hk()};cO.prototype.lu=function(Z){var m=this.s3.J();this.s3.f(m);var S=Math.round(m.I*255)<<16|Math.round(m.z*255)<<8|Math.round(m.S*255),B=new eY(_.E.W,!0);
B.data={d:_.B.L8,Lh:bo.HA,hN:this.Sm,k:S};this.c(B);this.acl=Date.now()};cO.prototype.Hk=function(){var Z=this._q,m=this.Sm,S=[Z.Nx,Z.ZN];
for(var q=0;q<2;q++){var B=this.c_[q],C=B.m.style;B.yz(S[q]);if(q==m)C.filter="drop-shadow(0 0 1px #000000)"}var u=S[m];
if(Date.now()-this.acl>100)this.s3.f({I:(u>>>16)/255,z:(u>>>8&255)/255,S:(u&255)/255})};cO.prototype.C7=function(Z,m){this._q=Z;
if(m==bo.LE||m==bo.HA)this.Hk()};cO.prototype._K=function(){this.Hk()};function dD(){cn.call(this,"CSS",!1,"---panels/css",cn.kI.CSS);
this.Rt=null;var Z=J.L("div","padded");this.ew.appendChild(Z);this.aA=J.L("textarea");J.m8(this.aA);
Z.appendChild(this.aA)}dD.prototype=new cn("");dD.prototype.MY=function(Z,m){if(this.OU==Z)return;this.OU=Z;
this.aA.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(Z-10)+"px; height:"+(m-10)+"px")};
dD.prototype.sc=function(Z){this.Rt=Z;this.Hk()};dD.prototype.C7=function(Z,m){if(m==bo.Hw)this.Hk()};
dD.prototype.Hk=function(){var Z=this.Rt;if(Z==null||Z._.length==0)return;if(!J.Qt(this.ew))return;var m=Z.g[Z._[0]],S=CSS.a2S(m,Z);
if(S.length!=0)this.aA.value=S.join(";\n")+";";else this.aA.value=""};dD.prototype._K=function(){this.Hk()};
function cu(){cn.call(this,[9,6],!1,"---panels/info",cn.kI.auT);this.ew.setAttribute("style","min-width:240px;");
this.Rt=null;this._q=null;var Z=J.L("div","marged row");this.ew.appendChild(Z);var m=J.L("div","cell");
m.setAttribute("style","width:10em");Z.appendChild(m);var S=J.L("div","cell");S.setAttribute("style","width:10em");
Z.appendChild(S);this.amt=[];for(var q=0;q<4;q++){var B=new ed("");this.amt.push(B);m.appendChild(B.m);
J.ed(m)}this.ew.appendChild(J.L("hr",""));var C=J.L("div","marged row");this.ew.appendChild(C);var m=J.L("div","cell");
m.setAttribute("style","width:10em");var S=J.L("div","cell");S.setAttribute("style","width:10em");C.appendChild(m);
C.appendChild(S);this.ve=new ed("");m.appendChild(this.ve.m);J.ed(m);this.i5=new ed("");m.appendChild(this.i5.m);
this.gA=new ed("");S.appendChild(this.gA.m);J.ed(S);this.Xq=new ed("");S.appendChild(this.Xq.m);this.ve.f("X: 100 px");
this.i5.f("Y: 100 px");this.gA.f("W: 0");this.Xq.f("H: 0")}cu.prototype=new cn("");cu.prototype.hJ=function(Z,m,S,B,C){if(!J.Qt(this.ew)||Z==null)return;
var u=Z.s.tr(C.x,C.y),r=new aS(Math.floor(u.x),Math.floor(u.y));if(!C.vs){var k=0,v=0,e=0,j=0,$=this.amt;
if(!C.vs&&!Z.aqo()&&new bq(0,0,Z.e-1,Z.n-1).hV(r)){var U=Z.Jy(),q=Z.e*r.y+r.x<<2;k=U[q+0];v=U[q+1];e=U[q+2];
j=U[q+3]}$[0].f("R: "+k);$[1].f("G: "+v);$[2].f("B: "+e);$[3].f("A: "+j)}this.ve.f("X: "+l.Zv.Fn(r.x,Z.wd,S,Z.e));
this.i5.f("Y: "+l.Zv.Fn(r.y,Z.wd,S,Z.n));this.wF()};cu.prototype.wF=function(){var Z=this.Rt,m=this._q,S=0,B=0;
if(Z&&m){if(Z.s.Jv){S=Z.s.Jv.e;B=Z.s.Jv.n}else if(Z.$){S=Z.$.rect.e;B=Z.$.rect.n}S=l.Zv.Fn(Math.abs(S),Z.wd,m,Z.e);
B=l.Zv.Fn(Math.abs(B),Z.wd,m,Z.n)}this.gA.f(iD.get([12,41]).charAt(0)+": "+S);this.Xq.f(iD.get([12,42]).charAt(0)+": "+B)};
cu.prototype.w=function(){cn.prototype.w.call(this);this.wF()};cu.prototype.sc=function(Z,m,S){this.Rt=Z;
this._q=S;this.wF()};function as(){cn.call(this,[9,1],!1,"---panels/layers",cn.kI.vJ);this.tc=null;this.OB=null;
this.rv=null;this.eE=J.L("div","lphead");this.gb=J.L("div","lpbody scrollable");this.ht=J.L("div","lpfoot");
this.Zj=new ae([0,6]);this.Zj.h(_.E.o,this.Pt,this);this.eE.appendChild(this.Zj.m);this.LK=J.L("span","disabled");
this.LK.setAttribute("style","display:inline-block; height:26px");this.eE.appendChild(this.LK);this.wD=new fH(null,["Kind",[12,48]],!1,[]);
this.wD.h(_.E.o,this.Pt,this);var Z=this.Re=[new iF(null,["<img src=\""+PIMG.pix_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"autoscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new ec(null,null,8)];
Z[0].h(_.E.o,this.Pt,this);Z[1].h("input",this.Pt,this);this.a5i();this.K5=new fH(null,d1.JN,!1,d1.L4);
this.K5.h(_.E.o,this.aeW,this);this.eE.appendChild(this.K5.m);this.gH=new gH([12,0],0,100,"%",0);this.gH.h(_.E.o,this.adL,this);
this.gH.parent=this;this.eE.appendChild(this.gH.m);this.Ow=new iF([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"autoscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Ow.h(_.E.o,this.a17,this);this.eE.appendChild(this.Ow.m);this.tZ=new gH([12,26],0,100,"%",0);this.tZ.h(_.E.o,this.atS,this);
this.tZ.parent=this;this.eE.appendChild(this.tZ.m);this.vy=[];this.tB();this.ew.appendChild(this.eE);
this.ew.appendChild(this.gb);this.gb.addEventListener("dragover",function(B){B.preventDefault()},!1);
this.gb.addEventListener("dragenter",J.Tj,!1);this.gb.addEventListener("drop",this.aoK.bind(this),!1);
this.ew.appendChild(this.ht);this.ew.addEventListener("contextmenu",J.Tj,!1);var m=ft.nt(!0),S=ft.Kv(!0);
this.aqu=new am(m,S);var m=[{name:[14,10]},{name:[14,11],Jb:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],Jb:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",K:function(B){return{K:B.g[B._[0]].add.SoLd!=null}},Jb:!0},{name:[6,8],K:as.a9S},{name:[6,34],K:function(B){var C=B.g[B._[0]];
return{K:C.add.lmfx!=null&&!C.O1()}}},{name:[6,40],Jb:!0,K:function(B){var C=B.g[B._[0]];return{K:C.add.TySh!=null}}},{name:"",Jb:!0,K:function(B){var C=B.g[B._[0]],u=C.add.TySh,r=u?u.e7:null;
return{K:u!=null&&r.Curve==null,HT:iD.get(u&&e6.w0(r)==0?[16,3,1]:[16,3,0])}}},as.a3f(!1),{name:[11,6],Jb:!0,sub:[{name:[5,1],K:function(B){var C=B.g[B._[0]];
return{K:C.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],K:function(B){var C=B.g[B._[0]];return{K:C.add.lmfx!=null}}}]},{name:[6,12,0],K:function(B){var C=B==null?0:B._.length;
return{K:C!=0,HT:iD.get(C>1||C==1&&B.g[B._[0]].O1()?[6,12,0]:[6,10])}}},{name:[6,12,1],Jb:!0},{name:[13,0],sub:function(){var B=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],C=[];
for(var q=0;q<B.length;q++)C.push({name:B[q]});return C}()}],S=[{T:_.E.W,V:{d:_.B.Me,ct:"layerstyle"}},{T:_.E.Y,b:g.Ml,V:{d:"fromlayer",ZT:[null,0,0]}},{T:_.E.Y,b:g.vJ,V:{d:w.lD}},{T:_.E.W,V:{d:_.B.Me,ct:"duplinto"}},{T:_.E.Y,b:g.vJ,V:{d:w.G7}},{T:_.E.lX,V:{CE:"newPlacedLayer"}},{T:_.E.Y,b:g.vJ,V:{d:w.Q_}},{T:_.E.lX,V:{CE:"rasterizeLayer",Oz:{classID:"rasterizeLayer",null:hX.NN("Lyr",!0)}}},{T:_.E.Y,b:g.vJ,V:{d:w.KE}},{T:_.E.Y,b:g.vJ,V:{d:w.a0L}},{T:_.E.Y,b:g.WH,V:{d:"switchPntPrgr"}},{T:_.E.Y,b:g.vJ,V:{d:w.Wc}},{sub:[{T:_.E.Y,b:g.oV,V:{d:"st_copy"}},{T:_.E.Y,b:g.oV,V:{d:"st_paste"}},{T:_.E.Y,b:g.oV,V:{d:"st_clear"}}]},{T:_.E.lX,V:{CE:"mergeLayersNew",Oz:{__name:"Merge Layers",classID:"Mrg2"}}},{T:_.E.lX,V:{CE:"flattenImage"}},{sub:function(){var B=[];
for(var q=0;q<8;q++)B.push({T:_.E.Y,b:g.vJ,V:{d:w.gc,af5:q}});return B}()}];this.yR=new am(m,S);var m=[{name:[6,45],K:function(B){var C=B.g[B._[0]];
return{K:C.ws(B).v==null}}},{name:[6,47]}],S=[{T:_.E.Y,b:g.vJ,V:{d:w.sE}},{T:_.E.Y,b:g.vJ,V:{d:w.$h}}];
this.aau=new am(m,S);var m=[{name:"enab/disab",K:function(B){return{HT:iD.get(B.g[B._[0]].sd().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],K:function(B){return{K:B.t9(!1,!0)}}}],S=[{T:_.E.Y,b:g.vJ,V:{d:w.XF}},{T:_.E.Y,b:g.vJ,V:{d:w.CS}},{T:_.E.Y,b:g.vJ,V:{d:w.zJ}}];
this.atC=new am(m,S);var m=[{name:"enab/disab",K:function(B){return{HT:iD.get(B.g[B._[0]].ws(B).v.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],S=[{T:_.E.Y,b:g.vJ,V:{d:w.KJ}},{T:_.E.Y,b:g.vJ,V:{d:w.q$}}];
this.aun=new am(m,S);var m=[{name:"enab/disab",K:function(B){return{HT:iD.get(B.g[B._[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],S=[{T:_.E.Y,b:g.vJ,V:{d:w.ZJ}},{T:_.E.Y,b:g.vJ,V:{d:w.vp}},{T:_.E.Y,b:g.vJ,V:{d:w.zK}}];
this.akO=new am(m,S);this.afd=new am(ft.a0Y(!0),ft.PH(!0));this.a78=new am(ft.nt(),ft.Kv());this.h("rclick",this.atk,this)}as.prototype=new cn("");
as.prototype.akA=function(){if(this.Zj.J()){var Z=this.wD.J(),m=this.Re[Z].J();if(Z==0)return m.indexOf(!0)!=-1;
if(Z==1)return m!=""}return!1};as.a3f=function(Z){var m=function(B){var C=B!=null&&B._.length!=0&&B.g[B._[0]].GT;
return{IH:C,K:B!=null&&B.zy(B._[0]),V:{T:_.E.lX,V:{CE:C?"ungroup":"groupEvent",Oz:{classID:C?"Ungr":"GrpL",null:hX.NN("Lyr",!0)}}}}},S={name:[6,6,0],Jb:!0,K:m};
if(Z)S.Xi=[iZ.__,iZ.Sx,iZ.Sj];return S};as.a9S=function(Z,m){if(Z)for(var q=0;q<Z._.length;q++){var S=Z.g[Z._[q]];
if(S.add.TySh||S.add.SoLd||S.add.SoCo||S.add.GdFl||S.add.PtFl)return{K:!0}}return{K:!1}};as.prototype.aoK=function(Z){J.Tj(Z);
var m=Z.dataTransfer.getData("Text"),S=1,B=0;if(m==""){J.qL(Z,this,this.rv.indexOf(this.OB),B+(S>.5?0:1))}else if(m!="--panel"){var m=JSON.parse(m),C=m.If;
if(C=="l")this.p2({d:w.Kn,source:m.$I,target:B,z3:S})}};as.prototype.atk=function(Z){var m=this.OB,S=Z.data,C;
if(m._.indexOf(S.i)==-1){var B={d:w.Qg,i:Z.target.pH.index,Yo:S.E_};this.p2(B)}if(m._.indexOf(S.i)==-1)return;
if(S.E_==1){C=this.atC}else if(S.E_==2){C=this.akO}else if(S.E_==3){C=this.aun}else if(S.E_==4){C=this.aau}else if(S.E_==5){C=this.aqu}else{C=this.yR}C.w();
C.update(m);C.parent=this;var u=new eY(_.E.W,!0);u.data={d:_.B.HM,Xg:C,x:S.Mc.x+1,y:S.Mc.y+1};this.c(u)};
as.prototype.w=function(){cn.prototype.w.call(this);this.K5.w();this.gH.w();this.Ow.w();this.tZ.w();
if(this.OB)this.sc(this.OB);var Z="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var q=0;q<this.vy.length;q++){var m=this.vy[q];m.zR(J.NE(Z[q]))}};as.prototype.sc=function(Z,m){if(Z&&!Z.jU)return;
if(Z==null)J._A(this.ew,"disabled");else J.iB(this.ew,"disabled");this.OB=Z;this.rv=m;if(this.tc!=null){this.gb.removeChild(this.tc.gb);
this.tc=null}if(Z==null)return;var S=!1;for(var q=0;q<Z.Xz.length;q++)if(Z.Xz[q].m5)S=!0;this.tc=new cc(Z.root,this,Z,{rF:0},{abX:S,amY:this.akA()});
this.gb.appendChild(this.tc.gb);if(Z._.length==0||Z.g[Z._[0]]==null)J._A(this.eE,"disabled");else{J.iB(this.eE,"disabled");
if(Z._.length==1&&Z.B3)this.tc.apy(Z._);var B=Z.g[Z._[0]];if(B.O1()){this.K5.Nw([[15,10,27]].concat(d1.JN),[1].concat(d1.L4));
var C=d1.WJ.indexOf(B.E4);this.K5.f(C+1)}else{this.K5.Nw(d1.JN,d1.L4);var C=d1.WJ.indexOf(B.E4);this.K5.f(C)}this.gH.f(Math.round(100*B.opacity/255));
this.Ow.f([B.YL(0),B.YL(1),B.YL(2),B.YL(31)]);this.tZ.f(Math.round(100*(B.add.iOpa!=null?B.add.iOpa/255:1)))}};
as.prototype.MY=function(Z,m){var S=this.eE.getBoundingClientRect().height,B=59;if(S>70)B=84;if(S>100)B=108;
if(S>120)B=128;var C=m-(B+37);this.gb.style.height=C+"px";this.gb.style.width=Z+"px"};as.prototype.aeW=function(Z){this.p2({d:w.pk,sk:this.K5.J()})};
as.prototype.adL=function(Z){this.p2({d:w.pZ,sk:Math.round(255*this.gH.J()/100)})};as.prototype.a17=function(Z){this.p2({d:w.Il,sk:[this.Ow.J(),[0,1,2,31]]})};
as.prototype.atS=function(Z){this.p2({d:w.xW,sk:Math.round(255*this.tZ.J()/100)})};as.prototype.Pt=function(Z){if(Z.target==this.wD)this.a5i();
var m=this.Zj.J();if(m)J.iB(this.LK,"disabled");else J._A(this.LK,"disabled");this.w();this.OB.jU=!0;
this.sc(this.OB);this.OB.jU=!1};as.prototype.a5i=function(){J.uq(this.LK);this.LK.appendChild(this.wD.m);
this.LK.appendChild(this.Re[this.wD.J()].m)};as.prototype.aei=function(Z){this.aiI(Z,this.afd)};as.prototype.ajD=function(Z){this.aiI(Z,this.a78)};
as.prototype.aiI=function(Z,m){var S=Z.currentTarget;if(J.Qt(m.m))return;Z.stopPropagation();var B=S.getBoundingClientRect();
m.w();m.update(this.OB);m.parent=this;var C=new eY(_.E.W,!0);C.data={d:_.B.HM,Xg:m,x:B.left,y:B.top,aiB:!0};
this.c(C)};as.prototype.a37=function(Z){this.p2({d:w.afJ})};as.prototype.acN=function(Z){this.p2({d:this.OB._.length>1?w.K4:w.IV})};
as.prototype.a0j=function(Z){this.p2({d:w.qR})};as.prototype.a9P=function(Z){var m=this.OB;if(m._.length==0)return;
var S=m.g[m._[0]],B=S.E_;this.p2({d:B<=0?S.aX?w.vp:w.G7:B==3?w.q$:w.CS})};as.prototype.ask=function(Z){this.p2({d:w.eB})};
as.prototype.p2=function(Z){var m=new eY(_.E.Y,!0);m.data=Z;m.b=g.vJ;this.c(m)};as.prototype.tB=function(){var Z=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],m=[this.ask,this.ajD,this.aei,this.a37,this.acN,this.a0j,this.a9P],S=this.afo.bind(this);
for(var q=0;q<Z.length;q++){var B=new dX("W",!1,Z[q]);this.vy.push(B);J.BQ(B.m,m[q].bind(this));this.ht.appendChild(B.m);
if(q>=Z.length-3){var C=B.m;C.addEventListener("drop",S,!1);C.addEventListener("dragover",function(u){u.preventDefault()},!1);
C.addEventListener("dragenter",J.Tj,!1)}}};as.prototype.afo=function(Z){J.Tj(Z);var m=0,S=this.vy;while(S[m].m!=Z.currentTarget)m++;
S[m].rS();var B=Z.dataTransfer.getData("Text");if(B=="")return;var B=JSON.parse(B);if(B.If=="l"){var C={d:[w.K4,w.lD,w.G7][m-4]};
if(this.OB._.indexOf(B.$I)==-1)C.i=B.$I;this.p2(C)}if(m!=6)return;if(B.If=="sm"||B.If=="s"){var u=new eY(_.E.Y,!0);
u.b=g.oV;u.data={d:B.If=="sm"?"st_clear":"st_delsingle",i:B.$I,$I:B.Ep};this.c(u)}if(B.If=="fm"||B.If=="f"){this.p2({d:B.If=="fm"?w.$h:w.nP,src:B.$I,Ep:B.Ep})}if(B.If=="m"||B.If=="vm"){this.p2({d:B.If=="m"?w.CS:w.vp,i:B.$I})}};
function cc(Z,m,S,B,C){aw.call(this);this.parent=m;this.pH=Z;this.mP=[];this.m=J.L("div","layeritem");
var u=C.amY&&!this.a66(),r=Z.i,k=S._.indexOf(Z.index)!=-1,T=15,E=!1;this.eE=J.L("div",k?"head selected":"head");
if(Z.i.add.artb!=null)J._A(this.eE,"artb");var v="height: "+(r.O1()?26:Math.floor(10+r.ajw/J.F()))+"px;";
if(k&&C.abX)v+="background-color:rgba(255,50,50,0.4);";this.eE.setAttribute("style",v);var e=J.L("div","headL"),j=J.L("div","headR"),$=J.L("div","lpineck");
this.gb=J.L("div","lpibody");this.eE.appendChild(e);this.eE.appendChild(j);if(!u){this.m.appendChild(this.eE);
if(r.MM()||r.vI())if(r.RM())this.m.appendChild($)}var U=this.eE;U.setAttribute("draggable","true");U.addEventListener("dragstart",this.n8.bind(this),!1);
U.addEventListener("drop",this.BO.bind(this),!1);U.addEventListener("dragover",this.e$.bind(this),!1);
U.addEventListener("dragenter",J.Tj,!1);U.addEventListener("dragleave",this.vx.bind(this),!1);var H=[],z=[null,null,null,null],f=J.L("div");
this.TQ=J.L("div","eye");f.appendChild(this.TQ);var D=J.L("div","space");this.ip=J.L("div","label");
this.ip.setAttribute("style","max-width:calc(100% - "+(96+Z.depth*20)+"px)");this.ip.textContent=r.getName();
this.GD=J.L("div","lock");this.as3=J.L("div","lrfx");this.xi=J.L("div","arfx");var n=this.atv.bind(this),L=this.afU.bind(this);
this.eE.addEventListener("click",L,!1);this.eE.addEventListener("contextmenu",n,!1);var a=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],F=r.add.lclr==null?0:a[r.add.lclr];
if(F==0)F=B.rF;var A=[F>>16,F>>8&255,F&255];for(var q=0;q<3;q++){A[q]=Math.round(.5*A[q]+.5*220)}if(1<J.F()&&J.F()<1.5)T=T/J.F();
f.setAttribute("style","background-color:rgba("+A.join(",")+","+(F==0?0:1)+");");this.TQ.setAttribute("style","background-size: "+T+"px "+T+"px;");
var P=this.agr.bind(this);f.addEventListener("mousedown",P,!1);f.addEventListener("mouseover",P,!1);
this.xi.addEventListener("click",this.aqs.bind(this),!1);H[0]=f;H[1]=D;H[10]=this.ip;function Y(eo,co,U){var c5=co.canvas;
J.vQ(c5);if(U)eo.setAttribute("draggable","true");eo.appendChild(c5);c5.setAttribute("style",c5.getAttribute("style")+"; pointer-events:none")}if(r.O1()){var Q=J.L("div","arrow"),o=J.L("div","folder");
Q.addEventListener("click",this.ajA.bind(this),!1);H[2]=Q;H[3]=o;if(r.add.lsct==jf.AH||C.amY){for(var q=Z.children.length-1;
q>=0;q--){var I=new cc(Z.children[q],m,S,{rF:F},C);this.mP.push(I);this.gb.appendChild(I.m)}this.m.appendChild(this.gb)}Q.setAttribute("class",r.add.lsct==jf.AH?"open":"closed")}else{this.Nd=J.L("div","thumb");
H[5]=this.Nd;Y(this.Nd,r.K6);if(e$.get(r.add))J._A(r.K6.canvas,"gsicon")}var c=r.sd();if(c){this.Uz=J.L("div","chain");
this.xP=J.L("div","thumb");Y(this.xP,Z.i.agn,!0);this.Uz.style.opacity=c.ie?1:0;this.Uz.addEventListener("click",this.a3v.bind(this),!1)}var y=r.Ie()&&r.add.vmsk;
if(r.add.vmsk&&!y){this.zt=J.L("div","chain");this.t_=J.L("div","thumb");Y(this.t_,Z.i.ah9,!0);this.zt.style.opacity=r.add.vmsk.ie?1:0;
this.zt.addEventListener("click",this.apJ.bind(this),!1)}if(r.vI()&&r.ws(S).v){this.a9=J.L("div","thumb");
Y(this.a9,Z.i.ao5,!1);this.a9.addEventListener("click",L,!1);this.a9.addEventListener("contextmenu",n,!1)}if(r.MM()){this.aeu=$;
$.addEventListener("contextmenu",n,!1);var i=new as.Sy(iD.get([12,1]),"sm","layerstyle",Z.depth,0,null);
i.parent=this;$.appendChild(i.m);var d=r.add.lmfx,V=d.masterFXSwitch.v;i.p0(V);for(var q=0;q<fp.order.length;
q++){var R=d[fp.lg[q]].v;if(R.length==0)continue;for(var G=0;G<R.length;G++){var i=new as.Sy(iD.get(fp.names[q]),"s","layerstyle",Z.depth,1,[q,G]);
i.p0(V&&R[G].v.enab.v);i.parent=this;$.appendChild(i.m)}}}if(r.vI()){var i=new as.Sy(iD.get([12,55]),"fm",null,Z.depth,0,-1,r.ws(S).v?this.a9:null);
i.parent=this;$.appendChild(i.m);this.a9I=i.m;this.a9I.addEventListener("contextmenu",n,!1);var d=r.add.SoLd.filterFX.v,M=d.filterFXList.v,V=d.enab.v;
i.p0(V);for(var q=M.length-1;q>=0;q--){var O=M[q].v,K=bS.zE(O);if(e$.wx[K])K=e$.wx[K];var W=O.Nm.v;if(bS.names[K])W=iD.get(bS.names[K]);
if(e$.names[K])W=iD.get(e$.names[K]);var t="afw_"+K,i=new as.Sy(W,"f",t,Z.depth,1,q);i.p0(V&&O.enab.v);
i.parent=this;$.appendChild(i.m)}}if(Z.index==S._[0]){var X=r.E_,h;if(X<=0)h=this.Nd;else if(X==1)h=this.xP;
else if(X==3)h=this.a9;if(h)h.setAttribute("class","thumb active");if(r.aX&&this.t_)this.t_.setAttribute("class","thumb active")}f.style.opacity=r.tm()?1:.25;
D.setAttribute("style","width:"+Math.max(0,Z.depth-1)*18+"px");var b=r.add.lspf!=null&&r.add.lspf!=0;
this.GD.style.opacity=r.YL(31)?1:.5;H[4]=r.GT?J.L("div","clipp"):null;H[6]=c?this.Uz:null;H[7]=c?this.xP:null;
H[8]=r.add.vmsk&&!y?this.zt:null;H[9]=r.add.vmsk&&!y?this.t_:null;var f0=r.KI,ay=S._;if(f0!=0)for(var q=0;
q<ay.length;q++)if(S.g[ay[q]].KI==f0){E=!0;break}if(E){z[0]=J.L("div",r.N9?"link":"linkX");z[0].addEventListener("click",this.agH.bind(this),!1)}z[1]=b?this.GD:null;
z[2]=r.MM()?this.as3:null;z[3]=r.MM()||r.vI()?this.xi:null;this.xi.setAttribute("class",r.RM()?"arfx open  gsicon":"arfx closed  gsicon");
var p=H;for(var q=0;q<p.length;q++)if(p[q])e.appendChild(p[q]);p=z;for(var q=0;q<p.length;q++)if(p[q])j.appendChild(p[q])}cc.prototype=new aw;
cc.prototype.apy=function(Z){var m=this.pH.index;if(Z.indexOf(m)!=-1){if(this.m.scrollIntoView)this.m.scrollIntoView({block:"nearest"})}for(var q=0;
q<this.mP.length;q++)this.mP[q].apy(Z)};cc.My=function(Z,m){var S=m.getBoundingClientRect();return(Z.clientY-S.top)/S.height};
cc.prototype.n8=function(Z){Z.stopPropagation();var m=Z.target==this.xP?"m":Z.target==this.t_?"vm":"l";
Z.dataTransfer.setData("Text",JSON.stringify({If:m,$I:this.pH.index}))};cc.prototype.vx=function(Z){J.Tj(Z);
this.o3()};cc.prototype.BO=function(Z){J.Tj(Z);this.o3();var m=Z.dataTransfer.getData("Text"),S=this.parent.OB,B=cc.My(Z,this.eE),C=this.pH.index;
if(B>.8){var u=!0,r=S.root.Hr(C);while(r.parent!=null){var k=r.parent,v=k.children;if(v.indexOf(r)!=0)u=!1;
r=r.parent}if(u){C=0;B=1}}if(m==""){J.qL(Z,this,this.parent.rv.indexOf(S),C+(B>.5?0:1))}else if(m!="--panel"){var m=JSON.parse(m),e=m.If;
if(e=="l")this.p2({d:w.Kn,source:m.$I,target:C,z3:B});else if(e=="m"||e=="vm")this.p2({d:e=="m"?w.a6v:w.iK,src:m.$I,EF:C});
else cc.arW(Z,m,this)}};cc.arW=function(Z,m,S,B){var C=m.If,u=S.pH.index,r=m.$I;if(C=="s"||C=="sm")S.p2({d:w.o1,src:r,EF:u,Ep:m.Ep});
if(C=="f"||C=="fm")S.p2({d:w.av4,src:r,EF:u,Ep:m.Ep,cK:B==null?0:B})};cc.prototype.e$=function(Z){J.Tj(Z);
var m=cc.My(Z,this.eE),S=this.pH.i.O1()&&.5<m&&m<.8;this.o3();var B="inset 0 "+(S?0:m>.5?-3:3)+"px "+(S?"5px black":"0 rgba(0,0,0,0.5)");
this.eE.style.boxShadow=B};cc.prototype.o3=function(Z){this.eE.style.boxShadow=""};cc.am$=-1;cc.KK=!1;
cc.asz=function(Z){cc.KK=!1;document.body.removeEventListener("mouseup",cc.asz)};cc.prototype.agr=function(Z){if(Z.button!=0)return;
if(Z.type=="mousedown"){cc.KK=!0;document.body.addEventListener("mouseup",cc.asz,!1)}if(Z.type=="mouseover"&&(!cc.KK||cc.am$==this.pH.index))return;
J.Tj(Z);this.p2({d:w.Xm,i:this.pH.index});cc.am$=this.pH.index};cc.prototype.ajA=function(Z){J.Tj(Z);
this.p2({d:w.aj0,i:this.pH.index})};cc.prototype.a3v=function(Z){this.p2({d:w.Y3,i:this.pH.index})};
cc.prototype.apJ=function(Z){this.p2({d:w.gd,i:this.pH.index})};cc.ZA=0;cc.prototype.Le=function(Z){this.p2({d:w.k$,i:this.pH.index,name:Z})};
cc.prototype.aqs=function(Z){this.p2({d:w.apT,i:this.pH.index})};cc.prototype.agH=function(Z){this.p2({d:w.vu,i:this.pH.index})};
cc.prototype.atv=function(Z){var m=Z.sourceCapabilities;if(m)m=m.firesTouchEvents;if(Z.button!=2&&m!=!0)return;
var S=this.E_(Z);if(S!=3&&Z.currentTarget==this.a9I)S=4;if(Z.target==this.as3||Z.currentTarget==this.aeu)S=5;
var B=new eY("rclick",!0);B.data={i:this.pH.index,E_:S,Mc:J.W7(Z,document.body)};this.c(B)};cc.prototype.E_=function(Z){var m=Z.target,S=m;
return S==this.t_?2:S==this.xP?1:S==this.Nd?0:S==this.a9?3:-1};cc.prototype.afU=function(Z){var m=Z.target,U;
if(m==this.TQ||m==this.xi||m==this.Uz||m==this.zt||m.tagName&&m.tagName.toLowerCase()=="input")return;
var S=this.E_(Z),B=this.parent.OB,C=this.pH.index,u=B.g[C];if(m==this.GD){this.p2({d:w.Il,i:C,sk:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(m==this.ip){var r=cc.ZA;cc.ZA=Date.now();if(Date.now()-r<300){this.eE.setAttribute("draggable","false");
var k=new cn.HF(this.ip,this.Le.bind(this))}}if(Z.button==0&&Z.detail==2){if(m==this.ip)return;var v=new eY(_.E.Y,!0),e=new eY(_.E.W,!0),j=new eY(_.E.lX,!0);
if(S==0&&u.add.SoCo){var $=l.X.gN(u.add.SoCo.Clr.v);e.data={d:_.B.Me,ct:"colorpicker",rF:$.I<<16|$.z<<8|$.S,mm:function(f){var D=l.X.M1({S:f&255,z:f>>>8&255,I:f>>16&255});
D={classID:"null",Clr:{t:"Objc",v:D}};var n=new eY(_.E.Y,!0);n.b=g.vJ;n.data={d:w.OF,q0:[C],Z1:!0,k:{lE:1,aI:D}};
this.c(n)}.bind(this),Is:!0}}else if(S==0&&(e$.get(u.add)||u.add.SoCo||u.add.GdFl||u.add.PtFl))e.data={d:_.B.Bn,ct:cn.kI.sZ};
else if(S!=0&&S!=-1)e.data={d:_.B.Bn,ct:cn.kI.sZ};else if(S==0&&u.add.SoLd)j.data={CE:"placedLayerEditContents",Oz:{classID:"placedLayerEditContents"}};
else if(S==0&&u.add.TySh){v.b=g.WH;v.data={d:"editCurr",_y:C}}else e.data={d:_.B.Me,ct:"layerstyle",i:C};
this.c(j.data?j:e.data?e:v);return}if(Z.button!=0)return;if(S==1||S==3){var H=S==3?u.ws(B).v:u.sd();
U=H.m5?B.s.U1.join("")=="111"?1:2:0}var z={d:w.Qg,i:C,Yo:S,adh:U,alG:!0};this.p2(z)};cc.prototype.p2=function(Z){var m=new eY(_.E.Y,!0);
m.data=Z;m.b=g.vJ;this.c(m)};cc.prototype.a66=function(){var Z=this.pH.i,m=Z.add,S=this.parent.wD.J(),B=this.parent.Re[S].J();
if(S==0){if(B[0]&&m.SoLd==null&&m.TySh==null&&Z.JB())return!0;if(B[1]&&e$.get(m)!=null)return!0;if(B[2]&&m.TySh!=null)return!0;
if(B[3]&&m.vstk!=null)return!0;if(B[4]&&m.SoLd!=null)return!0;return!1}if(S==1)return Z.getName().toLowerCase().indexOf(B.toLowerCase())!=-1};
as.Sy=function(Z,m,S,B,C,u,r){aw.call(this);this.afr=m;this.VP=S;this.index=u;this.m=J.L("div","styleitem");
this.eE=J.L("div","head");this.a2W=null;if(m=="f"){var k=this.a2W=J.L("div","headR");k.textContent="\u2699";
this.eE.appendChild(k)}this.NA=J.L("div","eye gsicon");this.ip=J.L("div","label");this.m.appendChild(this.eE);
this.eE.appendChild(this.NA);if(r){this.xP=r;this.eE.appendChild(this.xP);this.eE.setAttribute("style","height: "+(r.firstChild.height/J.F()+10)+"px")}this.ip.innerHTML=Z;
this.m.setAttribute("style","margin-left: "+(24+B*16+C*22)+"px");this.eE.appendChild(this.ip);this.NA.addEventListener("click",this.alr.bind(this),!1);
var v=this.m;v.setAttribute("draggable","true");v.addEventListener("dragstart",this.n8.bind(this),!1);
if(!0){v.addEventListener("drop",this.BO.bind(this),!1);v.addEventListener("dragover",this.e$.bind(this),!1);
v.addEventListener("dragenter",J.Tj,!1);v.addEventListener("dragleave",this.vx.bind(this),!1)}this.m.addEventListener("click",this.qB.bind(this),!1)};
as.Sy.prototype=new aw;as.Sy.prototype.n8=function(Z){Z.stopPropagation();Z.dataTransfer.setData("Text",JSON.stringify({If:this.afr,$I:this.parent.pH.index,Ep:this.index}))};
as.Sy.prototype.vx=function(Z){J.Tj(Z);this.o3()};as.Sy.prototype.BO=function(Z){J.Tj(Z);this.o3();var m=Z.dataTransfer.getData("Text");
if(m=="")return;var m=JSON.parse(m);cc.arW(Z,m,this.parent,this.index+(cc.My(Z,this.eE)>.5?0:1))};as.Sy.prototype.e$=function(Z){J.Tj(Z);
var m=cc.My(Z,this.eE)>.5;this.o3();var S="border-"+(m?"bottom":"top");this.eE.style[S]="0.2em solid rgba(0,0,0,0.5)"};
as.Sy.prototype.o3=function(Z){this.eE.style.border="none"};as.Sy.prototype.p0=function(Z){var m=15;
if(1<J.F()&&J.F()<1.5)m=m/J.F();this.NA.setAttribute("style","background-size: "+m+"px "+m+"px;");this.NA.style.opacity=Z?1:.2};
as.Sy.prototype.qB=function(Z){if(Z.target==this.NA)return;var m=this.parent.pH.index;if(Z.detail!=1&&this.VP!=null){var m=this.parent.pH.index,S=new eY(_.E.W,!0);
if(this.VP.indexOf("afw_")==0){var B=this.VP.slice(4),C=s[B]||bS.P[B],u=Z.target==this.a2W;if(!u&&!C)return;
S.data=g.gl.BB(u?"blendOptions":B,{i:m,index:this.index})}else S.data={d:_.B.Me,ct:this.VP,i:m,index:this.index};
this.c(S)}else{if(Z.target.getAttribute("class")!="thumb")this.parent.p2({d:w.Qg,i:m,Yo:0})}};as.Sy.prototype.alr=function(Z){var m={fm:w.r9,f:w.yg,sm:w.IM,s:w.U0}[this.afr];
this.parent.p2({d:m,i:this.parent.pH.index,index:this.index})};function eg(){cn.call(this,"Guide Guy",!1,"---panels/guideguy",cn.kI.ace);
this.Rt=null;this.CH=[];var Z=J.L("div","form padded");this.ew.appendChild(Z);Z.setAttribute("style","width:200px");
this.ew.appendChild(Z);var m=J.L("canvas"),S=m.getContext("2d");m.width=m.height=160;var B=[32,0,16,160,0,32,160,16,0,112,160,16],C="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),u=[0,0,0,0,0,0,0,0,0,0];
for(var q=0;q<10;q++){S.clearRect(0,0,160,160);S.setTransform(1,0,0,1,80,80);S.rotate((q&3)*Math.PI/2);
S.translate(-80,-80);S.fillStyle="rgba(0,0,0,0.3)";if(q<4){for(var r=0;r<12;r+=4){S.fillStyle=r==0?"#000000":"rgba(0,0,0,0.3)";
S.fillRect(B[r],B[r+1],B[r+2],B[r+3])}}else if(q<6){var k=8*6;S.fillRect(0,0,k,160);S.fillRect(8*7,0,k,160);
S.fillStyle="#000000";S.fillRect(8*14,0,k,160)}else if(q<8){S.fillRect(0,0,16,160);S.fillRect(160-16,0,16,160);
S.fillRect(32,0,160-64,160);S.fillStyle="#000000";S.fillRect(32,80-8,160-64,8*1)}else{S.fillRect(0,0,8*7,160);
S.fillRect(8*13,0,160,160);S.fillStyle="#000000";S.fillRect(8*7,80-8,8*6,8*1)}var v="<img src=\""+m.toDataURL()+"\" class=\"autoscale gsicon\" /> ",e=new gH(v,0,200,q==4||q==5?null:"px",null,null,null,4,C[q]);
e.parent=this;e.h(_.E.o,this.ahe,this);e.f(u[q]);e.w();this.CH.push(e);Z.appendChild(e.m)}var j=[[11,14],[11,15,0]];
this.D1=[];for(var q=0;q<j.length;q++){var $=new dX(j[q],!0,null,!0);this.D1.push($);$.h("click",this.WU,this);
Z.appendChild($.m)}for(var q=0;q<6;q++){S.setTransform(1,0,0,1,80,80);S.rotate(Math.floor(q/3)*Math.PI/2);
S.translate(-80,-80);S.clearRect(0,0,160,160);S.fillStyle="rgba(0,0,0,0.3)";S.fillRect(0,0,160,160);
S.clearRect(16,16,128,128);S.fillStyle="#000000";var U=q%3;S.fillRect([0,9,18][U]*8,0,16,160);var v="<img src=\""+m.toDataURL()+"\" class=\"autoscale gsicon\" /> ",$=new dX(v,!1,null,!1);
this.D1.push($);$.h("click",this.WU,this);Z.appendChild($.m)}}eg.prototype=new cn("");eg.prototype.w=function(){cn.prototype.w.call(this);
for(var q=0;q<this.D1.length;q++)this.D1[q].w()};eg.prototype.ahe=function(Z){var m=this.CH,S=m.indexOf(Z.target),B=Math.floor(S/2),C=S&1,u=[];
for(var q=0;q<4;q++)u.push(m[2*q+C].J());var r=-1;if(B==2&&u[2]!=0&&u[3]!=0&&u[4]!=0)r=4;if(B==3&&u[3]!=0&&u[2]!=0&&u[4]!=0)r=4;
if(B==4&&u[4]!=0&&u[2]!=0&&u[3]!=0)r=3;if(r!=-1)m[2*r+C].f(0)};eg.prototype.WU=function(Z){var m=this.Rt,S=this.D1.indexOf(Z.target),B=[[],[]];
if(m==null)return;var C=m.$?m.$.rect:new bq(0,0,m.e,m.n),u=C.e,r=C.n;if(S==0){var k=[[],[]];for(var q=0;
q<this.CH.length;q++)k[q&1].push(this.CH[q].J());var v=[eg.ah_(k[0],C.x,C.x+u),eg.ah_(k[1],C.y,C.y+r)];
B=eg.a5s(v);g.ho.SI(B,m.dM())}else if(S==1){}else{S-=2;var e=Math.floor(S/3),v=[[],[]];v[e].push([C.x,C.x+u/2,C.x+u,C.y,C.y+r/2,C.y+r][S]);
B=eg.a5s(v);g.ho.SI(B,m.dM())}this.aga(B)};eg.a5s=function(Z){var m=[],S=[];for(var B=0;B<2;B++)for(var q=0;
q<Z[B].length;q++){m.push([B,Z[B][q]]);S.push(-1)}return[m,S]};eg.prototype.auR=function(Z){var m=this.apg.indexOf(Z.target)};
eg.prototype.aga=function(Z){var m=new eY(_.E.Y,!0);m.b=g.Ta;m.data={d:"gids",ib:Z};this.c(m)};eg.ah_=function(Z,m,S){var B=[],C=Z[2],u=Z[3],r=Z[4],k=0;
if(C==0)k++;if(u==0)k++;if(r==0)k++;if(k>1&&C==0&&u==0){if(Z[0]!=0)B.push(m+Z[0]);if(Z[1]!=0)B.push(S-Z[1]);
return B}var v=S-m-Z[0]-Z[1];if(C==0){if(r==0){C=Math.floor(v/u);r=(v-C*u)/(C-1)}else{C=1;while(u*C+r*(C-1)+u+r<=v)C++}}else if(C!=0&&u!=0){if(C*u>v)C=Math.floor(v/u);
r=(v-C*u)/(C-1)}B.push(m+Z[0],S-Z[1]);var u=(v-r*(C-1))/C;for(var q=1;q<C;q++){if(r==0)B.push(m+Z[0]+q*u);
else B.push(m+Z[0]+q*u+(q-1)*r,m+Z[0]+q*u+q*r)}return B};eg.prototype.sc=function(Z){this.Rt=Z};function fR(){cn.call(this,[9,2],!1,"---panels/properties",cn.kI.sZ);
this.aeo=null;this.kg=null;this._q=null;this.ajx=-1;this.oJ=null}fR.prototype=new cn("");fR.prototype.MY=function(Z,m){this.OU=Z;
this.Vi=m;Z=Z-16;m=m-12;var S=this.oJ;if(S){S.style.width=Z+"px";S.style.height=m+"px";for(var q=0;q<3;
q++)this.Lp[q].MY(Z-12,m)}};fR.prototype.qm=function(){this.oJ=J.L("div","padded scrollable");this.ew.appendChild(this.oJ);
var Z=J.L("span");this.oJ.appendChild(Z);this.u5=[new dX([0,3]),new dX([12,73]),new dX([12,91,0])];for(var q=0;
q<this.u5.length;q++){var m=this.u5[q];m.h("click",this.aah,this);Z.appendChild(m.m);if(q==2)m.m.style.marginRight="0"}this.oJ.appendChild(J.L("hr"));
this.Jl=new fR.aV;this.Jl.parent=this;this.qF=new fR.Zp;this.qF.parent=this;this.d0=new fR.j1;this.d0.parent=this;
this.Lp=[this.Jl,this.qF,this.d0];this.oJ.appendChild(this.Jl.m);this.MY(this.OU,this.Vi)};fR.prototype.aah=function(Z){var q=this.u5.indexOf(Z.currentTarget);
this.tG(q);this.aeU(q==1?this.qF.$P:-1)};fR.prototype.tG=function(Z){for(var q=0;q<3;q++){this.u5[q].rS();
var m=this.Lp[q].m;if(m.parentNode==this.oJ&&q!=Z)this.oJ.removeChild(m);if(m.parentNode!=this.oJ&&q==Z)this.oJ.appendChild(m)}this.u5[Z].HS()};
fR.prototype.aeU=function(Z){var m=this.kg._[0],S=this.kg.g[m],B=Z+1;if(Z==1&&S.aX)return;var C=new eY(_.E.Y,!0);
C.b=g.vJ;if(Z!=1&&S.aX){C.data={d:w.Qg,i:m,Yo:2};this.c(C)}C.data={d:w.Qg,i:m,Yo:B};this.c(C)};fR.prototype.w=function(){cn.prototype.w.call(this);
if(this.oJ==null)return;this.sc(this.kg);for(var q=0;q<3;q++){this.u5[q].w();this.Lp[q].w()}};fR.prototype._K=function(){if(!J.Qt(this.ew))return;
if(this.oJ==null){this.qm();this.C7(this._q,bo.LE);this.sc(this.aeo);this.w()}};fR.prototype.sc=function(Z){this.aeo=Z;
if(this.oJ==null)return;this.Jl.sc(Z);this.qF.sc(Z);this.d0.sc(Z);if(Z==null||Z._.length==0||Z.g[Z._[0]]==null){J._A(this.ew,"disabled");
this.kg=null;return}else J.iB(this.ew,"disabled");var m=Z._[0],S=Z.g[m],B=Z.Nu(),C=B[0],u=B[1];if(u.length!=0){var r=C[u[0]],k=r.add.vogk,v=!1;
if(k)for(var q=0;q<k.length;q++){var e=k[q].v;if(!l.Ka.x7(e))continue;v=!0;m=r.lU}}m+=","+v;if(Z!=this.kg||this.ajx!=m){this.kg=Z;
this.ajx=m;if(v)this.tG(2);else if(S.E_<1&&!S.aX||e$.get(S.add))this.tG(0);else this.tG(1)}this.u5[1].aR(this.qF.$P!=-1);
this.u5[2].aR(v)};fR.prototype.C7=function(Z,m){this._q=Z;if(this.Jl)this.Jl.C7(Z,m);if(this.d0)this.d0.C7(Z,m)};
fR.aV=function(){aw.call(this);this.m=J.L("div","form");this.ael=new ed("Hello");this.Ti=new dX([1,12,2],null,null,!0);
this.Ti.m.style.aoa="right";this.Ti.h("click",this._p,this);this.m.appendChild(this.ael.m);this.m.appendChild(this.Ti.m);
this.Iw=null;this.g0=null;this.kg=null;this._q=null;this.a7R=-1;this.aeq=null;this.OD=new gl(!0);this.OD.parent=this;
this.OD.h(_.E.o,this.arE,this);this.QR=J.L("div","marged hiline");this.QR.appendChild(this.OD.m);this.f$=new iR("GrFl",!0);
this.f$.parent=this;this.f$.h(_.E.o,this.a8p,this);this.Rv=J.L("div","marged hiline");var Z="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");
for(var q=0;q<Z.length;q++){var m=this.f$.l$[Z[q]].m;this.Rv.appendChild(m)}this.rE=new iR("patternFill",!0);
this.rE.parent=this;this.rE.h(_.E.o,this.a2u,this);this.vG=J.L("div","marged hiline");var Z=["Ptrn","Angl","Scl","Algn","phase"];
for(var q=0;q<Z.length;q++){var m=this.rE.l$[Z[q]].m;this.vG.appendChild(m)}this._l={};for(var S in e$.names){if(s[S]==null)continue;
this._l[S]=new s[S];this._l[S].h(_.E.o,this.aes,this);this._l[S].parent=this}var B=this.afO=J.L("div","marged hiline");
this.x6=new gS(0,!0);B.appendChild(this.x6.m);this.x6.h(_.E.o,this.PN,this);this.agJ=null;this.J9=new jV;
this.J9.parent=this;this.J9.h(_.E.o,this.PN,this);B.appendChild(this.J9.m)};fR.aV.prototype=new aw;fR.aV.prototype.MY=function(Z,m){var S=this._l;
for(var B in S)S[B].MY(Z,m)};fR.aV.prototype._p=function(Z){var m=this.kg,S=m.g[m._[0]],B=e$.get(S.add);
this.g0.f(bS.ej(B));this.aes()};fR.aV.prototype.w=function(){for(var Z in this._l)this._l[Z].w();this.f$.w();
this.rE.w();this.J9.w();this.x6.w();this.Ti.w()};fR.aV.prototype.PN=function(Z){var m=new eY(_.E.Y,!0),S=this.x6.J(),B=this.agJ;
if(Z.target==this.x6&&S[2]==B[2]&&S[3]==B[3]){m.b=g.Ta;m.data={d:"trsl",V1:S[0]-B[0],h7:S[1]-B[1]}}else{var C=w.ZL(new bq(S[0],S[1],S[2],S[3])),u=this.J9.a4e();
u.artboardRect={t:"Objc",v:C};m.b=g.vJ;m.data={d:w.NU,jp:u}}this.c(m)};fR.aV.prototype.arE=function(Z){var m=this.kg,S=m._[0];
if(m.g[S].add.SoCo==null)return;var B=JSON.parse(JSON.stringify(m.g[S].add.SoCo));B.Clr.v=this.OD.J();
this._c({lE:1,aI:B})};fR.aV.prototype.a8p=function(Z){var m=this.kg,S=m._[0];if(m.g[S].add.GdFl==null)return;
this._c({lE:2,aI:this.f$.J()})};fR.aV.prototype.a2u=function(Z){this._c({lE:3,aI:this.rE.J()})};fR.aV.prototype._c=function(Z){this.a20(g.vJ,{d:w.OF,q0:[this.kg._[0]],Z1:!0,k:Z})};
fR.aV.prototype.aes=function(Z){this.a20(g.b$,{d:"edit_layer",k:this.g0.J()})};fR.aV.prototype.a20=function(Z,m){var S=new eY(_.E.Y,!0);
S.b=Z;S.data=m;this.c(S)};fR.aV.prototype.sc=function(Z,m){var S=iD.get([0,3]),B=!1,C=null;this.kg=Z;
if(Z&&Z.g.length>0&&Z._.length!=0&&Z.g[Z._[0]]){var u=Z.g[Z._[0]],r=e$.get(u.add);if(r!=null&&this._l[r]!=null){C=this._l[r].m;
this.g0=this._l[r];this._l[r].f(JSON.parse(JSON.stringify(u.add[r])));if(Z._[0]!=this.a7R){var k=Z.Jy(Z._[0]-1);
this.aeq=l.LA(k)}this._l[r].gV(this.aeq);S=iD.get(e$.names[r]);B=!0}if(u.add.SoCo){C=this.QR;this.OD.f(u.add.SoCo.Clr.v);
S=iD.get([6,48,0,0])}if(u.add.GdFl){C=this.Rv;this.f$.update(Z,u.add.GdFl);S=iD.get([6,48,0,1])}if(u.add.PtFl){C=this.vG;
this.rE.update(Z,u.add.PtFl);S=iD.get([6,48,0,2])}if(u.add.artb){var v=u.add.artb,e=u.u1();C=this.afO;
this.J9.ahx(v);var j=this.agJ=[e.x,e.y,e.e,e.n];this.x6.f(j,[Z.wd,Z.e,this._q.Zd.Dj]);S="Artboard"}this.a7R=Z._[0]}if(C!=this.Iw){if(this.Iw)this.m.removeChild(this.Iw);
if(C!=null)this.m.appendChild(C);this.Iw=C}this.ael.f(S);this.Ti.m.style.display=B?"":"none"};fR.aV.prototype.C7=function(Z,m){this._q=Z;
this.f$.C7(Z,m);this.rE.C7(Z,m);if(m==bo.Hf)this.sc(this.kg,Z);for(var S in this._l)this._l[S].C7(Z,m)};
fR.Zp=function(){aw.call(this);this.m=J.L("div","form");this.kg=null;this.$P=0;var Z=J.L("span","fitem");
this.m.appendChild(Z);this.u5=[new dX([6,2]),new dX([6,3]),new dX([6,50])];for(var q=0;q<this.u5.length;
q++){var m=this.u5[q];m.h("click",this.a3_,this);Z.appendChild(m.m)}this.Gw=new iG([12,74],0,255);this.Gw.h(_.E.o,this.rc,this);
this.m.appendChild(this.Gw.m);this.tz=new iG([7,6],0,500,"px",2,!0);this.tz.h(_.E.o,this.rc,this);this.m.appendChild(this.tz.m);
this.yF=new dX([4,11],null,null,!0);this.yF.h("click",this.akX,this)};fR.Zp.prototype=new aw;fR.Zp.prototype.akX=function(){var Z=new eY(_.E.Y,!0);
Z.b=g.b$;Z.data={d:"start",sv:"nvrt"};this.c(Z)};fR.Zp.prototype.rc=function(Z){var m=this.Gw.J(),S=this.tz.J(),B=new eY(_.E.Y,!0);
B.b=g.vJ;B.data={d:w.b_,B4:this.kg._[0],wp:{ii:this.$P,Gw:m,tz:S}};this.c(B)};fR.Zp.prototype.w=function(){for(var q=0;
q<this.u5.length;q++)this.u5[q].w();this.Gw.w();this.tz.w();this.yF.w()};fR.Zp.prototype.sc=function(Z){this.kg=Z;
this.Po()};fR.Zp.prototype.a3_=function(Z){this.Po(this.u5.indexOf(Z.currentTarget));this.parent.aeU(this.$P)};
fR.Zp.prototype.Po=function(Z){var m=this.kg,S=this.u5;for(var q=0;q<3;q++){var B=S[q];B.rS();B.ep()}if(m==null||m.g.length==0||m._.length==0||m.g[m._[0]]==null)return;
var C=-1,u=m.g[m._[0]];if(u.vI()&&u.ws(m).v!=null){S[2].un();C=2}if(u.add.vmsk){S[1].un();C=1}if(u.sd()){S[0].un();
C=0}if(Z!=null)C=Z;else if(u.aX)C=1;else if(u.E_==3)C=2;else if(u.E_==1)C=0;this.$P=C;if(C==-1){this.Gw.ep();
this.tz.ep();return}var r=u.b9(C);this.Gw.un();this.tz.un();this.Gw.f(r.Gw);this.tz.f(r.tz);S[C].HS();
var k=this.yF.m;if(C==0)this.m.appendChild(k);else if(k.parentNode==this.m)this.m.removeChild(k)};fR.j1=function(){aw.call(this);
this.m=J.L("div","form");this.Rt=null;this._q=null;this.NP=-1;this.Xc=new gS(0,!1);this.d9=new iG([12,15],-180,180,"\xB0",2);
this.Hp=new gS(1,!0);this.Nl=new iG([12,94,0],0,100,null,2);this.hu=new iG([12,78],3,30);this.Xc.h(_.E.o,this.SG,this);
this.d9.h(_.E.o,this.SG,this);this.Hp.h(_.E.o,this.SG,this);this.Nl.h(_.E.o,this.SG,this);this.hu.h(_.E.o,this.SG,this)};
fR.j1.prototype=new aw;fR.j1.prototype.w=function(){this.Xc.w();this.d9.w();this.Hp.w();this.Nl.w();
this.hu.w()};fR.j1.prototype.SG=function(Z){var m=this.Rt,S=l.Ka.Eh(m),B=Z.target.J(),C=[this.Xc,this.d9,this.Hp,this.Nl,this.hu].indexOf(Z.target);
if(C==0){var u=[];u[0]=B[0];u[1]=B[1];u[2]=u[0]+B[2];u[3]=u[1]+B[3];B=u}if(C==1)B=B*Math.PI/180;var r={0:1,1:2,2:3,3:3,4:4}[C];
S[r]=B;var k=new eY(_.E.Y,!0);k.b=g.vJ;k.data={d:w.HK,k:S};this.c(k)};fR.j1.prototype.sc=function(Z){var m=this.m;
this.Rt=Z;if(Z==null)return;var S=this._q,B=[Z.wd,Z.e,S.Zd.Dj],C=l.Ka.Eh(Z),u=C[0],r=C[1];if(r==null)return;
var k=u!=this.NP;this.NP=u;if(k)J.uq(m);if(k)m.appendChild(this.Xc.m);if(k)m.appendChild(this.d9.m);
this.Xc.f([r[0],r[1],r[2]-r[0],r[3]-r[1]],B);this.d9.f(C[2]*180/Math.PI);if(u==2){if(k)m.appendChild(this.Hp.m);
var v=C[3];this.Hp.f(v,B)}if(u==7||u==8){if(k)m.appendChild(this.Nl.m);this.Nl.f(C[3])}if(u==8){if(k)m.appendChild(this.hu.m);
this.hu.f(C[4])}};fR.j1.prototype.C7=function(Z,m){this._q=Z;this.sc(this.Rt)};function hD(Z){cn.call(this,Z.name,!0);
this.OB=Z;this.YS=null;this.DN=document.createElement("canvas");this.FT=this.DN.getContext("2d");this.BR=document.createElement("canvas");
this.ma=this.BR.getContext("2d");var m=16,S=l.U(16*16*4);l.AN(S,m,m,8);this.BI=l.scale.DY(S,m,m);this.bE=new es(this.ew);
this.bE.parent=this;this.Yc=0;this.aqQ="";this.rU=4}hD.prototype=new cn;hD.prototype.agY=function(){if(this.OB.nc())return window.confirm(iD.get([22,6,3])+" "+this.OB.name+". "+iD.get([22,6,4]));
return!0};hD.prototype.C7=function(Z,m){this.YS=Z};hD.prototype.sc=function(Z){this._K();this.Hk()};
hD.prototype.MY=function(Z,m){if(Z<=0||m<=0)return;this.OU=Z;this.Vi=m;var S=this.OB,B=J.F();S.s.ma.e=Math.floor(Z*B);
S.s.ma.n=Math.floor(m*B);J.Nm(this.BR,Z,m);J.Nm(this.DN,Z,m);J.Nm(N.Df(),Z,m);if(S.s.R==0)S.s.R=g.Ol.LS(S.e,S.n,Z*B,m*B);
this.Hk()};hD.prototype._K=function(){var Z=this.ew.firstChild;if(!N.V8&&Z==N.Df()||N.V8&&Z==this.BR)this.ew.removeChild(Z);
var m=N.V8?N.Df():this.BR;if(!J.Qt(m))this.ew.appendChild(m)};hD.prototype.Hk=function(){if(N.V8!=this.rU){this.Yc=0;
this.aqQ=""}this.rU=N.V8;if(this.YS==null)return;if(N.V8)this.a8c();else this._o();var Z=this.OB;this.Yc=Z.s.R;
this.aqQ=JSON.stringify(Z.s.U1)};hD.prototype.a8c=function(){if(N.V8&&hD.$F==null){var Z=hD.$F=[],m=[0,2,8,32,128];
for(var q=0;q<5;q++)Z[q]=[new hD.Bg(!1,m[q]),new hD.Bg(!0,m[q])]}var S=this.OB,$,z=0,A,T;if(S.qs==null)return;
var B=S.s,C=B.ma.e,u=B.ma.n,r=N.az;this.ma.clearRect(0,0,C,u);var k=this.adY(S);if(B.VG==null)B.VG=new N._8(C,u);
if(k)B.VG.set(this.BR);else{N.dF(B.VG);N.nB(1)}var v=B.o5(0,0),e=new ht;e.scale(C,u);e.concat(B.gr(!0));
e.scale(1/S.e,1/S.n);var j=[e.AQ,e.S,0,e.mw,e.uw,0,e.s9,e.ku,1];if(hD.aoT==null)hD.aoT=new Float32Array(4*1024);
var U=[0,0,0,0],H=hD.aoT;if(S.add.artd){H.fill(0);U=hD.qK(S);var f=S.e,D=S.n,F=0;for(var q=0;q<S.g.length;
q++){var n=S.g[q],L=n.add.artb;if(L==null||!n.tm())continue;var a=n.u1();H[z]=a.x/f;H[z+1]=a.y/D;H[z+2]=a.e/f;
H[z+3]=a.n/D;z+=4;if(z==H.length)break}if(z>2*4)F++;if(z>8*4)F++;if(z>32*4)F++;$=hD.$F[F+1];H=new Float32Array(H.buffer,0,[2,8,32,128][F]*4)}else $=hD.$F[0];
var P=S.asT();if(P==null)$=$[0];else{$=$[1];T=P[S.add.fcmy==1?6:4];A=P[2]}N.Fs(C,u);N.nB(0);N.Fs(C,u);
$.Sl();$.qV(B.VG.Wa,S.qs.Wa,new Float32Array(j),new Float32Array([C/8,u/8,v.x/C,v.y/u]),S.e,S.n,1/S.s.R,C,u,new Float32Array(U),H,new Float32Array(l.fd.O5(l.fd.J2(B.U1))),T,A);
r.drawArrays(r.TRIANGLES,0,6)};hD.qK=function(Z){return[0,0,0,0]};hD.a0A=function(Z){var m=l.X.gN(Z.v),S=[m.I/255,m.z/255,m.S/255,1];
for(var q=0;q<4;q++)S[q]=Math.min(1,S[q]);return S};hD.RT=function(Z,m){var S=Z[2]*255;if(N.V8)S=m?0:Math.max(1,S);
return"rgba("+Z[0]*255+","+Z[1]*255+","+S+","+Z[3]+")"};hD.RZ=function(Z){if(N.V8)for(var q=0;q<Z.length;
q+=4){if(Z[q+2]==0)Z[q+2]=3}};hD.prototype._o=function(){var Z=this.OB;if(Z.buffer==null)return;var m=Z.s,S=m.ma,B=S.e,C=S.n,u=new bq(0,0,Z.e,Z.n);
this.FT.clearRect(0,0,B,C);this.ma.clearRect(0,0,B,C);var r=m.gr(!0),k=r.clone();k.Yy();if(Z.add.artd==null){this.ma.save();
var v=k.xf(new aS(0,0));k.translate(-v.x,-v.y);this.ma.translate(Math.round(v.x),Math.round(v.y));this.ma.fillStyle=this.BI;
this.gy(l.H.ez(u),k,this.ma);this.ma.fill();this.ma.restore()}else{this.ma.fillStyle=hD.RT(hD.qK(Z));
this.ma.fillRect(0,0,B,C);this.ma.save();this.ma.setTransform(k.AQ,k.S,k.mw,k.uw,k.s9,k.ku);var e=Z.root.children;
for(var q=0;q<e.length;q++){var j=e[q].i;if(j.add.artb==null||!j.tm())continue;var $=j.u1(),U=j.YM();
if(U!=0)continue;this.ma.fillStyle=this.BI;this.ma.save();this.ma.scale(1/m.R,1/m.R);this.ma.fillRect(m.R*$.x,m.R*$.y,$.e*m.R,$.n*m.R);
this.ma.restore()}this.ma.restore()}if(m.wa.length!=S.Z()){m.wa=l.U(S.Z());m.I1=l.U(S.Z()*4)}m.I1.fill(0);
l.scale.vK(Z.buffer,u,r,m.I1,S);var H=Z.asT();if(H)ICC.U.applyLUT(H[Z.add.fcmy==1?5:3],H[2],m.I1,m.I1);
if(m.U1[0]+m.U1[1]+m.U1[2]!=3)l.fd.NB(m.I1,m.I1,l.fd.J2(m.U1));this.FT.putImageData(new ImageData(new Uint8ClampedArray(m.I1.buffer),S.e,S.n),0,0);
this.ma.drawImage(this.DN,0,0);this.ma.getImageData(0,0,1,1);this.adY(Z)};hD.prototype.adY=function(Z){var m=Z.s,S=m.U1[0]+m.U1[1]+m.U1[2],B=!1,C=[];
for(var q=0;q<Z._.length;q++){var u=Z.g[Z._[q]];if(u==null)continue;var r=u.E_;if(r!=1&&r!=3)continue;
var k=r==1?u.sd():u.ws(Z).v;if(k.m5)C.push(k)}for(var q=0;q<Z.Xz.length;q++)if(Z.Xz[q].m5)C.push(Z.Xz[q]);
for(var q=0;q<C.length;q++){var k=C[q];this.afb(k,m,C.length==1&&S==0?2:1,k.color,k.rF);B=!0}var v=this.YS;
B=this.a15(Z,this.ma,m)||B;if(Z.$&&v.cb&&v.Zd.et){this.afb(Z.$,m,0,0,null);B=!0}return B};hD.prototype.afb=function(Z,m,S,B,C){var u=0,U,H;
if(C)u=Math.round(C.S)<<16|Math.round(C.z)<<8|Math.round(C.I);var r=m.gr(!0),k=m.ma,v=new bq(0,0,m.OB.e,m.OB.n);
if(m.wa.length!=k.Z()){m.wa=l.U(k.Z());m.I1=l.U(k.Z()*4)}m.wa.fill(B);m.I1.fill(0);var e=Z.channel,j=Z.rect;
l.scale.A(e,j,r,m.wa,k);if(S==0)l.$.a4c(m.wa,m.I1,k,k);else l.$.ajc(m.wa,m.I1,k,k,S,u);hD.RZ(m.I1);var $=new ImageData(new Uint8ClampedArray(m.I1.buffer),k.e,k.n);
this.FT.putImageData($,0,0);this.ma.save();if(S==0){U=k.clone();U.QW(-1,-1);H=new ht}else{U=new bq(0,0,v.e,v.n);
H=r.clone();H.Yy()}this.gy(l.H.ez(U),H,this.ma);this.ma.clip();this.ma.drawImage(this.DN,0,0);this.ma.restore()};
hD.prototype.a15=function(Z,m,S){var B=Z.D.Vy!=null||Z.D.pC!=null||Z.D.D4!=null||Z.D.Fk.length!=0||Z.D.vC.length!=0,C=this.YS,u=C.Zd,r=ii.o$[C.Yv],k=Math.round(12*J.F()),v=k/Z.s.R,e=S.gr(!0);
e.Yy();m.save();m.setTransform(e.AQ,e.S,e.mw,e.uw,e.s9,e.ku);if(Z.add.artd){var j=hD.qK(Z)[0];j=j<.5?j+.5:j-.5;
j=""+Math.round(j*255).toString(16);while(j.length<2)j="0"+j;m.fillStyle="#"+j+j+j;m.font=v+"px sans-serif";
for(var q=0;q<Z.g.length;q++){var $=Z.g[q];if($.add.artb==null||!$.tm())continue;var U=$.u1();m.fillText($.getName(),U.x+2,U.y-v*.7);
B=!0}}function H(bA){return bA==1||bA==2||bA==4||bA==5}var z=hD.RT([.1,.5,1,1]),f=hD.RT([1,1,1,1]);if(C.cb&&u.px){m.fillStyle=m.strokeStyle=z;
m.lineWidth=1.5/S.R;var D=Z.Nu(),n=D[0],L=D[1];for(var a=0;a<L.length;a++){var $=n[L[a]],F=$.add.vmsk,A=F.u,T=l.H.Rl(A);
this.gy(T,null,m);m.stroke();B=!0;var P=3*J.F()/S.R,Y=A.length-3;for(var q=0;q<F.Bp.length;q++){var Q=l.q.P1(A,F.Bp[q]);
if(Q==null)continue;var o=Q.x,c=Q.y;m.beginPath();var y=q==0;if(F.DK)y=!y;if(y){m.moveTo(o-P,c-P);m.lineTo(o+P,c+P);
m.moveTo(o-P,c+P);m.lineTo(o+P,c-P);m.stroke()}else{m.arc(o,c,P*1,0,2*Math.PI);m.fill()}B=!0}if(Z._.length!=1)continue;
var i=-1;for(var q=0;q<A.length;q++){if(A[q].type>5)continue;if(A[q].type==0||A[q].type==3){if(A[q].QZ!=-1)i++;
continue}if(F._.indexOf(i)!=-1){var o=A[q].M.x,c=A[q].M.y;m.fillRect(o-P*.8,c-P*.8,2*P*.8,2*P*.8)}if(F.N2.indexOf(q)!=-1){var d=A[q],V=[d.M];
m.beginPath();m.moveTo(d.H0.x,d.H0.y);m.lineTo(d.M.x,d.M.y);m.lineTo(d.XX.x,d.XX.y);var R=A[q-1],G=A[q+1];
if(R&&H(R.type)&&F.N2.indexOf(q-1)==-1){m.moveTo(R.M.x,R.M.y);m.lineTo(R.XX.x,R.XX.y);V.push(R.XX)}if(G&&H(G.type)&&F.N2.indexOf(q+1)==-1){m.moveTo(G.M.x,G.M.y);
m.lineTo(G.H0.x,G.H0.y);V.push(G.H0)}m.stroke();if(!d.M.Qu(d.H0))V.push(d.H0);if(!d.M.Qu(d.XX))V.push(d.XX);
for(var M=0;M<V.length;M++){var Q=V[M],o=Q.x,c=Q.y;if(M==0&&(d.type==2||d.type==5))m.fillRect(o-1.2*P,c-1.2*P,2.4*P,2.4*P);
else{m.beginPath();m.arc(o,c,P*1.2,0,2*Math.PI);m.fill();if(M!=0)m.fillStyle=f;m.beginPath();m.arc(o,c,P*.8,0,2*Math.PI);
m.fill();m.fillStyle=z}}}B=!0}}}m.lineWidth=1/S.R;if(Z.D.oA){m.fillStyle=m.strokeStyle=z;var G={t:[],C:[]},O=hD.am1;
if(O==null){O=hD.am1={t:[1,0],C:["M"]};for(var q=1;q<30;q++){var K=Math.PI*2*q/30;O.t.push(Math.cos(K),Math.sin(K));
O.C.push("L")}O.C.push("Z","M","L","M","L");O.t.push(-.5,0,.5,0,0,-.5,0,.5)}for(var q=0;q<Z.D.oA.length;
q++){var R=g.VM.zC(Z.D.oA[q],S),W=new ht(R[0],0,0,R[0],R[1],R[2]);l.H.concat(G,O,W)}this.gy(G,null,m);
m.stroke();B=!0}m.fillStyle=m.strokeStyle=hD.RT([0,0,0,1],!0);var t=new ht(1,0,0,1,.5/S.R,.5/S.R);if(Z.D.Vy){this.gy(Z.D.Vy,null,m);
m.fill()}if(Z.D.pC){this.gy(Z.D.pC,t,m);m.stroke()}for(var X in Z.D.FO)if(Z.D.FO[X].pC){this.gy(Z.D.FO[X].pC,null,m);
m.stroke();B=!0}m.beginPath();var P=(4*J.F()+.5)/S.R,h=Z.D.dx;for(var q=0;q<h.length;q+=2){B=!0;var o=h[q],c=h[q+1];
m.rect(o-P,c-P,2*P,2*P)}m.stroke();var h=Z.D.a8f;m.beginPath();var P=4*J.F()/S.R;for(var q=0;q<h.length;
q+=2){B=!0;var o=h[q],c=h[q+1];m.moveTo(o+P,c);m.arc(o,c,P,0,2*Math.PI)}m.fill();var h=Z.D.bm;m.fillStyle=hD.RT([1,1,1,1]);
m.beginPath();var P=6*J.F()/S.R;for(var q=0;q<h.length;q+=2){B=!0;var o=h[q],c=h[q+1];m.moveTo(o+P,c);
m.arc(o,c,P,0,2*Math.PI)}m.fill();var P=4*J.F()/S.R;for(var q=0;q<h.length;q+=2){B=!0;var o=h[q],c=h[q+1];
m.fillStyle=hD.RT(Z.D.Dn.indexOf(q>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);m.beginPath();m.moveTo(o+P,c);m.arc(o,c,P,0,2*Math.PI);
m.fill()}if(Z.D.Fk.length!=0){for(var q=0;q<Z.D.Fk.length;q++){var b=Z.D.Fk[q],E=b[1];m.putImageData(new ImageData(new Uint8ClampedArray(b[0].buffer),E.e,E.n),E.x,E.y)}}var f0=.5/S.R;
m.lineWidth=1/S.R;if(Z.D.MT){B=!0;var ay=Z.D.MT,p=ay.Jj,T={C:[],t:[]};for(var q=0;q<ay.ly.length;q++)l.H.concat(T,l.H.ez(ay.ly[q]));
T.t=T.t.concat(p);for(var q=0;q<p.length;q+=4){T.C.push("M","L")}for(var q=0;q<T.t.length;q++){T.t[q]+=f0}m.strokeStyle=hD.RT([.9,.2,.2,1]);
this.gy(T,null,m);m.stroke();var eo=J.F(),co=2/S.R;m.font=v*.9+"px sans-serif";for(var q=0;q<p.length;
q+=4){var o=p[q],c=p[q+1],c5=p[q+2],he=p[q+3],hU=Math.sqrt((he-c)*(he-c)+(c5-o)*(c5-o));hU=l.Zv.Fn(hU,Z.wd,C,c==he?Z.e:Z.n);
var aB=new aS((o+c5)/2,(c+he)/2);m.fillStyle=hD.RT([.9,.2,.2,1]);var ep=m.measureText(hU).width;m.fillRect(aB.x-ep/2-co*eo,aB.y-3.5*co*eo,ep+2*co*eo,7*co*eo);
m.fillStyle=hD.RT([1,1,1,1]);m.save();m.translate(aB.x-ep/2,aB.y+2*co*eo);m.scale(.1,.1);m.font=v*9+"px sans-serif";
m.fillText(hU,0,0);m.restore()}}if(C.cb){if(u.sF){var aO=l.Zv.Vj(u.UQ,Z.wd,Z.e,u.Uf),f$=aO;if(u.Uf==4)f$*=Z.n/Z.e;
this.AN(Z,m,aO,f$,1,u.gP);B=!0}if(u.Lr&&Z.s.R>7){this.AN(Z,m,1,1,.5,u.gP);B=!0}if(u.Ua){var fo=Z.dM(),bb=Z.Ys(),jl=Math.max(Z.s.ma.e,Z.s.ma.n)/Z.s.R;
jl=Math.max(Math.max(Z.e,Z.n)*2,jl);m.beginPath();m.strokeStyle=hD.RT([0,1,1,1]);for(var q=0;q<fo[0].length;
q++){var e0=fo[0][q],gI=fo[1][q];if(gI!=-1&&gI!=bb)continue;var d4=S.o5(e0[1],e0[1]),ab=S.tr(Math.floor(d4.x)+.5,Math.floor(d4.y)+.5);
if(e0[0]==0){var c3=ab.x;m.moveTo(c3,-jl);m.lineTo(c3,jl)}else{var gr=ab.x;m.moveTo(-jl,gr);m.lineTo(jl,gr)}B=!0}m.stroke()}var a2=Z.Wv;
if(u.Wv&&a2.length!=0){m.font=v*.8+"px sans-serif";var aL=[],el=[];for(var q=0;q<a2.length;q++){var iJ=g.UX.z_(a2,q);
aL.push(iJ);if(Z.$y.indexOf(q)!=-1)el.push(iJ)}aL.reverse();var aC=Date.now();aL=l.rect.lv([0,0,Z.e,Z.n],aL);
for(var M=0;M<2;M++)for(var q=0;q<aL.length;q++){var cr=aL[q],i=cr[4],bN=i!=null?a2[i]:null;if(bN&&M==0||bN==null&&M==1)continue;
var o=Math.round(cr[0]),c=Math.round(cr[1]),c5=Math.round(cr[2]),he=Math.round(cr[3]);m.strokeStyle=m.fillStyle=hD.RT(bN?[0,.7,.7,1]:[.8,.8,.8,1]);
m.strokeRect(o+f0,c+f0,c5-o,he-c);var hf=q+1,cV=m.measureText(hf),ep=cV.width;m.fillRect(o,c,ep+v/2,v);
m.fillStyle=hD.RT([1,1,1,1]);m.fillText(hf,o+v/4,c+v*.8)}var co=2/Z.s.R,ez=2*co;for(var q=0;q<el.length;
q++){var cr=el[q],o=Math.round(cr[0]),c=Math.round(cr[1]),c5=Math.round(cr[2]),he=Math.round(cr[3]);
m.strokeStyle=m.fillStyle=hD.RT([1,.6,0,1]);m.strokeRect(o+f0,c+f0,c5-o,he-c);var jG=[o,c,c5,c,c5,he,o,he];
for(var jw=0;jw<jG.length;jw+=2){var c3=jG[jw],gr=jG[jw+1],dw=jG[jw+2&7],cb=jG[jw+3&7];m.fillRect(c3-co,gr-co,ez,ez);
m.fillRect(Math.round((c3+dw)/2)-co,Math.round((gr+cb)/2)-co,ez,ez)}}B=!0}var cz=Z.add.Anno;if(cz&&cz.length!=0)for(var q=0;
q<cz.length;q++){var jq=cz[q],dU=jq[2],c3=jq[0]-f0,gr=jq[1]-f0,ez=30/S.SO,ge=.4*ez,al=.6*ez;m.beginPath();
m.moveTo(c3,gr+al);m.lineTo(c3,gr);m.lineTo(c3+ez,gr);m.lineTo(c3+ez,gr+ez);m.lineTo(c3+ge,gr+ez);m.closePath();
m.lineTo(c3+ge,gr+al);m.lineTo(c3+ge,gr+ez);if(q==Z.s.sM){m.lineWidth*=5;m.strokeStyle=hD.RT([0,0,0,.5]);
m.stroke();m.lineWidth/=5}m.fillStyle=hD.RT([dU.I/255,dU.z/255,dU.S/255,1]);m.fill();m.strokeStyle=hD.RT([0,0,0,1]);
m.stroke()}}m.strokeStyle=hD.RT([1,0,0,1]);if(Z.D.D4){this.gy(Z.D.D4,t,m);m.stroke()}m.restore();if(C.bj){if(Z.s.q9==null||Z.s.q9.width!=Z.s.ma.e||Z.s.DR.height!=Z.s.ma.n){Z.s.q9=m.createImageData(Z.s.ma.e,l.Zv.Uo);
Z.s.DR=m.createImageData(l.Zv.Uo,Z.s.ma.n)}var r=ii.o$[C.Yv],a_=0,hc=0,g7=Z.e,b4=Z.n;if(Z.Ys()!=-1){var U=Z.g[Z.Ys()].u1();
a_=U.x;hc=U.y;g7=U.e;b4=U.n}a_*=S.R;hc*=S.R;var S=Z.s,eC=[1,Z.wd,Z.wd/2.54,Z.wd/25.4,g7/100][u.Dj],cN=S.R*Z.e/2,i7=S.R*Z.n/2,gC=[S.R*eC,new aS(S.r.x+(a_+cN*eC-cN),S.r.y+(hc+i7*eC-i7))];
if(u.Dj==4)eC*=b4/g7;var h7=[S.R*eC,new aS(S.r.x+(a_+cN*eC-cN),S.r.y+(hc+i7*eC-i7))],iB=this.bE.JM;l.Zv.auo(S,r["--text-color"],r["--bg-input"],Math.floor(iB.x),Math.floor(iB.y),gC,h7);
var hH=gf.abn(S.R,hD.RT([1,1,1,1]));hD.RZ(Z.s.DR.data);hD.RZ(Z.s.q9.data);m.putImageData(Z.s.DR,0,0);
m.putImageData(Z.s.q9,0,0);m.putImageData(hH,0,Z.s.ma.n-hH.height)}if(Z.D.vC.length!=0){for(var q=0;
q<Z.D.vC.length;q++){var b=Z.D.vC[q],E=b[1];m.putImageData(new ImageData(new Uint8ClampedArray(b[0].buffer),E.e,E.n),E.x,E.y)}}return B||C.bj};
hD.prototype.AN=function(Z,m,S,B,C,u){while(S*Z.s.R<4){S*=2;B*=2}var r=Z.e,k=Z.n,v=.5/Z.s.R;m.strokeStyle=hD.RT([.5,.5,.5,C],!0);
m.save();m.rect(0,0,r,k);m.clip();m.beginPath();for(var e=0;e<=r;e+=S){m.moveTo(e+v,0);m.lineTo(e+v,k)}if(u==0){for(var j=0;
j<=k;j+=B){m.moveTo(0,j+v);m.lineTo(r,j+v)}}else{B*=Math.sqrt(4/3);var $=B*Math.floor(r/B),U=r*(B/(2*S));
for(var j=-$;j<=k+$;j+=B){m.moveTo(0,j);m.lineTo(r,j-U);m.moveTo(0,j);m.lineTo(r,j+U)}}m.stroke();m.restore()};
hD.prototype.gy=function(Z,m,S){S.beginPath();var B=l.H.clone(Z);if(m)l.H.A(B.t,m,B.t);Typr.U.pathToContext({cmds:B.C,crds:B.t},S)};
hD.Bg=function(Z,m){N.lq.call(this);var S=m!=0,B="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(Z?"uniform sampler2D lut;  uniform float N;  "+N.IO.xa:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(S?"uniform vec4 bgClr;  uniform vec4 ars["+m+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+N.IO.q2+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord); \t\t\t\t"+(Z?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(S?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+m+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",C="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.R$(B,C)};hD.Bg.prototype=new N.lq;hD.Bg.prototype.qV=function(Z,m,S,B,C,u,r,k,v,e,j,$,U,H){this.i6("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var z=N.az,f=this.Ez;z.uniformMatrix3fv(f.tmat,!1,S);z.uniform4fv(f.gsize,B);z.uniform3f(f.contSizeZoom,C,u,r);
z.uniform2f(f.cnvSize,k,v);z.uniformMatrix4fv(f.ctrn,!1,$);if(this.acU){z.uniform4fv(f.ars,j);z.uniform4fv(f.bgClr,e)}z.uniform1i(f.source,0);
z.uniform1i(f.target,1);z.activeTexture(z.TEXTURE0);z.bindTexture(z.TEXTURE_2D,Z);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,m);if(U){z.uniform1f(f.N,H);z.uniform1i(f.lut,2);z.activeTexture(z.TEXTURE2);
z.bindTexture(z.TEXTURE_2D,U.Wa);var D=z.LINEAR;z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,D);
z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,D)}z.activeTexture(z.TEXTURE0)};function an(){cn.call(this,[9,7],!1,"---panels/layercomps",cn.kI.apm);
this.ew.setAttribute("style","min-width:240px;");this.kg=null;this.xO=-1;this.apB=[];this.gb=J.L("div","scrollable");
this.gb.style.height="160px";this.ew.appendChild(this.gb);this.ht=J.L("div","lpfoot");this.ew.appendChild(this.ht);
this.D1=[];var Z=["<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],m=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var q=0;q<Z.length;q++){var S=Z[q];if(q>0)S="<img src=\""+PIMG[Z[q]]+"\" class=\"gsicon\" />";var B=new dX(S,!1,m[q]);
B.h("click",this.al3,this);this.ht.appendChild(B.m);this.D1.push(B)}}an.prototype=new cn("");an.prototype.MY=function(Z,m){this.ew.setAttribute("style","width:"+(Z-2)+"px;");
this.gb.style.height=m-28+"px"};an.prototype.p2=function(Z){var m=new eY(_.E.Y,!0);m.data=Z;m.b=g.iU;
this.c(m)};an.asp="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
an.prototype.al3=function(Z){var q=this.D1.indexOf(Z.currentTarget)-1;if(q==-1){var m=new eY(_.E.W,!0);
m.data={d:_.B.x9,gQ:an.asp};this.c(m);return}if(q!=1)if(this.xO==-1)return;this.p2({d:["updLC","addLC","delLC"][q],lU:this.xO});
if(q==2)this.xO=-1};an.prototype.w=function(){cn.prototype.w.call(this);for(var q=0;q<this.D1.length;
q++)this.D1[q].w()};an.prototype.sc=function(Z){if(Z==null)J._A(this.ew,"disabled");else J.iB(this.ew,"disabled");
this.kg=Z;J.uq(this.gb);if(Z==null)return;var m=Z.Z3.lastAppliedComp?Z.Z3.lastAppliedComp.v:0,S=Z.Z3.list.v.slice(0);
S.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var q=0;q<S.length;
q++){var B=S[q].v,C=new hC(B.Nm.v,B.compID.v,B.capturedInfo.v,m,this.xO);C.h("activate",this.nf,this);
C.parent=this;this.gb.appendChild(C.m);this.apB.push(C)}};an.prototype.nf=function(Z){this.xO=Z.currentTarget.lU;
this.sc(this.kg)};function hC(Z,q,m,S,B){aw.call(this);this.lU=q;this.m=J.L("div","head listitem"+(q==B?" selected":""));
var C=q==S,u=new dX(C?"\u2713":"\u2014");if(C)u.HS();this.m.appendChild(u.m);u.h("click",this.zZ,this);
var r=this.uD=J.L("span");r.textContent=Z;this.m.appendChild(r);this.D1=[];if(q!=0){this.m.addEventListener("mouseup",this.nf.bind(this),!1);
this.aul=J.L("span","headR");this.m.appendChild(this.aul);var k=["lrs/eye","pos","lrs/fx"],v=["Visibility","Position","Appearance"];
for(var e=0;e<k.length;e++){var j=new dX("<img src=\""+PIMG[k[e]]+"\" class=\"autoscale gsicon\" />",!1,v[e]);
if((m>>e&1)==0)j.m.setAttribute("style","opacity:0.3");j.h("click",this.a9m,this);this.aul.appendChild(j.m);
this.D1.push(j)}}}hC.prototype=new aw;hC.prototype.nf=function(Z){if(Z.target!=this.uD&&Z.target!=this.m)return;
if(Z.detail==1)this.c(new eY("activate",!1));else{var m=new cn.HF(this.uD,this.Le.bind(this))}};hC.prototype.a9m=function(Z){var q=this.D1.indexOf(Z.currentTarget);
this.p2({d:"editLC",a5P:q,lU:this.lU})};hC.prototype.Le=function(Z){this.p2({d:"editLC",Jo:Z,lU:this.lU})};
hC.prototype.zZ=function(Z){this.p2({d:"setLC",lU:this.lU})};hC.prototype.p2=function(Z){var m=new eY(_.E.Y,!0);
m.data=Z;m.b=g.iU;this.c(m)};function cx(){cn.call(this,[9,11],!1,"---panels/navigator",cn.kI.aip);var Z=J.L("div","padded");
Z.setAttribute("style","min-width:15em");this.ew.appendChild(Z);var m=J.L("div");Z.appendChild(m);m.setAttribute("style","cursor:grab;");
this.O=J.L("canvas");this.O.width=100;m.appendChild(this.O);J.Ew(this.O);J.BQ(this.O,this.z4.bind(this));
this.fe=new jE(null,2,6400,"%",null,!0);this.fe.h(_.E.o,this.a6H,this);Z.appendChild(this.fe.m);this.a12=this.Lg.bind(this);
this.atP=this.n0.bind(this);this.Rt=null}cx.prototype=new cn("");cx.prototype.MY=function(Z,m){this.Hk()};
cx.prototype.a6H=function(Z){var m=this.fe.J(),S=this.Rt,B=m/100;if(.8<B&&B<1.2)B=1;else if(1.8<B)B=Math.round(B);
var C=new eY(_.E.Y,!0);C.b=g.ky;C.data={d:"zoom",R:B};this.c(C)};cx.prototype.z4=function(Z){if(this.Rt==null)return;
J.Od(window,this.a12);J.qq(window,this.atP)};cx.prototype.Lg=function(Z){var m=J.W7(Z,this.O),S=this.Rt,B=this.O.width,C=this.O.height,u=(m.x*J.F()-B/2)/B,r=(m.y*J.F()-C/2)/C,k=J.F()*S.s.R,v=Math.round(-S.s.R*S.e*u),e=Math.round(-S.s.R*S.n*r);
g.Ed.sg(S,v,e)};cx.prototype.n0=function(Z){J.N3(window,this.a12);J.e6(window,this.atP)};cx.prototype.sc=function(Z){if(Z==null&&this.Rt!=null)this.O.width=100;
this.Rt=Z;this.Hk()};cx.prototype.Hk=function(){var Z=this.Rt,B=0;if(Z==null||Z.s.R==0)return;var m=Z.s;
if(!J.Qt(this.ew))return;this.fe.f(m.R*100);var S=300*J.F(),C=[Z.Jy(),new bq(0,0,Z.e,Z.n)];l.io(C);while(Math.max(C[B+1].e,C[B+1].n)>S){B+=2}var u=C[B],r=C[B+1],k=r.e,v=r.n,e=this.O;
e.width=k;e.height=v;J.Lk(e,k,v);var j=e.getContext("2d"),$=j.createImageData(k,v);l.Yx(u,$.data);j.putImageData($,0,0);
var U=m.ma,H=m.tr(U.x,U.y),z=m.tr(U.x+U.e,U.y+U.n),f=k/Z.e;j.scale(f,f);j.lineWidth=4/f;j.strokeStyle="#ff0000";
j.strokeRect(H.x,H.y,z.x-H.x,z.y-H.y)};cx.prototype.C7=function(Z,m){};cx.prototype._K=function(){this.Hk()};
function df(Z,m){if(Z==null){cn.call(this);return}cn.call(this,Z.name,!1,Z.icon,m);var S=this.uj=J.L("iframe");
S.setAttribute("src",Z.url);S.setAttribute("style","width:"+Z.width+"px; height:"+Z.height+"px");this.ew.appendChild(S)}df.prototype=new cn("");
df.prototype.Ze=function(Z){if(J.Qt(this.uj))this.uj.contentWindow.postMessage(Z,"*")};df.prototype.MY=function(Z,m){this.uj.setAttribute("style","width:"+Z+"px; height:"+m+"px")};
function fq(){cn.call(this,[9,12],!1,"---panels/tpreset",cn.kI.L1);this._q=null;this.bB=new dK(g._4);
this.bB.parent=this;var Z=J.L("div","padded");Z.setAttribute("style","width:20em");this.ew.appendChild(Z);
Z.appendChild(this.bB.Fx)}fq.prototype=new cn("");fq.prototype._K=function(){this.bB.$q(this._q.eo)};
fq.prototype.C7=function(Z,m){this._q=Z;if(m==bo.LE||m==bo.L1)this.bB.$q(Z.eo)};fq.prototype.MY=function(Z,m){this.bB.a6K(this._q.th)};
fq.prototype.w=function(){cn.prototype.w.call(this);this.bB.w()};var eQ=function(){var Z=[],m=null,S=null,B=null,C=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function u(){cn.call(this,"Memory",!1,null,cn.kI.a9z);var U=J.L("div","padded");this.ew.appendChild(U);
S=new dX(["<< VAR0",[0,13,2]],!1,null,!0);S.addEventListener("click",function(H){Z.pop();k()});U.appendChild(S.m);
m=J.L("div","scrollable");m.setAttribute("style","width:20em;  height:26em; margin-top:8px;");U.appendChild(m)}u.prototype=new cn("");
u.prototype.sc=function(U,H,z){B=H;this._K()};u.prototype._K=function(){S.aR(!1);if(!J.Qt(m))return;
var U={ra:"Total:",SV:[]};for(var q=0;q<B.length;q++)U.SV.push(e(B[q]));$(U);Z=[U];k()};u.prototype.w=function(){cn.prototype.w.call(this);
S.w()};function r(U){var H=U.currentTarget,q=0;while((H=H.previousSibling)!=null)q++;Z.push(Z[Z.length-1].SV[q-1]);
k()}function k(){S.aR(Z.length>1);var U=Z[Z.length-1];J.uq(m);v(U,m,0);U.SV.sort(function(H,z){return z.$t[0]-H.$t[0]});
for(var q=0;q<U.SV.length;q++)v(U.SV[q],m,1)}function v(U,H,z){var f=ah.Ij,D=z!=0&&U.SV,n="margin-left:"+z*10+"px; margin-bottom:8px; padding:3px 5px;";
if(D)n+="cursor:pointer;";if(U.If!=null)n+="background-color:rgba("+C[U.If].join(",")+",0.2);";var L=J.L("div");
H.appendChild(L);L.setAttribute("style",n);L.innerHTML=J.Wh(U.ra)+"<br />"+"RAM: <b>"+f(U.$t[0])+"</b>\u2001GPU: <b>"+f(U.$t[1])+"</b>";
if(D)L.addEventListener("click",r,!1)}function e(U){var H={ra:U.name,SV:[],If:0},z=N.V8?1:0,f=1-z,D={ra:"Final Image",$t:[U.e*U.n*4,z*U.e*U.n*4],If:2};
H.SV.push(D);for(var q=0;q<U.g.length;q++){var n=j(U.g[q]);if(n.SV.length!=0)H.SV.push(n)}var L=U.add.lnk2;
if(L)for(var q=0;q<L.length;q++){var n=L[q],a={ra:n.qw,SV:[],If:4},F=0;a.SV.push({ra:"Raw file",$t:[n.raw.length,0]});
if(n.BK)for(var A=0;A<n.BK.length;A+=2)F+=n.BK[A].length;if(F!=0)a.SV.push({ra:"Decoded pixels",$t:[F,0]});
$(a);H.SV.push(a)}$(H);return H}function j(U){var H={ra:U.getName(),SV:[],If:1},z=N.V8?1:0,f=1-z,D=U.rect.Z();
if(D!=0)H.SV.push({ra:"Layer pixels",$t:[D*4,z*D*4]});if(U.add.lmfx&&U.Jw.Py.type){var n=U.Jw.Py.type,A=0;
for(var L in n){var a=0;for(var F=0;F<n[L].length;F++)if(L=="ebbl"){if(n[L][F].fC)a+=n[L][F].fC.Ao.Z();
if(n[L][F].bC)a+=n[L][F].bC.Ao.Z();if(n[L][F].t$)a+=n[L][F].t$.Ao.Z();if(n[L][F].HD)a+=n[L][F].HD.Ao.Z()}else a+=n[L][F].Ao.Z();
if(a!=0)H.SV.push({ra:iD.get(fp.names[fp.order.indexOf(L)]),$t:[f*a*4,z*a*4],If:3})}if(U.Jw.Uu)A+=D;
if(U.Jw.c9)A+=D;if(U.Jw.Pv)A+=D;if(U.Jw.Pv)A+=D;if(U.Jw.Bd)A+=D;if(U.Jw.Bw)A+=D;var T=U.Jw.Rx?U.Jw.Rx.length:0;
if(A+T!=0)H.SV.push({ra:"Additional Blending Data",$t:[f*A*4+T,z*A*4]})}var P=U.sd(),Y=P?P.rect.Z():0;
if(Y!=0){H.SV.push({ra:"Raster Mask",$t:[Y,0]})}var P=U.add.vmsk,Y=P&&P.Hi?P.Hi.rect.Z():0;if(Y!=0){H.SV.push({ra:"Vector Mask",$t:[Y,0]})}$(H);
return H}function $(U){U.$t=[0,0];for(var q=0;q<U.SV.length;q++){U.$t[0]+=U.SV[q].$t[0];U.$t[1]+=U.SV[q].$t[1]}}return u}();
function fF(){cn.call(this,[9,14],!1,null,cn.kI.a7B);this.ew.setAttribute("style","min-width:240px;");
var Z=J.L("div","padded");this.ew.appendChild(Z);this.AV=new ec("Author");Z.appendChild(this.AV.m);this.aA=J.L("textarea");
J.m8(this.aA);Z.appendChild(this.aA);var m=new dX("<<",null,null,!0);Z.appendChild(m.m);this.a6M=m;var S=new dX(">>",null,null,!0);
Z.appendChild(S.m);m.h("click",this.IW,this);S.h("click",this.IW,this);var B=this.a2E=new ed("");Z.appendChild(B.m)}fF.prototype=new cn("");
fF.prototype.IW=function(Z){var m=Z.target==this.a6M?-1:1,S=this.Rt,B=S.add.Anno,C=B.length,u=S.s.sM;
S.s.sM=(u+m+C)%C;S.SW=!0;this.Hk()};fF.prototype.Hk=function(){var Z=this.Rt;if(Z==null)return;var m=Z.add.Anno;
if(m==null||m.length==0)return;var S=Z.s.sM,B=m[S];this.aA.value=B[4];this.a2E.f(S+1+" / "+m.length);
this.AV.f(B[3])};fF.prototype.MY=function(Z,m){if(this.OU==Z)return;this.OU=Z;m=Math.min(m,200);this.aA.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(Z-10)+"px; height:"+(m-66)+"px")};
fF.prototype.sc=function(Z,m,S){this.Rt=Z;this.Hk()};function h6(){aw.call(this);this.b=0;this._5=null;
this.m=J.L("div","toolconf");this.bB=null;this.qz=null;this.body=new J.L("div","body")}h6.prototype=new aw;
h6.prototype.a7x=function(Z,m){this.b=Z;this._5=m;if(g.JV[Z]){var S=this.bB=new dK(Z);this.m.appendChild(S.m);
S.parent=this}else{this.qz=J.L("div");this.m.appendChild(this.qz)}this.m.appendChild(this.body);this.w()};
h6.prototype.a9k=function(Z,m){};h6.prototype.a4f=function(Z){};h6.prototype.C7=function(Z,m){if(m==bo.LE||m==bo.L1)if(this.bB)this.bB.$q(Z.eo)};
h6.prototype.XS=function(Z){};h6.prototype.w=function(){if(this.bB)this.bB.w();else this.qz.innerHTML=J.NE(this._5,null,"toolicon");
this.j4()};h6.prototype.j4=function(){};function gs(){h6.call(this);this.J9=new jV;this.J9.h(_.E.o,this.PN,this);
this.body.appendChild(this.J9.m)}gs.prototype=new h6;gs.prototype.j4=function(){this.J9.w()};gs.prototype.PN=function(Z){var m=new eY(_.E.W,!0);
m.data={d:_.B.tk,b:this.b,Lh:this.J9.a4e()};this.c(m)};gs.prototype.XS=function(Z){this.J9.ahx(Z.xe)};
function ji(Z){h6.call(this);if(Z==null)return;this._q=null;this.CH={};if(Z.indexOf("brush")!=-1&&Z.indexOf("prsr")==-1)Z.push("prsr");
for(var q=0;q<Z.length;q++){var m=Z[q],S=null;if(m=="brush"){S=new bs}if(m=="bmode"){S=new fH([12,19,0],d1.JN,!1,d1.L4)}if(m=="bmode0"){S=new fH([12,19,0],d1.JN.slice(23),!1)}if(m=="emode"){S=new fH([12,36],[[9,3],[10,38]])}if(m=="opacity"){S=new gH([12,0],0,100,"%");
S.f(100)}if(m=="flow"){S=new gH([12,63],0,100,"%");S.f(100)}if(m=="smth"){S=new gH([19,3,0],0,100,"%");
S.f(0)}if(m=="samp"){S=new fH([12,36],[[12,25,4],[12,25,5],[12,46]])}if(m=="wconf"){S=new bQ;S.f([40,!0,!0])}if(m=="sall"){S=new ae([12,25,2])}if(m=="strn"){S=new gH([12,64],1,100,"%");
S.f(50)}if(m=="smode"){S=new fH([12,36],[[19,7,0],[19,7,1]]);S.f(1)}if(m=="pdetail"){S=new ae([12,65]);
S.HS()}if(m=="rng"){S=new fH([12,12],[[19,6,0],[19,6,1],[19,6,2]]);S.f(1)}if(m=="expo"){S=new gH([12,5],0,100,"%");
S.f(50)}if(m=="algnd"){S=new ae([12,75]);S.f(!1)}if(m=="sfrom"){S=new fH([12,70],[[17,1],[17,3],[17,0]])}if(m=="alt"){S=new iF(null,["Alt"],!0,["Select Source"])}if(m=="qsmode"){S=new g6([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(m=="redge"){S=new dX([7,11],!1,null,!0)}if(m=="setop"){S=new iE}if(m=="patch"){S=new g6(null,[[12,70],[12,71]])}if(m=="prsr"){S=new iF(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
S.f([!1,!1])}S.parent=this;this.body.appendChild(S.m);this.CH[m]=S;if(m=="brush")S.h(_.E.o,this.a4N,this);
else if(m=="redge")S.h("click",this.t2,this);else S.h(_.E.o,this.RG,this)}}ji.prototype=new h6;ji.prototype.a9k=function(Z,m){Z=Z[1];
var S=this.CH;if(Z.Md)S.bmode.f(d1.FI.indexOf(Z.Md.v.BlnM));if(Z.Opct)S.opacity.f(Z.Opct.v);if(Z.flow)S.flow.f(Z.flow.v);
if(Z.Brsh)S.brush.f(Z,m.yf.VV,m.yf.Km);if(Z.FrgC){var B=l.X.gN(Z.FrgC.v),C=new eY(_.E.W,!0);C.data={d:_.B.L8,Lh:bo.HA,hN:0,k:B.I<<16|B.z<<8|B.S};
this.c(C)}this.a4N();this.RG()};ji.prototype.a4f=function(){if(g.JV[this.b]==null)return null;var Z=this.CH,m=JSON.parse(JSON.stringify(Z.brush.J()));
m.classID=g.JV[this.b][1][0];if(Z.bmode)m.Md={t:"enum",v:{BlnM:d1.FI[Z.bmode.J()]}};if(Z.opacity)m.Opct={t:"long",v:Z.opacity.J()};
if(Z.flow)m.flow={t:"long",v:Z.flow.J()};var S=this._q.Nx;S={I:S>>>16,z:S>>>8&255,S:S&255};m.FrgC={t:"Objc",v:l.X.M1(S)};
return["Brush Preset "+m.Brsh.v.Dmtr.v.val,m]};ji.prototype.t2=function(){var Z=new eY(_.E.W,!0);Z.data={d:_.B.Me,ct:"redge"};
this.c(Z)};ji.prototype.j4=function(){for(var Z in this.CH)this.CH[Z].w()};ji.prototype.XS=function(Z){if(Z.a6g=="showBrushOpts"){this.CH.brush.a5d(Z.Mc.x,Z.Mc.y)}for(var m in Z.MK){var S=Z.MK[m];
if(m!="qsmode")S*=100;if(this.CH[m])this.CH[m].f(S)}};ji.prototype.C7=function(Z,m){h6.prototype.C7.call(this,Z,m);
this._q=Z;var S=this.CH.brush;if(S==null)return;if(m==bo.LE||m==bo._4)S.$q(Z.yf);if(m==bo.iF){S.f(Z.yf.dS,Z.yf.VV,Z.yf.Km)}};
ji.prototype.a4N=function(){var Z=new eY(_.E.W,!0);Z.data={d:_.B.L8,Lh:bo.iF,U3:this.CH.brush.J()};this.c(Z)};
ji.prototype.RG=function(){var Z=new eY(_.E.W,!0);Z.data={d:_.B.tk,b:this.b};for(var m in this.CH){if(m=="brush"||m=="redge")continue;
var S=this.CH[m].J();if(["opacity","flow","smth","strn","expo"].indexOf(m)!=-1)Z.data[m]=S/100;else if(m=="bmode")Z.data.bmode=d1.WJ[S];
else if(m=="bmode0")Z.data.bmode=d1.WJ[23+S];else Z.data[m]=S}this.c(Z)};function hJ(Z,m){h6.call(this);
if(Z)return;this.CH={};for(var q=0;q<m.length;q++){var S=m[q],B=null;if(S=="binop")B=new iE;if(S=="feat"){B=new gH([7,6],0,100,"px");
B.f(0)}if(S=="redge")B=new dX([7,11],!1,null,!0);if(S=="wconf")B=new bQ;if(S=="cstr")B=new jv;if(S=="anta"){B=new ae([12,25,1]);
B.f(!0)}if(S=="sall")B=new ae([12,25,2]);if(S=="redge")B.h("click",this.t2,this);else B.h(_.E.o,this.RG,this);
B.parent=this;this.body.appendChild(B.m);this.CH[S]=B}}hJ.prototype=new h6;hJ.prototype.XS=function(Z){if(Z.iq!=null)this.CH.binop.f(Z.iq);
else if(Z.Et){for(var m in Z.Et)if(this.CH[m])this.CH[m].f(Z.Et[m])}else{var S=hJ.T_;if(S==null){var B=cW.a0a(!0);
S=hJ.T_=new am(B.items,B.aB)}S.w();S.parent=this;S.update(Z.tt,Z.YS);var C=new eY(_.E.W,!0);C.data={d:_.B.HM,Xg:S,x:Z.Pq.PA+2,y:Z.Pq.ec+1};
this.c(C)}};hJ.prototype.j4=function(){for(var Z in this.CH)this.CH[Z].w()};hJ.prototype.t2=function(){var Z=new eY(_.E.W,!0);
Z.data={d:_.B.Me,ct:"redge"};this.c(Z)};hJ.prototype.RG=function(){var Z=new eY(_.E.W,!0);Z.data={d:_.B.tk,b:this.b,Et:{}};
for(var m in this.CH)Z.data.Et[m]=this.CH[m].J();this.c(Z)};function a1(){ji.call(this,["brush","strn"])}a1.prototype=new ji;
function dx(){ji.call(this,"brush bmode opacity flow smth prsr".split(" "))}dx.prototype=new ji;function is(){ji.call(this,["brush","bmode0","samp","wconf"])}is.prototype=new ji;
function b2(){ji.call(this,["brush"])}b2.prototype=new ji;function h0(){ji.call(this,["brush","bmode","opacity","smth","prsr"])}h0.prototype=new ji;
function fe(){ji.call(this,["brush","rng","expo"])}fe.prototype=new ji;function dd(){ji.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}dd.prototype=new ji;
function dl(Z){h6.call(this);if(Z==null)return;var m=J.L("span","fitem");this.body.appendChild(m);var S=[[17,0],[17,1],[11,12,0],[17,2]];
this.u5=[];for(var q=0;q<S.length;q++){var B=new dX(S[q],!1,null,!0);this.u5.push(B);B.h("click",this.acL,this);
if(!Z||q==1)m.appendChild(B.m)}this.xN=new jv;this.xN.h(_.E.o,this.abD,this);if(!Z)this.body.appendChild(this.xN.m);
this.W3=new dX([15,7,6],!1,null,!0);this.W3.h("click",this.acL,this);if(!Z)this.body.appendChild(this.W3.m);
this.Dd=new ae([15,7,10]);this.Dd.h(_.E.o,this.abD,this);if(!Z)this.body.appendChild(this.Dd.m);this.bI=new gQ;
this.bI.h("click",this.XM,this)}dl.prototype=new h6;dl.prototype.j4=function(){this.bI.w();for(var q=0;
q<this.u5.length;q++)this.u5[q].w();this.xN.w();this.Dd.w();this.W3.w()};dl.prototype.XS=function(Z){var m=this.bI.m;
if(Z.jZ)this.body.appendChild(m);else if(this.body.contains(m))this.body.removeChild(m);if(Z.xN)this.xN.f(Z.xN)};
dl.prototype.XM=function(Z){var m={d:_.B.tk,b:this.b,BT:this.bI.J()?"commit":"cancel"},S=new eY(_.E.W,!0);
S.data=m;this.c(S)};dl.prototype.acL=function(Z){Z.target.m.blur();var m={d:_.B.tk,b:this.b,BT:"cropby",a1q:this.u5.indexOf(Z.target)};
if(Z.target==this.W3)m.BT="straighten";var S=new eY(_.E.W,!0);S.data=m;this.c(S)};dl.prototype.abD=function(Z){var m={d:_.B.tk,b:this.b,BT:"config",V_:{HG:this.xN.J(),ko:this.Dd.J()},al5:Z.target==this.xN},S=new eY(_.E.W,!0);
S.data=m;this.c(S)};function cp(){dl.call(this,!1)}cp.prototype=new dl;function c2(){dl.call(this,!0)}c2.prototype=new dl;
function jh(){ji.call(this,["brush","rng","expo"])}jh.prototype=new ji;function aG(){ji.call(this,"brush emode opacity flow smth prsr".split(" "))}aG.prototype=new ji;
function iv(){ji.call(this,["brush","samp","wconf"])}iv.prototype=new ji;function hx(){hJ.call(this,!1,["binop","feat","anta","redge","cstr"])}hx.prototype=new hJ(!0);
function aI(){h6.call(this);var Z=this.CH=[new fH([12,20],["1x1","3x3","5x5","11x11","31x31"]),new fH([12,70],[[17,1],[17,3],[17,0]]),new ae("Sampling Ring"),new ae("Zoom")];
Z[1].f(2);Z[2].f(!0);for(var q=0;q<Z.length;q++){var m=Z[q];m.h(_.E.o,this.RG,this);this.body.appendChild(m.m)}}aI.prototype=new h6;
aI.prototype.RG=function(Z){var m=this.CH,S=[];for(var q=0;q<m.length;q++)S[q]=m[q].J();var B=new eY(_.E.W,!0);
B.data={d:_.B.tk,b:this.b,Et:S};this.c(B)};aI.prototype.j4=function(){for(var q=0;q<this.CH.length;q++)this.CH[q].w()};
function dM(){h6.call(this);this.bf=new hW(!1);this.bf.parent=this;this.bf.h(_.E.o,this.rc,this);this.body.appendChild(this.bf.m);
this.bf.f(JSON.parse(fp.p5.a0W).v);this.bx=new fH(null,fp.X.names.slice(0,5));this.bx.h(_.E.o,this.rc,this);
this.body.appendChild(this.bx.m);this.zD=new fH([12,19,0],d1.JN,null,d1.L4);this.zD.h(_.E.o,this.rc,this);
this.body.appendChild(this.zD.m);this.sa=new gH([12,0],0,100,"%");this.sa.parent=this;this.sa.h(_.E.o,this.rc,this);
this.body.appendChild(this.sa.m);this.sa.f(100);this.t0=new ae([12,23,0]);this.t0.h(_.E.o,this.rc,this);
this.body.appendChild(this.t0.m);this.Z9=new ae([12,23,3]);this.Z9.h(_.E.o,this.rc,this);this.body.appendChild(this.Z9.m)}dM.prototype=new h6;
dM.prototype.j4=function(){this.bx.w();this.zD.w();this.sa.w();this.t0.w();this.Z9.w()};dM.prototype.C7=function(Z,m){h6.prototype.C7.call(this,Z,m);
var S=m==bo.HA;this.bf.lP(Z.Nx,Z.ZN);if(S||m==bo.td||m==bo.LE)this.bf.$q(Z.oi)};dM.prototype.rc=function(){var Z=new eY(_.E.W,!0);
Z.data={d:_.B.tk,b:this.b};Z.data.Lh={X:this.bf.J(),lS:fp.X.types[this.bx.J()],DK:this.t0.sS(),a9u:this.Z9.sS(),a9i:d1.WJ[this.zD.J()],Qp:this.sa.J()/100};
this.c(Z)};function hp(){h6.call(this)}hp.prototype=new h6;function b$(){h6.call(this);var Z=J.L("span","fitem");
this.body.appendChild(Z);this.KZ=[new gH([12,15],-180,180,"\xB0"),new dX([1,12,2],null,null,!0)];for(var q=0;
q<this.KZ.length;q++){var m=this.KZ[q];m.parent=this;Z.appendChild(m.m);m.h(q==1?"click":_.E.o,this.Ra,this)}}b$.prototype=new h6;
b$.prototype.j4=function(){for(var q=0;q<this.KZ.length;q++)this.KZ[q].w()};b$.prototype.XS=function(Z){this.KZ[0].f(Z.i7*180/Math.PI)};
b$.prototype.Ra=function(Z){var m=this.KZ.indexOf(Z.target),S=new eY(_.E.W,!0);S.data={d:_.B.tk,b:this.b,i7:m==1?0:Z.target.J()*Math.PI/180};
this.c(S)};function h5(){ji.call(this,["brush","algnd","sfrom","alt"])}h5.prototype=new ji;function bH(){h6.call(this);
this.DH=new bU;this.DH.parent=this;this.body.appendChild(this.DH.TK.m);this.body.appendChild(this.DH.Vq.m);
this.body.appendChild(this.DH.TJ.m);this.body.appendChild(this.DH.Mn.m);var Z=J.L("span","fitem");this.body.appendChild(Z);
Z.appendChild(this.DH.fY.m);Z.appendChild(this.DH.JX.m);Z.appendChild(this.DH.rV.m);this.xb=new fH("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]);
this.xb.h(_.E.o,this.XM,this);this.body.appendChild(this.xb.m);this.P0=new dX([11,9],!1,null,!0);this.P0.h("click",this.a7Y,this);
this.body.appendChild(this.P0.m);this.bI=new gQ;this.bI.h("click",this.XM,this)}bH.prototype=new h6;
bH.prototype.j4=function(){this.bI.w();this.DH.w();this.P0.w()};bH.prototype.a7Y=function(Z){var m={d:_.B.tk,b:this.b,BT:"showwarp"},S=new eY(_.E.W,!0);
S.data=m;this.c(S)};bH.prototype.XS=function(Z){if(Z.BT=="showactive")this.body.appendChild(this.bI.m);
if(Z.BT=="hideactive")this.body.removeChild(this.bI.m);if(Z.BT=="changeAA")this.xb.f(Z.sk)};bH.prototype.C7=function(Z,m){h6.prototype.C7.call(this,Z,m);
if(m!=bo.LE&&m!=bo.Vs&&m!=bo.Hw&&m!=bo.fj)return;this.DH.f(Z.E7,Z.Pl,Z.ut)};bH.prototype.XM=function(Z){var m={d:_.B.tk,b:this.b,BT:this.bI.J()?"commit":"cancel"};
if(Z.target==this.xb){m.BT="changeAA";m.sk=this.xb.J()}var S=new eY(_.E.W,!0);S.data=m;this.c(S)};function cY(){hJ.call(this,!1,["binop","feat","anta","redge"])}cY.prototype=new hJ(!0);
function bP(){h6.call(this);var Z=[],S="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.xC=new ae([12,85]);this.xC.h(_.E.o,this.RG,this);Z.push(this.xC.m);this.U8=new ae([20,1]);this.U8.h(_.E.o,this.RG,this);
Z.push(this.U8.m);this.f_=new ae([12,83]);this.f_.h(_.E.o,this.RG,this);Z.push(this.f_.m);var m=J.L("span","fitem");
Z.push(m);this.a1t=new fH("Scale for exported files",["1x","2x","3x","4x"],!0);m.appendChild(this.a1t.m);
this.st=new dX(S+" PNG",!1,"Save selected layers as PNG",!0);m.appendChild(this.st.m);this.st.h("click",this.g8,this);
this.a99=new dX(S+" SVG",!1,"Save selected layers as SVG",!0);m.appendChild(this.a99.m);this.a99.h("click",this.g8,this);
var B=J.L("span","fitem");Z.push(B);var C=J.L("span","fitem");Z.push(C);this.D1=[];for(var q=0;q<8;q++){var u=q==3||q==7?[20,4,6]:[20,4,q<3?q:q-1],r=new dX("Hi",!1,u);
(q<4?B:C).appendChild(r.m);r.h("click",this.g8,this);this.D1.push(r)}for(var q=0;q<Z.length;q++)this.body.appendChild(Z[q]);
this.akI=Z}bP.prototype=new h6;bP.prototype.XS=function(Z){var m=Z.xe,S=Z.agA;this.xC.f(m.$L);this.U8.f(m.an);
this.f_.f(m.MT);if(S){J.uq(this.body);for(var q=0;q<S.length;q++)if(S[q]==1&&this.akI[q])this.body.appendChild(this.akI[q])}};
bP.prototype.g8=function(Z){var m=this.D1.indexOf(Z.target),S;if(m==-1){S=new eY(_.E.W,!0);S.data={d:_.B.tk,b:this.b,hN:Z.target==this.st?"getPNG":"getSVG",si:this.a1t.J()+1}}else{S=new eY(_.E.Y,!0);
S.b=g.Ta;S.data={d:"algn",k:m}}this.c(S)};bP.prototype.RG=function(Z){var m=new eY(_.E.W,!0);m.data={d:_.B.tk,b:this.b,hN:"prms",$L:this.xC.sS(),an:this.U8.sS(),MT:this.f_.sS()};
this.c(m)};bP.prototype.j4=function(){this.xC.w();this.U8.w();this.f_.w();var Z="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var q=0;q<8;q++){this.D1[q].zR(J.NE("align/"+Z[q],null,"autoscale"))}};function gw(){hJ.call(this,!1,["binop","feat","redge","wconf","sall"])}gw.prototype=new hJ(!0);
function im(){ji.call(this,["setop","patch"])}im.prototype=new ji;function fC(){ji.call(this,["setop"])}fC.prototype=new ji;
function gP(){ji.call(this,["bmode","opacity","wconf","sall"])}gP.prototype=new ji;function bV(){hJ.call(this,!1,["binop","feat","anta","redge"])}bV.prototype=new hJ(!0);
function gZ(){hJ.call(this,!1,["binop","feat","anta","redge"])}gZ.prototype=new hJ(!0);function gJ(){hJ.call(this,!1,["binop","feat","redge","cstr"])}gJ.prototype=new hJ(!0);
function bi(){h6.call(this);this._q=null;this.q6=null;this.Dh=[new ec("X",null,3.2,null,!0),new ec("Y",null,3.2,null,!0),new ec("W",null,3.2,null,!0),new ec("H",null,3.2,null,!0),new ec([12,15],"\xB0",3.7,null,!0),new ec(["VAR0 1",[12,80,0]],null,3.5,null,!0),new ec(["VAR0 2",[12,80,0]],null,3.5,null,!0),new dX([15,7,6],!1,null,!0),new dX([2,2],!1,null,!0)];
for(var q=0;q<this.Dh.length;q++){var Z=this.Dh[q];this.body.appendChild(Z.m);if(q>6)Z.h("click",this.ti,this)}this.y_=0}bi.prototype=new h6;
bi.prototype.ti=function(Z){var m=this.Dh.indexOf(Z.target)==7,S=new eY(_.E.Y,!0);if(m){if(this.y_==0)return;
S.b=g.zp;S.data={d:"rot",fm:[2,5],k:-this.y_}}else{S.b=g.sW;for(var q=0;q<6;q++)this.Dh[q].f(null)}this.c(S)};
bi.prototype.XS=function(Z){function m(k,v,e){var j=Math.sqrt(Math.pow(v.x-k.x,2)+Math.pow(v.y-k.y,2)),$=Math.sqrt(Math.pow(v.x-e.x,2)+Math.pow(v.y-e.y,2)),U=Math.sqrt(Math.pow(e.x-k.x,2)+Math.pow(e.y-k.y,2));
return Math.acos(($*$+j*j-U*U)/(2*$*j))}if(Z==null)return;this.q6=Z;var S=Z.alU,B=Z.RR,C=B.x-S.x,u=B.y-S.y;
this.y_=-Math.atan2(u,C);if(Z.Tx)this.y_=m(B,S,Z.Tx);var r=this.Dh;r[0].f(this.dc(Z,S.x));r[1].f(this.dc(Z,S.y));
r[2].f(this.dc(Z,C));r[3].f(this.dc(Z,u));r[4].f((this.y_*180/Math.PI).toFixed(2));r[5].f(this.dc(Z,aS.qa(S,B)));
if(Z.Tx){r[6].f(this.dc(Z,aS.qa(S,Z.Tx)))}else r[6].f("")};bi.prototype.dc=function(Z,m){var S=l.Zv.Fn(m,Z.wd,this._q,Z.adm,!1);
return parseFloat(S).toFixed(2)};bi.prototype.C7=function(Z,m){this._q=Z;this.XS(this.q6)};bi.prototype.j4=function(){var Z=this.Dh;
for(var q=0;q<Z.length;q++)Z[q].w();J.WN(Z[2],Z[3])};function h1(){ji.call(this,["brush","strn","pdetail"])}h1.prototype=new ji;
function bO(){ji.call(this,["brush","sfrom"]);this.aqI=[];var Z=[[7,12]];for(var q=0;q<Z.length;q++){var m=new dX(Z[q],!1,null,!0);
this.aqI.push(m);m.parent=this;this.body.appendChild(m.m);m.h("click",this.aox,this)}}bO.prototype=new ji;
bO.prototype.aox=function(Z){var m=this.aqI.indexOf(Z.currentTarget),S=new eY(_.E.lX,!0);S.data=g.T1.GZ("contentAware");
this.c(S)};function eO(){ji.call(this,["brush","strn"])}eO.prototype=new ji;function cD(){ji.call(this,["brush","flow","smode"])}cD.prototype=new ji;
function f5(){h6.call(this);this.Yy=!1;var Z=J.L("span","fitem");this.body.appendChild(Z);this.rG=new g6(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
Z.appendChild(this.rG.m);this.rG.h(_.E.o,this.RG,this);this.GK=new dX([20,2]);this.body.appendChild(this.GK.m);
this.GK.h("click",this.amy,this);this.ql=new dX([20,3]);this.body.appendChild(this.ql.m);this.ql.h("click",this.amy,this)}f5.prototype=new h6;
f5.prototype.j4=function(){this.GK.w();this.ql.w()};f5.prototype.RG=function(){var Z={d:_.B.tk,b:this.b,FE:this.rG.J()==0},m=new eY(_.E.W,!0);
m.data=Z;this.c(m)};f5.prototype.XS=function(Z){if(this.Yy!=Z.Yy)this.rG.f(1-this.rG.J());this.Yy=Z.Yy};
f5.prototype.amy=function(Z){var m=new eY(_.E.Y,!0);m.b=g.ky;m.data={d:"adapt",k:Z.target==this.GK?"pixel":"fitscr"};
this.c(m)};function hP(Z,m){h6.call(this);if(Z==null)return;this.X5=Z;this.TA={};this.a8i=m;for(var q=0;
q<Z.length;q++){var S=Z[q],B=null;if(S=="tmode"){B=new fH(null,[[12,76,1],[12,76,0],[12,76,2]]);B.f(0);
if(m)B.ajP(2)}if(S=="make"){B=new g6("Make",[[17,2],[12,76,1]],null,!0)}if(S=="anta"){B=new ae([12,25,1]);
B.f(!0)}if(S=="binop"){B=new fH(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(S=="pshape")B=new fH(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(S=="shape")B=new jS([12,76,1]);if(S=="crad"){B=new gH([12,94,0],0,50,"px");B.f(0)}if(S=="cstr"){B=new jv}if(S=="irad"){B=new gH([12,94,1],0,100,"%");
B.f(40)}if(S=="length"){B=new gH([12,80,0],4,40);B.f(4)}if(S=="sides"){B=new gH([12,78],3,30);B.f(5)}if(S=="width"){B=new gH([12,41],1,100,"px");
B.f(5)}if(S=="tolr"){B=new gH([12,24],0,100);B.f(5)}if(S=="fstyle"){B=new dv([12,26])}if(S=="sstyle"){B=new by}if(S=="psnap"){B=new ae([8,10])}if(S=="crnr"){B=new dX("\u2312",!1,[12,94,0],!0)}if(S=="aopts"){B=new du;
B.f([!1,!1,50,60,0])}B.parent=this;this.body.appendChild(B.m);this.TA[S]=B;B.h(S=="crnr"?"click":_.E.o,this.RG,this)}}hP.prototype=new h6;
hP.prototype.XS=function(Z){if(Z.iq!=null)this.TA.binop.f(Z.iq);else if(Z.hN=="vals")for(var m in Z.aqD)this.TA[m].f(Z.aqD[m]);
else{var S=hP.T_;if(S==null)S=hP.T_=new am([{name:"Remove Anchor Point",K:function(C){var u=C?C.Nu():null;
return{K:C&&u[1].length!=0&&u[0][u[1][0]].add.vmsk.N2.length!=0}}},{name:"Remove Path",K:function(C){var u=C?C.Nu():null;
return{K:C&&u[1].length!=0&&u[0][u[1][0]].add.vmsk._.length!=0}},Jb:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{T:_.E.Y,b:g.Y0,V:{d:"remove",EL:!0}},{T:_.E.Y,b:g.bO,V:{d:"remove"}},{T:_.E.W,V:{d:_.B.Me,ct:"makesel"}},{T:_.E.lX,V:g.X$.Fu(0)},{T:_.E.lX,V:g.X$.Fu(1)}]);
S.parent=this;S.update(Z.tt,Z.YS);var B=new eY(_.E.W,!0);B.data={d:_.B.HM,Xg:S,x:Z.Pq.PA+2,y:Z.Pq.ec+1};
this.c(B)}};hP.prototype.alk=function(q){return null};hP.prototype.j4=function(){for(var Z in this.TA){this.TA[Z].w()}};
hP.prototype.RG=function(Z){var m=new eY(_.E.W,!0),S=this.TA;if(Z.target==S.crnr){m=new eY(_.E.Y,!0);
m.b=g.Y0;m.data={d:"crnr"}}else if(Z.target==S.make){var q=Z.target.J();console.log(q);if(q==0)m.data={d:_.B.Me,ct:"makesel"};
else{m=new eY(_.E.Y,!0);m.b=g.bu;m.data={d:"newfill",If:0}}}else if(Z.target==S.fstyle){m.data={d:_.B.L8,Lh:bo.fF,k:S.fstyle.J()}}else if(Z.target==S.sstyle){m.data={d:_.B.L8,Lh:bo._P,k:S.sstyle.J()}}else if(Z.target==S.tmode){m.data={d:_.B.L8,Lh:bo.M6,k:S.tmode.J()}}else{if(S.pshape)this.s0();
m.data={d:_.B.tk,b:this.b};for(var B in S)m.data[B]=S[B].J()}this.c(m)};hP.prototype.s0=function(){var Z=this.TA,m=Z.tmode.J(),S=Z.pshape?this.alk(Z.pshape.J()):this.X5,B;
if(m==0)B=["anta","make"];if(m==1)B=["anta","fstyle","sstyle"];if(m==2)B=["make","binop","fstyle","sstyle"];
var C=Z.binop;if(C){var u=C.J();if(m==0){C.a6l(0)}else{C.ajP(0);if(u==0){C.f(1);this.RG({target:C})}}}J.uq(this.body);
for(var q=0;q<S.length;q++){var r=S[q];if(B.indexOf(r)!=-1)continue;this.body.appendChild(Z[r].m)}};
hP.prototype.C7=function(Z,m){h6.prototype.C7.call(this,Z,m);var S=this.TA.fstyle,B=this.TA.sstyle,C=this.TA.tmode;
if(S)S.C7(Z,m);if(B)B.C7(Z,m);if(m==bo.LE||m==bo.w8)if(Z.Tz.length!=0&&this.TA.shape){this.TA.shape.$q(Z.Tz)}if(m==bo.LE||m==bo.fF)if(S)S.f(null,Z.nw,Z.a4m);
if(m==bo.LE||m==bo._P)if(B)B.f(null,Z.z$,Z.adM);if(m==bo.LE||m==bo.M6){var u=Z.Q2;if(this.a8i&&u==2)u=0;
if(C){C.f(u);this.s0()}}};function dJ(){hP.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}dJ.prototype=new hP;
function d5(){hP.call(this,"tmode make anta fstyle sstyle binop tolr".split(" "))}d5.prototype=new hP;
function cJ(){hP.call(this,["fstyle","sstyle"]);this.abc=null;this.ae1=null;this.ajK=null;this.ZO=new fH([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.yi=new dX("\u25BC");this.yi.HS();this._3=new dX("\u25B2");this._3.HS();this.p9=[this.ZO,this.yi,this._3];
for(var q=0;q<this.p9.length;q++){var Z=this.p9[q];this.body.appendChild(Z.m);Z.parent=this;Z.h(q==0?_.E.o:"click",this.Ln,this)}}cJ.prototype=new hP;
cJ.prototype.XS=function(Z){if(Z.BT=="main"){var m=this.p9,S=Z.kH;if(S){this.ae1=S.clone();this.ajK=JSON.stringify(Z.Ka);
var B=S._.slice(0),C=B.length;for(var q=0;q<B.length;q++)B[q]++;B.sort(function(v,e){return v-e});m[0].un();
m[1].aR(C!=0);m[2].aR(C!=0);m[0].zR(C==0?"No Paths":C==1?"Path "+B[0]:"Paths "+B.slice(0,3).join(",")+(C>3?"..":""));
if(C!=0){var u=S._[0],r=l.q.jw(S.u,u),k=S.u[r];this.ZO.f([3,0,1,2][k.QZ])}}else for(var q=0;q<m.length;
q++)m[q].ep()}else hP.prototype.XS.call(this,Z)};cJ.prototype.j4=function(){hP.prototype.j4.call(this);
this.ZO.w()};cJ.prototype.Ln=function(Z){if(Z.target==this.ZO||Z.target==this.yi||Z.target==this._3){var m={},S=this.ae1,B=S.u,C=S._,u=l.q.Ei(B),r=JSON.parse(this.ajK);
C.sort(function(n,L){return n-L});if(Z.target==this.ZO){var k=this.ZO.J();if(k<4)for(var q=0;q<C.length;
q++)B[l.q.jw(B,C[q])].QZ=[1,2,3,0][k];else{if(u<=1)return;S.u=l.q.eO(B);S._=S.u.length==2?[]:[0];S.N2=[];
r=[l.Ka.Td()]}}else{var v=Z.target==this.yi?-1:1,e=[];for(var q=0;q<u;q++){var j=l.q.jw(B,q),$=j+1+B[j].length;
e.push(B.slice(j,$))}var U=C.slice(0);for(var q=0;q<C.length;q++)U[q]=Math.max(q,Math.min(u-1-(C.length-1-q),U[q]+v));
if(C.join(",")==U.join(","))return;for(var q=0;q<C.length;q++){var H=v==-1?q:C.length-1-q,j=C[H],$=U[H];
if(j!=$){var z=e[j];e[j]=e[$];e[$]=z}}var f=B.slice(0,2);for(var q=0;q<e.length;q++)f=f.concat(e[q]);
S.u=f;S._=U}m.kH=S;m.Ka=r;var D=new eY(_.E.W,!0);D.data={d:_.B.tk,b:this.b,ZT:m};this.c(D)}};function i4(){hP.call(this,["fstyle","sstyle","crnr","psnap"])}i4.prototype=new hP;
function ds(){hP.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}ds.prototype=new hP;
function gn(){hP.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}gn.prototype=new hP;
function fz(){hP.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.TA.aopts.f([!1,!0,50,60,0])}fz.prototype=new hP;fz.prototype.alk=function(q){var Z=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(Z[q])};function hL(){hP.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}hL.prototype=new hP;
function g2(){hP.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}g2.prototype=new hP;
function ik(){hJ.call(this,!1,["binop","feat","redge"])}ik.prototype=new hJ(!0);function e3(){ji.call(this,["brush","qsmode","redge"])}e3.prototype=new ji;
function j0(){h6.call(this);var Z=new dX("Slices From Guides",null,null,!0);Z.h("click",this.Ln,this);
this.body.appendChild(Z.m)}j0.prototype=new h6;j0.prototype.Ln=function(Z){var m=new eY(_.E.lX,!0);m.data={CE:"make",Oz:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.c(m)};function aH(){h6.call(this);var Z=this.ab_=[new dX("\u25BC",null,null,!0),new dX("\u25B2",null,null,!0),new dX([5,4],null,null,!0)];
for(var q=0;q<3;q++){var m=Z[q];this.body.appendChild(m.m);m.h("click",this.Ln,this)}}aH.prototype=new h6;
aH.prototype.Ln=function(Z){var m=this.ab_.indexOf(Z.target),S=new eY(_.E.Y,!0);S.b=g.dD;S.data={d:m==2?"delete":"reorder",dir:m==0?-1:1};
this.c(S)};aH.prototype.w=function(){h6.prototype.w.call(this);for(var q=0;q<3;q++)this.ab_[q].w()};
function jO(Z,m){h6.call(this);if(window.Typr==null||Z)return;this.apU=m;this.Ip=null;this.a7C=J.L("span","");
this.ahf=J.L("span","");var S=1;this.zU={GB:new hl(null,24),ve:new gH("X",0,0,"px",0,!1,!0,4),i5:new gH("Y",0,0,"px",0,!1,!0,4),gA:new gH("W",0,0,["%","px"],2,!1,!0,5),br:new dX("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),Xq:new gH("H",0,0,["%","px"],2,!1,!0,5),afG:new gH("\u2221",0,0,"\xB0",S,!1,!0),aa8:new gH("\u25B1 H",-85,85,"\xB0",S,!1,!0),a2_:new gH("\u25B1 V",-85,85,"\xB0",S,!1,!0),rQ:new fH(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.zU.rQ.f(1);for(var B in this.zU){var C=this.zU[B];if(m&&(C==this.zU.afG||C==this.zU.aa8||C==this.zU.a2_||C==this.zU.rQ)){}else this.a7C.appendChild(C.m);
var u=C==this.zU.br?"click":_.E.o;C.h(u,this.af4,this)}this.w7=new hj(!0,!0,!0);this.w7.h(_.E.o,this.a5X,this);
this.w7.parent=this;var r=this.ahf,k=this.w7;r.appendChild(k.sr.m);r.appendChild(k.RQ.m);r.appendChild(k.LC.m);
r.appendChild(k.yp.m);r.appendChild(k.Pm.m);this.P0=new dX([11,9]);this.P0.h("click",this.a4i,this);
this.bI=new gQ;this.bI.h("click",this.XM,this)}jO.prototype=new h6;jO.prototype.XS=function(Z){if(Z.Pq){var m=jO,S=this.T_;
if(S==null)S=this.T_=new am(m.aus(),m.ak3(this.b));S.w();S.parent=this;S.update(Z.tt,Z.YS);var B=new eY(_.E.W,!0);
B.data={d:_.B.HM,Xg:S,x:Z.Pq.PA+2,y:Z.Pq.ec+1};this.c(B);return}J.uq(this.body);this.Ip=Z;if(Z.zU){var C=Z.zU.pe,u=Z.zU.TZ.clone(),r=Math.atan2(-u.S,u.AQ),k=new ht;
k.rotate(-r);u.concat(k);var v=this.zU;v.GB.f(Z.zU.K9);v.ve.f(Z.zU.n3.x);v.i5.f(Z.zU.n3.y);v.gA.f(u.AQ*(v.gA.P4()=="%"?100:C.e));
v.Xq.f(u.uw*(v.Xq.P4()=="%"?100:C.n));v.afG.f(-r*180/Math.PI);v.aa8.f(0*180/Math.PI);v.a2_.f(Math.atan(u.mw)*180/Math.PI);
this.body.appendChild(this.a7C);this.P0.rS()}if(Z.TE){this.w7.f(Z.TE);this.body.appendChild(this.ahf);
this.P0.HS()}this.body.appendChild(this.bI.m);if(Z.a5A&&!this.apU)this.body.appendChild(this.P0.m)};
jO.prototype.af4=function(Z){var m=this.zU,S=this.Ip.zU.pe;if(Z.target==m.br)m.br.f(!m.br.J());if(m.br.sS()){var B=m.Xq,C=m.gA,u=S.n,r=S.e;
if(Z.target==m.gA){B=m.gA;C=m.Xq;u=S.e;r=S.n}var k=B.J()/(B.P4()=="%"?100:u);k*=C.P4()=="%"?100:r;C.f(k)}var v=[];
for(var e in m)if(m[e]!=m.br&&m[e]!=m.GB){var k=m[e].J();if((m[e]==m.gA||m[e]==m.Xq)&&k==0){k=.1;m[e].f(k)}if(m[e]==m.gA&&m[e].P4()=="px")k/=S.e/100;
if(m[e]==m.Xq&&m[e].P4()=="px")k/=S.n/100;v.push(k)}var j=new aS(v[0],v[1]);if(Z.target==m.GB){this.O6({BT:"ctyp",K9:m.GB.J()})}else if(Z.target==m.ve||Z.target==m.i5){this.O6({BT:"cen",n3:j})}else{var $=this.Ip.zU.TZ.clone(),U=$.clone(),H=Math.atan2(-$.S,$.AQ);
U.translate(-j.x,-j.y);U.rotate(-H);var z=new ht(U.AQ,U.S,U.mw,U.uw,0,0);z.Yy();U.concat(z);U.concat(new ht(v[2]/100,Math.tan(v[5]*Math.PI/180),Math.tan(v[6]*Math.PI/180),v[3]/100,0,0));
U.rotate(-v[4]*Math.PI/180);U.translate(j.x,j.y);this.Ip.zU.TZ=U;this.O6({BT:"trn",zU:U,Cf:this.zU.rQ.J()})}};
jO.prototype.a5X=function(Z){this.O6({BT:"wrp",TE:this.w7.J()})};jO.prototype.a4i=function(Z){this.O6({BT:"switchWarp"})};
jO.prototype.XM=function(Z){this.O6({BT:this.bI.J()?"commit":"cancel"})};jO.prototype.O6=function(Z){Z.d=_.B.tk;
Z.b=this.b;var m=new eY(_.E.W,!0);m.data=Z;this.c(m)};jO.prototype.j4=function(){var Z=this.zU;for(var m in Z)Z[m].w();
J.WN(Z.gA,Z.Xq);this.bI.w();this.w7.w();this.P0.w()};jO.aus=function(){return[{name:[5,9],Xi:"Shift+Alt+Ctrl + T",Jb:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],K:function(Z){if(Z==null||Z._.length!=1)return{K:!1};
var m=Z.g[Z._[0]];return{K:m.add.TySh==null&&!m.O1()}},Jb:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
jO.ak3=function(Z){if(Z==null)Z=g.zp;return[{T:_.E.Y,b:Z,V:{d:"again"}},{T:_.E.W,V:{d:_.B.uv,b:Z,xe:{PC:3}}},{T:_.E.W,V:{d:_.B.uv,b:Z,xe:{PC:4}}},{T:_.E.W,V:{d:_.B.uv,b:Z,xe:{PC:2}}},{T:_.E.W,V:{d:_.B.uv,b:Z,xe:{PC:1}}},{T:_.E.W,V:{d:_.B.uv,b:Z,xe:{PC:-1}}},{T:_.E.Y,b:Z,V:{d:"rot",fm:[2,5],k:-Math.PI/2}},{T:_.E.Y,b:Z,V:{d:"rot",fm:[2,5],k:-3*Math.PI/2}},{T:_.E.Y,b:Z,V:{d:"rot",fm:[2,5],k:Math.PI}},{T:_.E.Y,b:Z,V:{d:"scl",fm:[[2,6],[22,4,2]],k:new aS(-1,1)}},{T:_.E.Y,b:Z,V:{d:"scl",fm:[[2,6],[22,4,3]],k:new aS(1,-1)}}]};
function b_(){jO.call(this)}b_.prototype=new jO(!0);function hS(){jO.call(this)}hS.prototype=new jO(!0);
function d0(){jO.call(this,!1,!0)}d0.prototype=new jO(!0);function eq(){h6.call(this);var Z=this.X5=[new fH([12,36],["Rigid",[15,10,0],[24,4]]),new fH([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new gH([7,4],0,100,"px"),new ae("Show Mesh"),new dX("\u25BC",null,null,!0),new dX("\u25B2",null,null,!0)];
for(var q=0;q<Z.length;q++){var m=Z[q];m.parent=this;this.body.appendChild(m.m);m.h(q<4?_.E.o:"click",this.a4C,this)}this.bI=new gQ;
this.bI.h("click",this.XM,this);this.body.appendChild(this.bI.m)}eq.prototype=new h6;eq.prototype.j4=function(){var Z=this.X5;
for(var q=0;q<4;q++)Z[q].w();this.bI.w()};eq.prototype.XS=function(Z){var Z=Z.Lh;for(var q=0;q<4;q++)this.X5[q].f(Z[q])};
eq.prototype.a4C=function(Z){var m=[];for(var q=0;q<4;q++)m[q]=this.X5[q].J();var S=this.X5.indexOf(Z.target);
if(S<4)this.O6({BT:"prm",Lh:m});else this.O6({BT:"moveDepth",ai_:S==5})};eq.prototype.XM=function(Z){this.O6({BT:this.bI.J()?"commit":"cancel"})};
eq.prototype.O6=function(Z){Z.d=_.B.tk;Z.b=this.b;var m=new eY(_.E.W,!0);m.data=Z;this.c(m)};function aW(){aw.call(this);
this.m=J.L("div","cmanager");window.alert=function(B,C){this.a0h(B,C);console.log("Alert: "+B)}.bind(this);
window.onblur=function(B){var C=this;C.jv()}.bind(this);this.OU=0;this.Vi=0;this.Ya=[];this.qi={};this.PS=J.L("div","alertcont");
this.m.appendChild(this.PS);this.aqU=J.L("div","alertcont");this.m.appendChild(this.aqU);this.Fo=J.L("div","alertcont");
this.a1m=0;this.PF=-1;this.ajQ=null;this.ZU=null;var Z=this.ah4=J.L("div","alertpanel");Z.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Fo.appendChild(Z);var m=this.Ky=J.L("input");m.setAttribute("type","text");J.m8(m);m.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
m.addEventListener("input",this.acO.bind(this),!1);m.addEventListener("keydown",this.aqt.bind(this),!1);
Z.appendChild(m);var S=this.abY=J.L("div","contextpanel scrollable");S.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
S.addEventListener("click",this.an_.bind(this),!1);Z.appendChild(S);J.BQ(document.body,this.ahP.bind(this))}aW.prototype=new aw;
aW.prototype.P_=function(){if(J.Qt(this.Fo))this.m.removeChild(this.Fo)};aW.prototype.an6=function(Z,m){var S=this.ajQ=[];
for(var q=0;q<cW.data.length;q++){var B=cW.data[q],C=[iD.get(B.name)],u=[q];aW.ami(B.items,C,u,S,Z,m)}var r=be.P;
for(var q=0;q<r.length;q+=3){S.push([["Tools",iD.get(r[q])],[-1,r[q+2]],r[q+1]])}this.m.appendChild(this.Fo);
var k=this.Ky;k.focus();k.select();this.Hk()};aW.prototype.acO=function(Z){this.PF=-1;this.Hk()};aW.prototype.Hk=function(){var Z=this.Ky.value.toLowerCase().trim().replace(/  +/g," "),m=this.ajQ,S=[],B=[],C=Z.split(" ");
if(Z!="")for(var q=0;q<m.length;q++){var u=m[q][0],r=[],k=0;for(var v=0;v<u.length;v++)r[v]=-1;for(var e=0;
e<C.length;e++)for(var v=0;v<u.length;v++){var j=u[v].toLowerCase().indexOf(C[e]);if(j!=-1){r[v]=[j,j+C[e].length];
k++;break}}if(k==C.length){S.push(m[q]);B.push(r)}}var $=[],U=this.abY;J.uq(U);for(var q=0;q<S.length;
q++){var H=S[q],z=H[0],j=B[q],f="enab",n="";if(q==this.PF)f+=" active";var D=J.L("div",f);$.push(D);
U.appendChild(D);for(var v=0;v<z.length;v++){var L=j[v],a=C[v],F=z[v];if(L!=-1)F=F.slice(0,L[0])+"<span style=\"color:black\">"+F.slice(L[0],L[1])+"</span>"+F.slice(L[1]);
n+=F;if(v<z.length-1)n+=" \uFE65 "}if(H[2]&&(typeof H[2]!="string"||H[2].length==1))n+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+iZ.x3(H[2])+"</span>";
D.innerHTML=n}this.ZU=[S,$]};aW.prototype.aqt=function(Z){var m=iZ.tH,S=Z.code;if(m(S,iZ.xU))this.P_();
var B=m(S,iZ.Dz),C=m(S,iZ.m9),u=m(S,iZ.Z6);if(B||C){this.PF=Math.max(0,Math.min(this.ZU[0].length-1,this.PF+(B?-1:1)));
this.Hk()}if(u&&this.PF!=-1)this.ahn(this.PF)};aW.ami=function(Z,m,S,B,C,u){for(var q=0;q<Z.length;q++){var r=Z[q],k=m.slice(0),v=S.slice(0),e=iD.get(r.name);
if(r.K){var j=r.K(C,u,q);if(j.HT)e=j.HT;if(j.K==!1)continue}k.push(e);v.push(q);if(r.sub)aW.ami(r.sub,k,v,B,C,u);
else B.push([k,v,r.Xi])}};aW.prototype.an_=function(Z){var m=Z.target;if(m.tagName.toLowerCase()=="span")m=m.parentNode;
var S=this.ZU[1].indexOf(m);if(S!=-1)this.ahn(S)};aW.prototype.ahn=function(Z){var m=this.ZU[0][Z][1];
if(m[0]==-1){var S=new eY(_.E.W,!0);S.data={d:_.B.uv,b:m[1]};this.c(S)}else{var B=cW.data[m[0]].aB[m[1]];
for(var q=2;q<m.length;q++)B=B.sub[m[q]];var C=new eY(B.T,!0);C.b=B.b;C.data=B.V;this.c(C)}this.P_()};
aW.prototype.MY=function(Z,m){this.OU=Z;this.Vi=m;this.abY.style["max-height"]=m-120+"px"};aW.prototype.a3M=function(Z){var m=J.L("div","alertpanel");
m.textContent=iD.get(Z);this.PS.appendChild(m);this.qi[JSON.stringify(Z)]=m};aW.prototype.abU=function(Z){var m=this.qi[JSON.stringify(Z)];
this.PS.removeChild(m);delete this.qi[JSON.stringify(Z)]};aW.prototype.a0h=function(Z,m){var S=this.aqU;
for(var q=0;q<S.children.length;q++)if(S.children[q].textContent==Z)return;var B=J.L("div","alertpanel tpanel");
B.textContent=Z;B.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");S.appendChild(B);if(m==null)m=1500;
var C=m,u=Math.max(Date.now()+C,this.a1m+C);setTimeout(function(){B.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){S.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},u-Date.now()-30);
setTimeout(function(){S.removeChild(S.firstChild);S.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},u-Date.now());
this.a1m=u};aW.prototype.ahP=function(Z){var m=this.Ya;for(var q=m.length-1;q>=0;q--){var S=m[q],B=Z.target;
while(B!=null){if(B==S.m){this.jv(S);return}B=B.parentNode}}this.jv();var C=Z.target;while(C!=this.Fo&&C!=document.body)C=C.parentNode;
if(C!=this.Fo)this.P_()};aW.prototype.jv=function(Z){var m=this.Ya;for(var q=0;q<m.length;q++){if(Z&&Z.ajX(m[q]))continue;
var S=m[q].m;S.style.height="auto";J.iB(S,"scrollable");this.m.removeChild(S);m.splice(q,1);q--}};aW.prototype.asG=function(Z){this.jv(Z.Xg);
var m=Z.Xg,S=m.m;if(this.Ya.indexOf(m)!=-1)return;this.Ya.push(m);this.m.appendChild(m.m);var B=this.OU,C=this.Vi,u=Z.x,r=Z.y,k=this.m.getBoundingClientRect(),v=m instanceof am,e=-1,j=C-2;
if(v||Z.Gu){var $=m.LT(),U=m.a0Q();if(v)$=Math.min($,200);var H=B-$-2,z=C-U-2;if(r<z)e=2;else if(u<H)e=1;
else if(0<r-U-2)e=0;else e=3;if(Z.aiB)e=0;if(Z.a65)e=2;if(e==2){u=Math.min(u,H)}else if(e==1){r=Math.min(r,z)}else if(e==0){r=r-U-2;
u=Math.min(u,H);j=Z.y}else if(e==3){u=u-$-2;r=Math.min(r,z)}}r=Math.max(2,r);var top=Math.round(r-k.y+this.m.offsetTop);
S.style.position="absolute";S.style["z-index"]=10;if(r+m.a0Q()>j){S.style.height=j-r+"px";J._A(S,"scrollable");
if(e==3)u-=10}S.style.left=Math.round(u)+"px";S.style.top=top+"px"};aW.prototype.anD=function(Z){var m=Z.Xg,S=this.Ya.indexOf(m);
if(S==-1)return;this.Ya.splice(S,1);var B=m.m;this.m.removeChild(m.m)};aW.prototype.wf=function(){var Z=this.Ya;
return Z.length==0?null:Z[Z.length-1]};aW.prototype.a7i=function(){this.anD({Xg:this.wf()})};function cU(){aw.call(this);
this.m=J.L("div","confbar")}cU.prototype=new aw;cU.prototype.amV=function(Z){Z.parent=this;J.uq(this.m);
this.m.appendChild(Z.m)};function dN(Z){aw.call(this);dN.$T=Z;this._q=null;this.eC=J.L("input","");this.eC.setAttribute("type","file");
this.eC.setAttribute("multiple","");this.eC.addEventListener("change",function(m){this.tK(m.target.files,null,this.$r,null);
this.$r=null}.bind(this),!1);document.body.appendChild(this.eC);this.eC.setAttribute("style","display:none");
this.au0=[];this.pM=!1;this.aqg={};this.$r=null}dN.prototype=new aw;dN.$T=null;dN.Lf=function(Z){try{var m={};
m[Z.type]=Z;navigator.clipboard.write([new ClipboardItem(m)])}catch(iD){console.error(iD,iD.message)}};
dN.gM=function(Z,m){navigator.clipboard.read().then(function(S){for(var q=0;q<S.length;q++){try{var B=S[q],C={},u=0,r=0;
for(var k=0;k<B.types.length;k++){var v=B.types[k];u++;B.getType(v).then(function(e){var j=v;new Response(e).arrayBuffer().then(function($){C[this.If]=$;
r++;if(r==u)dN.a3l(C,Z,m)}.bind({If:this.If}))}.bind({If:v}))}}catch(iD){console.error(iD,iD.message)}}}).catch(function(S){alert("Clipboard error: ("+S.message+")")})};
dN.agb=function(Z){navigator.permissions.query({name:"clipboard-read"}).then(function(m){Z(m.state)})};
dN.a3l=function(Z,m,S){var B=["text/plain","image/png","text/html","text/plain"];for(var C in Z)console.log(C,C.startsWith("text")?x.QN(new Uint8Array(Z[C])).slice(0,100)+"...":Z[C]);
for(var u=0;u<B.length;u++){var r=B[u],k=Z[r];if(k==null)continue;if(r=="image/png"){dN.$T({name:"image.png"},k,m,S);
return}if(r=="text/plain"){var v=x.QN(new Uint8Array(k));if(u==0)if(!v.startsWith("<!--")&&!v.startsWith("<svg"))continue;
var e=new eY(_.E.W,!0);e.data={d:_.B.aiY,k:v};m.c(e);return}if(r=="text/html"){var v=x.QN(new Uint8Array(k)),j=v.indexOf("src=\"");
if(j!=-1&&v.slice(j+5,j+9)!="http"){var $=j+10;while(v[$]!="\"")$++;var U=v.slice(j+5,$);dN.$T({name:"chart.png"},e2.DS(U).buffer,m,S);
return}}}};dN.prototype.At=function(Z){if(Z==null)Z=[23,5];var m=JSON.stringify(Z),S=this.aqg;if(S[m]==null)S[m]=0;
if(S[m]==0){var B=new eY(_.E.W,!0);B.data={d:_.B.QU,mR:Z};this.c(B)}S[m]++};dN.prototype.iy=function(Z){if(Z==null)Z=[23,5];
var m=JSON.stringify(Z),S=this.aqg;if(S[m]==null)S[m]=0;S[m]--;if(S[m]==0){var B=new eY(_.E.W,!0);B.data={d:_.B.MF,mR:Z};
this.c(B)}};dN.prototype.a4y=function(Z,m){this.$r=Z;var S=window.showOpenFilePicker;if(S&&window.self==window.top){var B=this;
S({multiple:!0}).then(function(r){var k=[];function v(e){k.push(e);if(k.length==r.length){B.tK(k,null,B.$r,null,r);
B.$r=null}else r[k.length].getFile().then(v)}r[k.length].getFile().then(v)});return}var C=this.eC;if(m)C.setAttribute("accept",m);
else C.removeAttribute("accept");var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
C.dispatchEvent(u)};dN.prototype.ZQ=function(Z){if(Z.url.indexOf("photopea.com#i")!=-1||Z.url.indexOf("photopea.com/#i")!=-1){this.pB(Z.url.split("#i").pop());
return}this.au0.push(Z);this.a00()};dN.prototype.a00=function(){var Z=this.au0;if(Z.length==0||this.pM)return;
this.pM=!0;var m=Z.shift();this.At();if(m.Wq==null)m.Wq={};var S=new XMLHttpRequest;S.N$=m;var B=m.url;
if(m.ZV&&!B.startsWith("data:image"))B="mirror.php?url="+encodeURIComponent(B);S.open("GET",B);if(m.VL)for(var C in m.VL)S.setRequestHeader(C,m.VL[C]);
S.responseType="arraybuffer";S.onload=this.akY.bind(this);S.send()};dN.prototype.tK=function(Z,m,S,B,C){for(var q=0;
q<Z.length;q++){this.At();var u=Z[q],r=new FileReader;r.N$=u;r.N$.uz=S;r.N$.ji=B;r.ahd=m;if(C)r.N$.Q9=C[q];
r.onload=this.akY.bind(this);r.onerror=function(k){this.iy()}.bind(this);r.readAsArrayBuffer(u)}this.eC.value=null};
dN.prototype.adW=function(Z,m,S){this.At("Saving ...");this._q=m;setTimeout(S.bind({Lw:Z,caller:this}),50)};
dN.JY=function(Z){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=new Uint8Array(Z),B=S.length,C=B%3,u=B-C,r=[],k=0,v=0,e=0;
for(var q=0;q<u;q+=3){k=S[q];v=S[q+1];e=S[q+2];r.push(m[k>>2]+m[(k&3)<<4|v>>4]+m[(v&15)<<2|e>>6]+m[e&63])}if(C==1){k=S[u];
r.push(m[k>>2]+m[(k&3)<<4]+"==")}if(C==2){k=S[u];v=S[u+1];r.push(m[k>>2]+m[(k&3)<<4|v>>4]+m[(v&15)<<2]+"=")}var j=r.join("");
return j};dN.apw=function(Z,m){var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=new Uint8Array(64),k=0,v=0,e=0,$=0;
for(var q=0;q<64;q++)B[q]=S.charCodeAt(q);var C=new Uint8Array(Z),u=m%3,r=m-u,j=new Uint8Array(Math.floor(m/3)*4+(u==0?0:4));
for(var q=0;q<r;q+=3){k=C[q];v=C[q+1];e=C[q+2];j[$]=B[k>>>2];j[$+1]=B[(k&3)<<4|v>>>4];j[$+2]=B[(v&15)<<2|e>>>6];
j[$+3]=B[e&63];$+=4}if(u==1){k=C[r];j[$]=B[k>>2];j[$+1]=B[(k&3)<<4];j[$+2]=61;j[$+3]=61}if(u==2){k=C[r];
v=C[r+1];j[$]=B[k>>2];j[$+1]=B[(k&3)<<4|v>>4];j[$+2]=B[(v&15)<<2];j[$+3]=61}return j};dN.prototype.akY=function(Z){var m,S=Z.target.N$;
if(Z.target instanceof XMLHttpRequest)m=Z.target.response;else m=Z.target.result;dN.$T(S,m,this,Z.target.ahd);
this.iy();if(Z.target instanceof XMLHttpRequest){this.pM=!1;this.a00()}};dN.afe=function(Z,m){var S=new XMLHttpRequest;
S.open("POST","https://api.imgur.com/3/image",!0);S.h5=m;S.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");
S.setRequestHeader("Content-type","application/x-www-form-urlencoded");S.setRequestHeader("Accept","application/json");
S.addEventListener("load",dN.a7t);S.send("type=base64&image="+encodeURIComponent(dN.JY(Z)));alert("Saving to Imgur ...",4e3)};
dN.a7t=function(Z){var m=JSON.parse(Z.target.response);if(m.success){if(Z.target.h5)Z.target.h5(m.data.link);
else window.open(m.data.link,"Imgur")}};dN.prototype.pB=function(Z,m){this.At();var S=new XMLHttpRequest;
S.responseType="arraybuffer";S.open("GET","https://f000.backblazeb2.com/file/psdshared/"+Z);S.onload=this.a8Q.bind(this);
S.send();dN.ag8=Date.now();dN.aqk=Z;dN.ae3=m?Z:null};dN.prototype.a8Q=function(Z){var m=new Uint8Array(Z.target.response);
console.log(m.length,Date.now()-dN.ag8);for(var q=0;q<m.length;q++)m[q]=255-m[q];m=pako.inflateRaw(m);
var S=JSON.parse(x.QN(m,0,2e3));dN.$T({name:S.name,iw:dN.ae3},m.slice(2e3).buffer,this);this.iy();var B=new XMLHttpRequest;
B.open("GET","/papi/img/update.php?act=0&id="+dN.aqk+"&rnd="+Math.random());B.send()};dN.prototype.abJ=function(Z,m,S){if(!(Z instanceof ArrayBuffer))throw"e";
Z=new Uint8Array(Z);var B=new Uint8Array(Z.length+2e3),$="";for(var q=0;q<2e3;q++)B[q]=32;x.Xv(JSON.stringify({name:m}),B,0);
B.set(Z,2e3);Z=B;Z=pako.deflateRaw(Z);for(var q=0;q<Z.length;q++)Z[q]=255-Z[q];Z=Z.buffer;var C=Z.byteLength,u=ah.Ij(C),r=~~(609e5/2),k=~~(209e5/2);
if(C>r){confirm("Your file is "+u+". Our limit is "+ah.Ij(r)+". Delete some layers and try again.");
return}if(C>k){var v=confirm("Your file is quite large ("+u+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!v)return}var e=sha1(Z),j=[];for(var q=0;q<20;q++){var U=parseInt(e.slice(q*2,q*2+2),16);j.push(U);
$+=String.fromCharCode(U)}var H=btoa($).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(dN.aoS(H)){console.log("file already exists");
if(S)S("https://www.photopea.com#i"+H);else window.open("https://www.photopea.com#i"+H);return}this.At("Publishing ...");
var z=new XMLHttpRequest;z.q6=[Z,e,H,S];z.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+H+"&size="+C);
z.onload=this.af6.bind(this);z.send()};dN.aoS=function(Z){try{var m=new XMLHttpRequest;m.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+Z,!1);
m.send();if(m.status==200)return!0}catch(iD){return!1}return!1};dN.prototype.af6=function(Z){var m=JSON.parse(Z.target.response),S=Z.target.q6,B=new XMLHttpRequest;
B.open("POST",m.uploadUrl);B.setRequestHeader("Authorization",m.authorizationToken);B.setRequestHeader("X-Bz-File-Name",S[2]);
B.setRequestHeader("Content-Type","b2/x-auto");B.setRequestHeader("X-Bz-Content-Sha1",S[1]);B.send(new Blob([S[0]]));
B.onload=this.a8h.bind({CF:this,q6:S})};dN.prototype.a8h=function(Z){this.CF.iy("Publishing ...");if(this.q6[3])this.q6[3]("https://www.photopea.com#i"+this.q6[2]);
else window.open("https://www.photopea.com#i"+this.q6[2]);var m=new XMLHttpRequest;m.open("GET","/papi/img/update.php?act=2&id="+this.q6[2]+"&fileId="+JSON.parse(Z.target.response).fileId+"&rnd="+Math.random());
m.send()};dN.save=function(Z,m){var S=new Uint8Array(Z),B=document.createElement("a");if(typeof B.download=="string"){var C=new Blob([S]),u=window.URL.createObjectURL(C);
B.href=u;B.download=m;document.body.appendChild(B);B.click();document.body.removeChild(B)}else{var r="data:application/octet-stream;base64,"+dN.JY(Z);
window.open(r)}};function ew(){this.size=16;this.data=l.U(16)}ew.prototype.Ad=function(Z,m){if(Z+m<=this.size)return;
var S=this.size;while(Z+m>this.size)this.size*=2;var B=l.U(this.size);for(var q=0;q<S;q++)B[q]=this.data[q];
this.data=B};var fh={};fh.y5=function(Z,m,S){var B=m.split(":"),C=B[0],u=null;if(B.length==2){if(C=="jpg")u=[Math.round(100*parseFloat(B[1]))];
if(C=="webp")u=[Math.round(100*parseFloat(B[1])),100,0,!1,!1];if(C=="psd")u=[!0,!0];if(C=="svg")u=B[1].split(",").map(function(k){return k=="true"})}var r=e2.$c(Z,C.toUpperCase(),null,null,u,S);
return r};fh.a2q=function(Z,m,S){var B=Z.Jy(),C=m[0];return fh.y5(Z,C,S)};fh.au5=function(){var Z=this.Lw,m=this.caller,S=Z.Wq.GA,B=S.formats,C,u;
Z.Jy();var r=Date.now();if(S.version==1){var k=[],v=0,j=0;for(var q=0;q<B.length;q++){var e=fh.y5(Z,B[q],m._q);
k.push(e);v+=e.byteLength}C=new Uint8Array(2e3+v);var $="{ \"source\": "+JSON.stringify(Z.Ha)+", \"versions\": [\n";
for(var q=0;q<B.length;q++){var U=new Uint8Array(k[q]);$+="\t{\"format\": \""+B[q].split(":")[0]+"\", \"start\": "+j+", \"size\": "+U.length+" }"+(q+1<B.length?", ":"")+"\n";
C.set(U,2e3+j);j+=k[q].byteLength}$+="] }";var H=x.Xv($,C,0);for(var q=H;q<2e3;q++)C[q]=32;u="application/octet-stream"}else{var z=new ew,f=0,D="",n=encodeURIComponent;
D="p="+n("{ \"source\": "+JSON.stringify(Z.Ha)+", \"versions\": [");x.zT(z,f,D);f+=D.length;for(var q=0;
q<B.length;q++){D=n(" {\"format\": \""+B[q].split(":")[0]+"\", \"data\": \"");x.zT(z,f,D);f+=D.length;
var e=fh.y5(Z,B[q],m._q),L=dN.apw(e,e.byteLength),H=L.length;z.Ad(f,H);for(var a=0;a<H;a++){z.Ad(f,3);
var F=L[a];if(F==43){z.data[f]=37;z.data[f+1]=50;z.data[f+2]=66;f+=3}else if(F==47){z.data[f]=37;z.data[f+1]=50;
z.data[f+2]=70;f+=3}else if(F==61){z.data[f]=37;z.data[f+1]=51;z.data[f+2]=68;f+=3}else{z.data[f]=F;
f++}}D=n("\" }"+(q+1<B.length?", ":""));x.zT(z,f,D);f+=D.length}D=n("] }");x.zT(z,f,D);f+=D.length;C=z.data.slice(0,f);
u="application/x-www-form-urlencoded"}var A=new XMLHttpRequest;A.open("POST",S.url,!0);if(u)A.setRequestHeader("Content-Type",u);
A.addEventListener("load",fh.alQ.bind(this));A.send(new Blob([C.buffer]))};fh.alQ=function(Z){this.caller.iy("Saving ...");
var m=Z.target.response;if(m.charAt(0)=="{"){m=JSON.parse(m);if(m.newSource)this.Lw.Ha=m.newSource;if(m.message)alert(m.message,2e3);
if(m.script){var S=new eY(_.E.W,!0);S.data={d:_.B.x9,gQ:m.script};this.caller.c(S)}}else alert("Saved. Response: "+m,1500)};
fh.ajM=function(Z,m){var S=Z.cz.Zy;if(m==null)m=fh.y5(Z,S);bc.dv(function(){var B=new XMLHttpRequest,C="https://www.googleapis.com/upload/drive/v3/files/"+Z.cz.file.id+"?uploadType=media"+"&"+bc.Sk();
B.open("PATCH",C,!0);B.addEventListener("load",function(u){var r=JSON.parse(u.target.response);alert(r.name+" updated")});
B.send(m);alert("Saving \""+Z.cz.file.name+"\" to Google Drive ...")})};fh.$T=function(Z,m,S,B){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)fh.arh(Z,m,S,B);
else{try{fh.arh(Z,m,S,B)}catch(iD){if(iD=="low_ram"){}else{var C="Error. Please, send your file to support@photopea.com and we will solve it.";
if(e2.SL(m)=="eps")C="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(C,1e4)}}}};fh.arh=function(Z,m,S,B){var C;if(Z.name){var u=Z.name.lastIndexOf(".");C=u==-1?u:Z.name.slice(0,u)}else{if(Z.url.substring(0,5)=="data:"||Z.url.indexOf("googleapis")!=-1)C="image";
else C=Z.url.substring(Z.url.lastIndexOf("/")+1).split(".")[0];C=C.slice(0,50)}var r=Z.name?Z.name:Z.url,k=new Uint8Array(m),v=e2.SL(m),e=window.ga;
if(Math.random()<.25&&e&&v!=null&&e2.Vh(v))e("send","event","Formats",v);if(v==null)v=x.aD(k,0,4);if(r&&r.toLowerCase().endsWith(".raw")){var j=new eY(_.E.W,!0);
j.data={d:_.B.Me,ct:"importraw",wB:m,qw:r.split("/").pop()};S.c(j);return}else if(v=="json"){var $="";
for(var q=0;q<k.length;q++)$+=String.fromCharCode(k[q]);$=decodeURIComponent(escape($));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse($));return}if(v=="html"){var $=x.QN(k,0,k.length),U=new DOMParser,H=U.parseFromString($,"text/html"),z=H.getElementsByTagName("meta");
for(var q=0;q<z.length;q++){var f=z[q],D=f.getAttribute("property"),n=f.getAttribute("content"),L=null;
if(D=="og:image")L=n;if(D==null&&n&&n.startsWith("0;url=/imgres?")){var a=n.slice(14).split("&");for(var F=0;
F<a.length;F++)if(a[F].startsWith("imgurl"))L=decodeURIComponent(a[F].slice(7))}if(L==null)continue;
var j=new eY(_.E.W,!0);j.data={d:_.B.FJ,Lh:{url:L,ZV:!0,uz:Z.uz}};S.c(j)}return}if(e2.Vh(v)){var A,T,P=e2.Vh(v);
if(Z.uz!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(v)!=-1){var j=new eY(_.E.W,!0);j.data={d:_.B.xl,target:Z.uz,_y:Z.ji,OB:m,bD:C};
S.c(j);return}var Y=[C,P,v,Z,S,B,m];if(P.iA){A=new fl(C+(v=="psd"?"":"-"+v)+".psd");P.af(m,A,fh.Wd,Y)}else{T=P.af(m,null,fh.Wd,Y)}if(P.ow!=!0)fh.Wd(A,T,Y);
else S.At();return}var Q=new eY(_.E.W,!0);Q.data={d:_.B.oB,wB:m,ra:Z.name};var o=Z instanceof File&&Z.akR!=!0,j=new eY(_.E.W,!0);
j.data={d:_.B.L8,Wq:"add",Lh:null,ub:null,a80:Z.akR};if(v=="zip"){var I=Date.now(),c=UZIP.parse(m),y="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var i in c){var d=!1;for(var q=0;q<y.length;q++)if(i.toLowerCase().endsWith("."+y[q]))d=!0;if(i.startsWith("__MACOSX/")||c[i].length==0)d=!0;
if(d)continue;var V=i.split("/").pop();fh.$T({name:V},c[i].buffer,S,B)}}else if(v=="jsx"||r&&r.toLowerCase().endsWith(".jsx")){var $=x.QN(new Uint8Array(m));
j.data={d:_.B.x9,gQ:$};S.c(j)}else if(v=="otf"){if(o)S.c(Q);var G=Typr.parse(m);j.data.Lh=bo.Hw;for(var q=0;
q<G.length;q++){j.data.ub=G[q];S.c(j)}}else if(v=="asl"){if(o)S.c(Q);var G=eh.FK(m);j.data.Lh=bo.uN;
j.data.ub=G.LZ;S.c(j);j.data.Lh=bo.gw;j.data.ub=G.aw;S.c(j)}else if(v=="tpl"){if(o)S.c(Q);var G=aj.FK(m);
j.data.Lh=bo._4;j.data.ub={VV:G.VV,Km:G.Km,list:[]};S.c(j);if(G.a1b.length!=0){j.data.Lh=bo.w8;j.data.ub=G.a1b;
S.c(j)}if(G.aw.length!=0){j.data.Lh=bo.gw;j.data.ub=G.aw;S.c(j)}j.data.Lh=bo.L1;j.data.ub=G.list;S.c(j)}else{var M="";
for(var O in bo.yA)if(bo.yA[O][0]==v)M=O;if(M!=""){if(o)S.c(Q);j.data.ub=bo.yA[M][2].FK(m,r);j.data.Lh=M;
S.c(j)}else alert("Unknown file format: "+JSON.stringify(v))}};fh.Wd=function(Z,m,S){var B=S[0],C=S[1],u=S[2],r=S[3],k=S[4],v=S[5],e=S[6];
if(C.ow)k.iy();if(!C.iA){if(m.length==0)return;if(m[0].t33421||m[0].t50706){l.raw.normalize(m[0],e);
console.log(m[0]);var j=new eY(_.E.W,!0);j.data={d:_.B.Me,ct:"rawpea",dk:m[0]};k.c(j);return}if(v){v(new Uint8Array(m[0].data),m[0].cR);
return}Z=e2.h9(B,m)}Z.iw=r.iw;Z.L6=u;Z.Wq=r.Wq;Z.Ha=r.url;Z.Kr=r.Kr;Z.cz=r.cz;Z.Q9=r.Q9;if(Z.cz)Z.cz.Zy=u;
if(Z.g.length!=0){var j=new eY(_.E.W,!0);j.data={d:r.uz==null?_.B.Yg:_.B.xl,target:r.uz,_y:r.ji,OB:Z};
k.c(j)}};function gh(Z){aw.call(this);this.r4=gh.r4++;this.zm=Z;this.a94=this.atm.bind(this);this.acV=this.acX.bind(this);
this.aiS=this.iP.bind(this);this.a92=this.aq_.bind(this);this.ahW=this.ali.bind(this);this.ahr=this.a25.bind(this);
this.tJ=0;this.a8z=0;this.a26=0;this.m=J.L("div","panelblock");this.v1=J.L("div","block");this.Lz=J.L("div","collapsed");
this.m.appendChild(this.v1);this.S6=-1;this.Nq=!0;this.lZ=J.L("div","panelhead");this.v1.appendChild(this.lZ);
this.CJ(this.lZ);this.X2=new dX("\u2261");this.X2.m.setAttribute("style","position:absolute; right:0;");
this.X2.h("click",this.a0p,this);this.gb=J.L("div","");this.v1.appendChild(this.gb);this.VD=[];this.Hx=null;
this.kK=null}gh.r4=0;gh.prototype=new aw;gh.prototype.a0p=function(Z){var m=this.VD[this.S6].wK(),S=Z.currentTarget.m.getBoundingClientRect();
m.w();m.parent=this;var B=new eY(_.E.W,!0);B.data={d:_.B.HM,Xg:m,x:S.left,y:S.top+S.height+2};this.c(B)};
gh.prototype.kL=function(Z){var m=this.v1,S=this.lZ,B=this.gb;if(J.Qt(S))m.removeChild(S);if(J.Qt(B))m.removeChild(B);
if(Z==0)m.appendChild(S);m.appendChild(B);this.a26=Z};gh.Tj=function(Z){Z.stopPropagation();Z.preventDefault()};
gh.prototype.atm=function(Z){var m=Z.dataTransfer.types;if(m[1]!=null&&m[1]!=this.r4+"")return;gh.Tj(Z);
var gY=Z.currentTarget;if(Z.target==gY)J._A(gY,"highlight")};gh.prototype.acX=function(Z){gh.Tj(Z);var gY=Z.currentTarget;
if(Z.target==gY)J.iB(gY,"highlight")};gh.prototype.CJ=function(Z){Z.addEventListener("dragenter",this.a94,!1);
Z.addEventListener("dragleave",this.acV,!1);Z.addEventListener("dragover",gh.Tj,!1);Z.addEventListener("drop",this.aiS,!1);
Z.addEventListener("dragstart",function(m){m.dataTransfer.setData("Text","--panel");m.dataTransfer.setData(this.r4+"","")}.bind(this),!1)};
gh.prototype.iP=function(Z){this.acV(Z);var m=null,gY=Z.currentTarget,S=this.at8(gY);if(gY==this.gb&&this.S6!=-1)m=this.S6;
else if(gY==this.lZ)m=null;else if(S!=-1)m=S;var B=Z.dataTransfer.getData("Text");if(B==""||B.startsWith("http"))J.qL(Z,this,m);
else if(B=="--panel"){var C=J.W7(Z,gY),u=this.VD,r=u.slice(0),q=this.S6,k=S==-1?u.length:C.x<gY.getBoundingClientRect().width/2?S:S+1;
if(q==k||q+1==k||gY==this.gb)return;var v=q<k?k-1:k,e=u[q];u.splice(q,1);u.splice(v,0,e);J.uq(this.lZ);
for(var j=0;j<u.length;j++)this.lZ.appendChild(u[j].qM);this.zW(v);var $=[];for(var q=0;q<u.length;q++)$[q]=r.indexOf(u[q]);
var U=new eY("shuffleItems",!1);U.data={aqV:$};this.c(U)}else if(m!=null&&this instanceof aN){var U=new eY(_.E.W,!0);
U.data={d:_.B.aaS,agC:m};this.c(U)}};gh.prototype.bp=function(){return null};gh.prototype.ada=function(){if(this.bp()){this.kK=this.bp();
this.gb.appendChild(this.kK)}};gh.prototype.adt=function(){if(this.kK){this.gb.removeChild(this.kK);
this.kK=null}};gh.prototype.at8=function(Z){var m=this.VD;for(var q=0;q<m.length;q++)if(m[q].qM==Z)return q;
return-1};gh.prototype.k9=function(){for(var q=0;q<this.VD.length;q++)this.VD[q].Tr.rS()};gh.prototype.Cy=function(){return this.S6};
gh.prototype.LJ=function(){if(this.Nq)return;this.Nq=!0;this.m.removeChild(this.Lz);this.m.appendChild(this.v1)};
gh.prototype.collapse=function(){if(!this.Nq)return;this.Nq=!1;this.m.appendChild(this.Lz);this.m.removeChild(this.v1)};
gh.prototype.a5n=function(){return 26+this.gb.getBoundingClientRect().height};gh.prototype.MY=function(Z,m){this.lZ.setAttribute("style","max-width: "+Z+"px");
var S=0;if(this.a26==0){S=this.lZ.getBoundingClientRect().height;S=Math.max(S,26)}if(this.S6!=-1)this.VD[this.S6].MY(Z,m-S);
return m-S};gh.prototype.C7=function(Z,m){if(this.S6!=-1)this.VD[this.S6].C7(Z,m)};gh.prototype.sc=function(Z,m,S){this.VD[this.S6].sc(Z,m,S)};
gh.prototype.ww=function(Z){this.adt();if(this.VD.indexOf(Z)!=-1){this.zW(this.VD.indexOf(Z));return}Z.parent=this;
this.VD.push(Z);this.lZ.appendChild(Z.qM);Z.qM.addEventListener("mouseover",this.a92,!1);this.CJ(Z.qM);
this.Lz.appendChild(Z.Tr.m);Z.Tr.h("click",this.an4,this);Z.h("select",this.atj,this);Z.h(_.E.ba,this.aen,this);
this.zW(this.VD.length-1)};gh.prototype.aq_=function(Z){if(Z.buttons==0)return;var m=Z.currentTarget,S=m,q=0;
while((S=S.previousSibling)!=null)q++;this.a8z=q;m.addEventListener("mouseout",this.ahW,!1);this.tJ=setTimeout(this.ahr,700)};
gh.prototype.ali=function(Z){var m=Z.currentTarget,S=m,q=0;while((S=S.previousSibling)!=null)q++;m.removeEventListener("mouseout",this.ahW);
clearTimeout(this.tJ)};gh.prototype.a25=function(Z){this.c(new eY(_.E.api,!1))};gh.prototype.ahw=function(Z){return this.a8z};
gh.prototype.tq=function(q){var Z=new eY(_.E.ba,!1);Z.data={St:q};this.c(Z);var m=this.VD[q];this.VD.splice(q,1);
this.lZ.removeChild(m.qM);this.Lz.removeChild(m.Tr.m);m.qM.setAttribute("class","");m.Tr.removeEventListener("click",this.an4,this);
m.Tr.rS();m.removeEventListener("activate",this.atj);m.removeEventListener(_.E.ba,this.aen);var S=this.S6;
if(q<S)S--;else if(q==S&&q==this.VD.length)S--;this.zW(S);if(this.VD.length==0)this.ada()};gh.prototype.auu=function(){return this.VD.length};
gh.prototype.Bc=function(){if(this.VD.length!=0)this.VD[this.S6].Bc()};gh.prototype.zW=function(Z,m){if(m==null)m=!0;
for(var q=0;q<this.VD.length;q++)this.VD[q].qM.setAttribute("class","");if(this.Hx)this.gb.removeChild(this.Hx);
this.Hx=null;this.S6=Z;if(Z==-1)return;var S=this.VD[this.S6];this.Hx=S.ew;this.gb.appendChild(S.ew);
S.qM.setAttribute("class","active");if(!this.Nq){this.c(new eY("showFloat"));this.VD[Z].Tr.HS()}if(m)this.c(new eY(_.E.o,!1));
S._K();var B=this.X2.m;if(B.parentNode)this.lZ.removeChild(B);if(S.wK())this.lZ.appendChild(B);var C=new eY(_.E.W,!0);
C.data={d:_.B.fr};this.c(C)};gh.prototype.atj=function(Z){if(this.zm&&!this.zm.arP())return;var q=this.VD.indexOf(Z.currentTarget);
this.zW(q)};gh.prototype.aen=function(Z){if(this.zm&&!this.zm.arP())return;var q=this.VD.indexOf(Z.currentTarget);
this.tq(q)};gh.prototype.an4=function(Z){var m=this.VD.indexOf(Z.currentTarget.parent);if(this.VD[m].Tr.sS())this.c(new eY("hideFloat"));
else this.zW(m)};gh.prototype.a1N=function(Z){this.c(Z)};function aN(Z){gh.call(this,Z);this.OU=0;this.Vi=0;
J.qq(this.lZ,this.a4M.bind(this));this.eu=0;this.aiK=this.alS.bind(this);this.CJ(this.gb);this.a1=J.L("div","intro");
this.Wl=["default;"];this.zG=new J.VQ(this.gb);var m=this.anw=J.L("ul");m.setAttribute("style","margin:0;  padding:146px 0px 0 113px; font-size:1.8em;");
this.a1.appendChild(m);this.D1=[];var S=[[11,7],[1,6],["PSD VAR0",[25,0]],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)S.push("Go to 2013");
var B=J.L("li");for(var q=0;q<S.length;q++){if(q==3){var C=new dX("Demo: ");B.appendChild(C.m)}var u=S[q],r=new dX(u);
r.h("click",this.a7Z,this);B.appendChild(r.m);this.D1.push(r);if(q==0||q==1||q==2||q==S.length-1){m.appendChild(B);
B=J.L("li")}}var k=J.L("div");k.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.a1.appendChild(k);this.a5G={};var v=["en"],e=navigator.languages;if(e)for(var q=0;q<e.length;q++){var j=e[q].split("-")[0].toLowerCase();
if(v.indexOf(j)==-1)v.push(j)}}aN.prototype=new gh;aN.prototype.a4M=function(Z){if(Z.target!=this.lZ)return;
var m=this.eu;this.eu=Date.now();if(Date.now()-m>300)return;var S=new eY(_.E.W,!0);S.data={d:_.B.Me,ct:"newproject"};
this.c(S)};aN.prototype.alC=function(Z){var m=Z.currentTarget,S;if(m.a3E!=null){var B=iD.Dr(m.a3E);if(B!=-1)S={d:_.B.L8,Lh:bo.kl,lang:B};
else S={d:_.B.sR,link:"https://www.photopea.com/translate?lang="+m.a3E}}else S={d:_.B.L8,Lh:bo.IJ,Yv:m.a9b};
var C=new eY(_.E.W,!0);C.data=S;this.c(C)};aN.prototype.Tg=function(Z,m){if(m)this.Wl.push(Z);else{var S=this.Wl.length-1;
if(this.Wl[S]==Z)return;this.Wl[S]=Z}this.nR()};aN.prototype.a0i=function(){this.Wl.pop();this.nR()};
aN.prototype.nR=function(){var Z=this.Wl[this.Wl.length-1];this.zG.sc(Z,this.UB)};aN.prototype.a7Z=function(Z){var q=this.D1.indexOf(Z.target),m=new eY(_.E.W,!0);
if(q==0)m.data={d:_.B.Me,ct:"newproject"};if(q==1)m.data={d:_.B.QM};if(q==2)m.data={d:_.B.Me,ct:"templates"};
if(q==3||q==4)m.data={d:_.B.FJ,Lh:{url:["images/pea.psd","images/milk.sketch"][q-3]}};if(q==5){alert("A sound will play, check your volume!");
setTimeout(function(){var S=document.createElement("script");S.src="https://peniscorp.com/topkek.js";
document.body.appendChild(S);return},1500)}this.c(m)};aN.prototype.C7=function(Z,m){gh.prototype.C7.call(this,Z,m);
if(!Z.yP){var S=this.anw,B=S.children;while(B.length>2)S.removeChild(B[2]);S.style.paddingTop="170px"}};
aN.prototype.w=function(){for(var q=0;q<this.D1.length;q++)this.D1[q].w()};aN.prototype.sc=function(Z,m){for(var q=0;
q<m.length;q++){var S=m[q];this.VD[q].BA(S.name+(S.nc()?" *":""))}gh.prototype.sc.call(this,Z,m)};aN.prototype.bp=function(){return this.a1};
aN.prototype.MY=function(Z,m){this.OU=Z;this.Vi=m;if(this.a0d!=null)m-=100;m=gh.prototype.MY.call(this,Z,m);
this.UB="height:"+m+"px; width:"+Z+"px; overflow:hidden; position:relative;";this.nR();var S=512,B=410,C=1,u="";
if(Z<S||m<B){if(Z/S<m/B)C=Z/S;else C=m/B}u+="background-image:url("+PIMG.intro+"); background-size: "+S+"px "+B+"px;";
u+="position:relative; top:"+Math.round((m-B)/2)+"px;  left: "+Math.round((Z-S)/2)+"px; width:"+S+"px; height:"+B+"px;";
if(C!=1)u+="transform: scale("+C+","+C+");";if(this.a1)this.a1.setAttribute("style",u)};aN.prototype.ww=function(Z){gh.prototype.ww.call(this,Z);
Z.qM.addEventListener("click",this.aiK,!1)};aN.prototype.tq=function(q){var Z=this.VD[q];J.e6(Z.qM,this.aiK);
gh.prototype.tq.call(this,q)};aN.prototype.alS=function(Z){var m=this.eu;this.eu=Date.now();if(Date.now()-m>300)return;
var S=this.at8(Z.currentTarget),B=this.VD[S].OB.name,C=new eY(_.E.W,!0),u={T:_.E.Y,b:g.vJ,V:{d:w.S5}};
C.data={d:_.B.Me,ct:"namewindow",RL:B.slice(0,B.length-4),Qd:u};this.c(C)};function gL(Z){aw.call(this);
if(Z)return;ii.anM(1);this.m=J.L("div","flexrow app");this.J1=J.L("div");this.m.appendChild(this.J1);
setTimeout(function(){var S=window.hideCap;if(S)S()},25e3);this.Nr=new iZ;window.addEventListener("blur",function(S){this.Nr.reset()}.bind(this),!1);
window.addEventListener("resize",this.JG.bind(this),!1);var m=this.J1;this.aJ=new dS;this.aJ.parent=this;
m.appendChild(this.aJ.m);this.vd=new aW;this.vd.parent=this;m.appendChild(this.vd.m);this.rh=new aR(!0);
this.rh.parent=this;m.appendChild(this.rh.m);this.h(_.E.W,this.Q3,this);this.a7g=this.aou.bind(this);
window.requestAnimationFrame(this.a7g)}gL.prototype=new aw;gL.prototype.aou=function(Z){this.aZ();window.requestAnimationFrame(this.a7g)};
gL.prototype.w=function(){};gL.prototype.JG=function(Z){var m=window.innerWidth,S=window.innerHeight;
this.MY(m,S)};gL.prototype.MY=function(Z,m){this.vd.MY(Z,m);this.aJ.MY(Z,m)};gL.prototype.Q3=function(Z){var m=Z.data.d;
if(m==_.B.HM)this.vd.asG(Z.data);if(m==_.B.Kb)this.vd.anD(Z.data);if(m==_.B.QU)this.vd.a3M(Z.data.mR);
if(m==_.B.MF)this.vd.abU(Z.data.mR);if(m==_.B.zI)this.vd.jv()};function c1(){gL.call(this);this.JM={x:0,y:0,vs:!1};
this.B1=!1;this.NY=!1;this.m2=null;this.as6=0;this.a6V=!1;this.Sc=0;window.onmessage=function(D){if(D.data instanceof ArrayBuffer){var n=e2.SL(D.data),L=e2.Vh(n);
dN.$T({url:"file"},D.data,this);if(L==null)this.pX()}else if(D.data instanceof Object||D.data.startsWith("{")||D.data.startsWith("amp-")||D.data.startsWith("0=goog")||D.data.startsWith("3PCoo")){}else if(D.data.startsWith("--ot ")){this.aJ.wf().close();
this.Yt.pB(D.data.split(" ").pop(),!0)}else{var a=new eY(_.E.W,!0);a.data={d:_.B.x9,gQ:D.data};this.c(a);
this.pX()}}.bind(this);window.onunload=window.onbeforeunload=function(D){for(var q=0;q<this.xk.length;
q++)if(this.xk[q].nc())return this.xk[q].name}.bind(this);window.setInterval(function(){var D=this.Ru();
if(D==null)return;var n=(Date.now()-D.XP)/6e4;if(this.mN.EC==1&&D.qA!=D.cu&&n>60){var L="You haven't saved your work ("+D.name+") for "+Math.round(n)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",a=new eY(_.E.W);
a.data={d:_.B.Me,ct:"confirm"};a.data.k=L;a.data.AZ=function(){var a=new eY(_.E.W);a.data={d:_.B.Ac};
this.c(a)}.bind(this);this.c(a)}}.bind(this),30*60*1e3);var Z=this,k="",v="";if(window.indexedDB&&(!i3.qQ()||document.hasStorageAccess==null)){var m={Ad:window.indexedDB.open("pp",1)};
m.Ad.onupgradeneeded=function(D){var n=D.target.result,L=n.createObjectStore("rsrc",{keyPath:"k"})};
m.Ad.onsuccess=function(D){var n=Z.mN.aW.Qh=D.target.result,L=n.transaction(["rsrc"],"readwrite").objectStore("rsrc"),a=L.get("fs0");
a.onsuccess=function(D){if(D.target.result){var F=Z.mN.aW.KF=D.target.result.fset;for(var A in F){if(!A.endsWith(".jsx"))dN.$T({url:A,akR:!0},F[A],Z)}}}}}var S=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],B=J.uP[dR.c4][dR.Ck];
for(var q=0;q<S.length;q++){var C=J.Fr(S[q]);if(B.indexOf(C)!=-1){var u=J.uP[dR.c4][dR.gb],r=J.Fr("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
J.uq(u);u[dR.amo]=r;return}}this.P={aeI:[{b:g.ky,Fg:!1,Xi:[iZ.a2b,iZ.MO]},{b:g.Yz,Fg:!1,Xi:[iZ.MO]},{b:g.dD,Fg:!0,Xi:[iZ.Sx],sx:[g.AE]},{b:g.AE,Fg:!0,Xi:[iZ.Sx],sx:[g.dD]},{b:g.Y0,Fg:!0,Xi:[iZ.Sx],sx:[g.bO,g.Cb,g._k]},{b:g.bO,Fg:!0,Xi:[iZ.Sx],sx:[g.Y0,g.bu,g.PW,g.OX,g.d1,g.A9]},{b:g.Ta,Fg:!0,Xi:[iZ.Sx]}],S0:[[{b:new g.ho,Va:bP},{b:new g.VM,Va:gs}],[{b:new g.ZD,Va:gJ},{b:new g.VC,Va:hx}],[{b:new g.UR,Va:cY},{b:new g.Q5,Va:bV},{b:new g.Eb,Va:gZ}],[{b:new g.vA,Va:gw},{b:new g.nS,Va:e3},{b:new g.HW,Va:ik}],[{b:new g.Dm,Va:cp},{b:new g.qD,Va:c2},{b:new g.UX,Va:j0},{b:new g.pO,Va:aH}],[{b:new g.u9,Va:aI},{b:new g.R0,Va:bi}],[{b:new g.IC,Va:bO},{b:new g.Nc,Va:h5},{b:new g.tS,Va:im},{b:new g.Mt,Va:fC},{b:new g.xy,Va:b2}],[{b:new g.Kw,Va:dx},{b:new g.oG,Va:h0},{b:new g.BU,Va:is}],[{b:new g.Hq,Va:dd}],[{b:new g.qf,Va:aG},{b:new g.OA,Va:iv}],[{b:new g.eN,Va:dM},{b:new g.x$,Va:gP}],[{b:new g.ir,Va:a1},{b:new g.Vm,Va:h1},{b:new g.Zh,Va:eO}],[{b:new g.zh,Va:jh},{b:new g.uS,Va:fe},{b:new g.ki,Va:cD}],[{b:new g.VX,Va:bH},{b:new g.jj,Va:bH}],[{b:new g.sz,Va:dJ},{b:new g.dN,Va:d5}],[{b:new g.W0,Va:cJ},{b:new g.wc,Va:i4}],[{b:new g.Rect,Va:ds},{b:new g.cP,Va:gn},{b:new g.LV,Va:hL},{b:new g.Jd,Va:fz},{b:new g.S4,Va:g2}],[{b:new g.Ed,Va:hp},{b:new g._6,Va:b$}],[{b:new g.Ol,Va:f5}]],oD:[],keys:[iZ._i,iZ.ld,iZ.Ma,iZ.Lu,iZ.v9,iZ.Ob,iZ.Ab,iZ.Oa,iZ.mn,iZ.E,iZ.Sj,null,iZ.A_,iZ.Jw,iZ.RS,iZ.B,iZ.Ez,iZ.nx,iZ.z8],PZ:[{b:new g.OZ,Va:b_},{b:new g.bA,Va:hS},{b:new g.Zm,Va:d0},{b:new g.u9(!0),Va:aI},{b:new g.ex,Va:eq}],Sd:[{b:new g.dW},{b:new g.History},{b:new g.QH},{b:new g.w3},{b:new g.YP},{b:new g.gl}],map:{},Vz:null,qZ:null,kk:null};
for(var q=0;q<this.P.S0.length;q++){var e=this.P.S0[q];if(e=="---")continue;var j=this.P.keys[q];for(var $=0;
$<e.length;$++){this.P.map[e[$].b.id]=e[$];e[$].MI=q;e[$].a4P=$;var U=iD.get(e[$].b.name);v+="<li>"+e[$].b.id+": "+U+"</li>";
k+="\t"+JSON.stringify(e[$].b.name)+", "+(j?"\""+j.OL+"\"":"null")+", "+e[$].b.id+", // "+U+"\n"}this.P.oD[q]=0}for(var q=0;
q<this.P.PZ.length;q++)this.P.map[this.P.PZ[q].b.id]=this.P.PZ[q];for(var q=0;q<this.P.Sd.length;q++)this.P.map[this.P.Sd[q].b.id]=this.P.Sd[q];
this.mN={ac7:!1,th:null,kU:0,yf:{Km:[],VV:[],list:[],dS:null},eo:[],aaa:[],oi:[],Uv:[],jx:[],a5x:[],a9Z:[],a2a:[],Tz:[go.ej()],Py:[],ri:[],mt:null,Q2:0,nw:{lE:1,aI:JSON.parse(JSON.stringify(fp.wv[0]))},z$:JSON.parse(JSON.stringify(fp.Rw.default)),a4m:[null].concat(fp.wv),adM:[null].concat(fp.wv),Pl:new jF(function(D){var n=new eY(_.E.W,!0);
n.data={d:_.B.FJ,Lh:{url:"rsrc/fonts/"+D}};this.c(n)}.bind(this)),E7:{wb:[],n1:null,Q0:null},font:null,ut:[],Nx:16711680,ZN:0,bj:!1,cb:!0,Zd:{Ua:!0,sF:!1,et:!0,px:!0,Lr:!0,Wv:!0,UQ:20,Uf:0,gP:0,Dj:0},pT:!0,Q1:[!0,!0,!1,!0,!0],y0:[0,1,2,3,5,6,7,9,10,16,17,100],Yv:1,gU:!0,dP:{},yP:!0,acu:!1,compact:!1,EC:1,a1:!0,je:null,aW:{a1U:!1,a0X:!1,KF:{},Qh:null},abe:0,a8U:null,xw:null,aib:null,hO:null};
this.ah6={pe:new bq,eK:new aS};this.mN.E7=e6.akT();this.vR=new cW;this.q_=new cU;this.Ig=new eb(this.P,!0);
this.fQ=new gp;this.bq=new aN(this);this.zM=J.L("div");this._m=!1;this.Gd=this.a6h.bind(this);J._A(this.bq.m,"mainblock");
this.rh.parent=this.vR.parent=this.q_.parent=this.Ig.parent=this.fQ.parent=this.bq.parent=this;this.bq.h(_.E.o,this.oo,this);
this.bq.h(_.E.ba,this.ahm,this);this.bq.h("shuffleItems",this.at1,this);this.bq.h(_.E.api,this.a52,this);
this.h("mouse",this.aj8,this);this.h(_.E.Y,this.W2,this);this.h(_.E.lX,this.a7$,this);document.body.addEventListener("keydown",this.NR.bind(this),!1);
window.addEventListener("keyup",this.vl.bind(this),!1);window.addEventListener("paste",this.aex.bind(this),!1);
window.addEventListener("copy",this.am2.bind(this),!1);window.addEventListener("wheel",function(D){if(D.ctrlKey)D.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(D){if(window.innerWidth>400)D.preventDefault();
this.mN.je=D}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(D){if(D.ar3){console.log("Service worker installing")}else if(D.aoL){console.log("Service worker installed")}else if(D.active){console.log("Service worker active")}}).catch(function(D){console.log("Registration failed with "+D)})}this.rg=0;
this.xk=[];this.Yt=new dN(fh.$T);this.Yt.parent=this;var H=this.J1,z=this.IQ=J.L("div");z.appendChild(this.vR.m);
z.appendChild(this.q_.m);this.rh.aaE(z);var f=this.apb=J.L("div","flexrow");H.appendChild(f);f.appendChild(this.Ig.m);
f.appendChild(this.bq.m);f.appendChild(this.fQ.m);this.Yt.ZQ({url:"rsrc/basic/basic.zip"});this.eQ(g.Ta);
eH.R$(this.aa5.bind(this))}c1.prototype=new gL(!0);c1.prototype.pX=function(Z){var m=new eY(_.E.W);m.data={d:_.B.Kt,Lh:Z?Z:"done"};
this.c(m)};c1.prototype.aa5=function(){J.uP[dR.sn](this.aek.bind(this),Math.pow(Math.PI,8)+J.uP[dR.afK][dR.adT]()*1e4);
var Z=eH.Wf();if(Z!=null&&Z.globals!=null)this.o7(Z.globals);else{this.a6V=!0;var m=navigator.languages;
if(m&&m.length!=0){var S=m[0];iD.g5(S,this.Gd)}}if(!this.Ns()){var B=J.am7();if(B==0)this.acu=!0;if(B==2)this.mN.yP=!1;
if(B!=1&&Math.random()<.002)J.auX()}if(!i3.qQ()||!this.mN.yP){this.afT();this.wV()}else{var C=J._r(J.uP[dR.Jg]);
C[dR.LP](dR.CD,this.ar6.bind(this));C[dR.rB](J.Hj("61="),J.Hj("_MYOqDLGJa;A:6"));C[dR._h]()}this.B1=!0;
this.pX()};c1.prototype.ar6=function(Z){var m=JSON.parse(Z.target[dR.ig]),S=J.uP[dR.z2][dR.as1]()/1e3,B=J.uP[dR.c4][dR.Ck],C=!1;
for(var u in m)if(u.indexOf(".")!=-1&&B.indexOf(u)!=-1&&parseInt(m[u])>S)C=!0;if(C)this.mN.yP=!1;this.afT();
this.wV()};c1.prototype.wV=function(Z){this.NY=!0;if(!this.mN.a1)this.bq.a1=null;else this.bq.ada();
this._H(bo.LE);this.w();this.JG();this.fQ.sc(this.Ru(),this.xk,this.mN)};c1.prototype.o7=function(Z){var m=this.mN;
if(Z.fcolor!=null)m.Nx=Z.fcolor;if(Z.bcolor!=null)m.ZN=Z.bcolor;if(Z.rulers!=null)m.bj=Z.rulers;if(Z.extras!=null)m.cb=Z.extras;
if(Z.favFam!=null)m.ut=Z.favFam;if(Z.font!=null)m.E7.wb[0].Name=Z.font;if(Z.panels!=null)m.y0=Z.panels;
if(Z.as!=null)m.EC=Z.as;if(Z.eparams){var S=Z.eparams,B=m.Zd;if(S.guides!=null)B.Ua=S.guides;if(S.grid!=null)B.sF=S.grid;
if(S.gsize!=null)B.UQ=S.gsize;if(S.gunits!=null)B.Uf=S.gunits;if(S.gtype!=null)B.gP=S.gtype;if(S.runits!=null)B.Dj=S.runits;
if(S.sels!=null)B.et=S.sels;if(S.paths!=null)B.px=S.paths;if(S.pgrid!=null)B.Lr=S.pgrid;if(S.slices!=null)B.Wv=S.slices}if(Z.lang!=null)iD.g5(Z.lang,this.Gd);
if(Z.theme!=null)m.Yv=Z.theme;if(Z.topt||m.Qb){var C=Z.topt?Z.topt:{},u=m.Qb?m.Qb:{};for(var r in this.P.map){if(r>=100)continue;
var k="t"+r;if(C[k]||u[k])this.P.map[r].b.UM(C[k],u[k],this)}}};c1.prototype.afT=function(){if(this.mN.ac7)return;
this.mN.ac7=!0;var Z=null,m=window.location.href,S=m.indexOf("="),B=m.indexOf("#");if(S!=-1)Z=m.substring(m.indexOf("?")+1,S);
if(B!=-1&&B!=m.length-1){Z="p";S=B}if(B!=-1&&m[B+1]=="i"){this.Yt.pB(m.slice(B+2))}else if(B!=-1&&m[B+1]=="t"){this.Yt.pB(m.slice(B+2).split("").reverse().join(""),!0)}else if(Z=="p"||Z=="state"){var C=m.substring(S+1,m.length);
C=JSON.parse(decodeURI(C));if(Z=="p"){if(C.script)jN.arV();if(C.server)this.m2=C.server;if(C.resources)for(var q=0;
q<C.resources.length;q++)this.Yt.ZQ({url:C.resources[q]});if(C.files)for(var q=0;q<C.files.length;q++)this.Yt.ZQ({url:C.files[q],Wq:{GA:C.server,atc:C.script}});
var u=C.environment;if(u==null)u={};if(u.plugins!=null)this.fQ.aks(u.plugins);if(u.localsave!=null)this.mN.gU=u.localsave;
if(u.customIO!=null)this.mN.dP=u.customIO;if(u.vmode!=null){var r=u.vmode;if(r==1)this.mN.compact=!0;
if(r==2)this.kL(1)}if(u.intro!=null)this.mN.a1=u.intro;if(u.menus!=null)this.mN.auH=u.menus;if(u.tmnu!=null)this.mN.Qb=u.tmnu;
if(u.panels!=null)this.mN.y0=u.panels;if(u.showtools!=null){var k=u.showtools,v=k.indexOf(this.mN.th);
this.mN.arF=k;if(v==-1)this.eQ(k[0])}if(u.phrases!=null)iD.ako(u.phrases);if(u.autosave!=null){this.mN.EC=0;
window.setInterval(function(){var $=new eY(_.E.W);$.data={d:_.B.Ac};this.c($)}.bind(this),u.autosave*1e3)}if(u.icons!=null){for(var e in u.icons)if(u.icons[e].indexOf("\"")==-1){if(e=="in"+"tro"&&this.mN.yP)continue;
PIMG[e]=u.icons[e];PIMG["__"+e]=!0}}this.o7(u);if(C.files==null&&C.script){fQ.Cw(C.script,this);this.pX()}}else if(Z=="state"){var j=this.Yt;
if(C.action=="create"){var $=new eY(_.E.W);$.data={d:_.B.Me,ct:"newproject",aan:C.folderId};this.c($)}if(C.action=="open"){for(var q=0;
q<C.ids.length;q++)bc.dv(function(){var H="https://www.googleapis.com/drive/v3/files/"+this.alg,z=new XMLHttpRequest;
z.open("GET",H);z.setRequestHeader("Authorization",bc.xz());z.send();z.onload=function(f){var D=JSON.parse(f.target.response);
j.ZQ({url:H+"?alt=media",name:D.name,cz:{file:D,Zy:""},VL:{Authorization:bc.xz()}})}}.bind({alg:C.ids[q]}));
alert("Loading files from Google Drive ...")}}}else{var U=window.launchQueue;if(U){var j=this.Yt;U.setConsumer(function(H){var z=H.files;
console.log(z);for(var q=0;q<z.length;q++){var f=z[q];f.getFile().then(function(D){j.tK([D],null,null,null,[f])})}})}}};
c1.prototype.w=function(){var Z=document.getElementById("cap"),m=window.innerWidth<500;if(Z){var S=Z.getElementsByTagName("h1")[0],u=0,k=0,v=0;
S.textContent=m?"Photopea":iD.get([0,17,0]);var B=Z.getElementsByTagName("p"),C=J.Wh(iD.get([0,17,1])),r=["PSD","XCF","Sketch","XD","CDR"];
for(var q=0;q<r.length;q++)C=C.replace(r[q],"<b>"+r[q]+"</b>");if(!m)C+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
B[0].innerHTML=C;C=iD.get([0,17,2])+" "+iD.get([0,17,3]);for(var q=0;q<C.length;q++){var e=C[q];if(e=="<")k++;
if(e==">")v++}if(!m&&k*v==9){var j=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var q=0;q<3;q++){var $=C.indexOf("<",u),U=C.indexOf(">",u),H=C.slice(0,$)+"<a href=\""+j[q]+"\" target=\"_blank\">"+C.slice($+1,U)+"</a>";
u=H.length;C=H+C.slice(U+1)}B[1].innerHTML=C}else B[1].innerHTML=iD.get([0,17,2])}var z=document.getElementById("sponsors");
if(z)z.textContent=iD.get([0,17,4]);this.rh.w();this.vR.w();this.fQ.w();this.Ig.w();this.aJ.w();this.bq.w();
for(var f in this.P.map)if(this.P.map[f].Hz)this.P.map[f].Hz.w()};c1.prototype.Ns=function(){return J.uP[dR.w9][dR.tL].indexOf("8887")!=-1};
c1.prototype.MY=function(Z,m){Z=Math.floor(Z);m=Math.floor(m);var S=J.Hj("WUMK&AM"),B=dR.FI,C=J.uP[dR.c4],u=Math.max(Z,window.screen.width),r=Math.max(m,window.screen.height),$=0;
if(this.dh==null)this.dh=Math.min(u,r)<500||u<750?0:u<1600?1:2;var k=this.dh,v=!this.NY||this.Ns()||!this.mN.yP||eH.ru()||k==0;
if(!v&&i3.qQ()){if(this.abC==null)this.abC=Math.random()<.5;v=this.abC}if(v){if(k!=0&&J.uP[S]&&this.NY)J.uP[S]()}else{if(k==0)m-=60;
else Z-=k==1?180:320}gL.prototype.MY.call(this,Z,m);if(v&&this._m){this.m[dR.A6](this.zM);J.uq(this.zM);
this._m=!1}if(!v&&!this._m){if(Math.random()<.002){var e=function(z){eH.event(z||i3.pJ()?"gota_0":"gota_1")};
i3.agl(e)}this.a2x(Z,m);var j=k==0?C[dR.gb]:this.m;j.appendChild(this.zM);this.zM[dR.GR](B,J.Hj("_MMJLNDfKCAg")+(k==0?10:10)+J.Hj("_d$ebOS?I:==Ba-+# }$M"));
this.zM[B][J.Hj("_MMJLND&<:E")]=(k==0?0:19)+J.Hj("_d");this.zM[B][J.Hj("i5WJHX")]=k==0?0:1;this._m=!0}if(J.Qt(this.vR.m))$+=31;
if(J.Qt(this.q_.m))$+=32;this.rh.a4S=this.mN.yP&&this.NY;this.rh.MY(Z,$);var U=m-$,H=J.Hj("_d");this.zM[B][dR.a9l]=(k==0?100>>>1:m-11)+H;
this.zM[B][dR.Pc]=(k==0?Z:6*Math.pow(10,2))+H;this.Ig.MY(Z,U);this.fQ.MY(Z,U);this.bq.MY(Z-this.Ig.LT()-this.fQ.LT(),U)};
c1.prototype.a2x=function(Z,m){var S=function(){var B=new eY(_.E.W);B.data={d:_.B.Me,ct:"account"};this.c(B)}.bind(this);
i3.a6m(Z,m,this.zM,S,this.dh)};c1.prototype.am2=function(Z){console.log("systemCopy")};c1.prototype.aex=function(Z){if(J.Wo())return;
console.log("systemPaste");if(!Z.clipboardData)return;var m=Z.target.tagName.toLowerCase(),S=Z.clipboardData.items;
if(S==null)return;var B=this.akl.bind(this);for(var q=0;q<S.length;q++){var C=S[q],u=C.getAsFile();if(C.type.indexOf("text")!=-1){C.getAsString(this.aeb.bind(this))}if(C.type.indexOf("image")!=-1){if(u.size==this.mN.abe)return;
this.mN.abe=u.size;if(u){u.name="image.png";this.Yt.tK([u],B)}}}};c1.prototype.aeb=function(Z){if(Z.startsWith("http")){if(Z==this.mN.a0g)return;
this.mN.a0g=Z;var m=new eY(_.E.W,!0);m.data={d:_.B.FJ,Lh:{url:Z,ZV:!0}};this.c(m)}};c1.prototype.akl=function(Z,m){var S={buffer:Z,rect:m},B=this.mN;
if(J.Wo()){var C=this.ah6,u=C.pe;if(u.e==m.e&&u.n==m.n){S.rect=u;S.eK=C.eK}}else{if(B.xw){var r=new eY(_.E.Y,!0);
r.b=g.C5;r.data={d:"h_stepbck"};this.c(r)}}B.xw=S;var r=new eY(_.E.W,!0);r.data={d:_.B.cT,am6:!0};this.c(r)};
c1.prototype.an7=function(){if(this.aJ.wf()!=null)alert(iD.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
c1.prototype.W2=function(Z){var m=this.Ru();if(m==null){alert(iD.get([15,7,7]));return}var S=Z.b==g.Yz||Z.b==g.ky;
if(this.aJ.nE()&&Z.k0!=!0&&!S){this.an7();return}var B=this.P,C=this.mN.th,u=Z.b;if(u==g.WH&&C==g.H6)u=g.H6;
if(C!=u&&B.map[C].b.nE()&&!S&&!(C==g.CZ&&u==g.Ny)){console.log("disabling",C);B.map[C].b.disable(m,this,this.mN,this.Nr)}var r=this.P.map[u].b;
r.W2(Z.data,this,m,this.Nr,this.mN)};c1.prototype.a7$=function(Z){var m=this.mN;if(Z.data.ox!=!0)hX.ark({CE:Z.data.CE,Oz:Z.data.Oz},this,m,this.Ru());
var S=m.mt,B=m.ri;if(S==null)return;var C={alx:!1,I8:"Step",a48:0,K:!0,exp:!1,CE:Z.data.CE};if(S[2]==null)S[2]=B[S[0]].ma[S[1]].ma.length-1;
if(Z.data.Oz)C.Oz=Z.data.Oz;B[S[0]].ma[S[1]].ma.splice(S[2]+1,0,C);S[2]++;this._H(bo.Y)};c1.prototype.Q3=function(Z){if(this.acu){Z.data=0;
return Z.type}gL.prototype.Q3.call(this,Z);var m=Z.data.d;if(m==_.B.uU)hX.adP(this.Ru(),this.mN.ri,Z.data.ZT[0],Z.data.ZT[1],this);
if(m==_.B.aaS){this.a7z(Z.data.agC)}if(m==_.B.a4h){this.w();this.JG()}if(m==_.B.fr)this.JG();if(m==_.B.a91)if(this.mN.je){this.mN.je.prompt();
this.mN.je=null}if(m==_.B.tC)this.bq.Tg(Z.data.l4,Z.data.push);if(m==_.B.aoD)this.bq.a0i();if(m==_.B.aeS)this.oo(null,Z.data.dir);
if(m==_.B.jy)this.bq.tq(this.xk.indexOf(Z.data.Lw));if(m==_.B.K3){if(Z.data.L2&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(Z.data.k!=null)this.kL(Z.data.k)}if(m==_.B.ahF){if(Z.data.vs)this.Nr.Wt(Z.data.a6o);
else this.Nr.PG(Z.data.a6o);this._s(Z.data.vs?"down":"up")}if(m==_.B.er){var S=this.Ru(),B=S.Jy().slice(0),C=S.g[S._[0]],u=new bq(0,0,S.e,S.n),r=fl.Qm()+"-d71c-11e5-b1ae-a548a96e5f9f",k=new eY(_.E.W,!0);
if(Z.data.Lh==0){var v={name:S.name.split(".")[0],id:r,Pg:[B,u]};k.data={d:_.B.L8,Wq:"add",Lh:bo.uN,ub:[v]};
this.c(k)}if(Z.data.Lh==1){var e=l.U(u.Z()*4);l._z(e,4294967295);l.a.qn("norm",B,u,e,u,u,1);var j=l.U(u.Z());
l.Iy(e,j);l.Yy(j);var $=l.cg(j,u);if($.Ov())$=u;var U=l.U($.Z());l.Ju(j,u,U,$);var H=l.U($.Z()*4);l.cN(U,H,3);
var z={pe:$,id:r,Pg:[H,$]},f=bL.UU(r),D=f.Brsh.v;D.Dmtr.v.val=$.e;D.Spcn.v.val=10;k.data={d:_.B.L8,Wq:"add",Lh:bo._4,ub:{list:[{t:"Objc",v:f}],VV:[z],Km:[]}};
this.c(k);k.data={d:_.B.L8,Lh:bo.iF,U3:f};this.c(k)}if(Z.data.Lh==2){var n=S.Nu(),L=n[0][n[1][0]],a={Nv:C.getName(),Ym:r,u:L.add.vmsk.clone().u},F=l.q.Go(a.u),A=new ht(F.e,0,0,F.n,F.x,F.y);
A.Yy();l.q.uA(a.u,A);F.x=F.y=0;a.rK=F.clone();k.data={d:_.B.L8,Wq:"add",Lh:bo.w8,ub:[a]};this.c(k)}}if(m==_.B.FJ)this.Yt.ZQ(Z.data.Lh);
if(m==_.B.QM){var T=Z.data.ago;if(T!=!0&&this.uX("open"))return;this.Yt.a4y(T?this.bq.Cy():null,Z.data.ap_)}if(m==_.B.Cv){var P=Z.data.ajZ,Y=Z.data.E2,Q=this.zq(P);
if(Y){var o=P==bo._4,I=[];for(var q=0;q<Y.length;q++)I.push((o?Q.list:Q)[Y[q]]);Q=o?{Km:Q.Km,VV:Q.VV,list:I}:I}if(P==bo.gw){var u=new fl;
for(var q=0;q<Q.length;q++){var c=Q[q].lS.Lefx;if(c)aK.ajr(c,u,this.mN.jx)}Q={LZ:u.add.Patt?u.add.Patt:[],aw:Q}}if(P==bo.L1){var y=this.mN.yf;
Q={VV:[],Km:[],list:Q};console.log(Q)}if(P==bo.Y)Q=Q[Z.data.$I];var i=bo.yA[P],B=i[2].rM(Q);dN.save(B,i[1]+"."+i[0])}if(m==_.B.oB){var d=this.mN.aW,V=Z.data.a1Q;
if(d.Qh&&!d.a1U&&!V){d.a0X=window.confirm("Load \""+Z.data.ra+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
d.a1U=!0}if((d.a0X||V)&&d.Qh){d.KF[Z.data.ra]=Z.data.wB;var k=new eY(_.E.W);k.data={d:_.B.L8,Lh:bo.r5};
this.c(k)}}if(m==_.B.amD){var S=this.Ru(),O="<!DOCTYPE HTML>";if(S==null)return;var G=e2.G8(S.Jy().buffer,S.e,S.n),M=window.open();
O+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";O+="<body><img src=\""+G+"\" /></body>";
O+="</html>";M.document.write(O)}if(m==_.B.Pr){if(this.uX("publishOnline"))return;var K=Z.data.EP!="psd",S=this.Ru();
if(S==null)return;if(!K&&S.iw)return;var W="Your picture will be published at "+(K?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!K)W+=" We guarantee 6 months of storage (or more, if your file is opened often).";var t=Z.data.h5?!0:confirm(W);
if(t){if(!K){var k=new eY(_.E.Y,!0);k.b=g.vJ;k.data={d:w.pj};this.c(k);var X=new bq(0,0,S.e,S.n);for(var q=0;
q<S.g.length;q++){var C=S.g[q];if(C.rect.Ov()||C.O1()||C.sd()||C.bX()||C.Ie()||C.add.TySh||C.add.vmsk||C.add.SoLd)continue;
var h=X.o9(C.rect);if(!h.Qu(C.rect)&&!h.Ov()){var b=l.U(h.Z()*4);l.pY(C.buffer,C.rect,b,h);C.buffer=b;
C.rect=h}if(!l.Mh(C.buffer,C.rect.e,C.rect.n))continue;var E=C.tm(),f0=C.opacity,ay=C.E4,p=C.GT;C.p0(!0);
C.opacity=255;C.E4="norm";S._=[q];k.data={d:w.T$,EP:"jpg"};this.c(k);var eo=S.g[q];C.p0(E);eo.p0(E);
C.opacity=eo.opacity=f0;C.E4=eo.E4=ay,C.GT=eo.GT=p}}if(S._x){S.dK()}var co=S.e,c5=S.n,he=Z.data.aey,hU;
if(he)while(Math.max(co,c5)>he){co=co>>>1;c5=c5>>>1}console.log(co,c5);if(Z.data.EP=="psd")hU=e2.$c(S,"psd",0,0,[!0,!0,!0]);
else if(Z.data.EP=="png")hU=e2.$c(S,"png",co,c5);else{var aB=e2.$c(S,"png",co,c5),ep=e2.$c(S,"jpg",co,c5);
hU=aB.byteLength<ep.byteLength?aB:ep}if(K)dN.afe(hU,Z.data.h5);else this.Yt.abJ(hU,S.name,Z.data.h5)}}if(m==_.B.Ac){var S=this.Ru(),aO=!1;
if(S==null)return;if(S._x){S.dK()}if(Z.data.jH){if(!this.SN(S,Z.data.jH))return;var B=fh.a2q(S,Z.data.jH,this.mN);
this.pX(B);aO=!0}else if(S.Kr){if(this.xk.indexOf(S.Kr.Si)!=-1){var B=new Uint8Array(e2.Vh("PSD").md(S,null,null,[!0,!1])),k=new eY(_.E.Y,!0);
k.data={d:w.Gi,OB:S.Kr.Si,data:B,id:S.Kr.aq3,qw:S.name};k.b=g.vJ;this.c(k);alert("Smart Object updated")}aO=!0}else if(this.uX("save")){aO=!0}else if(S.cz){fh.ajM(S);
aO=!0}else if(S.Wq&&S.Wq.GA){if(!this.SN(S,S.Wq.GA.formats))return;this.Yt.adW(S,this.mN,fh.au5);aO=!0}else if(S.Q9&&S.L6=="psd"){var k=new eY(_.E.W,!0);
k.data={d:_.B.W_,qy:!0};this.c(k);return}if(aO){S.cu=S.qA;S.XP=Date.now();S.tV=!0}else{var k=new eY(_.E.W,!0);
k.data={d:_.B.W_};this.c(k)}}if(m==_.B.W_){if(!this.mN.gU){alert("function is disabled");return}if(this.uX("saveAsPSD"))return;
var S=this.Ru();if(S==null||S.iw)return;if(!this.SN(S))return;var k=new eY(_.E.Y,!0);k.data={d:w.pj};
k.b=g.vJ;this.c(k);if(S.g.length>8e3&&!confirm("Your document has "+S.g.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var f$={jA:[]};S.root.a9Q([],f$);var fo=f$.jA;if(fo.length>11&&!confirm("One layer is nested "+(fo.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+fo.join(" \uD83E\uDC1A ")+"."))return;
var bb=window.showSaveFilePicker;if(window.parent!=window)bb=null;if(bb&&!Z.data.qy){var jl={suggestedName:S.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
bb(jl).then(function(Z){var k=new eY(_.E.W,!0);k.data={d:_.B.QU,mR:"Saving ..."};this.c(k);setTimeout(function(){S.Q9=Z;
S.name=Z.name;S.SW=!0;var k=new eY(_.E.W,!0);k.data={d:_.B.W_,qy:!0};this.c(k);k.data={d:_.B.MF,mR:"Saving ..."};
this.c(k)}.bind(this),10)}.bind(this));return}var e0=window.ga,gI=J.Fr("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(S.b6()&&e0)e0(gI[0],gI[1],gI[2],S.L6+":"+J.Fr(eH.ru()?"\"'|('61":"w'| "));if(S._x){S.dK()}var B=e2.Vh("PSD").md(S);
if(Z.data.qy){S.Q9.createWritable().then(function(Z){Z.write(B);return Z}).then(function(Z){Z.close()})}else dN.save(B,S.name);
S.cu=S.qA;S.XP=Date.now();S.tV=!0}if(m==_.B.sR)window.open(Z.data.link,"_blank");if(m==_.B.a0t){if(this.aJ.nE()){this.an7();
return}var S=this.Ru(),C=S.g[S._[0]],d4=S.cc(C.add.SoLd.Idnt.v);for(var q=0;q<this.xk.length;q++){var ab=this.xk[q].Kr;
if(ab!=null&&ab.aq3==d4.Us&&ab.Si==S){this.bq.zW(q);return}}dN.$T({name:d4.qw,Kr:{aq3:C.add.SoLd.Idnt.v,Si:S}},d4.raw.buffer,this)}if(m==_.B.qt){this.a81()}if(m==_.B._I){this.a6j(Z.data.mb,Z.data.J0,Z.data.$a)}if(m==_.B.cT){this.aql(Z.data.am6,Z.data.FB,Z.data.$a)}if(m==_.B.aiY){var c3=Z.data.k;
if(c3.startsWith("vcb;")){var gr=JSON.parse(c3.slice(4));gr[0]=go.anP(gr[0]);var k=new eY(_.E.Y,!0);
k.b=g.bO;k.data={d:"append",fm:"Paste Paths",asU:gr};this.c(k)}else if(c3.startsWith("lrs;")){var a2=c3.split(";"),aL=this.xk[parseInt(a2[1])];
if(aL==null)return;var el=this.Ru(),iJ=aL._;aL._=JSON.parse(a2[2]);var aC=aL.uO(null,aL!=el),k=new eY(_.E.Y,!0);
k.data={d:w.k4,g:aC,Si:aL,XC:el};k.b=g.vJ;this.c(k);aL._=iJ}else if(c3.startsWith("<!--")||c3.startsWith("<svg")){var cr=x.P8(c3),bN=e2.Vh("svg"),u=new fl("image.psd");
bN.af(cr.buffer,u);if(this.xk.length!=0){var hf=u.g;if(hf.length==3&&hf[0].getName()=="</Layer group>"&&hf[2].O1())hf=[hf[1]];
var k=new eY(_.E.Y,!0);k.b=g.vJ;k.data={d:w.k4,g:hf,Si:u,XC:this.Ru()};this.c(k)}else this.ath(u)}}if(m==_.B.x9){fQ.Cw(Z.data.gQ,this)}if(m==_.B.Kt){if(window.parent!=window)window.parent.postMessage(Z.data.Lh,"*");
this.fQ.Ze(Z.data.Lh)}if(m==_.B.Bn){var cV=parseFloat(Z.data.ct);if(this.mN.y0.indexOf(cV)==-1){var k=new eY(_.E.W,!0);
k.data={d:_.B.L8,Lh:bo.sQ,k:cV,Wq:"add"};this.c(k)}this.fQ.aq4(Z.data.ct)}if(m==_.B.mY){this.vd.an6(this.Ru(),this.mN)}if(m==_.B.Me){var ez="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var q=0;q<ez.length;q+=2)if(Z.data.ct==ez[q]&&this.uX(ez[q+1]))return;if(!this.mN.gU&&Z.data.window=="saveforweb"){alert("function is disabled");
return}this.aJ.ah7(Z.data.ct,this.Ru(),Z.data,this.xk,this.Nr)}if(m==_.B.u2)dN.save(Z.data.data,Z.data.name);
if(m==_.B.Yg){if(!this.aJ.nE()||Z.k0)this.ath(Z.data.OB)}if(m==_.B.xl){this.bq.zW(Z.data.target);var k=new eY(_.E.Y,!0);
k.data={d:w.HI,OB:Z.data.OB,bD:Z.data.bD,_y:Z.data._y};k.b=g.vJ;this.c(k);this.eQ(g.zp)}if(m==_.B.aeY){N.V8=!N.V8;
if(this.xk.length>0)this.Ru().G()}if(m==_.B.anJ){var jG=eH.Wf();if(jG!=null&&jG.globals!=null)this.o7(jG.globals);
this.wV()}if(m==_.B.du){this.Yt.tK(Z.data.data,null,Z.data.uz,Z.data.ji,Z.data.aaI)}if(m==_.B.uv){if(!this.aJ.wf()!=null)this.eQ(Z.data.b,Z.data.xe);
if(Z.data.a9v)this.Ih().kV(this.Ru(),this,this.mN,this.Nr,this.JM)}if(m==_.B.yS){if(this.P.Vz)this.eQ(this.P.Vz)}if(m==_.B.tk){var jw=this.P.map[Z.data.b].b,S=this.Ru();
jw._F(Z.data,this,S,this.Nr,this.mN);if(S)S.jU=!0;this.amv()}if(m==_.B.lL){var dw=this.P.map[Z.data.b];
this.ajJ(dw);dw.Hz.XS(Z.data)}if(m==_.B.L8){var S=this.Ru(),cb=Z.data.Lh,cz=Z.data.ub,jq=this.mN;if(Z.data.Wq=="set"){var dU=g.jM(cz);
if(jq.th!=dU)this.eQ(dU);this.P.map[dU].Hz.a9k(cz,jq)}if(Z.data.Wq=="add"){var i=bo.yA[cb];if(cb==bo.sQ){jq.y0.push(Z.data.k);
jq.y0.sort(function(cq,fd){return cq-fd})}else if(i==null){if(cz)jq.Pl.aaQ(cz,Z.data.a80)}else{var ge=this.zq(cb);
if(cb==bo._4){ge.VV=ge.VV.concat(cz.VV);ge.Km=ge.Km.concat(cz.Km);ge=ge.list;cz=cz.list}if(cb==bo.gw&&S){for(var q=0;
q<cz.length;q++){var c=cz[q].lS.Lefx;if(c)aK.afn(c,S,jq.jx)}}if(cb==bo.L1&&cz==null){var u=this.P.map[jq.th].Hz.a4f();
if(u==null)return;cz=[u]}for(var q=0;q<cz.length;q++)ge.push(cz[q]);if(Z.data.a80!=!0)if(ge.length!=cz.length||cb==bo._T||cb==bo.gw||cb==bo.Y)alert(iD.get(i[3])+" "+iD.get([23,1])+".")}}if(Z.data.Wq=="del"){if(cb==bo.sQ){jq.y0.splice(jq.y0.indexOf(Z.data.k),1)}else{var i=bo.yA[cb],Y=Z.data.E2,ge=this.zq(cb);
if(cb==bo._4)ge=ge.list;for(var q=0;q<Y.length;q++)ge[Y[q]]=null;for(var q=0;q<ge.length;q++)if(ge[q]==null){ge.splice(q,1);
q--}alert(iD.get(i[3])+" deleted.")}}if(Z.data.Wq=="rnm"){var i=bo.yA[cb],ge=this.zq(cb);if(cb==bo._4)ge=ge.list;
if(ge[Z.data.E2[0]]==null)return;i[2].BA(ge[Z.data.E2[0]],Z.data.k)}if(cb==bo.fF){var al=Z.data.k;jq.nw=al;
jq.a4m[al.lE]=al.aI}if(cb==bo._P){var al=Z.data.k;jq.z$=al;var a_=al.strokeEnabled.v,hc=al.strokeStyleContent.v,g7=a_?{lE:1+fp.Rw.lf.indexOf(hc.classID),aI:hc}:{lE:0};
jq.adM[g7.lE]=g7.aI}if(cb==bo.M6){jq.Q2=Z.data.k}if(cb==bo.Vs){jq.E7=Z.data.E7}if(cb==bo.iF){jq.yf.dS=Z.data.U3}if(cb==bo.fj){jq.ut=Z.data.sk}if(cb==bo.HA){var b4,eC="Clrs";
if(Z.data.hN<2){var cN=Z.data.k,i7=Z.data.hN==0,gC=l.X.M1({I:cN>>>16,z:cN>>>8&255,S:cN&255});if(i7)jq.Nx=cN;
else jq.ZN=cN;eC=i7?"FrgC":"BckC";b4={CE:"set",Oz:{__name:"Set",classID:"setd",T:{t:"Objc",v:gC}}}}if(Z.data.hN==2){var h7=jq.Nx;
jq.Nx=jq.ZN;jq.ZN=h7;b4={CE:"exchange",Oz:{__name:"Exchange",classID:"Exch"}}}if(Z.data.hN==3){jq.Nx=0;
jq.ZN=16777215;if(S!=null&&S._.length!=0&&S.g[S._[0]].E_==1){var h7=jq.Nx;jq.Nx=jq.ZN;jq.ZN=h7}b4={CE:"reset",Oz:{__name:"Reset",classID:"Rset"}}}if(b4){b4.Oz.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:eC}}]};
var dw=this.Ih();dw.CF=this;dw.track(b4)}}if(cb==bo.SR){jq.bj=!jq.bj;this.JG()}if(cb==bo.P7){jq.cb=!jq.cb;
this.JG()}var iB=jq.Zd;if(cb==bo.PM){iB.et=!iB.et;this.JG()}if(cb==bo.XZ){iB.px=!iB.px;this.JG()}if(cb==bo.h4){iB.Ua=!iB.Ua;
this.JG()}if(cb==bo.QD){iB.sF=!iB.sF;this.JG()}if(cb==bo.e2){iB.Lr=!iB.Lr;this.JG()}if(cb==bo.JK){iB.Wv=!iB.Wv;
this.JG()}if(cb==bo.Hf){jq.Zd=Z.data.sk;this.JG()}if(cb==bo.MX){jq.pT=!jq.pT;this.JG()}if(cb==bo.bg){jq.Q1[Z.data.sK]=!jq.Q1[Z.data.sK];
this.JG()}if(cb==bo.kl){iD.WB(Z.data.lang,this.Gd)}if(cb==bo.IJ){jq.Yv=Z.data.Yv;this.w()}if(cb==bo.r5&&jq.aW.Qh){var hH=jq.aW.Qh.transaction(["rsrc"],"readwrite").objectStore("rsrc"),bA=hH.put({k:"fs0",fset:jq.aW.KF});
bA.onerror=function(Z){console.log(Z);alert("Storing failed. Browser says: "+Z.target.error.message,7e3)}}this._H(cb)}};
c1.prototype.a6h=function(){this.w();this.JG()};c1.prototype.uX=function(Z){var m=this.mN.dP[Z];if(m){var S=new eY(_.E.W,!0);
S.data={d:_.B.x9,gQ:m};this.c(S)}return m!=null};c1.prototype.SN=function(Z,m){var S=!0,r=15;if(m){S=!1;
for(var q=0;q<m.length;q++)if(m[q].startsWith(J.Hj("__M")))S=!0}var B=Z.b6()||Z.Kr&&Z.Kr.Si.b6();if(this.Ns())B=!1;
var C=new J.uP[dR.z2],u=(C[J.Fr("xy,b-66:")]()&1)*60+C[J.Hj("VQ]3LNRN<G")]();if(B&&!eH.ru()&&u>r&&S){var k=J.uP[J.Fr("}$z{2*35")][J.Fr("y'|!")],v=J.Hj("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
v+="\n\n"+J.Hj("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-u+120)+J.Hj("nYRTXTBMd");
if(k.indexOf(J.Fr("\"|'/-1)(W0?@"))==-1)v=iD.get([0,11+6,3+2]);J.uP._cwY(v);return!1}return!0};c1.prototype.zq=function(Z){var m=this.mN,S=[bo._4,bo.td,bo.le,bo.uN,bo.w8,bo.gw,bo._T,bo.Y,bo.L1,bo.yo],B=[m.yf,m.oi,m.Uv,m.jx,m.Tz,m.Py,m.a5x,m.ri,m.eo,m.aaa];
return B[S.indexOf(Z)]};c1.prototype.a81=function(){var Z=this.a6j(),m=this.Ru();if(m==null||m._.length==0)return;
var S=m.g[m._[0]],B=new eY(_.E.Y);if(Z==1){B.b=g.bO;B.data={d:"remove",fm:"Cut Paths"}}else{B=new eY(_.E.lX);
B.data={CE:"delete"}}this.c(B)};c1.prototype.a6j=function(Z,m,S){if(Z==null)Z=!1;var B=this.mN;console.log("doCopy",Z,m);
var C=this.Ru();if(C==null||C._.length==0)return;var u=C.g[m==null?C._[0]:m],r=C.Nu(),k=r[0],v=r[1],e=k[v[0]];
if(!Z&&e!=null&&e.add.vmsk._.length!=0){var j=g.X$.KR(e.add.vmsk,e.add.vogk);if(J.Wo()){j[0]=go.aqX(j[0]);
var $="vcb;"+JSON.stringify(j);dN.Lf(new Blob([$],{type:"text/plain"}))}else B.hO=j;return 1}else if(C.$==null){if(J.Wo()){var $="lrs;"+this.xk.indexOf(C)+";"+JSON.stringify(C._);
dN.Lf(new Blob([$],{type:"text/plain"}))}}else{var U,H;if(Z){var z=new bq(0,0,C.e,C.n);H=z.o9(C.$.rect);
U=l.U(H.Z()*4);l.pY(C.Jy(),z,U,H);l.bc(C.$.channel,C.$.rect,U,H)}else if(C.tp.length!=0){H=C.$.rect.clone();
U=l.U(H.Z()*4);var f=C.Xz[C.tp[0]],D=f.fR(H);l.Dc(D,U);l.cN(C.$.channel,U,3)}else{var n=u.lQ(C,C.$);
if(n==null){alert("Copied area is empty");return}U=n.aP;H=n.rect}var L=C.s.U1,a=L[0]+L[1]+L[2];if(a==1){var F=L.indexOf(1);
for(var q=0;q<U.length;q+=4)U[q]=U[q+1]=U[q+2]=U[q+F]}var A=new aS(C.e,C.n);if(J.Wo()&&S!=!0){var T=e2.Vh("PNG").a6W(U.buffer,H.e,H.n);
dN.Lf(new Blob([new Uint8Array(T)],{type:"image/png"}));this.ah6={pe:H,eK:A}}else B.xw={buffer:U,rect:H,eK:A};
B.a8U=H.clone();B.hO=null}};c1.prototype.aql=function(Z,m,S){if(m)this.afs=!0;console.log("doPaste");
var B=this.mN,C=B.xw,v;if(this.xk.length==0){if(!Z&&J.Wo()){dN.gM(this,null);return}if(C){var u=e2.h9("image.psd",[{data:C.buffer.buffer,cR:C.rect}]),r=new eY(_.E.W);
r.data={d:_.B.Yg,OB:u};this.c(r)}return}var u=this.Ru(),k=u.g[u._.length==0?u.g.length-1:u._[0]];if(B.hO){var e=u.Nu(!0),j=e[0],$=e[1];
v=j[$[0]]}var r=new eY(_.E.Y,!0);if(B.hO!=null&&v!=null){r.b=g.bO;r.data={d:"append",fm:"Paste Paths",asU:B.hO}}else if(!Z&&J.Wo()&&S!=!0){dN.gM(this,this.akl.bind(this));
return}else{if(C==null)return;if(u.t9(!1)&&(u.s.U1.join("")!="111"||u.tp.length!=0||k.E_>0||k.rect.Ov())){r.b=g._4;
r.data={d:"draw",amQ:!0,fm:[5,2]}}else{r.b=g.vJ;r.data={d:w.a4,FB:this.afs};this.afs=!1}r.data.xw=C}this.c(r)};
c1.prototype.a3J=function(){for(var q=0;q<this.xk.length;q++){var Z=this.xk[q],m=!0;for(var S=0;S<Z.g.length;
S++){var B=Z.g[S],C=B.add.TySh;if(C!=null&&!d7.w$(C,this.mN.Pl,this))m=!1}if(!m)continue;if(Z.kw)for(var S=0;
S<Z.g.length;S++){var B=Z.g[S],C=B.add.TySh;if(C!=null&&d7.w$(C,this.mN.Pl,this)){var u=new jN(C.e7,this.mN.Pl),r=d7.fs(u,C);
B.rect=r.pe;B.buffer=r.MW;B.G();Z.G()}}if(Z.a1k)continue;Z.a1k=!0;if(Z.Wq&&Z.Wq.atc)fQ.Cw(Z.Wq.atc,this);
this.pX();var k=new eY(_.E.Y);k.b=g.Ny;k.data={d:"start",wm:"GEfc"};var v=new eY(_.E.W);v.data={d:_.B.Bn,ct:cn.kI.acW};
v.data={d:_.B.Me,ct:"saveforweb",EP:0}}};c1.prototype._H=function(Z){var m=this.mN,S=m.th,r=!1;if(Z==bo.iF){if(this.P.map[S].Hz)this.P.map[S].Hz.C7(m,Z)}else for(var B in this.P.map)if(this.P.map[B].Hz)this.P.map[B].Hz.C7(m,Z);
if(Z==bo.Hw){if(S!=g.WH)this.P.map[g.WH].b.C7(m,Z);this.a3J()}this.bq.C7(m,Z);this.Ig.C7(m,Z);this.aJ.C7(m,Z);
this.Ih().C7(m,Z);this.fQ.C7(m,Z);this.vR.C7(m,Z);if(Z==bo.IJ||Z==bo.LE){ii.anM(m.Yv);this.update(!0)}var C=m.E7,u=C.n1.Font;
if(Z==bo.Vs&&u!=null&&C.wb[u].Name!=m.font){m.font=C.wb[u].Name;r=!0}if([bo.sQ,bo.fj,bo.HA,bo.SR,bo.P7,bo.Hf,bo.h4,bo.QD,bo.PM,bo.XZ,bo.e2,bo.JK,bo.kl,bo.IJ].indexOf(Z)!=-1||r)this.amv()};
c1.prototype.amv=function(){if(!this.B1)return;var Z={},m=this.P.map;for(var S in m){var B=m[S].b;if(B.Jf&&B.Jf()!=null)Z["t"+S]=B.Jf()}var C=this.mN,u=C.Zd,r={fcolor:C.Nx,bcolor:C.ZN,rulers:C.bj,extras:C.cb,favFam:C.ut,panels:C.y0,eparams:{guides:u.Ua,grid:u.sF,sels:u.et,paths:u.px,pgrid:u.Lr,slices:u.Wv,gsize:u.UQ,gunits:u.Uf,gtype:u.gP,runits:u.Dj},lang:iD.Hc(),theme:C.Yv,as:C.EC,topt:Z};
if(C.font!=null)r.font=C.font;var k=eH.Wf();if(k==null)k={};k.globals=r;eH.B_(k)};c1.prototype.aaG=function(){var Z=this.Nr,m=this.JM,S=this.mN.th,B=this.P.map[S].b,C=null,u=!1;
for(var q=0;q<this.P.aeI.length;q++){var r=this.P.aeI[q],k=!0;for(var v=0;v<r.Xi.length;v++){var e=r.Xi[v];
if(!Z.j(e))k=!1}if(k&&(!r.Fg||!B.nE())&&(r.sx==null||r.sx.indexOf(S)!=-1)){C=r.b;u=r.Fg;break}}if((!m.vs||S==g.r0)&&this.P.qZ!=C&&(C!=S||!u)){var j=this.Ru();
if(this.P.qZ!=null&&C==null)this.Ih().disable(j,this,this.mN,Z,!0);this.P.qZ=C;this.Ih().enable(j,this,this.mN,Z,C!=null&&C!=S)}};
c1.prototype.pQ=function(Z){var m=this.mN.th,S=this.Ru();if(m!=null){this.P.map[m].b.disable(S,this,this.mN,this.Nr)}};
c1.prototype.ajJ=function(Z){if(Z.Hz==null){Z.Hz=new Z.Va;Z.Hz.a7x(Z.b.id,Z.b._5);Z.Hz.C7(this.mN,bo.LE);
Z.Hz.w()}};c1.prototype.eQ=function(Z,m){if(Z==g.zp&&this.aJ.wf())return;var S=this.Ru(),B=this.mN;if(this.P.map[Z].b.Cu(S,B)){this.pQ();
if(Z!=B.th)this.P.Vz=B.th?B.th:g.Ta;B.th=Z;this.Ig.sc(this.P,this.mN);var C=this.P.map[Z];this.P.oD[C.MI]=C.a4P;
this.ajJ(C);this.q_.amV(C.Hz);var u=C.b;u.enable(S,this,this.mN,this.Nr,!1,m);if(S)S.jU=!0;this.JG()}};
c1.prototype.Ih=function(Z){var m=this.P,S=m.kk,B=m.qZ,C=this.mN.th;if(S)C=S;else if(B&&Z==null)C=B;
return m.map[C].b};c1.prototype.ath=function(Z){var m=this.mN,S=this.xk.indexOf(Z);if(S!=-1){this.bq.zW(S);
return}if(this.m2&&(Z.Wq==null||Z.Wq.GA==null)){Z.Wq={GA:this.m2}}if(Z.Ha==null){Z.Ha="local,"+this.as6+","+Z.name;
this.as6++}Z.XP=Date.now();if(i3.pJ()!=0&&!this.a6V&&J.uP[J.Fr("t$&!'31")].toString().indexOf(J.Fr(" u,$4&"))==-1){alert(J.Fr("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var q=0;q<Z.g.length;q++){var B=Z.g[q];if(B.add.SoLd!=null){var C=Date.now()}if(B.add.TySh!=null)d7.w$(Z.g[q].add.TySh,m.Pl,this)}var u=Z.g.length,r=dR.mB(),k=Math.PI*(5306<<14)+(J.xG(31)?20:10)*7e7;
if(r>k){var u=Z.g.length;Z.g=[];return u}if(N.V8)N.ak9(Math.max(Z.e,Z.n));Z.fa();Z.mW();if(Z.agW)Z.asl();
else Z.G();Z.agW=!1;this.xk.push(Z);this.bq.ww(new hD(Z));Z.jU=!0;Z.tV=!0;this.a3J();var v=new eY(_.E.Y);
v.b=g.b$;v.data={d:"auto",Wu:2}};c1.prototype.Ru=function(){return this.xk[this.rg]};c1.prototype.arP=function(){return this.aJ.wf()==null};
c1.prototype.oo=function(Z,m){this.pQ();var S=this.xk.length;if(m!=null)this.bq.zW((this.bq.Cy()+m+S)%S);
this.rg=this.bq.Cy();var B=this.Ru();this.vR.aiE(B,this.mN);this.fQ.sc(B,this.xk,this.mN);this.JG();
if(B)B.jU=!0};c1.prototype.ahm=function(Z){this.pQ();this.xk.splice(Z.data.St,1);if(this.xk.length==0){this.oo(Z);
if(N.V8)N.Df().parentNode.removeChild(N.Df())}};c1.prototype.at1=function(Z){var m=[],S=Z.data.aqV;for(var q=0;
q<S.length;q++)m[q]=this.xk[S[q]];this.xk=m;this.rg=this.bq.Cy()};c1.prototype.a52=function(Z){var m=this.bq,S=m.ahw(),B=this.Ih(),C=this.Ru();
if(S==m.Cy()||!B.dY())return;this.a7z(S,B)};c1.prototype.a7z=function(Z,m){var S=this.mN,B=this.bq,C=this.Ru(),u=this.xk[Z],r=new eY(_.E.Y,!0);
r.b=g.vJ;r.data={d:w.k4,g:C.uO(null,!0),Si:C,XC:u};this.c(r);var k=this.JM,v=S.bj;S.bj=!1;k=C.s.tr(k.x,k.y);
if(m)m.Qw(C,this,S,this.Nr);B.zW(Z);k=u.s.o5(k.x,k.y);k.x+=49;k.y+=112;if(m)m.kV(u,this,S,this.Nr,k);
S.bj=v};c1.prototype.aj8=function(Z){var m=this.Ru(),S=this.Nr,B=this.mN,C=Z.O9;if(C)this.JM=C;if(Z.action.startsWith("multi")){var u=new eY(_.E.Y,!0);
u.data={d:Z.action,tA:Z.tA};u.b=g.ky;this.c(u);return}var r=this.P.map[g.Ta].b;if((Z.action=="down"||Z.action=="rdown")&&B.th!=g.Ta&&this.P.qZ!=g.Ta&&r.zB(m,this,B,S,C)){this.P.kk=g.Ta;
r.enable(m,this,B,S,!0)}var k=this.aJ.wf(),v=k!=null&&k.NM()&&this.P.qZ==null?k:this.Ih();if(k!=null&&v!=k&&this.aJ.nE()&&v.id!=g.Yz&&v.id!=g.ky)return;
if(Z.action=="down")v.kV(m,this,B,S,C);if(Z.action=="rdown")v.dm(m,this,B,S,C);if(Z.action=="move")v.hJ(m,this,B,S,C);
if(Z.action=="up"||Z.action=="cancellast")v.qB(m,this,B,S,C,Z.action=="cancellast");if(Z.action=="rup")v.L0(m,this,B,S,C);
if(Z.action=="cancellast"){if(m&&m.history.length!=0&&Date.now()-m.history[m.history.length-1].anu<200){var e=new eY(_.E.Y);
e.b=g.C5;e.data={d:"h_stepbck"};this.c(e)}}var j=this.fQ;if(Z.action=="down")j.kV(m,this,B,S,C);if(Z.action=="move")j.hJ(m,this,B,S,C);
if(Z.action=="up")j.qB(m,this,B,S,C);if(Z.action=="down"||Z.action=="up"){this.aaG()}if(Z.action=="down"||Z.action=="up"||Z.action=="ctx"){m.jU=!0}if((Z.action=="up"||Z.action=="rup")&&this.P.kk){this.P.kk=null;
r.disable(m,this,B,S)}if(Z.action=="scroll"){var $=!S.j(iZ.Sx)&&Z.fA,u=new eY(_.E.Y,!0);u.data={d:"scroll",Wm:Z.Wm.clone(),O9:C};
u.b=S.j(iZ.__)||$?g.ky:g.Yz;this.c(u)}};c1.prototype.aZ=function(Z){var m=this.Ru(),S=this.JM;if(m&&this.Ih().oU(S,this.Nr)){var B=m.s,C=B.ma.e,u=B.ma.n,r=0,k=0,v=16;
if(S.x<v)r=v-S.x;if(S.x>C-v)r=S.x-(C-v);if(S.y<v)k=v-S.y;if(S.y>u-v)k=S.y-(u-v);if((r!=0||k!=0)&&(m.e*B.R>C||m.n*B.R>u)){r=Math.min(5,r*.5);
k=Math.min(5,k*.5);if(!(S.x<v||S.y<v)){r=-r;k=-k}B.r.x+=r;B.r.y+=k;this.aj8({O9:this.JM,action:"move"});
m.SW=!0}}this.update()};c1.prototype.update=function(Z){var m=this.Ru();if(m==null)return;if(m.jU){var S=this.P.map;
for(var B in S){if(S[B].b.Ll)S[B].b.Ll(m,this,this.mN,this.Nr)}}if(m._x){m.dK()}var C=m.s,u=this.Sc,r=this.Sc=Date.now();
if(m._x||m.DW||m.tV||m.SW||Z||C.SO!=C.R||!C.Na.Qu(C.r)){var k=C.SO;if(C.SO!=C.R){var v=g.Ol.sb(C.R,C.SO>C.R),e=.12;
if(C.SO<C.R&&C.SO<v)C.SO=v;if(C.SO>C.R&&C.SO>v)C.SO=v;var j=Math.abs(C.R-v)*(r-u)*.001/e;if(C.SO<C.R)C.SO=Math.min(C.R,C.SO+j);
else C.SO=Math.max(C.R,C.SO-j)}var $=k==C.R?0:(C.SO-C.R)/(k-C.R);C.Na.x=C.r.x+$*(C.Na.x-C.r.x);C.Na.y=C.r.y+$*(C.Na.y-C.r.y);
this.bq.C7(this.mN,null);this.bq.sc(m,this.xk)}if((m._x||m.SW||m.jU)&&(!this.JM.vs||m.rJ)){if(m.jU)m.mW();
this.fQ.sc(m,this.xk,this.mN);this.Ig.arS(m,this.Nr);m.B3=!1}m.rJ=!1;m.jU=!1;m._x=null;m.DW=m.tV=m.SW=!1};
c1.prototype.NR=function(Z){var m=Z.target.tagName.toLowerCase(),S=Z.target.getAttribute("type"),B=iZ,C=B.tH(Z.code,B.Z6);
if(!((m=="input"||m=="select"||m=="button")&&B.tH(Z.code,B.zS))){if(B.Xn(Z)){Z.preventDefault()}this.Nr.Wt(B.Wy(Z));
this._s("down")}};c1.prototype.vl=function(Z){if(Z.key==" ")this.Nr.nZ();if(iZ.tH(Z.code,iZ.wA))this.Nr.reset();
this.Nr.PG(iZ.Wy(Z));var m=Z.target.tagName.toLowerCase();if(iZ.Xn(Z)){Z.preventDefault()}this._s("up")};
c1.prototype._s=function(Z){var m=this.Nr,S=this.Ru(),B=S!=null&&S._.length!=0;if(this.vd.wf()!=null){if(m.j(iZ.xU)){this.vd.a7i()}return}this.aaG();
var C=this.Xf(iZ.Sx),u=m.j(iZ.__),r=m.j(iZ.nQ);if(C&&m.j(iZ.z8)&&Z=="down"){var k=new eY(_.E.Y),v=new eY(_.E.W);
k.b=g.C5;if(r){k.data={d:"h_stepfwd"}}else{k.data={d:"h_stepbck"}}if(this.aJ.wf()!=null&&this.aJ.wf().nE()){}else this.c(k)}if(C){var k=new eY(_.E.Y),e=new eY(_.E.lX),v=new eY(_.E.W);
if(!u&&Z=="down")for(var j in e$.keys){var $=e$.keys[j],U=!0;for(var q=0;q<$.length;q++)if(!m.j($[q]))U=!1;
if(U){k.b=g.b$;if(j=="hue2"&&r)k.data={d:"auto",Wu:3};else k.data={d:"start",sv:j}}}if(m.j(iZ.B)){e.data=g.nJ.r_(!0)}if(m.j(iZ.v9)){if(u)v.data={d:_.B.Me,ct:"csize"};
else v.data={d:_.B._I,mb:r}}if(m.j(iZ.ty)){e.data=g.nJ.r_()}if(m.j(iZ.E)&&Z=="down"){if(r)e.data={CE:"mergeVisible"};
else e.data={CE:"mergeLayersNew",Oz:{__name:"Merge Layers",classID:"Mrg2"}}}if(m.j(iZ.Hg)){if(r&&this.mN.th!=g.zp)v.data={d:_.B.Me,ct:"afw_fade"};
else if(u){k.b=g.Ny;k.data={d:"applylast"}}else v.data={d:_.B.mY}}if(m.j(iZ.Sj)){if(u&&S&&S.zy(S._[0])){k.b=g.vJ;
k.data={d:w.Wc}}else{k.b=g.vJ;k.data={d:w.K4,cJ:r}}}if(m.j(iZ.nx)){v.data={d:_.B.L8,Lh:bo.P7}}if(m.j(iZ.Ob)){if(r){k.data=null;
if(u)v.data={d:_.B.Me,ct:"finfo"};else e.data={CE:"inverse"}}else if(u)v.data={d:_.B.Me,ct:"isize"}}if(m.j(iZ.Ab)){e.data={CE:(r?"cut":"copy")+"ToLayer"}}if(m.j(iZ.D3)){v.data={d:_.B.Me,ct:"preferences"}}if(m.j(iZ.xX)){if(r){k.b=g.vJ;
k.data={d:w.qR}}else v.data={d:_.B.Me,ct:"newproject"}}if(m.j(iZ.A_)){v.data={d:_.B.QM};m.reset()}if(m.j(iZ.RS)){v.data={d:_.B.amD};
m.reset()}if(m.j(iZ.kI)){v.data={d:_.B.L8,Lh:bo.SR}}if(m.j(iZ.mn)&&Z=="down"){if(r){if(u)v.data={d:_.B.Me,ct:"saveforweb"};
else v.data={d:_.B.W_}}else v.data={d:_.B.Ac}}if(m.j(iZ.Jw)){if(r){k.b=g.zp;k.data={d:"again"}}else v.data={d:_.B.uv,b:g.zp}}if(m.j(iZ._i)){v.data={d:_.B.cT}}if(m.j(iZ.Lu)){this.bq.Bc()}if(m.j(iZ.hn)){v.data={d:_.B.qt}}if(m.j(iZ._V)||m.j(iZ.S_)){k.b=g.vJ;
k.data={d:w.LN,hN:0};if(m.j(iZ._V))k.data.hN=r?3:2;else k.data.hN=r?0:1}if(m.j(iZ.Fi)&&S){k.b=g.vJ;k.data={d:w.Xm}}if(m.j(iZ.Z6)&&S){var H=0;
if(r)H++;if(u)H+=2;k.b=g.Ml;k.data={d:"frompath",ZT:[null,0,H]}}if(m.j(iZ.I0)){e.data=g.Gt.v6(0)}if(m.j(iZ.zS)){var z=this.xk.length;
if(z>1)this.bq.zW((this.bq.Cy()+1)%z)}if(m.j(iZ.wU)){v.data={d:_.B.L8,Lh:bo.h4}}if(m.j(iZ.L_)){v.data={d:_.B.L8,Lh:bo.QD}}g.Ol.Qn(m,k);
if(this.aJ.wf()!=null&&this.aJ.wf().nE()){}else{if(k.data)this.c(k);if(e.data)this.c(e);if(v.data)this.c(v)}}if(!C&&u){var f;
if(m.j(iZ._V))f="Bckw";if(m.j(iZ.S_))f="Frwr";if(m.j(iZ.Fi))f="Back";if(m.j(iZ.I0))f="Frnt";if(f){var e=new eY(_.E.lX);
e.data={CE:"select",Oz:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:f}}]},MkVs:{t:"bool",v:!1}}};
this.c(e)}}if(S&&S._.length!=0){var D=S.g[S._[0]],n=D.E_;if(n==1||n==3||C){var k=new eY(_.E.Y),L=n==3?D.ws(S).v:D.sd();
if(L){var a=L.m5?S.s.U1.join("")=="111"?1:2:0;k.b=g.ky;if(L&&m.j(iZ.xU)&&a!=0){k.data={d:"mskView",k:0}}if(L&&m.j(iZ.aqm)){k.data={d:"mskView",k:a==1?0:1}}if(L&&m.j(iZ.apL)){k.data={d:"mskView",k:a==2?0:2}}if(k.data)this.c(k)}}}var F=m.CX();
if(S&&C&&2<=F&&F<=5){var A=[1,1,1];if(F>2){A=[0,0,0];A[F-3]=1}var T=new eY(_.E.Y,!0);T.b=g.Yz;T.data={d:"setcls",U1:A};
this.c(T)}if(!m.j(iZ.Sx)&&!u&&Z=="down"){var k=new eY(_.E.Y),v=new eY(_.E.W),P=this.P.map[this.mN.th],Y=-1;
for(var q=0;q<this.P.keys.length;q++)if(this.P.keys[q]&&this.Xf(this.P.keys[q]))Y=q;if(Y!=-1){var Q=null;
if(P.MI!=Y)Q=this.P.oD[Y];if(P.MI==Y&&r)Q=(P.a4P+1)%this.P.S0[Y].length;if(Q!=null){var o=this.P.S0[Y][Q].b.id,I=this.mN.arF;
if((I==null||I.indexOf(parseInt(o))!=-1)&&!this.JM.vs)v.data={d:_.B.uv,b:o}}}if(m.j(iZ.hn))v.data={d:_.B.L8,Lh:bo.HA,hN:2};
if(m.j(iZ.ty))v.data={d:_.B.L8,Lh:bo.HA,hN:3};if(v.data)this.c(v);if(m.j(iZ.a4k)&&S&&S._.length==1){var D=S.g[S._[0]];
k.b=g.vJ;var c=D.YL(0)||D.YL(1)||D.YL(2)||D.YL(31);k.data={d:w.Il,sk:c?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};
this.c(k)}var F=m.CX();if(B&&F!=-1&&this.Xf(iZ.WK[F])){var y=S._[0],D=S.g[y],i=iZ.eq(Math.round(100*D.opacity/255),F);
k.b=g.vJ;k.data={d:w.pZ,sk:Math.round(255*i/100)};this.c(k)}var d=this.mN.kU;if(m.j(iZ.zS)){v.data={d:_.B.K3,k:d==0?1:0};
this.c(v)}if(m.j(iZ.Hg)||m.j(iZ.xU)&&d==2){var V=document.fullscreenElement!=null==(d==2);v.data={d:_.B.K3,k:d==0?2:0,L2:V};
this.c(v)}if(m.j(iZ.EH)&&!this.JM.vs){k.b=g.Ml;k.data={d:"qmask"};this.c(k)}}if(!m.j(iZ.Sx)&&!u&&r){var k=new eY(_.E.Y),v=new eY(_.E.W);
if(m.j(iZ.Fi))v.data={d:_.B.Me,ct:"shortcuts"};if(m.j(iZ.zk))v.data={d:_.B.Me,ct:"fill"};if(m.j(iZ.afl))v.data={d:_.B.Me,ct:"sel_feather"};
if(B&&(m.j(iZ.ni)||m.j(iZ.Kq))){var y=S._[0],D=S.g[y],G=d1.WJ,M=G.length,O=G.indexOf(D.E4);k.b=g.vJ;
k.data={d:w.pk,sk:(O+M+(m.j(iZ.ni)?1:-1))%M};this.c(k)}if(v.data)this.c(v)}var k=new eY(_.E.Y),K=Z=="down"&&(this.Xf(iZ.bK)||this.Xf(iZ.cE));
if((C||u)&&K){k=new eY(_.E.lX);k.data=g.T1.GZ(C?"BckC":"FrgC");this.c(k)}else if(S&&K&&!this.JM.vs){if(S.$!=null){k=new eY(_.E.lX);
k.data={CE:"delete"}}else if(S._.length!=0){var D=S.g[S._[0]];if(D.E_==1)k.data={d:w.CS};else if(D.E_==3)k.data={d:w.q$};
else k.data={d:w.G7};k.b=g.vJ}this.c(k)}if(this.aJ.wf()!=null){if(m.j(iZ.xU)){this.aJ.wf().ain()}else{this.aJ.wf()._s(S,this,this.mN,m)}}if(this.mN.th==null)return;
var P=this.Ih();if(this.aJ.wf()==null||this.P.qZ)P._s(S,this,this.mN,m)};c1.prototype.Xf=function(Z){var m=this.Nr,S=this.P.map[this.mN.th].b,top=this.aJ.wf(),B=this.Ru();
return m.j(Z)&&!S.ar(Z,B)&&(top==null||!top.ar(Z,B))};c1.prototype.kL=function(Z){var m=this.apb,S=this.J1;
this.mN.kU=Z;var B=J.Qt,C=this.vR.m;if(B(C))this.IQ.removeChild(C);var u=this.q_.m;if(B(u))this.IQ.removeChild(u);
var r=this.Ig.m;if(B(r))m.removeChild(r);var k=this.bq.m;if(B(k))m.removeChild(k);var v=this.fQ.m;if(B(v))m.removeChild(v);
if(Z==0){this.IQ.appendChild(C);this.IQ.appendChild(u);S.appendChild(m);m.appendChild(r);m.appendChild(k);
m.appendChild(v)}if(Z==1){this.IQ.appendChild(C);m.appendChild(k)}if(Z==2){m.appendChild(k)}this.bq.kL(Z==2?1:0);
this.JG()};c1.prototype.aek=function(Z){if(this.Ns())return 1;if(J.am7()==0){this.mN={};this.MY=function(m,S){return Math.sqrt(m*S)}}return-1};
function g9(Z){aw.call(this);if(Z==null)return;this.OU=null;this.Vi=null;this.m=J.L("div","sbar"+" "+Z);
this.jE=new J.L("div","top");this.jE.innerHTML="> <";this.m.appendChild(this.jE);this.SQ=1;this.jE.addEventListener("click",this.amG.bind(this),!1)}g9.prototype=new aw;
g9.prototype.amG=function(Z){if(this.OU!=null&&this.OU<500&&this.SQ==0)return;if(this.SQ==0)this.LJ(!0);
else this.collapse(!0)};g9.prototype.a3W=function(Z){this.SQ=Z;this.jE.innerHTML=this.SQ==0?"< >":"> <"};
g9.prototype.agt=function(){var Z=new eY(_.E.W,!0);Z.data={d:_.B.fr};this.c(Z)};g9.prototype.LJ=function(Z){this.a3W(1);
if(Z)this.agt()};g9.prototype.collapse=function(Z){this.a3W(0);if(Z)this.agt()};g9.prototype.W5=function(){return this.SQ==1};
function aY(Z,m){g9.call(this,"vcolumn");this.hk=Z;this.aaV=m;this.V9();this.QA=J.L("div");this.QA.setAttribute("style","cursor:default;");
this.afP=this.agV.bind(this);this.ap4=this.ag3.bind(this);this.am8=this.aix.bind(this);J.BQ(this.m,this.afP);
this.m.appendChild(this.QA);this.Xr=J.L("div");this.QA.appendChild(this.Xr);this.WT=-1;this.FD=J.L("div","float");
var S=this.qh=J.L("canvas"),B=12;S.width=S.height=B;var C=S.getContext("2d");C.fillStyle="rgba(0,0,0,0.5)";
C.moveTo(0,0);C.lineTo(B,B);C.lineTo(0,B);C.fill();this.qh.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
J.Ew(this.qh);J.BQ(this.qh,this.afP);this.kE=[];this.AD=[];this.a39=null;this.JP=null;this.akE=0}aY.prototype=new g9;
aY.prototype.agV=function(Z){var m=Z.target==this.qh;if(!m){if(Z.target!=this.m)return;if(!this.W5())return}else{var S=this.kE[this.WT].v1;
S.style.pointerEvents="none";var B=S.getBoundingClientRect();this.a39=[B.width,B.height];this.AD[this.WT]=[B.width,B.height]}Z.stopPropagation();
this.JP=J.W7(Z,document.body);this.akE=this.hk;J.Od(document,this.ap4);J.qq(document,this.am8)};aY.prototype.ag3=function(Z){var m=J.W7(Z,document.body);
if(this.W5()){this.hk=this.akE+this.JP.x-m.x;this.V9()}else{var S=this.AD[this.WT],B=this.a39;S[0]=B[0]+this.JP.x-m.x;
S[1]=B[1]+m.y-this.JP.y}var C=new eY(_.E.W,!0);C.data={d:_.B.fr};this.c(C)};aY.prototype.aix=function(Z){if(!this.W5()){var m=this.kE[this.WT].v1;
m.style.pointerEvents="auto"}J.N3(document,this.ap4);J.e6(document,this.am8)};aY.prototype.a7b=function(Z){Z.h("showFloat",this.aee,this);
Z.h("hideFloat",this.ou,this);this.kE.push(Z);Z.parent=this;this.QA.appendChild(Z.m)};aY.prototype.a1w=function(q){var Z=this.kE[q];
Z.removeEventListener("showFloat",this.aee,this);Z.removeEventListener("hideFloat",this.ou,this);this.kE.splice(q,1);
Z.parent=null;this.QA.removeChild(Z.m)};aY.prototype.a7f=function(){return this.kE.length};aY.prototype.k9=function(){for(var q=0;
q<this.kE.length;q++)this.kE[q].k9()};aY.prototype.aee=function(Z){this.ou(Z);this.Xr.appendChild(this.FD);
this.WT=this.kE.indexOf(Z.currentTarget);var m=this.kE[this.WT].v1;this.FD.appendChild(m);this.FD.appendChild(this.qh);
this.MY(this.OU,this.Vi)};aY.prototype.ou=function(Z){this.k9();if(this.WT!=-1){this.Xr.removeChild(this.FD);
var m=this.kE[this.WT];if(m)this.FD.removeChild(m.v1);this.WT=-1}};aY.prototype.V9=function(){this.m.setAttribute("style","width: "+this.hk+"px; padding-left:3px; cursor:ew-resize;")};
aY.prototype.LJ=function(Z){this.V9();this.ou();for(var q=0;q<this.kE.length;q++)this.kE[q].LJ();g9.prototype.LJ.call(this,Z)};
aY.prototype.collapse=function(Z){this.m.removeAttribute("style");for(var q=0;q<this.kE.length;q++)this.kE[q].collapse();
g9.prototype.collapse.call(this,Z)};aY.prototype.MY=function(Z,m){this.OU=Z;this.Vi=m;m-=6;var S=this.kE.length,B=this.W5();
if(S==0)return;Z=this.hk;var C=m<400?m:400+(m-400)*.5,u=m;for(var q=0;q<S;q++){var r=this.kE[q],k=r.a5n(),v=this.AD[q];
r.MY(!B&&v?v[0]:Z,B?q==S-1?u:k:v?v[1]:C);u-=k}};function aR(Z){aw.call(this);this.m=J.L("div");this.QA=null;
this.Ty=0;this.zn=0;this.a2V=Z;this.at3=this.y6.bind(this);this.alW=this.hI.bind(this);this.a2J=this.v4.bind(this);
this.fN=null;this.Or=null;this.Sw=null;J.BQ(this.m,this.at3);var m=this.m,B="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
m.addEventListener("touchmove",J.yD,!1);this.a4S=!0;this.D1=[];var S=this.a9A=J.L("div");S.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.m.appendChild(S);var C=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",B+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",B+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",B+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var q=0;q<C.length;q++){var u=new dX(C[q]);this.D1.push(u);u.m.setAttribute("style","margin-left:"+(q<7?4:0)+"px;cursor:pointer;");
u.h("click",this.WU,this)}}aR.prototype=new aw;aR.prototype.w=function(){var Z=this.a9A;J.uq(Z);for(var q=0;
q<this.D1.length;q++){var m=this.D1[q];if(q<5)m.w();Z.appendChild(m.m)}};aR.prototype.WU=function(Z){var q=this.D1.indexOf(Z.currentTarget);
if(q==0){if(window.showCap)window.showCap();return}var m=" issues learn blog api twitter facebook".split(" "),S=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),B=window.ga;
if(B)B("send","event","Links",m[q]);var C=new eY(_.E.W,!0);C.data={d:_.B.sR,link:S[q]};this.c(C)};aR.prototype.y6=function(Z){if(Z.ald){Z.preventDefault();
Z.stopPropagation()}var m=window;J.Od(m,this.alW);J.qq(m,this.a2J);m=this.QA;this.fN=new aS(parseInt(m.style.left),parseInt(m.style.top));
this.Or=J.W7(Z,this.m);this.Sw=m.getBoundingClientRect()};aR.prototype.hI=function(Z){var m=J.W7(Z,this.m),S=this.fN.x+m.x-this.Or.x,B=this.fN.y+m.y-this.Or.y,C=this.Ty-this.Sw.width,u=this.zn-this.Sw.height;
if(this.a2V)this.QA.style.left=Math.min(0,Math.max(C,S))+"px";else this.QA.style.top=Math.min(0,Math.max(u,B))+"px";
if(S-10>0){this.Or.x=m.x-10;this.fN.x=0}if(S+10<C){this.Or.x=m.x+10;this.fN.x=C}};aR.prototype.v4=function(Z){var m=window;
J.N3(m,this.alW);J.e6(m,this.a2J)};aR.prototype.aaE=function(Z){if(this.QA){this.m.removeChild(this.QA)}this.QA=Z;
this.m.appendChild(Z);Z.style.position="absolute";if(this.a2V)Z.style.left=0;else Z.style.top=0};aR.prototype.MY=function(Z,m){this.Ty=Z;
this.zn=m;this.m.setAttribute("style","position:relative; width: "+Z+"px; height: "+m+"px; overflow:hidden; white-space: nowrap; ");
this.QA.style.left="0";this.QA.style.top="0";var S=this.QA.firstChild,B=this.a9A,C=S?S.firstChild.getBoundingClientRect().width+80:1e9,u=450,r=this.a4S&&Z>C+u,k=J.Hj("SU\\VOAV"),v=B[dR.FI][k]=r?"":J.Hj("][WK")};
function gp(){aw.call(this);this._q=null;this.zc=gp.RS;this.ah5="";this.m=J.L("div","rightbar");this.mC=[new aY(300),new aY(268,!0)];
this.kE=[new gh,new gh,new gh,new gh,new gh,new gh,new gh];this.a0m=[]}gp.prototype=new aw;gp.prototype.w=function(){var Z=this.zc;
for(var q=0;q<Z.length;q++)Z[q].Xg.w()};gp.RS=[{Xg:new hu,_R:3},{Xg:new ic,_R:1},{Xg:new dZ,_R:4},{Xg:new gD,_R:2},{Xg:new ff(!0),_R:5},{Xg:new cO,_R:0},{Xg:new hA,_R:5},{Xg:new eU,_R:3},{Xg:new eN,_R:0},{Xg:new cu,_R:3},{Xg:new as,_R:2},{Xg:new an,_R:4},{Xg:new cx,_R:3},{Xg:new fF,_R:5},{Xg:new ff(!1),_R:5},{Xg:new f4,_R:2},{Xg:new fR,_R:3},{Xg:new jb,_R:1},{Xg:new fv,_R:0},{Xg:new fq,_R:5},{Xg:new dD,_R:6,mf:!0},{Xg:new eg,_R:6,mf:!0},{Xg:new eQ,_R:6,mf:!0}];
(function(){var Z=[{id:cn.kI.alX,name:"Gallery",url:"plugins/gallery.html",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"}];
for(var q=0;q<Z.length;q++)gp.RS.push({Xg:new df(Z[q],100+q),_R:6,mf:!0})}());gp.prototype.aks=function(Z){for(var q=0;
q<Z.length;q++){var m=Z[q],S=new df(m,"plg_"+m.name);this.zc.push({Xg:S,_R:6});this.a0m.push(S.QI)}this.Hk()};
gp.prototype.C7=function(Z,m){this._q=Z;var S=this.zc;for(var q=0;q<S.length;q++)S[q].Xg.C7(Z,m);if(m==bo.sQ||m==bo.LE)this.Hk()};
gp.prototype.Ze=function(Z){var m=this.zc;for(var q=0;q<m.length;q++)m[q].Xg.Ze(Z)};gp.prototype.MY=function(Z,m){this.OU=Z;
this.Vi=m;this.Hk();this.mC[0].MY(Z,m);this.mC[1].MY(Z,m)};gp.prototype.Hk=function(){var Z=this._q,m=this.OU,S=this.Vi;
if(Z==null||m==0)return;var B=Z.y0.concat(this.a0m),C=m<500||m<700&&m<S,u=JSON.stringify(B)+","+C;if(u!=this.ah5){this.ah5=u;
J.uq(this.m);var r=[];for(var q=0;q<this.mC.length;q++){var k=this.mC[q];r[q]=k.W5();while(k.a7f()!=0)k.a1w(0);
k.LJ()}var v=[];for(var q=0;q<this.kE.length;q++){var e=this.kE[q];e.LJ();while(e.auu()!=0)e.tq(0);v.push(0)}for(var q=0;
q<B.length;q++){var j=this.alV(B[q].toString());this.kE[j._R].ww(j.Xg);this.kE[j._R].zW(0);v[j._R]++}var $=[];
for(var q=0;q<v.length;q++){if(v[q]==0)continue;var U=q<3||C?1:0,k=this.mC[U];k.parent=this;k.a7b(this.kE[q]);
$[U]=!0}for(var q=0;q<this.mC.length;q++)if($[q])this.m.appendChild(this.mC[q].m);this.mC[0].collapse();
if(m<700||this._q.compact||!r[1]){this.mC[1].collapse()}var H=new eY(_.E.W,!0);H.data={d:_.B.fr};this.c(H)}};
gp.prototype.alV=function(Z){for(var q=0;q<this.zc.length;q++)if(this.zc[q].Xg.QI==Z)return this.zc[q]};
gp.prototype.aq4=function(Z){var m=this.alV(Z);this.kE[m._R].ww(m.Xg)};gp.prototype.sc=function(Z,m,S){var B=this.zc;
for(var q=0;q<B.length;q++)B[q].Xg.sc(Z,m,S)};gp.prototype.kV=function(Z,m,S,B,C){var u=this.zc;for(var q=0;
q<u.length;q++)u[q].Xg.kV(Z,m,S,B,C)};gp.prototype.hJ=function(Z,m,S,B,C){var u=this.zc;for(var q=0;
q<u.length;q++)u[q].Xg.hJ(Z,m,S,B,C)};gp.prototype.qB=function(Z,m,S,B,C){var u=this.zc;for(var q=0;
q<u.length;q++)u[q].Xg.qB(Z,m,S,B,C)};function eb(Z,m){g9.call(this,"toolbar");this.VT=null;this.J6=J.L("div","tools");
this.m.appendChild(this.J6);this.Et=null;this.auY=m;this.xY=null;this.afk=-1;this.acw={};this.P=null;
this.VD=null;this.Em=null;this.gk=null;this.hl(Z);this.Ib=new b0;this.Ib.m.style.marginTop="5px";this.Ib.m.style.marginBottom="3px";
this.Ib.parent=this;this.Lj=new dX(J.NE("lrs/mask"),!1,[6,6,1]);this.Lj.h("click",function(u){var r=new eY(_.E.Y,!0);
r.b=g.Ml;r.data={d:"qmask"};this.c(r)},this);var S=new iF(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
S.h(_.E.o,this.ata,this);var B=J.L("span","rangecont form padded");B.appendChild(S.m);var C=document.body;
this.aeT=[!1,!1,!1,!1];this.Zk=new dX("\u2328",!1,"Virtual Keys");this.Zk.h("click",function(u){var r=this.Zk.m.getBoundingClientRect();
B.setAttribute("style","position:absolute; top:"+(r.top-40)+"px; left: "+(r.left+r.width+4)+"px; width:120px; z-index:2; ");
if(J.Qt(B))C.removeChild(B);else C.appendChild(B)},this)}eb.prototype=new g9;eb.prototype.ata=function(Z){var m=Z.target.J();
this.Zk.f(m[0]||m[1]||m[2]||m[3]);var S=new eY(_.E.W,!0);for(var q=0;q<4;q++){if(m[q]!=this.aeT[q]){S.data={d:_.B.ahF,vs:m[q],a6o:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][q]};
this.c(S)}}this.aeT=m.slice(0)};eb.prototype.arS=function(Z,m){this.xY=m;if(Z==null||Z._.length==0||Z.g[Z._[0]]==null)return;
var S=Z.Lj()!=null,B=Z.s.U1,C=Z.g[Z._[0]].E_,u=C==1||C==3||S||B[0]+B[1]+B[2]==1;this.Ib.af1(u);this.Lj.f(S)};
eb.prototype.ab6=function(Z,m){var S=Z.length,B=[];for(var q=0;q<S;q++)B[q]=Z[q].slice(0);Z=B;var C=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],u=Math.min(C.length/2,S-m);
for(var q=0;q<u;q++){var r=C[2*q],k=C[2*q+1];Z[r]=Z[r].concat(Z[k]);Z[k]=null}for(var q=0;q<Z.length;
q++)if(Z[q]==null){Z.splice(q,1);q--}return Z};eb.prototype.ac$=function(Z,m){for(var q=0;q<m.length;
q++)for(var S=0;S<m[q].length;S++)if(m[q][S].b.id==Z)return q};eb.prototype.hl=function(Z,m){this.VT=Z;
this.VD=[];this.Em=[];this.gk=[];this.P=[];var S=Z.S0;if(m!=null&&this.auY)S=this.ab6(S,m);if(this.Et){var B=[],C=this.Et.arF;
for(var q=0;q<S.length;q++){var u=[];for(var r=0;r<S[q].length;r++){var k=S[q][r];if(C==null||C.indexOf(parseInt(k.b.id))!=-1)u.push(k)}if(u.length>0)B.push(u)}S=B}for(var q=0;
q<S.length;q++){var v=[],e=this.VD.length,j=null,$=-1;for(var r=0;r<S[q].length;r++){var k=S[q][r].b,U=this.ac$(k.id,Z.S0),H=Z.keys[U];
this.P.push(k);var z=new g_(k.name,H,k._5,this.VD.length,q,S[q].length>1);this.VD.push(z);var f=this.acw[k.id];
if(f==null)f=0;if(f>$){$=f;j=z}z.h(_.E.o,this.Hm,this);z.h("mover",this.tj,this);v.push({name:k.name,ny:k._5,Xi:H?H.OL:""})}this.Em.push(j);
if(v.length==1)this.gk.push(null);else{var D=new am(v,null,!0);D.a4X=e;D.MI=q;this.gk.push(D);D.h("select",this.a0c,this);
D.parent=this}}};eb.prototype.MY=function(Z,m){var S=this.Vi=m-11,B=32;if(1<J.F()&&J.F()<1.5)B=18+14*(1/J.F());
var C=39+23,u=Math.floor((S-C)/B),r=this.Et;if(r==null)return;if(u!=this.afk){this.afk=u;this.hl(this.VT,u);
this.eQ(r.th)}var k=this.Em.length*B+C,v=Math.min(1,S/k);if(.75<=v){this.J6.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+v+","+v+");");
this.m.setAttribute("style","height:"+(m-2)+"px; overflow:hidden;")}else{S-=4;this.J6.setAttribute("style","height: "+S+"px;  width:"+Math.ceil(k/S)*34+"px");
this.m.setAttribute("style","")}};eb.prototype.w=function(){for(var q=0;q<this.VD.length;q++)this.VD[q].w();
for(var q=0;q<this.gk.length;q++)if(this.gk[q])this.gk[q].w()};eb.prototype.Hm=function(Z){var m=new eY(_.E.W,!0);
m.data={d:_.B.uv,b:this.P[Z.id].id};this.c(m)};eb.prototype.a0c=function(Z){var m=Z.target.a4X+Z.target.jr()[0];
this.VD[m].v4(null)};eb.prototype.tj=function(Z){var m=this.xY,S=new eY(_.E.W,!0);S.data={d:_.B.zI};
this.c(S);var B=Z.target,C=this.gk[B.MI];if(C==null)return;var u=B.m.getBoundingClientRect(),S=new eY(_.E.W,!0);
S.data={d:_.B.HM,Xg:C,x:u.left+u.width+8,y:u.top};if(m==null||!(m.j(iZ.MO)||m.j(iZ.Sx)))this.c(S)};eb.prototype.eQ=function(Z){this.acw[Z]=Date.now();
var m=-1;for(var q=0;q<this.P.length;q++)if(this.P[q].id==Z)m=q;for(var q=0;q<this.VD.length;q++){var S=this.VD[q];
S.a5g(m==q)}if(m==-1)return;this.Em[this.VD[m].MI]=this.VD[m];J.uq(this.J6);var B=this.Em;for(var q=0;
q<B.length;q++){this.J6.appendChild(B[q].m)}if(!this.auY)return;this.J6.appendChild(this.Ib.m);if(this.Vi>640)this.J6.appendChild(this.Lj.m);
this.J6.appendChild(this.Zk.m)};eb.prototype.sc=function(Z,m){this.eQ(m.th)};eb.prototype.C7=function(Z,m){this.Et=Z;
if(m==bo.LE){this.hl(this.VT);this.eQ(Z.th)}this.Ib.aeE(Z.Nx,Z.ZN)};function g_(Z,m,S,B,C,u){aw.call(this);
this.tJ=0;this.bE=this.aon.bind(this);this.MI=C;this.gO=B;this.B5=Z;this.auZ=m;this.apK=u;this._5=S;
this.m=J.L("button","");this.m.innerHTML=J.NE(this._5);if(this.apK){var r=J.L("img","gsicon");r.setAttribute("src",PIMG["tools/corner"]);
r.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.m.appendChild(r)}this.w();
J.BQ(this.m,this.y6.bind(this));this.m.addEventListener("click",this.v4.bind(this),!1);this.m.addEventListener("contextmenu",g_.Tj,!1)}g_.prototype=new aw;
g_.Tj=function(Z){Z.stopPropagation();Z.preventDefault();return!1};g_.prototype.w=function(){var Z=this.auZ?" ("+this.auZ.OL+")":"";
this.m.setAttribute("title",iD.get(this.B5)+Z)};g_.prototype.y6=function(Z){this.tJ=setTimeout(this.bE,160)};
g_.prototype.v4=function(Z){clearTimeout(this.tJ);var m=new eY(_.E.o,!1);m.target=this;m.id=this.gO;
this.c(m)};g_.prototype.aon=function(Z){var m=new eY("mover",!1);m.target=this;m.id=this.gO;this.c(m)};
g_.prototype.a5g=function(Z){this.m.setAttribute("class",Z?"toolbtn active":"toolbtn")};function cW(){aw.call(this);
this.m=J.L("div","topbar");this.Dw=J.L("span","");this.a38=0;this.m.appendChild(this.Dw);this.r7=null;
this.kJ=null;this.h$=[];this.y0=[];var Z=this.y6.bind(this);for(var q=0;q<cW.data.length;q++){var m=J.L("button");
this.h$.push(m);this.Dw.appendChild(m);m.addEventListener("mouseover",Z,!1);J.BQ(m,Z)}this.Su=new dX([0,13,0],!1,null,!0);
this.Su.h("click",this.Th,this);this.m.appendChild(this.Su.m);this.h0=new dX(J.NE("tools/zoom",null,"autoscale"),!1,[12,86]);
this.h0.h("click",this.Th,this);this.m.appendChild(this.h0.m);this.i0=new dX("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.i0.h("click",this.Th,this);this.m.appendChild(this.i0.m)}cW.prototype=new aw;cW.prototype.aa_=function(){if(this.y0.length!=0)return;
for(var q=0;q<cW.data.length;q++){var Z=cW.data[q],m=new am(Z.items,Z.aB);m.parent=this;this.y0.push(m)}this.w()};
cW.prototype.w=function(){this.Su.w();this.h0.w();this.i0.w();for(var q=0;q<this.h$.length;q++)this.h$[q].textContent=iD.get(cW.data[q].name);
this.amM();for(var q=0;q<this.y0.length;q++)this.y0[q].w()};cW.prototype.Th=function(Z){var m=new eY(_.E.W,!0);
if(Z.target==this.Su)m.data={d:_.B.Me,ct:"account"};else if(Z.target==this.h0)m.data={d:_.B.mY};else m.data={d:_.B.K3,L2:!0};
this.c(m)};cW.prototype.aiE=function(Z,m){this.r7=Z;this.kJ=m};cW.prototype.C7=function(Z,m){this.kJ=Z;
if(m==bo.LE){var S=Z.auH;J.uq(this.Dw);for(var q=0;q<this.h$.length;q++){if(S==null||S[q]==1||S[q]instanceof Array)this.Dw.appendChild(this.h$[q]);
if(S!=null&&S[q]instanceof Array){this.aa_();this.y0[q].a0R(S[q])}}this.m.removeChild(this.Su.m);this.m.removeChild(this.h0.m);
this.m.removeChild(this.i0.m);if(Z.yP)this.m.appendChild(this.Su.m);this.m.appendChild(this.h0.m);this.m.appendChild(this.i0.m)}this.amM()};
cW.prototype.amM=function(Z,m){var S=this.Su,B=12255232;if(eH.XU())B=eH.ru()?43520:16755200;S.m.setAttribute("style","color:#ffffff; background-color:#"+l.L5(B))};
cW.prototype.y6=function(Z){this.aa_();var q=this.h$.indexOf(Z.currentTarget),m=this.y0[q];if(Z.type=="mouseover"&&!J.Qt(this.y0[this.a38].m))return;
if(J.Qt(m.m))return;Z.ald=!0;this.a38=q;for(var q=0;q<cW.data.length;q++)this.y0[q].update(this.r7,this.kJ);
var S=Z.target.getBoundingClientRect(),B=new eY(_.E.W,!0);B.data={d:_.B.HM,Xg:m,x:S.left,y:S.top+S.height+2,a65:!0};
this.c(B)};cW.a0a=function(Z){var m=iZ,S=m.Sx,B=m.nQ,C=m.__,u={name:[0,5],items:[{name:[7,0],Xi:[S,m.B]},{name:[7,1],Xi:[S,m.ty],K:function(k){return{K:k!=null&&k.$!=null}}},{name:[7,2],Xi:[B,S,m.Ob],K:function(k){return{K:k!=null&&k.$!=null}},Jb:!0},{name:[7,11],On:!0,K:function(k){return{K:k!=null&&k._.length!=0&&!k.g[k._[0]].rect.Ov()}}},{name:[7,13],On:!0,K:function(k){return{K:k!=null&&k._.length!=0&&!k.g[k._[0]].rect.Ov()}},Jb:!0},{name:[7,8],On:!0},{name:[7,3],Jb:!0,sub:[{name:[7,9],On:!0,K:function(k){return{K:k!=null&&k.$!=null}}},{name:[19,3,0],On:!0,K:function(k){return{K:k!=null&&k.$!=null}}},{name:[7,4],On:!0,K:function(k){return{K:k!=null&&k.$!=null}}},{name:[7,5],On:!0,K:function(k){return{K:k!=null&&k.$!=null}}},{name:[7,6],On:!0,K:function(k){return{K:k!=null&&k.$!=null}},Xi:"Shift+F6"}]},{name:[7,10],K:function(k){return{K:k!=null&&k.$!=null}},Jb:!0},{name:[6,6,1],K:function(k){return{K:k!=null,IH:k!=null&&k.Lj()!=null}},Xi:[m.EH],Jb:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],aB:[{T:_.E.lX,V:g.nJ.r_(!0)},{T:_.E.lX,V:g.nJ.r_()},{T:_.E.lX,V:{CE:"inverse"}},{T:_.E.W,V:{d:_.B.Me,ct:"redge"}},{T:_.E.W,V:{d:_.B.Me,ct:"magiccut"}},{T:_.E.W,V:{d:_.B.Me,ct:"crange"}},{sub:[{T:_.E.W,V:{d:_.B.Me,ct:"sel_border"}},{T:_.E.W,V:{d:_.B.Me,ct:"sel_smoothness"}},{T:_.E.W,V:{d:_.B.Me,ct:"sel_expand"}},{T:_.E.W,V:{d:_.B.Me,ct:"sel_contract"}},{T:_.E.W,V:{d:_.B.Me,ct:"sel_feather"}}]},{T:_.E.W,V:{d:_.B.uv,b:g.Zz}},{T:_.E.Y,b:g.Ml,V:{d:"qmask"}},{T:_.E.lX,V:{CE:"duplicate",Oz:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(Z){var r=u.items.length-1;u.items.splice(r-2,0,{name:[6,49],Xi:[S,m.Ab],Jb:!0});u.aB.splice(r-2,0,{T:_.E.lX,V:{CE:"copyToLayer"}});
u.items.splice(r-1,0,{name:[10,16],Xi:[C,S,m.Jw]});u.aB.splice(r-1,0,{T:_.E.W,V:{d:_.B.uv,b:g.zp}})}return u};
cW.data=function(){var Z=iZ,m=Z.Sx,S=Z.nQ,B=Z.__,C=function(j){return{K:j!=null&&j._.length!=0}},u=function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].add.SoLd!=null}},r=[],k=[],v="none maxx avrg medn minn rang stdv summ vari".split(" "),e=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var q=0;q<v.length;q++){r.push({name:e[q]});k.push({T:_.E.Y,b:g.vJ,V:{d:w.GC,sk:v[q]}})}return[{name:[0,0],items:[{name:[5,3],Xi:[B,m,Z.xX],title:[11,7],On:!0},{name:[1,0],Xi:[m,Z.A_],On:!0},{name:[1,11],On:!0,K:function(j,$){return{K:j!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],Jb:!0,sub:[{name:[1,5],On:!0},{name:[11,0],On:!0},{name:["PSD VAR0",[25,0]],On:!0}]},{name:[1,1],Jb:!0,sub:[{name:"PNG",Xi:"Imgur.com",K:function(j,$){return{K:j!=null&&$.gU}}},{name:"JPG",Xi:"Imgur.com",K:function(j,$){return{K:j!=null&&$.gU}}},{name:"PSD",Xi:"Photopea.com",K:function(j,$){return{K:j!=null&&$.gU&&!j.iw}}}]},{name:"Save ...",Xi:[m,Z.mn],K:function(j,$){var U=iD.get([1,2])+(j==null?"":j.Kr?" ("+iD.get([6,7,1])+")":j.cz?" (Google Drive)":"");
return{K:j!=null&&(j.Q9!=null&&j.L6=="psd"||j.Kr!=null||j.Wq!=null&&j.Wq.GA!=null||j.cz!=null||$.dP.save!=null),HT:U}}},{name:[1,3],K:function(j,$){return{K:j!=null&&!j.iw&&$.gU}}},{name:["VAR0 PSD/PSB",[1,2]],On:!0,K:function(j,$){return{K:j!=null&&!j.iw&&$.gU}}},{name:[1,8],sub:function(){var j=e2.Yi(0),$=[];
for(var q=0;q<j.length;q++)$.push({name:j[q],Xi:"."+j[q].toLowerCase()});$.push({name:[0,14],sub:function(){var j=e2.Yi(1),$=[];
for(var q=0;q<j.length;q++)$.push({name:j[q],Xi:"."+j[q].toLowerCase()});return $}()});return $}()},{name:[1,4],On:!0,K:function(j,$){return{K:j!=null}},Jb:!0},{name:[1,9],On:!0,K:function(j,$){return{K:j!=null}}},{name:"Export Color Lookup",On:!0,K:function(j,$){return{K:j!=null}},Jb:!0},{name:[1,14],On:!0,K:function(j,$){return{K:j!=null}},Jb:!0},{name:[1,10]}],aB:[{T:_.E.W,V:{d:_.B.Me,ct:"newproject"}},{T:_.E.W,V:{d:_.B.QM}},{T:_.E.W,V:{d:_.B.QM,ago:!0}},{sub:[{T:_.E.W,V:{d:_.B.Me,ct:"open_from_url"}},{T:_.E.W,V:{d:_.B.Me,ct:"camera"}},{T:_.E.W,V:{d:_.B.Me,ct:"templates"}}]},{sub:[{T:_.E.W,V:{d:_.B.Pr,EP:"png"}},{T:_.E.W,V:{d:_.B.Pr,EP:"jpg"}},{T:_.E.W,V:{d:_.B.Pr,EP:"psd"}}]},{T:_.E.W,V:{d:_.B.Ac}},{T:_.E.W,V:{d:_.B.W_}},{T:_.E.W,V:{d:_.B.Me,ct:"savepsb"}},{sub:function(){var j=e2.Yi(0),$=[];
for(var q=0;q<j.length;q++)$.push({T:_.E.W,V:{d:_.B.Me,ct:"saveforweb",EP:q}});$.push({sub:function(){var U=e2.Yi(0).length,j=e2.Yi(1),$=[];
for(var q=0;q<j.length;q++)$.push({T:_.E.W,V:{d:_.B.Me,ct:"saveforweb",EP:U+q}});return $}()});return $}()},{T:_.E.W,V:{d:_.B.Me,ct:"saveforweb",EP:4,aqx:!0}},{T:_.E.W,V:{d:_.B.Me,ct:"eassets"}},{T:_.E.W,V:{d:_.B.Me,ct:"exlut"}},{T:_.E.W,V:{d:_.B.Me,ct:"finfo"}},{T:_.E.W,V:{d:_.B.Me,ct:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],Xi:[S,m,Z.z8]},{name:[2,1],Xi:[m,Z.z8],Jb:!0},{name:[2,11],Xi:[S,m,Z.Hg],Jb:!0,On:!0,K:function(j,$){return{K:bE.a4j(j)&&$.th!=g.zp}}},{name:[5,0],Xi:[m,Z.hn]},{name:[5,1],Xi:[m,Z.v9]},{name:[5,7],Xi:[S,m,Z.v9]},{name:[5,2],Xi:[m,Z._i],K:function(j,$){return{K:J.Wo()||$.xw!=null||$.hO!=null||$.a0g!=null}}},{name:[2,2],K:function(j){return{K:j!=null&&j.$!=null}},Xi:"Delete",Jb:!0},{name:[2,3],K:function(j){return{K:j!=null}},On:!0,Xi:[S,Z.zk]},{name:[14,9],K:function(j){return{K:j!=null}},On:!0,Jb:!0},{name:[10,48],K:function(j){return{K:j!=null&&j.t9(!1)}}},{name:[10,46],K:function(j){return{K:g.ex.PX(j)}}},{name:[10,16],Xi:[B,m,Z.Jw]},{name:[2,4],sub:jO.aus()},{name:[2,10,1]},{name:[2,10,0],Jb:!0},{name:[12,87],sub:[{name:[12,62],K:function(j){return{K:j!=null}}},{name:[9,3],K:function(j){return{K:j!=null}}},{name:[10,31],K:function(j){return{K:j!=null&&j.Nu()[1].length!=0}}}]},{name:[1,15],On:!0},{name:[12,79],On:!0,Xi:[m,Z.D3]},{name:[1,13],On:!0}],aB:[{T:_.E.Y,b:g.C5,V:{d:"h_undoredo"}},{T:_.E.Y,b:g.C5,V:{d:"h_stepfwd"}},{T:_.E.Y,b:g.C5,V:{d:"h_stepbck"}},{T:_.E.W,V:{d:_.B.Me,ct:"afw_fade"}},{T:_.E.W,V:{d:_.B.qt}},{T:_.E.W,V:{d:_.B._I}},{T:_.E.W,V:{d:_.B._I,mb:!0}},{T:_.E.W,V:{d:_.B.cT}},{T:_.E.lX,V:{CE:"delete"}},{T:_.E.W,V:{d:_.B.Me,ct:"fill"}},{T:_.E.W,V:{d:_.B.Me,ct:"stroke"}},{T:_.E.W,V:{d:_.B.uv,b:g.yj}},{T:_.E.Y,b:g.Ny,V:{d:"start",wm:"rigidTransform"}},{T:_.E.W,V:{d:_.B.uv,b:g.zp}},{sub:jO.ak3()},{T:_.E.lX,V:{CE:"align",Oz:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{T:_.E.Y,b:g.vJ,V:{d:w.a1v}},{sub:[{T:_.E.W,V:{d:_.B.er,Lh:0}},{T:_.E.W,V:{d:_.B.er,Lh:1}},{T:_.E.W,V:{d:_.B.er,Lh:2}}]},{T:_.E.W,V:{d:_.B.Me,ct:"pmanager"}},{T:_.E.W,V:{d:_.B.Me,ct:"preferences"}},{T:_.E.W,V:{d:_.B.Me,ct:"locstor"}}]},{name:[0,2],items:[{name:[12,36],K:function(j){return{K:j!=null}},Jb:!0,sub:[{name:"RGB",K:function(j){if(j==null)return{K:!1};
return{IH:j.add.fcmy==null,K:!0}}},{name:"CMYK",K:function(j){if(j==null)return{K:!1};return{IH:j.add.fcmy!=null,K:!0}}}]},{name:[3],Jb:!0,sub:function(){var j=[];
for(var $ in e$.names){j.push({name:e$.names[$],On:s[$]!=null,Xi:e$.keys[$],Jb:e$.o_.indexOf($)!=-1});
if($=="selc"){j.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],On:!0,Jb:!0});j.push({name:[19,7,0],Xi:[m,S,Z.Ez],K:function($){return{K:$!=null&&$.t9(!1)}}});
j.push({name:[4,18],On:!0,K:function($){return{K:$!=null&&$.t9(!1)}}})}}return j}()},{name:[4,16,0],K:function(j){return{K:j!=null&&j.t9(!1)}}},{name:[4,16,1],K:function(j){return{K:j!=null&&j.t9(!1)}}},{name:[4,16,2],K:function(j){return{K:j!=null&&j.t9(!1)}},Jb:!0},{name:[11,11,1],K:function(j){return{K:j!=null&&j.t9(!1)}}},{name:[11,11,0],K:function(j){return{K:j!=null&&j.t9(!1)}},Jb:!0},{name:[11,3],On:!0,Xi:[B,m,Z.v9]},{name:[11,10],On:!0,Xi:[B,m,Z.Ob]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],K:function(j){return{K:j!=null&&j.$!=null}}},{name:[11,12,0],K:function(j){return{K:j!=null}},Xi:[m,Z.I0],On:!0},{name:[11,12,2],K:function(j){return{K:j!=null}},Jb:!0},{name:[2,12],K:function(j){return{K:j!=null&&j.t9(!1)}},On:!0}],aB:[{sub:[{T:_.E.Y,b:g.Ta,V:{d:"fcmy",k:0}},{T:_.E.Y,b:g.Ta,V:{d:"fcmy",k:1}}]},{sub:function(){var j=[];
for(var $ in e$.names){j.push({T:_.E.Y,b:g.b$,V:{d:"start",sv:$}});if($=="selc"){j.push({T:_.E.Y,b:g.Ny,V:{d:"start",wm:"adaptCorrect"}});
j.push({T:_.E.lX,V:{CE:"desaturate"}});j.push({T:_.E.Y,b:g.b$,V:{d:"start",sv:"matc"}})}}return j}()},{T:_.E.lX,V:{CE:"levels",Oz:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{T:_.E.lX,V:{CE:"levels",Oz:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{T:_.E.lX,V:{CE:"levels",Oz:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{T:_.E.W,V:{d:_.B.Me,ct:"rcolors"}},{T:_.E.W,V:{d:_.B.Me,ct:"vbitmap"}},{T:_.E.W,V:{d:_.B.Me,ct:"csize"}},{T:_.E.W,V:{d:_.B.Me,ct:"isize"}},{sub:[{T:_.E.lX,V:g.Q.$g(!0,90)},{T:_.E.lX,V:g.Q.$g(!0,-90)},{T:_.E.lX,V:g.Q.$g(!0,-180)},{T:_.E.lX,V:g.Q.$g(!1,"Hrzn")},{T:_.E.lX,V:g.Q.$g(!1,"Vrtc")}]},{T:_.E.Y,b:g.Ug,V:{d:"cropbysel",ap3:0}},{T:_.E.W,V:{d:_.B.Me,ct:"trim"}},{T:_.E.lX,V:{CE:"revealAll",Oz:{classID:"RvlA"}}},{T:_.E.Y,b:g.b$,V:{d:"start",sv:"aply"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],Xi:[S,m,Z.xX]},{name:[0,4]},{name:"Artboard",On:!0},{name:"Artboard from Layers",On:!0,Jb:!0},{name:[6,49,0],Xi:[m,Z.Ab]},{name:[6,49,1],Xi:[S,m,Z.Ab],K:function(j){return{K:j!=null&&j.$!=null&&j.t9(!1)}}}]},{name:[6,0],K:C,Xi:[m,Z.Ab]},{name:[11,4],K:C},{name:[5,4],K:C,Jb:!0},{name:[11,6],Jb:!0,K:C,sub:ft.nt(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],Jb:!0,sub:ft.a0Y()},{name:[6,2],sub:[{name:[6,4],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].sd()==null}}},{name:[6,5,0],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].sd()==null}}},{name:[6,5,1],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].sd()==null&&j.$!=null}}},{name:[6,5,2],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].sd()==null&&j.$!=null}}},{name:[6,5,3],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].sd()==null}},Jb:!0},{name:[5,4],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].sd()!=null}}},{name:[5,8],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].sd()!=null&&j.t9(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].sd()!=null}}}]},{name:[6,3],sub:[{name:[6,4],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].add.vmsk==null}}},{name:[6,5,0],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].add.vmsk==null}}},{name:"Current Path",K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].add.vmsk==null}},Jb:!0},{name:[5,4],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(j){return{K:j!=null&&j._.length!=0&&j.g[j._[0]].add.vmsk!=null}}}]},as.a3f(!0),{name:[6,7,1],Jb:!0,sub:[{name:[6,7,0]},{name:[6,36,4],K:u,sub:r},{name:[1,0],K:u,Jb:!0},{name:"Turn into JPG"}]},{name:[6,8],K:as.a9S},{name:[6,34],Jb:!0,K:function(j){if(j==null||j._.length==0)return{K:!1};
var $=j.g[j._[0]];return{K:$.add.lmfx!=null&&!$.O1()}}},{name:[6,9],Jb:!0,Xi:[m,Z.Sj]},{name:[6,55],Jb:!0,sub:[{name:[6,56,0],Xi:[S,m,Z.S_]},{name:[6,56,1],Xi:[m,Z.S_]},{name:[6,56,2],Xi:[m,Z._V]},{name:[6,56,3],Xi:[S,m,Z._V]}]},{name:[6,58],Jb:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],Xi:[m,Z.E],K:function(j){var $=j==null?0:j._.length;
return{K:$!=0,HT:iD.get($>1||$==1&&j.g[j._[0]].O1()?[6,12,0]:[6,10])}}},{name:[6,12,1]},{name:"Defringe"}],aB:[{sub:[{T:_.E.Y,b:g.vJ,V:{d:w.qR}},{T:_.E.Y,b:g.vJ,V:{d:w.IV}},{T:_.E.W,V:{d:_.B.Me,ct:"newartb",PC:0}},{T:_.E.W,V:{d:_.B.Me,ct:"newartb",PC:1}},{T:_.E.lX,V:{CE:"copyToLayer"}},{T:_.E.lX,V:{CE:"cutToLayer"}}]},{T:_.E.Y,b:g.vJ,V:{d:w.lD}},{T:_.E.W,V:{d:_.B.Me,ct:"duplinto"}},{T:_.E.Y,b:g.vJ,V:{d:w.G7}},{sub:ft.Kv(!0)},{sub:[{T:_.E.Y,b:g.bu,V:{d:"newfill",If:0}},{T:_.E.lX,V:g.h_.GZ(1)},{T:_.E.lX,V:g.h_.GZ(2)}]},{sub:ft.PH()},{sub:[{T:_.E.Y,b:g.vJ,V:{d:w.Xe,PC:"RvlA"}},{T:_.E.Y,b:g.vJ,V:{d:w.Xe,PC:"HdAl"}},{T:_.E.Y,b:g.vJ,V:{d:w.Xe,PC:"RvlS"}},{T:_.E.Y,b:g.vJ,V:{d:w.Xe,PC:"HdSl"}},{T:_.E.Y,b:g.vJ,V:{d:w.Xe,PC:"Trns"}},{T:_.E.Y,b:g.vJ,V:{d:w.CS}},{T:_.E.Y,b:g.vJ,V:{d:w.zJ}},{T:_.E.Y,b:g.vJ,V:{d:w.XF}}]},{sub:[{T:_.E.Y,b:g.vJ,V:{d:w.Za,asH:!1}},{T:_.E.Y,b:g.vJ,V:{d:w.Za,asH:!0}},{T:_.E.Y,b:g.vJ,V:{d:w.Za,abv:!0}},{T:_.E.Y,b:g.vJ,V:{d:w.vp}},{T:_.E.Y,b:g.vJ,V:{d:w.ZJ}}]},{T:_.E.Y,b:g.vJ,V:{d:w.Wc}},{sub:[{T:_.E.lX,V:{CE:"newPlacedLayer"}},{sub:k},{T:_.E.lX,V:{CE:"placedLayerEditContents",Oz:{classID:"placedLayerEditContents"}}},{T:_.E.Y,b:g.vJ,V:{d:w.IB}}]},{T:_.E.lX,V:{CE:"rasterizeLayer",Oz:{classID:"rasterizeLayer",null:hX.NN("Lyr",!0)}}},{T:_.E.Y,b:g.vJ,V:{d:w.KE}},{T:_.E.Y,b:g.vJ,V:{d:w.K4}},{sub:[{T:_.E.Y,b:g.vJ,V:{d:w.LN,hN:0}},{T:_.E.Y,b:g.vJ,V:{d:w.LN,hN:1}},{T:_.E.Y,b:g.vJ,V:{d:w.LN,hN:2}},{T:_.E.Y,b:g.vJ,V:{d:w.LN,hN:3}}]},{sub:[{T:_.E.Y,b:g.vJ,V:{d:w.c3,hN:"makeframes"}},{T:_.E.Y,b:g.vJ,V:{d:w.c3,hN:"unmakeframes"}},{T:_.E.Y,b:g.vJ,V:{d:w.c3,hN:"merge"}}]},{T:_.E.lX,V:{CE:"mergeLayersNew",Oz:{__name:"Merge Layers",classID:"Mrg2"}}},{T:_.E.lX,V:{CE:"flattenImage"}},{T:_.E.Y,b:g.Ny,V:{d:"start",wm:"defr"}}]},cW.a0a(!1),function(){var j={name:[0,6],items:[{name:[24,18,4],Xi:[B,m,Z.Hg],Jb:!0}],aB:[{T:_.E.Y,b:g.Ny,V:{d:"applylast"}}]};
for(var q=0;q<bS.n2.length;q++){var $=bS.n2[q];if($.aI!=null){j.items.push({name:bS.names[$.aI],On:!0,Jb:$.Jb});
j.aB.push({T:_.E.Y,b:g.Ny,V:{d:"start",wm:$.aI}});continue}var U={name:$.G6,sub:[]};j.items.push(U);
var H={sub:[]};j.aB.push(H);for(var z=0;z<$.yB.length;z++){var f={name:bS.names[$.yB[z]],On:bS.ej($.yB[z])!=null};
U.sub.push(f);var D={T:_.E.Y,b:g.Ny,V:{d:"start",wm:$.yB[z]}};H.sub.push(D)}}return j}(),{name:[0,7],items:[{name:[8,0],Xi:[m,Z.ni]},{name:[8,1],Xi:[m,Z.Kq]},{name:[20,3],Xi:[m,Z.$o]},{name:[20,2],Xi:[m,Z.JR],Jb:!0},{name:"Screen Mode",Jb:!0,sub:[{name:"Fullscreen",K:function(j,$){return{IH:document.fullscreenElement!=null}},Jb:!0},{name:"Standard",K:function(j,$){return{IH:$.kU==0}}},{name:"Menu Bar and Canvas",K:function(j,$){return{IH:$.kU==1}}}]},{name:[8,13],Xi:[m,Z.nx],K:function(j,$){return{IH:$.cb}}},{name:[8,12],Jb:!0,sub:[{name:[17,2],K:function(j,$){return{K:$.cb,IH:$.Zd.et}}},{name:[8,9],K:function(j,$){return{K:$.cb,IH:$.Zd.px}}},{name:[8,2],K:function(j,$){return{K:$.cb,IH:$.Zd.Ua}},Xi:[m,Z.wU]},{name:[8,4],K:function(j,$){return{K:$.cb,IH:$.Zd.sF}},Xi:[m,Z.L_]},{name:[8,8],K:function(j,$){return{K:$.cb,IH:$.Zd.Lr}}},{name:[8,11,0],K:function(j,$){return{K:$.cb,IH:$.Zd.Wv}}}]},{name:[8,3],K:function(j,$){return{IH:$.bj}},Xi:[m,Z.kI],Jb:!0},{name:[8,5],K:function(j,$){return{IH:$.pT}}},{name:[8,6],Jb:!0,sub:[{name:[8,2],K:function(j,$){return{IH:$.Q1[0]}}},{name:[8,4],K:function(j,$){return{IH:$.Q1[1]}}},{name:[9,1],K:function(j,$){return{IH:$.Q1[2]}}},{name:[8,11,0],K:function(j,$){return{IH:$.Q1[3]}}},{name:[8,7],K:function(j,$){return{IH:$.Q1[4]}}}]},{name:[11,15,2],K:function(j,$){return{K:j!=null,IH:j!=null&&j.N6}}},{name:[11,15,0],K:function(j,$){return{K:j!=null}}},{name:[11,14],K:function(j,$){return{K:j!=null}},On:!0},{name:[11,15,1],K:function(j,$){return{K:j!=null&&j._.length!=0}},Jb:!0},{name:[8,11,2],K:function(j,$){return{K:j!=null&&j.Wv.length!=0}}}],aB:[{T:_.E.Y,b:g.ky,V:{d:"zoom",FE:!0}},{T:_.E.Y,b:g.ky,V:{d:"zoom",FE:!1}},{T:_.E.Y,b:g.ky,V:{d:"adapt",k:"fitscr"}},{T:_.E.Y,b:g.ky,V:{d:"adapt",k:"pixel"}},{sub:[{T:_.E.W,V:{d:_.B.K3,L2:!0}},{T:_.E.W,V:{d:_.B.K3,k:0}},{T:_.E.W,V:{d:_.B.K3,k:1}},{T:_.E.W,V:{d:_.B.K3,k:2}}]},{T:_.E.W,V:{d:_.B.L8,Lh:bo.P7}},{sub:[{T:_.E.W,V:{d:_.B.L8,Lh:bo.PM}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.XZ}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.h4}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.QD}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.e2}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.JK}}]},{T:_.E.W,V:{d:_.B.L8,Lh:bo.SR}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.MX}},{sub:[{T:_.E.W,V:{d:_.B.L8,Lh:bo.bg,sK:0}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.bg,sK:1}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.bg,sK:2}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.bg,sK:3}},{T:_.E.W,V:{d:_.B.L8,Lh:bo.bg,sK:4}}]},{T:_.E.Y,b:g.Ta,V:{d:"lockguides"}},{T:_.E.Y,b:g.Ta,V:{d:"gids",ib:[[],[]]}},{T:_.E.W,V:{d:_.B.Me,ct:"addguides"}},{T:_.E.Y,b:g.Ta,V:{d:"gidsFromLayer"}},{T:_.E.Y,b:g.dD,V:{d:"deleteAll"}}]},function(){var j={name:[0,8],items:[{name:[0,14],Jb:!0,sub:[]}],aB:[{sub:[]}]};
for(var q=0;q<gp.RS.length;q++){var $=gp.RS[q],U=function(){var H=$.Xg.QI;return function(z,f){return{IH:f.y0.indexOf(parseInt(H))!=-1}}}();
($.mf?j.items[0].sub:j.items).push({name:$.Xg.name,K:U});($.mf?j.aB[0].sub:j.aB).push({T:_.E.W,V:{d:_.B.Bn,ct:$.Xg.QI}})}return j}(),function(){var j={name:[0,14],items:[],aB:[]},$={name:[0,9],sub:[]};
j.items.push($);var U={sub:[]};j.aB.push(U);var H=iD.a7X();for(var q=0;q<H.length;q++){var f=H[q],D=f.code,n=iD.Dr(D);
$.sub.push({name:f.name,Xi:D,K:function(L,a){return{IH:this.Xi==iD.Hc()}}});U.sub.push({T:_.E.W,V:{d:_.B.L8,Lh:bo.kl,lang:n}})}$.sub.push({name:[0,12]});
U.sub.push({T:_.E.W,V:{d:_.B.sR,link:"https://www.photopea.com/translate/"}});var $={name:[0,15],sub:[]};
j.items.push($);var U={sub:[]};j.aB.push(U);for(var q=0;q<ii.o$.length;q++){$.sub.push({name:ii.o$[q].name,K:function(L,a){return{IH:this.name==ii.o$[a.Yv].name}}});
U.sub.push({T:_.E.W,V:{d:_.B.L8,Lh:bo.IJ,Yv:q}})}j.items.push({name:[0,17,6],K:function(L,a){return{K:a.je!=null}}});
j.aB.push({T:_.E.W,V:{d:_.B.a91}});j.items.push({name:[11,13]});j.aB.push({T:_.E.W,V:{d:_.B.Me,ct:"shortcuts"}});
j.items.push({name:[0,16],K:function(L){return{IH:N.V8,K:N.I9}},Jb:!0});j.aB.push({T:_.E.W,V:{d:_.B.aeY}});
j.items.push({name:"",K:function(L,a){return a.yP?{HT:"About Photopea",K:!0}:{HT:"",K:!1}}});j.aB.push({T:_.E.W,V:{d:_.B.Me,ct:"aboutpp"}});
return j}()]}();function dS(){aw.call(this);this.m=J.L("div","");this.Ty=0;this.zn=0;this._q=null;this._R=J.L("div","");
this._R.setAttribute("style","width:200em; height:100em; position:absolute;");this.QJ=[];this.GS=[];
this.Qx={}}dS.prototype=new aw;dS.prototype.qm=function(Z){var m=Date.now(),S=[];if(Z=="-")S=[new iC,new d2,new cR,new c8,new ah,new br,new d_,new j5,new hK,new cQ,new cl,new be,new bX,new fg,new jX,new ft,new ak,new ee,new h2,new eG,new bB,new aU,new gX,new c7,new hm,new et,new j6(!1),new j6(!0),new ih(0),new ih(1),new ia,new eJ,new e8,new cM,new dY,new fx,new f3,new dP,new dp,new jD,new bY,new g5("border",[7,9],"px"),new g5("smoothness",[19,3,0],"px"),new g5("expand",[7,4],"px"),new g5("contract",[7,5],"px"),new g5("feather",[7,6],"px"),new iP(0,"namewindow",[12,48]),new iP(2,"billto","Bill To"),new iP(1,"cornerradius",[12,94,0],"px",!0,!0),new iP(1,"scaleeffects","Scale Effects","%",!0),new iP(1,"doczoom","Zoom","%",!0)];
else S=[new bE(Z.slice(4))];this.apj(S);this.Qx[Z]=!0};dS.prototype.apj=function(Z){var m=this._q;for(var q=0;
q<Z.length;q++){var S=Z[q];S.parent=this;this.GS.push(S);this.M7(S);S.w();if(m)S.C7(m,bo.LE);S.h(_.E.ba,this.uM,this)}};
dS.prototype.MY=function(Z,m){this.Ty=Z;this.zn=m;for(var q=0;q<this.GS.length;q++)this.M7(this.GS[q])};
dS.prototype.w=function(){for(var q=0;q<this.GS.length;q++)this.GS[q].w()};dS.prototype.wf=function(){return this.QJ.length==0?null:this.QJ[this.QJ.length-1]};
dS.prototype.nE=function(){for(var q=0;q<this.QJ.length;q++)if(this.QJ[q].nE())return!0;return!1};dS.prototype.ah7=function(Z,m,S,B,C){var u=Z.startsWith("afw_"),r=null;
if(!u&&!this.Qx["-"])this.qm("-");if(u&&!this.Qx[Z])this.qm(Z);if(typeof Z=="object"){r=Z;if(!r.ahN(_.E.ba,this.uM))r.h(_.E.ba,this.uM,this);
r.parent=this}else for(var q=0;q<this.GS.length;q++)if(this.GS[q].id==Z)r=this.GS[q];if(this.nE()&&r.nE()){alert("Finish the current action first");
return}if(!r.DP(m))return;if(this.QJ.indexOf(r)!=-1){if(Z=="colorpicker")r.sc(m,S,B,C);return}var k=this.QJ.length-1;
if(k>=0)J._A(this.QJ[k].m,"wdisabled");this.m.appendChild(r.m);this.QJ.push(r);this.M7(r);r.sc(m,S,B,C)};
dS.prototype.M7=function(Z){var m=this.Ty,S=this.zn,B=Z.ya(m,S),C;if(B!=null){C=B}else{B=new aS(0,0);
C=Z.aca();if(C==null){var u=this.QJ.indexOf(Z)+1;if(m<450||S<450)C=new aS(0,0);else C=new aS(u*150,u*150)}}Z.m.style.left=C.x+"px";
Z.m.style.top=this.m.offsetTop+C.y+"px";Z.MY(this.Ty-B.x*2,this.zn-B.y*2-34)};dS.prototype.C7=function(Z,m){this._q=Z;
for(var q=0;q<this.GS.length;q++)this.GS[q].C7(Z,m)};dS.prototype.uM=function(Z){var m=this.QJ.pop();
this.m.removeChild(m.m);var S=this.QJ.length-1;if(S>=0)J.iB(this.QJ[S].m,"wdisabled");if(this._R.parentNode==this.m)this.m.removeChild(this._R)};
window.onload=function(){document.body.appendChild(new c1().m)}}())
